(self.webpackChunkweb=self.webpackChunkweb||[]).push([["main"],{57395:(n,d,t)=>{"use strict";t.d(d,{cX:()=>A});var o=t(64646),e=t(98735),x=t(37486),$=t(70297),W=t(28269),K=t(64215),V=t(58380),P=t(54831),D=t(9385);const f={sessionId:"",encryptedSessionId:"",sessionInfo:"",language:x.TM.en,getLimits:null,isPPSprofile:!1,corridor:{senderCountry:null,receiverCountry:null,senderCurrency:"",senderCurrencyArray:[{currency:""}],receiverCurrency:"",receiverCity:"",receiverState:null,receiverCurrencyArray:[{currency:""}],isDirected:!1,isSwb:!0,maxCorridorlimit:100},products:[],selectedProduct:{code:"",name:"",routingCode:"",payIn:null,payOut:null,deliverySpeed:null,minAmount:1,maxAmount:0,fees:0,destinationFees:0,exchangeRate:0,speedIndicator:"",receiverCityPopOver:!1},selectedBestOption:{bestOption:null,value:"",isEnabled:!0,amplitudeId:"",disable:!1,disableMessage:""},senderAmount:0,senderAmountLimit:"",receiverAmount:0,receiverList:null,isForCountry:!1,selectedReceiver:null,selectedAgentProduct:{},sscContent:null,idealBankInfo:{code:null,name:null},notifications:{DUOTSucess:!1,errorResponseCode:"",isPhvInterstitial:!1,fromState:"",quickResendFlow:!1,summaryObjects:null,validationResponse:null,progressIndicator:"",showCollectIdSuccessMsg:!1,isNotPPS:!0,userVerifiedRecently:!1,fpxRepeatError:!1,gatewayCustomer:null,regMessageFlag1:!1,customerVerificationStatus:!1,profileVerificationStart:!1,cancelIBPTransfer:!1,isAbandonedTransactionDetails:!1,newTransaction:!1,hasExistingReceiver:!1,swb:null,redirectToBank:!1,autoLoginOpt:!1,currencyNotAvailable:!1,errorResponseMessage:"",isMFAVerified:!1},hostedPartner:!1,efl:null,enableNg6RxFlow:!1,NG_TRANSLATE_LANG_KEY:"",banksData:{},docUplaodData:{},awsKycConfigData:{},verifyCustomerData:{},paramountBankList:[],cardsData:[],switchFundsOutOptionsForRecvr:window.sessionStorage.getItem("US_Receiver_Page_Switch-to-Cash-Provision"),isCashOptionEnabled:"No",evergageExperiences:[],siteBehaviour:{personalInfoSection:null,securitySection:null,invalidEmailCount:null,abandonedCartToken:null,src:null,promoCode:null,abandonTransactionParams:null,registrationTime:null},customerVerificationStatus:"",pwmbSignature:{},sessionFlags:{},thMetrixPayload:null,awsCountryConfigData:null,signicatInitiatedStatus:"false",verificationOptionList:"",ducDocTypeDetails:new V.fo,icvResponse:null,sendMoneyObjects:null,abandonedCartToken:"",transactionHistory:[],featureFlags:null,isGuestFlow:!1,guestInfo:new P.b_,selectedCard:null,selectedBank:null,receiverError:null,pepDetails:null,complianceWeb:null,tdsJWT:null,complianceConfigRules:null,reminderId:null,fromResumeTransfer:!1,navigateToPayInChange:!1,dssCustomerLookupResponse:null,loginWithOTP:!1,globalCountryLangList:{},isLazyLoadSpinnerOn:!1,ampQuickResendFlag:"",cityList:[],gmoMaintenanceList:{},isLoginThroughKnowYourLimit:!1,isAvailableVideoKYCOutSideHours:!1,upmDisplayDetails:{clickedLink:"refer-friend",flag:!1},urlParamsFromRegister:{},flowType:null,dss2Details:{},onBoardingCTRData:{},countryDynamicParams:{},gamQueryParam:{},tourCurrentSection:""};function A(E=f,N){switch(N.type===o.q6&&(E={...f,...E}),N.type){case e.k.UPDATE_GET_LIMITS:return{...E,getLimits:N.payload};case e.k.PRODUCTS:return{...E,products:N.payload};case e.k.SELECTED_PRODUCT:return{...E,selectedProduct:N.payload};case e.k.SELECTED_PRODUCT_LOCATION:return{...E,selectedProduct:{...E.selectedProduct,location:N.payload}};case e.k.UPDATE_RECEIVER_CITY_POPOVER:return{...E,selectedProduct:{...E.selectedProduct,receiverCityPopOver:N.payload}};case e.k.SELECTED_BEST_OPTION:return{...E,selectedBestOption:N.payload};case e.k.UPDATE_SENDER_COUNTRY:return{...E,corridor:{...E.corridor,senderCurrency:N.payload.senderCountryDetails.senderCurrency,senderCurrencyArray:N.payload.senderCountryDetails.senderCurrencyArray,senderCountry:{...E.corridor.senderCountry,isoCode:N.payload.senderCountryDetails.senderCountryIsoCode,name:N.payload.senderCountryDetails.senderCountryName}}};case e.k.UPDATE_RECEIVER_COUNTRY:return{...E,corridor:{...E.corridor,receiverCurrency:N.payload.receiverCountryDetails.receiverCurrency,receiverCurrencyArray:N.payload.receiverCountryDetails.receiverCurrencyArray,receiverCountry:{...E.corridor.receiverCountry,isoCode:N.payload.receiverCountryDetails.receiverCountryIsoCode,name:N.payload.receiverCountryDetails.receiverCountryName}}};case e.k.UPDATE_IS_FOR_COUNTRY:return{...E,isForCountry:N.payload.isForCountry};case e.k.UPDATE_RECEIVER_AMOUNT:return{...E,receiverAmount:Number(N.payload.receiverAmount).toFixed(2)};case e.k.UPDATE_SENDER_AMOUNT:return{...E,senderAmount:N.payload.senderAmount};case e.k.UPDATE_SENDER_AMOUNT_LIMIT:return{...E,senderAmountLimit:N.payload.senderAmountLimit};case e.k.UPDATE_RECEIVER_WALLET:return{...E,corridor:{...E.corridor,receiverWallet:N.payload}};case e.k.UPDATE_RECEIVER_BANK:return{...E,corridor:{...E.corridor,receiverBank:N.payload}};case e.k.UPDATE_RECEIVER_WALLET_LIST:return{...E,corridor:{...E.corridor,receiverWalletList:N.payload}};case e.k.UPDATE_RECEIVER_BANK_LIST:return{...E,corridor:{...E.corridor,receiverBankList:N.payload}};case e.k.UPDATE_RECEIVER_CURRENCY:return{...E,corridor:{...E.corridor,receiverCurrency:N.payload.receiverCurrency}};case e.k.UPDATE_RECEIVER_CURRENCY_ARRAY:return{...E,corridor:{...E.corridor,receiverCurrencyArray:N.payload.receiverCurrencyArray}};case e.k.UPDATE_RECEIVER_CITY:return{...E,corridor:{...E.corridor,receiverCity:N.payload.cityName,receiverState:{...E.corridor.receiverState,isoCode:N.payload.stateIsoCode,name:N.payload.stateName}}};case e.k.UPDATE_AGENT_LOCATION:return{...E,selectedAgentProduct:N.payload};case e.k.UPDATE_IDEAL_BANKNAME:return{...E,idealBankInfo:N.payload};case e.k.UPDATE_IS_DIRECTED_COUNTRY:return{...E,corridor:{...E.corridor,isDirected:N.payload}};case e.k.PROMO_CODE:return{...E,promoCode:N.payload};case e.k.UPDATE_ISSWB:return{...E,IsSWB:N.payload};case e.k.UPDATE_RECEIVER_LIST:return{...E,receiverList:N.payload};case e.k.UPDATE_TDSJWT:return{...E,tdsJWT:N.payload};case e.k.UPDATE_SELECTED_RECEIVER:return{...E,selectedReceiver:N.payload};case e.k.UPDATE_SELECTED_RECEIVER_UID:return{...E,selectedReceiverUID:N.payload};case e.k.UPDATE_NAME_CHANGE:return{...E,nameChangeFlow:N.payload};case e.k.UPDATE_SESSION_ID:return{...E,sessionId:N.payload};case e.k.UPDATE_ENCRYPTED_SESSION_ID:return{...E,encryptedSessionId:N.payload};case e.k.UPDATE_PPS_PROFILE_STATUS:return{...E,isPPSprofile:N.payload};case e.k.UPDATE_PPS_PROFILE_DATA:return{...E,PPSProfileData:N.payload};case e.k.UPDATE_SESSION_INFO:return{...E,sessionInfo:N.payload};case e.k.UPDATE_SENDER:return{...E,sender:N.payload};case e.k.UPDATE_DSS_CUSTOMER:return{...E,dssCustomerLookupResponse:N.payload};case e.k.UPDATE_PAGE_LEVEL_NOTIFICATION:return{...E,pageLevelNotification:N.payload};case e.k.UPDATE_NOTIFICATIONS:return{...E,notifications:{...E.notifications,...N.payload}};case e.k.UPDATE_USER_JOURNEY:case e.k.SET_SWB_ERRORS:return{...E,userJourney:N.payload};case e.k.UPDATE_PRICEQUOTE_SERVICESMETA:return{...E,priceQuoteservicesMeta:N.payload};case e.k.UPDATE_IS_PPS_PROFILE:return{...E,isPPSprofile:N.payload};case e.k.CLEAN_STORE:return{...f,smoConfig:E.smoConfig,countryConfig:E.countryConfig,countryDynamicParams:E.countryDynamicParams};case e.k.CLEAN_PRODUCTS:return{...E,products:f.products};case e.k.CLEAN_SELECTED_PRODUCT:return{...E,selectedProduct:f.selectedProduct};case e.k.UPDATE_EFL:return{...E,efl:N.payload};case e.k.UPDATE_SMV_RESPONSE:return{...E,smvResponse:N.payload};case e.k.UPDATE_SMV_BODY:return{...E,smvRequest:N.payload};case e.k.UPDATE_CLIENT_IP:return{...E,ClientIp:N.payload};case e.k.UPDATE_FPXBank_Info:return{...E,FPXBankInfo:N.payload};case e.k.UPDATE_WalletBank_Info:return{...E,WalletBankInfo:N.payload};case e.k.UPDATE_TRANSACTION_HISTORY:return{...E,transactionHistory:N.payload};case e.k.CLEAN_TRANSACTION_HISTORY:return{...E,transactionHistory:f.transactionHistory};case e.k.UPDATE_NONDIGITALTRANSACTION_HISTORY:return{...E,nonDigitalTransactionHistory:N.payload};case e.k.UPDATE_HOSTED_PARTNER_STATUS:return{...E,hostedPartner:N.payload};case e.k.UPDATE_PARTNER_PAYLOAD:return{...E,partnerData:N.payload};case e.k.UPDATE_ACCOUNT_NUMBER:return{...E,AccountNumber:N.payload};case e.k.UPDATE_CONTENT_SOURCE:return{...E,NG_TRANSLATE_LANG_KEY:N.payload};case $.wZ.LoadCardsSuccess:return{...E,cardsData:N.payload,paymentPageError:""};case $.wZ.PaymentApiFail:return{...E,paymentPageError:N.payload};case $.wZ.LoadBanksSuccess:return{...E,banksData:N.payload,paymentPageError:""};case $.wZ.GetParamountBankListSuccess:return{...E,paramountBankList:N.payload};case e.k.CLEAN_PAGE_LEVEL_NOTIFICATION:return{...E,pageLevelNotification:f.pageLevelNotification};case e.k.UPDATE_CASH_OPTION_ENABLED:return{...E,isCashOptionEnabled:N.payload};case e.k.UPDATE_EVERGAGE_EXPERIENCES:return{...E,evergageExperiences:N.payload};case e.k.UPDATE_SEND_AGAIN_TRANSACTION_DATA:return{...E,sendAgainTransactionData:N.payload};case e.k.UPDATE_COUNTRY_CURRENCIES:return{...E,countryCurrencies:N.payload};case e.k.UPDATE_SITE_BEHAVIOUR:return{...E,siteBehaviour:{...E.siteBehaviour,...N.payload}};case e.k.UPDATE_CUSTOMER_VERIFICATION_STATUS:return{...E,customerVerificationStatus:N.payload};case e.k.UPDATE_UPLOAD_DMS_DOC_STATUS:return{...E,uploadDMSDocStatus:N.payload};case e.k.UPDATE_VERIFY_CUSTOMER_STATUS:return{...E,verifyCustomerStatus:N.payload};case $.wZ.PwmbSignatureSuccess:return{...E,pwmbSignature:N.payload};case e.k.UPDATE_SWB_ERRORS:return{...E,notifications:{...E.notifications,swb:N.payload}};case e.k.UPDATE_SESSION_FLAGS:return{...E,sessionFlags:N.payload};case e.k.GET_VENDOR_DATA_RESPONSE:return{...E,getVendorDataRes:N.payload};case e.k.SET_THREATMATRIX_PAYLOAD:return{...E,thMetrixPayload:N.payload};case e.k.UPDATE_AWS_COUNTRY_CONFIG:return{...E,awsCountryConfigData:N.payload};case e.k.UPDATE_FULFILMENT_DETAILS:return{...E,fulfillmentDetails:N.payload};case e.k.UPDATE_REQUEST_MONEY_TOKEN:return{...E,requestMoneyToken:N.payload};case e.k.UPDATE_SD_MTCN:return{...E,sdmtcn:N.payload};case e.k.UPDATE_SIGNICAT_INITIATED:return{...E,signicatInitiatedStatus:N.payload};case e.k.UPDATE_VERIFICATION_OPTIONS_LIST:return{...E,verificationOptionList:N.payload};case W.rP.DocUplaodPageError:return{...E,docUplaodPageError:N.upload};case W.rP.DocUploadDMSSuccess:return{...E,docUplaodData:N.upload,docUplaodPageError:""};case W.rP.DocUploadDMSApiFail:return{...E,docUplaodPageError:N.upload};case W.rP.GetKycConfigDataSuccess:return{...E,awsKycConfigData:N.upload,docUplaodPageError:""};case W.rP.GetKycConfigDataFail:return{...E,docUplaodPageError:N.upload};case W.rP.VerifyCustomerDataSuccess:return{...E,verifyCustomerData:N.upload,docUplaodPageError:""};case W.rP.VerifyCustomerDataFail:return{...E,docUplaodPageError:N.upload};case W.rP.CustomerVerificationStatusDataSuccess:return{...E,customerVerificationStatus:N.upload,docUplaodPageError:""};case W.rP.CustomerVerificationStatusDataFail:return{...E,docUplaodPageError:N.upload};case W.rP.DucDocTypeDetailsUpdate:return{...E,ducDocTypeDetails:N.payload};case W.rP.ICVResponse:return{...E,icvResponse:N.payload};case W.rP.SendMoneyObjects:return{...E,sendMoneyObjects:N.payload};case K.jo.GCIFromKycServiceSuccess:return{...E,kycServiceResponse:N.payload};case K.jo.GobalCollectIdTemplateSuccess:return{...E,globalCollectIdTemplate:N.payload};case K.jo.EidChoosenMethod:return{...E,eidSelectedMethod:N.payload};case e.k.ABANDONED_TOKEN:return{...E,abandonedCartToken:N.payload};case e.k.CLEAR_ABANDONED_TOKEN:return{...E,abandonedCartToken:""};case e.k.UPDATE_SENDER_CARD:return{...E,senderCardDetails:N.payload};case e.k.UPDATE_FEATURE_FLAGS:return{...E,featureFlags:N.payload};case e.k.UPDATE_CARDS_DATA:return{...E,cardsData:N.payload};case e.k.UPDATE_BANKS_DATA:return{...E,banksData:N.payload};case e.k.UPDATE_SELECTED_CARD:return{...E,selectedCard:N.payload};case e.k.UPDATE_SELECTED_BANK:return{...E,selectedBank:N.payload};case e.k.UPDATE_USER_FLOW:return{...E,isGuestFlow:N.payload};case e.k.UPDATE_GUEST_INFO_SENDER:return{...E,guestInfo:{...E.guestInfo,sender:N.payload}};case e.k.UPDATE_GUEST_INFO_RECEIVER:return{...E,guestInfo:{...E.guestInfo,receiver:N.payload}};case e.k.UPDATE_DIALING_PREFIX_LIST:return{...E,dialingPrefixList:N.payload};case e.k.UPDATE_RESET_PWD_INFO:return{...E,resetPwdInfo:N.payload};case e.k.UPDATE_RECEIVER_ERROR:return{...E,receiverError:N.payload};case e.k.UPDATE_COUNTRY_CONFIG:return{...E,countryConfig:N.payload};case e.k.UPDATE_SMO_CONFIG:return{...E,smoConfig:N.payload};case e.k.UPDATE_PEPDETAILS:return{...E,pepDetails:N.payload};case e.k.UPDATE_COMPLIANCE_WEB:return{...E,complianceWeb:N.payload};case e.k.UPDATE_PENDING_DSS_DOCS:return{...E,pendingDssDocs:N.payload};case e.k.UPDATE_PROACTIVE_COMPLIANCE:return{...E,proactiveCompliance:N.payload};case e.k.UPDATE_PROACTIVE_COMPLIANCE_FLAG:return{...E,proactiveComplianceFlag:N.payload};case e.k.UPDATE_CUSTOMER_PROFILE_DATA:return{...E,customerProfileData:N.payload};case e.k.UPDATE_CASH_PICKUP_RECEIVER:return{...E,cashPickupReceiver:N.payload};case e.k.UPDATE_COMPLIANCE_CONFIG_RULES:return{...E,complianceConfigRules:N.payload};case D.NS.CompleteYourProfileError:return{...E,completeYourProfilePageError:N.payload};case D.NS.CompleteYourProfileSuccess:return{...E,completeYourProfileResponse:N.payload};case D.NS.PreviewProfileError:return{...E,previewProfilePageError:N.payload};case e.k.UPDATE_PRODUCTS_AFTER_GETLIMITS:return{...E,productsAfterGetLimit:N.payload};case e.k.UPDATE_REMINDER_ID:return{...E,reminderId:N.payload};case e.k.CLEAN_REMINDER_ID:return{...E,reminderId:null};case e.k.UPDATE_FROM_RESUME_TRANSFER:return{...E,fromResumeTransfer:N.payload};case e.k.UPDATE_TO_PAY_IN_CHANGE:return{...E,navigateToPayInChange:N.payload};case e.k.UPDATE_FROM_LOGIN_OTP:return{...E,loginWithOTP:N.payload};case e.k.UPDATE_FROM_CLICK_RESEND_ISFAV:return{...E,clickResendIsFav:N.payload};case e.k.UPDATE_FROM_ISFAV_FILTER_SELECTED:return{...E,isFavFilterSelected:N.payload};case e.k.UPDATE_FOR_VIEW_ALL:return{...E,viewAllFav:N.payload};case e.k.CLEAN_RECEIVER_LIST:return{...E,receiverList:null};case e.k.UPDATE_SELECTED_BILLER:return{...E,selectedBiller:N.payload};case e.k.UPDATE_THIRDPARTY_POPUP_FLAG:return{...E,showThirdPartyConsentPopup:N.payload};case e.k.UPDATE_WUPAY_SELECTED_RECEIVER:return{...E,wupaySelectedReceiver:N.payload};case e.k.UPDATE_TRACK_TRANSFER_TRANSACTION:return{...E,trackTransferTransaction:N.payload};case e.k.UPDATE_FX_ALERTS:return{...E,fxAlerts:N.payload};case e.k.GMO_MAINTENANCE_LIST:return{...E,gmoMaintenanceList:N.payload};case e.k.APN_ALLOW_INSTANCE:return{...E,apnAllowInstance:N.payload};case e.k.UPDATE_FX_SUBSCRIPTION:return{...E,fxSubscription:N.payload};case e.k.UPDATE_SSC_CONTENT:return{...E,sscContent:N.payload};case e.k.PAY_IN_CHANGE_PAYMENT:return{...E,PayInChangePaymentDetails:N.payload};case e.k.UPDATE_SSC_ABTESTS:return{...E,sscAbTests:N.payload};case e.k.UPDATE_KYC_VERIFICATION_MODEL:return{...E,kycVerificationModel:N.payload};case e.k.UPDATE_GLOBAL_COUNTRY_LANG_LIST:return{...E,globalCountryLangList:N.payload};case e.k.UPDATE_OCR_FLOW_ENABLE:return{...E,OCRFlowEnable:N.payload};case e.k.UPDATE_LAST_SELECTED_PRODUCT:return{...E,lastSelectedProduct:N.payload};case e.k.UPDATE_KYC_VENDOR_CONFIG:return{...E,kycVendorConfig:N.payload};case e.k.UPDATE_COLLECTID_CTR_DATA:return{...E,CollectIDCTRTemp:N.payload};case e.k.UPDATE_HISTORY_RES_FOR_LAST_YEAR:return{...E,historyForLastYear:N.payload};case e.k.UPDATE_VALIDATION_ERROR:return{...E,validationError:N.payload};case e.k.UPDATE_COUNTRY_DYNAMIC_PARAMS:return{...E,countryDynamicParams:N.payload};case e.k.UPDATE_IACH_RECEIVER_CONFIG:return{...E,iachReceiverConfig:N.payload};case e.k.UPDATE_SECURITY_QUESTION_MY_FORIGN_WORKER:return{...E,securityQuestionMYFW:N.payload};case e.k.UPDATE_LAZY_LOADER_SPINER_FLAG:return{...E,isLazyLoadSpinnerOn:N.payload};case e.k.UPDATE_AMP_QUICK_RESND_FLAG:return{...E,ampQuickResendFlag:N.payload};case e.k.UPDATE_OCR_ID_SDK:return{...E,OCRIDSdk:N.payload};case e.k.UPDATE_OCR_METHOD_SELECTED:return{...E,OCRMethodSelected:N.payload};case e.k.UPDATE_OCR_CARD_SDK:return{...E,OCRCardSdk:N.payload};case e.k.UPDATE_ID_OCR_SDK_LOAD_STATUS:return{...E,idOcrSdkLoadStatus:N.payload};case e.k.UPDATE_CARD_OCR_SDK_LOAD_STATUS:return{...E,cardOcrSdkLoadStatus:N.payload};case e.k.UPDATE_CITY_LIST:return{...E,cityList:N.payload};case e.k.UPDATE_TO_RESEND_FLOW:return{...E,isResendFlow:N.payload};case e.k.UPDATE_TO_RESEND_FLOW_HISTORY:return{...E,isResendFlowHistory:N.payload};case e.k.UPDATE_TO_WUPAY_RESEND_FLOW:return{...E,isWupayResendFlow:N.payload};case e.k.UPDATE_TO_PAYNOW_RESEND_FLOW:return{...E,isPayNowResendFlow:N.payload};case e.k.UPDATE_TO_MOBILE_WALLET_RESEND_FLOW:return{...E,isMobileWalletResendFlow:N.payload};case e.k.UPDATE_TO_IPAY88_RESEND_FLOW:return{...E,isIpay88ResendFlow:N.payload};case e.k.UPDATE_TO_FPX_RESEND_FLOW:return{...E,isFPXResendFlow:N.payload};case e.k.UPDATE_TO_C3_RESEND_FLOW:return{...E,isC3ResendFlow:N.payload};case e.k.UPDATE_TO_GOOGLEPAY_RESEND_FLOW:return{...E,isGooglePayResendFlow:N.payload};case e.k.UPDATE_TO_Plaid_RESEND_FLOW:return{...E,isPlaidResendFlow:N.payload};case e.k.UPDATE_TO_SORORT_RESEND_FLOW:return{...E,isSofortResendFlow:N.payload};case e.k.UPDATE_SELECTED_TRANSACTION:return{...E,selectedTransactionDetails:N.payload};case e.k.UPDATE_ENCRYPT_OCR_PUBLICKEY:return{...E,encryptOcrPublicKey:N.payload};case e.k.UPDATE_WUPAY_QRCODE:return{...E,wupayQrCode:N.payload};case e.k.UPDATE_ISMOBILEWALLET_ENABLED:return{...E,isMobileWalletPayInEnabled:N.payload};case e.k.UPDATE_LOGIN_THROUGH_KNOW_YOUR_LIMIT:return{...E,isLoginThroughKnowYourLimit:N.payload};case e.k.UPDATE_AVAILABLE_VIDEO_KYC_OUTSIDE_HOURS:return{...E,isAvailableVideoKYCOutSideHours:N.payload};case e.k.UPDATE_PROFILE_DISPLAY_FLAG:return{...E,upmDisplayDetails:N.payload};case e.k.UPDATE_PARAMS_FROM_REGISTER:return{...E,urlParamsFromRegister:N.payload};case e.k.UPDATE_LIFE_TIME_SAVINGS:return{...E,lifeTimeSavings:N.payload};case e.k.UPDATE_SELECTED_PS_PRODUCT:return{...E,selctedPSD2CServiceOnReceiver:N.payload};case e.k.UPDATE_FLOW_TYPE:return{...E,flowType:N.payload};case e.k.UPDATE_DSS2_DIAL_PREFIX:const _={...E.dss2Details,dialPrefixList:N.payload};return{...E,dss2Details:_};case e.k.UPDATE_DSS2_LOOKUP_CRITERIA:const M={...E.dss2Details,lookupCriteria:N.payload};return{...E,dss2Details:M};case e.k.UPDATE_DSS2_LOOKUP_RESPONSE:const U={...E.dss2Details,lookupResponse:N.payload};return{...E,dss2Details:U};case e.k.UPDATE_DSS2_PROFILE_TEMPLATE:const w={...E.dss2Details,profileTemplate:N.payload};return{...E,dss2Details:w};case e.k.UPDATE_DSS2_ID_LIST:const O={...E.dss2Details,idList:N.payload};return{...E,dss2Details:O};case e.k.UPDATE_DSS2_AUTHENTICATION_STATUS:const G={...E.dss2Details,isUserAuthenticated:N.payload};return{...E,dss2Details:G};case e.k.UPDATE_PROFILE_VERIFICATION_STATUS:const s={...E.dss2Details,profileVerificationStatus:N.payload};return{...E,dss2Details:s};case e.k.UPDATE_PROMO_LIST:return{...E,promoCodeList:N.payload};case e.k.UPDATE_DSS2_HAS_COMPLETE_PROFILE_PAGE:const a={...E.dss2Details,hasCompleteProfilePage:N.payload};return{...E,dss2Details:a};case e.k.UPDATE_TO_BANCONTACT_RESEND_FLOW:return{...E,isBanContactResendFlow:N.payload};case e.k.GET_ONBOARDING_CTR_FLOW:return{...E,onBoardingCTRData:N.payload};case e.k.UPDATE_TO_R_TO_B_RECEIVERDETAILS:return{...E,rTobReceiverDetails:N.payload};case e.k.UPDATE_SOURCE_TYPE:return{...E,sourceType:N.payload};case e.k.UPDATE_PROMO_DETAILS:return{...E,promoDetails:N.payload};case e.k.UPDATE_DSS2_NON_ID_LIST:const c={...E.dss2Details,nonIdList:N.payload};return{...E,dss2Details:c};case e.k.UPDATE_AD_LOAD_EVENT:return{...E,adLoadEvent:N.payload};case e.k.UPDATE_CUSTOMER_TXN_DETAILS:return{...E,customerTxnDetails:N.payload};case e.k.UPDATE_PRICE_CATALOG_DETAILS:return{...E,priceCatalogDetails:N.payload};case e.k.UPDATE_TO_KLARNA_RESEND_FLOW:return{...E,isKlarnaResendFlow:N.payload};case e.k.UPDATE_LAST_SELECTED_PRODUCT_FIFO_SLIDER:return{...E,lastSelectedProductFifoSlider:N.payload};case e.k.UPDATE_GAM_QUERY_PARAM:return{...E,gamQueryParam:N.payload};case e.k.SET_SIDE_PANAL_ADD_RECEIVER_DATA:return{...E,smoRevampSidePanelData:N.payload};case e.k.UPDATE_TOUR_CURRENT_SECTION:return{...E,tourCurrentSection:N.payload};case e.k.UPDATE_TO_TINK_RESEND_FLOW:return{...E,isTinkResendFlow:N.payload};default:return E}}},52625:(n,d,t)=>{"use strict";t.d(d,{W:()=>e});var o=t(54438);let e=(()=>{class x{constructor(){this.adobeService={isInitialized:!1,isLoaded:!1},this.adobeScript="",this.callbacks=[],this.dtm_hostName=window.location.hostname,this.executeSatellite=()=>{if(_satellite){this.adobeService.isLoaded=!0,_satellite.pageBottom();let W=this.callbacks.length;for(;W>0;){const K=this.callbacks.shift();K&&"function"==typeof K&&K(),W=this.callbacks.length}}}}loadAnalytics(W){if(this.adobeScript=-1!==this.dtm_hostName.indexOf("uat")||-1!==this.dtm_hostName.indexOf("uat1")?"//assets.adobedtm.com/launch-EN3d9c8c8a46944d22b4c62f58ffe9410d-staging.min.js":-1!==this.dtm_hostName.indexOf("prv")||-1!==this.dtm_hostName.indexOf("www2")||-1!==this.dtm_hostName.indexOf("www.westernunion.com")||-1!==this.dtm_hostName.indexOf("wudispatcher.westernunion.com")||-1!==this.dtm_hostName.indexOf("wudispatcherc.westernunion.com")||-1!==this.dtm_hostName.indexOf("wudispatcherp.westernunion.com")||-1!==this.dtm_hostName.indexOf("wudispatcherrs.westernunion.com")||-1!==this.dtm_hostName.indexOf("wudispatcherci.westernunion.com")||-1!==this.dtm_hostName.indexOf("ruwudispatcher.westernunion.ru")||-1!==this.dtm_hostName.indexOf("ruwudispatcher-mo.westernunion.ru")||-1!==this.dtm_hostName.indexOf("ruwudispatcher-sp.westernunion.ru")||-1!==this.dtm_hostName.indexOf("www.westernunion.ru")||-1!==this.dtm_hostName.indexOf("partners.westernunion.com")?"//assets.adobedtm.com/launch-EN0655178b63a1496ab02060384481db37.min.js":(-1!==this.dtm_hostName.indexOf("dev")||this.dtm_hostName.indexOf("qa"),"//assets.adobedtm.com/launch-EN5b74b187bed8475ab8cfddf12455e0b5-development.min.js"),this.adobeService.isInitialized)this.adobeService.isLoaded?W&&"function"==typeof W&&W():this.callbacks.push(W);else{this.callbacks.push(W),this.adobeService.isInitialized=!0;const K=document&&document.getElementById("adobe-dtm-satelliteLib")?document.getElementById("adobe-dtm-satelliteLib"):null;K&&K.addEventListener("load",this.executeSatellite)}return this.callbacks}getAdobeScript(){return this.adobeScript}static#e=this.\u0275fac=function(K){return new(K||x)};static#t=this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},41445:(n,d,t)=>{"use strict";t.d(d,{c:()=>x});var o=t(54438),e=t(64646);let x=(()=>{class ${constructor(K){this._store=K,this._store.select("app").subscribe(V=>{this.moneyTransferSession=V})}getDiscount(){const K={code:this.moneyTransferSession&&this.moneyTransferSession.selectedProduct&&this.moneyTransferSession.selectedProduct.promotion&&this.moneyTransferSession.selectedProduct.promotion.code,value:this.moneyTransferSession&&this.moneyTransferSession.selectedProduct&&this.moneyTransferSession.selectedProduct.promotion&&this.moneyTransferSession.selectedProduct.promotion.discount};try{const P=(this.moneyTransferSession&&this.moneyTransferSession.countryDynamicParams&&this.moneyTransferSession.countryDynamicParams.PROMO_OVERRIDE_LIST?JSON.parse(this.moneyTransferSession.countryDynamicParams.PROMO_OVERRIDE_LIST||"[]"):[])?.filter(D=>D?.code===K?.code);P&&P.length>0&&(K.code=P[0].value)}catch{}return K}getSendAmountAnalayticsObj(K){return{payout_country:this.moneyTransferSession&&this.moneyTransferSession.corridor&&this.moneyTransferSession.corridor.receiverCountry&&this.moneyTransferSession.corridor.receiverCountry.isoCode,payout_currency:this.moneyTransferSession.corridor.receiverCurrency,send_country:this.moneyTransferSession&&this.moneyTransferSession.corridor&&this.moneyTransferSession.corridor.senderCountry&&this.moneyTransferSession.corridor.senderCountry.isoCode,sending_amount:K,sending_currency:this.moneyTransferSession.corridor.senderCurrency}}static#e=this.\u0275fac=function(V){return new(V||$)(o.KVO(e.il))};static#t=this.\u0275prov=o.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},61862:(n,d,t)=>{"use strict";t.d(d,{b:()=>g});var o=t(10467),e=t(54438),x=t(78863);class ${}var W=t(64646),K=t(66726),V=t(34781),P=t(60177),D=t(93885),f=t(67890),C=t(47058),A=t(28557),E=t(90720),N=t(85717),_=t(58728),M=t(67376),U=t(16625),w=t(3902),O=t(87801),G=t(77202),s=t(38978),a=t(41780),c=t(52625),r=t(2490);let g=(()=>{class p{constructor(l,v,S,m,b,Y,R,k,L,y,I,T,te,Z,de,oe,ae,he){this.httpService=l,this.readURL=v,this.translate=S,this.lazyLoadingLibraryService=m,this.adobeTmService=b,this._store=Y,this.cookieService=R,this.microappsService=k,this.updateStoreUsingActionService=L,this.smoConfig=y,this.utilService=I,this.translateProvider=T,this.platformId=te,this.seoService=Z,this.document=oe,this.router=ae,this.featureFlagService=he,this.globalComponents=null,this.countryConfigData=null,this.awsCountryConfigData=null,this.activeVersion=new $,this.partnerName=null,this.partnerData={},this.dutLBPURL=["/web/lbp/home","/web/lbp/lookup","/web/lbp/login","/web/lbp/register","/web/lbp/forgot-password","/web/lbp/sdq","/web/lbp/doc-upload","/web/lbp/doc-upload-verify","/web/lbp/doc-upload-primary","/web/lbp/doc-upload-secondary","/web/lbp/finish"],this.dssURL=["/web/dss/"],this.dss2URL=["/web/dss2/"],this.IACH_SENDER_CONUNTRY_LIST=["US"],this.retailToDigitalLBPURL=["/web/user/lookup","/web/user/digital-registration"],this.scvURL=["/web/user/primary-account-update"],this.NON_PROD_DOMAIN_PREFIXES=["localhost","wudispatcher-dev","wudispatcher-qa","wudispatcher-uatrs2","wudispatcheruat","wudispatcher-uatci2"],this.isServerRender=(0,P.Vy)(this.platformId),this.isGlobalService=this.readURL.getCurrentUrl().includes("global-service"),this.hideHeaderLinks=!1,this.hostedPartnerFlowSetup(),this.countryLanguage={country:this.readURL.getCountryFromURL(),language:this.readURL.getLanguageFromURL()},this.translate.setDefaultLang(this.isGlobalService?"global":this.countryLanguage.language),this._store.pipe((0,W.Lt)(K.dj)).subscribe(B=>{this.isPPSprofile=B}),this._store.pipe((0,W.Lt)(K.KZ)).subscribe(B=>{this.isPartner=B}),this._store.pipe((0,W.Lt)(K.mw)).subscribe(B=>{this.awsCountryConfigData=B}),this.renderer=de.createRenderer(null,null)}getGlobalComponents(){return this.globalComponents}getHeaderComponents(){return this.globalComponents&&this.globalComponents.header?this.globalComponents.header.header:null}getFooterComponents(){return this.globalComponents&&this.globalComponents.footer?this.globalComponents.footer.footer:null}getSeoComponents(){return this.globalComponents.header.seo}getCountryConfig(){return this.countryConfigData}getActiveVersion(){return this.activeVersion}loadAll(){var l=this;return(0,o.A)(function*(){if(l.setPPSProfile(),l.getFingerprintHash(),l.countryConfigData||l.awsCountryConfigData)yield l.loadActiveVersion(),yield l.loadDynamicConfigProperties(),yield l.loadGlobalComponents(),yield l.loadGlobalCountryComplainceData(),yield l.featureFlag();else{"true"===sessionStorage.getItem("AWSConfigEnabled")&&(yield l.loadAWSConfig()),yield l.loadActiveVersion(),yield l.loadDynamicConfigProperties(),yield l.loadSmoConfig(),yield l.featureFlag(),l.loadOptimizelyFeatureExp(),yield l.loadCountryConfig(),yield l.loadGlobalComponents(),yield l.loadGlobalCountryComplainceData();const S=l.countryLanguage.country.toLocaleUpperCase();l.IACH_SENDER_CONUNTRY_LIST.indexOf(S)>-1&&!l.isPPSprofile&&!l.partnerName&&(yield l.loadIACHReceiverConfig()),l.lazyLoadCss()}l.loadAdobeAnalytics(),l.storeUtmVersions(),l.isServerRender&&l.getSeoComponents()&&(l.seoService.setCanonicalURL(l.getSeoComponents()),l.seoService.setMetaTags(l.getSeoComponents())),l.getSeoComponents()&&l.seoService.setTitle(l.getSeoComponents()),yield l.loadTranslations(),l.partnerName&&"GOOGLESPOT"===l.partnerName.toUpperCase()&&typeof microapps>"u"&&l.microappsService.loadLibrary(),l.partnerName||l.readStoreURLParams();const v=l.renderer.createElement("script");v.type="text/javascript",v.text=`var countryConfig='${JSON.stringify(l.getCountryConfig())}';`,v.text+="var countryConfig=JSON.parse(countryConfig);",l.renderer.appendChild(l.document.body,v),l.setInitiator()})()}setPPSProfile(){const l=this.readURL.getURLParam("wudata"),v=this.readURL.getURLParam("providerid"),S=this.isServerRender&&"PPS"===this.readURL.getSSRRequestCookie("applicationName");(l&&v||S)&&(this.updateStoreUsingActionService.updatePPSProfile(!0),this.cookieService.set("applicationName","PPS",10,"/"))}getFingerprintHash(){U.Ay.load().then(v=>v.get()).then(v=>{const S=v.visitorId;S&&sessionStorage.setItem("fingerprint_id",S)})}setInitiator(){if(this.isServerRender){const l=this.renderer.createElement("script");l.type="text/javascript",l.text="sessionStorage.setItem('initiator', 'server');",this.renderer.appendChild(this.document.body,l)}}loadTranslations(){var l=this;return(0,o.A)(function*(){const v=l.isGlobalService?"global":l.countryLanguage.language;yield l.translate.use(v).toPromise(),l.isGlobalService&&l.router.events.pipe((0,_.p)(S=>S instanceof N.Z)).subscribe(S=>{S.url.includes("global-service")?l.translate.use("global"):l.translate.use(l.countryLanguage.language)}),l.isServerRender||l.translateProvider.getFullTranslations().subscribe(S=>{l.translate.setTranslation(l.countryLanguage.language,S),l.translate.setDefaultLang(l.countryLanguage.language)})})()}loadGlobalComponents(){let l="globalComponents";const v=this.isDUTApplicationLoaded(this.readURL.getCurrentUrl()),S=this.isDSSApplicationLoaded(this.readURL.getCurrentUrl()),m=this.isDSS2ApplicationLoaded(this.readURL.getCurrentUrl()),b={region:this.region,country:this.countryLanguage.country,language:this.countryLanguage.language};return this.checkDcaasGlobalComponents(v,S,b,m)?(b.dcaasversion=sessionStorage.getItem("dcaasVersion")||window.ACTIVE_VERSION?.dcaasVersion,l="dCaasGlobalComponents"):l=this.loadAemContent(v,S,b,m),new Promise((R,k)=>{this.httpService.get(l,b).subscribe(L=>{this.globalComponents=L["global-components"],R(!0)},L=>{console.error(L),b.region="nam",b.country="us",b.language="en",this.httpService.get(l,b).subscribe(y=>{this.globalComponents=y["global-components"],this.hideHeaderLinks="US"!==this.countryLanguage.country.toUpperCase(),R(!0)},y=>{console.error(y),k(y)})})})}loadGlobalCountryComplainceData(){if(!this.isServerRender||!window.COUNTRY_COMPLIANCE_DATA){const l="globalCountryComplainceData",v={assetVersion:this.activeVersion.assetVersion};return new Promise((m,b)=>{this.httpService.get(l,v).subscribe(Y=>{sessionStorage.setItem("ComplianceConfigRules",JSON.stringify(Y)),this.updateStoreUsingActionService.updateComplianceConfigRules(Y),m(!0)},Y=>{console.error(Y),b("rejected")})})}sessionStorage.setItem("ComplianceConfigRules",JSON.stringify(window.COUNTRY_COMPLIANCE_DATA)),this.updateStoreUsingActionService.updateComplianceConfigRules(window.COUNTRY_COMPLIANCE_DATA)}removeConstants(){const l=this.countryConfigData.ConfigTemplate.partner;if(l.disableProgressBar&&-1===D.Y.disableProgressBarPartners.indexOf(l.disableProgressBar)&&D.Y.disableProgressBarPartners.push(l.disableProgressBar),l.enableCloudPricingForRetail){const v=Object.keys(l.enableCloudPricingForRetail)[0];D.Y.cloudPricingAPIForPartners.hasOwnProperty(v)||(D.Y.cloudPricingAPIForPartners[v]=l.enableCloudPricingForRetail[v])}}loadCountryConfig(){return new Promise((v,S)=>{if(window.countryConfig)this.countryConfigData=window.countryConfig,this.updateStoreUsingActionService.updateCountryConfig(window.countryConfig),this.region=window.countryConfig.ConfigTemplate.region,this.partnerName&&this.removeConstants(),v(this.countryConfigData);else{const m="countryConfigV2";let b=this.countryLanguage.country.toLocaleUpperCase();this.partnerName&&(b=b+"-"+this.partnerName);const Y={origination:this.isPPSprofile?b+"-PPS":b,dcaasversion:this.activeVersion?.dcaasVersion||sessionStorage.getItem("dcaasVersion")||window.ACTIVE_VERSION?.dcaasVersion};this.httpService.get(m,Y).subscribe(R=>{this.handleCountyConfigResponse(R),this.updateStoreUsingActionService.updateCountryConfig(R),v(this.countryConfigData)},R=>{console.error(R),S("rejected")})}})}handleCountyConfigResponse(l){this.countryConfigData=l,this.partnerName&&this.removeConstants(),this.region=l.ConfigTemplate.region}featureFlag(){this.isServerRender&&window.FEATURE_FLAG&&this.lazyLoadingLibraryService.setFeatureFlag(window.FEATURE_FLAG);let v=sessionStorage.getItem("featureFlagVersion")?sessionStorage.getItem("featureFlagVersion"):this.getFeatureFlagEnviornment();return v="staging"===v?"stage":"production"===v?"prod":v,new Promise((m,b)=>{const Y=this.getFeatureFlagGetStatusPayload();this.httpService.post("featureFlagCS",Y).subscribe(R=>{(M.get(R,"feature_flag_status_list.length")||M.get(R,"feature_flag_value_list.length"))&&(R=this.updateCSFeatureFlags(R,v),this.addFeatureFlags(R,v)),m(!0)},R=>{console.error(R),b("rejected")})})}getWebFeatureFlags(l,v,S,m,b){this.httpService.get(l,v).subscribe(Y=>{this.addFeatureFlags(Y,S),m(!0)},Y=>{console.error(Y),b("rejected")})}addFeatureFlags(l,v){l=this.updateFeatureFlags(l);const S="digital-featureflag";if(this.updateStoreUsingActionService.updateFeatureFlagConfig(l[S]),sessionStorage.setItem("featureFlags",JSON.stringify(l[S])),"stage"===v&&l&&l[S]?.TEST_ENVIRONMENT_BANNER&&l[S]?.TEST_ENVIRONMENT_BANNER.countries&&"ALL"===l[S]?.TEST_ENVIRONMENT_BANNER.countries){const m=/true/i.test(sessionStorage.getItem("testEnvBannerAlreadyDisplayed")||""),b=document.getElementById("test_environement_banner_container");b&&(m?(b.classList.remove("show_banner"),b.classList.add("hide_banner")):(sessionStorage.setItem("testEnvBannerAlreadyDisplayed","true"),b.classList.remove("hide_banner"),b.classList.add("show_banner")))}}updateCSFeatureFlags(l,v){const S={},m=l&&l.feature_flag_status_list?l.feature_flag_status_list:[];return m.forEach(Y=>{Y.key&&(S[Y.key]={countries:this.countryLanguage.country?this.countryLanguage.country.toUpperCase():""})}),(l&&l.feature_flag_value_list?l.feature_flag_value_list:[]).forEach(Y=>{Y.key&&(S[Y.key]={countries:Y.value?Y.value:""})}),m.length>0?(S.flagVersion="prod"===v?"web-config-version-prod":"web-config-version-stage",S.featureFlagCountry=this.countryLanguage.country?this.countryLanguage.country.toUpperCase():"",{"digital-featureflag":S}):l}getFeatureFlagGetStatusPayload(){const l=this.countryLanguage.country?this.countryLanguage.country.toUpperCase():"",v=this.isPPSprofile,S=sessionStorage.getItem("featureFlagVersion")?sessionStorage.getItem("featureFlagVersion"):this.getFeatureFlagEnviornment();return{fetch_all:"true",filter_disabled_features:"true",fetch_values:"true",feature_flag_params:[{key:"country",value:l},{key:"channel",value:v?"PPS":"WEB"},{key:"channelVersion",value:"WEB20"},{key:"featureFlagVersion",value:"production"===S?"prod":S}]}}isCSFeatureFlagEnabled(){return"true"===this.smoConfig.getGlobalConfig("switches","isCSFeatureFlag")||"true"===sessionStorage.getItem("isCSFeatureFlag")}loadAWSConfig(){let l=this.countryLanguage.country;this.isPPSprofile&&(l+="-PPS"),this.isPartner&&(l=l+"-"+this.isPartner);const m={channel:"web",partner:"wucom",countryCode:l};return new Promise((R,k)=>{this.httpService.get("awsConfig",m).subscribe(L=>{this.awsCountryConfigData=L,this.updateStoreUsingActionService.updateAWSCountryConfig(L),sessionStorage.setItem("AWSConfig",JSON.stringify(L)),R(!0)},L=>{console.error(L),404===L.status&&location.reload(),k("rejected")})})}loadActiveVersion(){return new Promise((v,S)=>{if(this.isServerRender&&window.ACTIVE_VERSION&&this.lazyLoadingLibraryService.setActiveVersion(window.ACTIVE_VERSION),sessionStorage.getItem("assetVersion")&&sessionStorage.getItem("configVersion")&&sessionStorage.getItem("dcaasVersion")||window.ACTIVE_VERSION)this.activeVersion.assetVersion=sessionStorage.getItem("assetVersion")||window.ACTIVE_VERSION?.assetVersion,this.activeVersion.configVersion=sessionStorage.getItem("configVersion")||window.ACTIVE_VERSION?.configVersion,this.activeVersion.contentVersion=sessionStorage.getItem("contentVersion")||window.ACTIVE_VERSION?.contentVersion,this.activeVersion.dcaasVersion=sessionStorage.getItem("dcaasVersion")||window.ACTIVE_VERSION?.dcaasVersion,this.activeVersion.contentV2Version=sessionStorage.getItem("contentV2Version")||window.ACTIVE_VERSION?.contentV2Version,this.storeActiveVersions(),v(this.activeVersion);else{const m="activeVersion",b={dateStamp:(new Date).getTime()};this.httpService.get(m,b).subscribe(Y=>{this.activeVersion.assetVersion=Y.assetVersion,this.activeVersion.configVersion=Y.configVersion,this.activeVersion.contentVersion=Y.contentVersion,this.activeVersion.dcaasVersion=Y.dcaasVersion,this.activeVersion.contentV2Version=Y.contentV2Version,this.activeVersion.psEndpoint=Y.psEndpoint,sessionStorage.setItem("activeVersionResponse",JSON.stringify(Y)),this.storeActiveVersions(),v(this.activeVersion)},Y=>{console.error(Y),S("rejected")})}})}loadSmoConfig(){if(!this.isServerRender||!window.SMO_CONFIG){const l={assetVersion:this.activeVersion.assetVersion,country:this.partnerName?this.countryLanguage.country+"-"+this.partnerName.toLowerCase():this.countryLanguage.country},v=sessionStorage.getItem("applicationName");("PPS"===v?.toUpperCase()||this.isPPSprofile)&&(l.country=this.countryLanguage.country+"-"+(v?.toLowerCase()||"pps")),this.isGlobalService&&(l.country="global");const S="smoConfig";return new Promise((m,b)=>{this.httpService.get(S,l).subscribe(Y=>{this.updateStoreUsingActionService.updateSmoConfig(Y),m(!0)},Y=>{console.error(Y),b("rejected")})})}this.updateStoreUsingActionService.updateSmoConfig(window.SMO_CONFIG)}loadCrazyEggScript(l){if(l?.crazyEggScript&&M.isEmpty(this.partnerName)&&!this.isPPSprofile){const v=JSON.parse(l.crazyEggScript||"{}");v?.pages?.split(",")?.every(m=>!(this.readURL.getCurrentUrl().indexOf(m)>-1&&(this.loadJS(v),1)))}}loadOptimizely(l){try{if(l&&!M.isEmpty(l.optimizelyConfig)){const v=this.readURL.getDomainUrl(),m=["localhost","wudispatcher-dev","wudispatcher-qa","wudispatcher-uat","partners-sandbox","wudispatcheruat","www2","www3","perf"].find(Y=>v.indexOf(Y)>-1),b=JSON.parse(l.optimizelyConfig||"{}");M.isEmpty(b)||(b.url=m?b.uatUrl:b.prodUrl,b.callback=()=>this.optimizelyCB(),this.loadJS(b))}}catch(v){console.error("[Optimizely] Error -"+v)}}optimizelyCB(){const l=this.readURL.getCountryFromURL(),v={senderCountry:l?l.toUpperCase():"",deviceType:this.utilService.isMobileDevice()?"R3_MOBILE_WEB":"R3_WEB"};this.utilService.setOptimizelyCustomAttrs(v)}loadJS(l){const v=document.createElement("script");v.type="text/javascript",l.defer&&(v.defer=!0),l.async&&(v.async=!0),v.src=l.url,l.callback&&(v.onload=l.callback),l.elementToAppend&&document.getElementsByTagName(l.elementToAppend).length>0?document.getElementsByTagName(l.elementToAppend)[0].appendChild(v):document.getElementsByTagName("body")[0].appendChild(v)}lazyLoadCss(){var l=this;return(0,o.A)(function*(){if(!window.countryConfig){if(l.isServerRender&&window.ASSET_VERSION)yield l.lazyLoadingLibraryService.loadStyle("responsiveMinCss","https://www.westernunion.com/content/wucom/dist/"+window.ASSET_VERSION+"/css/responsive_css.min.css");else{const v={assetVersion:l.activeVersion.assetVersion};yield l.lazyLoadingLibraryService.loadStyle("responsiveMinCss",l.httpService.getEndpoint("responsiveMinCss",v).URL)}if(l.partnerName){const v=`/content/dam/wu/partners/${l.partnerName}/${l.partnerName}.css`;yield l.lazyLoadingLibraryService.loadStyle("partnerStyles",v)}}})()}loadAdobeAnalytics(){var l=this;return(0,o.A)(function*(){yield l.adobeTmService.loadAnalytics(null)})()}setInSessionStorage(l,v){v?sessionStorage.setItem(l,v):sessionStorage.removeItem(l)}storeActiveVersions(){this.activeVersion.assetVersion&&sessionStorage.setItem("assetVersion",this.activeVersion.assetVersion),this.activeVersion.configVersion&&sessionStorage.setItem("configVersion",this.activeVersion.configVersion),this.activeVersion.contentVersion&&sessionStorage.setItem("contentVersion",this.activeVersion.contentVersion),this.activeVersion.dcaasVersion&&sessionStorage.setItem("dcaasVersion",this.activeVersion.dcaasVersion)}storeUtmVersions(){const l={assetVersion:this.activeVersion.assetVersion};null===sessionStorage.getItem("UTMSourcesList")&&this.httpService.get("utmSourcesList",l).subscribe(S=>{sessionStorage.setItem("UTMSourcesList",S.UTMSOURCES)})}readStoreURLParams(l){const v=this.getUrlParams();if(v&&v.length>0)for(let S=0;S<v.length;S++){const m=v[S].split(/=(.+)/),b=decodeURIComponent(m[0]),Y=decodeURIComponent(m[1]);l&&(this.partnerData[b]=Y),this.checkXSSPresent(Y)&&sessionStorage.setItem(b,Y)}}checkXSSPresent(l){return null!==l&&l.match(/^[a-zA-Z0-9-=. ]*$/)?l:""}getParam(){return this.readURL.getURLParams()}getUrlParams(){const l=this.getParam();return l?l.split("?")[1].split("&"):null}setWindowUrl(l){window.location.href=l}handleCookieForGoogleSpot(l){try{if(!this.getCookieItem("partnerName")&&l&&"GOOGLESPOT"===l.toUpperCase()){const S=this.readURL.getCountryFromURL().toLowerCase(),m=this.readURL.getLanguageFromURL();return void this.setWindowUrl("/"+S+"/"+m+"/web/user/login")}}catch(v){console.error("Error on handleCookieForGoogleSpot"+v.message)}}hostedPartnerFlowSetup(){const l=this.getUrlParams(),v=l?l.find(Y=>Y.indexOf("partnerName")>-1):null,S=v?decodeURIComponent(v.split("=")[1]):null;let m=this.getCookieItem("partnerName");const b=this.readURL.getAnchorFromURL()||null;this.isServerRender&&!m&&(m=this.readURL.getSSRRequestCookie("partnerName"),!m&&b&&-1!==D.Y.cookieNotAllowedPartners.indexOf(b.toUpperCase())&&(m=b)),(S&&"string"==typeof S||m&&"string"==typeof m)&&(this.partnerName=S||m,this.handleCookieForGoogleSpot(S),sessionStorage.setItem("partnerName",this.partnerName),this.partnerData.partnerName=this.partnerName,this.updateStoreUsingActionService.updateHostedPartner(!!this.partnerData.partnerName)),S?(this.readStoreURLParams(!0),this.setPartnerParams(S)):b&&"web"!==b&&(sessionStorage.setItem("partnerName",b),this.partnerData.partnerName=b,this.setPartnerParams(b))}setPartnerParams(l){try{if(!l)throw new Error("a partnerName string argument is required");if(this.setInSessionStorage("siteContentPartnerID",this.partnerData.partnerName),this.updateStoreUsingActionService.updateHostedPartner(!!this.partnerData.partnerName),this.partnerData.encryptedString){const v=decodeURIComponent(this.partnerData.encryptedString);this.partnerData.encryptedString=v.replace(/\ /g,"+")}this.updateStoreUsingActionService.updatePartnerPayloadData(this.partnerData),l&&D.Y.cookieNotAllowedPartners.indexOf(l.toUpperCase())>=0&&this.setCookieStoreItemInSessionStorage(D.Y.partnerName,l)}catch(v){console.error(`setPartnerParams- ${v}`)}}isDUTApplicationLoaded(l){return this.dutLBPURL.find(v=>l.indexOf(v)>-1)}isDSSApplicationLoaded(l){return this.dssURL.find(v=>l.indexOf(v)>-1)}isDSS2ApplicationLoaded(l){return this.dss2URL.find(v=>l.indexOf(v)>-1)}islbpRetailToDigitalLoaded(l){return this.retailToDigitalLBPURL.find(v=>l.indexOf(v)>-1)}isSCVenabled(l){return this.scvURL.find(v=>l.indexOf(v)>-1)}getFeatureFlagEnviornment(){const l=this.readURL.getDomainUrl(),v=this.NON_PROD_DOMAIN_PREFIXES.find(S=>l.indexOf(S)>-1);if(v){const S=this.smoConfig.getGlobalConfig("switches","featureFlagEnvironment");if(S)return S}return v?"staging":"production"}updateFeatureFlags(l){if(-1!==[M.get(this.countryLanguage,"country")?this.countryLanguage.country.toUpperCase():"NONE","ALL"].indexOf(M.get(l,"digital-featureflag.OVERRIDE_FEATUREFLAGS.countries"))){const S=this.smoConfig._getURLParam("enableFeatureFlags")||sessionStorage.getItem("enableFeatureFlags")||"",m=this.smoConfig._getURLParam("disableFeatureFlags")||sessionStorage.getItem("disableFeatureFlags")||"",b=S?.replace(/\s/g,"").split(",").filter(R=>!!R),Y=m?.replace(/\s/g,"").split(",").filter(R=>!!R);b?.forEach(function(R){l["digital-featureflag"][R]={countries:"ALL"}}),Y?.forEach(function(R){delete l["digital-featureflag"][R]}),b?.length&&sessionStorage.setItem("enableFeatureFlags",b?.join(",")),Y?.length&&sessionStorage.setItem("disableFeatureFlags",Y?.join(","))}return l}setCookieStoreItemInSessionStorage(l,v){const S=sessionStorage.getItem("cookiestore");if(S&&JSON.parse(S)){const m=JSON.parse(S);m[l]=v,sessionStorage.setItem("cookiestore",JSON.stringify(m))}else sessionStorage.setItem("cookiestore",JSON.stringify({key:v}))}getCookieItem(l){let v=this.cookieService.get(l);if(!v){const S=sessionStorage.getItem("cookiestore");S&&JSON.parse(S)&&JSON.parse(S)[l]&&(v=JSON.parse(S)[l])}return v}checkDcaasGlobalComponents(l,v,S,m){return l?(this.cookieService.set("lbptrack","lbp"),S.region="dut-lbp"):v?S.region="dss":m?S.region="dss2":this.partnerName&&"string"==typeof this.partnerName&&(S.region=this.partnerName.toLowerCase()),!0}loadAemContent(l,v,S,m){let b="globalComponents",Y=`${this.httpService.getBaseUrl()}/${this.countryLanguage.country}/${this.countryLanguage.language}`;return this.isServerRender&&(this.seoService.isNonProd()||(Y=`https://www.westernunion.com/${this.countryLanguage.country}/${this.countryLanguage.language}`)),S.apiVersion=this.getActiveVersion().assetVersion||"",S.urlPrefix=Y,this.partnerName&&"string"==typeof this.partnerName&&(b="globalComponentsV2",S.channel=this.partnerName.toLowerCase()),l&&(this.cookieService.set("lbptrack","lbp"),b="globalComponentsV2",S.channel="dut-lbp"),v&&(b="globalComponentsV2",S.channel="dss"),m&&(b="globalComponentsV2",S.channel="dss2"),b}loadIACHReceiverConfig(){try{const l=this.smoConfig._getCountryIsoFromURL(),v={origination:this.countryLanguage.country,language:this.countryLanguage.language,path:"/"+this.countryLanguage.country+"/"+this.countryLanguage.language,lists:[{name:O.MG.IACH_RECEIVER_CONFIG,type:"common"}]},S="listOptimus";return new Promise((m,b)=>{this.httpService.post(S,v).subscribe(Y=>{if(Y&&Y[O.MG.IACH_RECEIVER_CONFIG]){let R=Y[O.MG.IACH_RECEIVER_CONFIG];R=R[l.toUpperCase()]?R[l.toUpperCase()]:R,sessionStorage.setItem("iAchReceiverConfig",JSON.stringify(R)),this.updateStoreUsingActionService.updateIACHReceiverConfig(R)}m(!0)},Y=>{console.error(Y),b("rejected")})})}catch{}}loadDynamicConfigProperties(){const l={origination:this.countryLanguage.country,language:this.countryLanguage.language,path:"/"+this.countryLanguage.country+"/"+this.countryLanguage.language,lists:[{name:O.MG.COUNTRY_DYNAMIC_PARAM_LIST,type:"common"}]};this.isServerRender&&window.SWITCHES?this.lazyLoadingLibraryService.setSwitches(window.SWITCHES):window.SWITCHES||l.lists.push({name:O.MG.SWITCHES,type:"common"});try{const v=this.smoConfig._getCountryIsoFromURL(),S="listOptimus";return new Promise((m,b)=>{this.httpService.post(S,l).subscribe(Y=>{if(Y&&Y[O.MG.COUNTRY_DYNAMIC_PARAM_LIST]){const R=Y[O.MG.COUNTRY_DYNAMIC_PARAM_LIST].GLOBAL,k=Y[O.MG.COUNTRY_DYNAMIC_PARAM_LIST][v];let L=k;R&&k?L={...R,...k}:R&&!k&&(L=R),this.updateStoreUsingActionService.updateCountryDynamicParams(L),this.loadCrazyEggScript(L),this.loadOptimizely(L)}Y&&Y[O.MG.SWITCHES.toLowerCase()]&&(Y.switches.featureFlagEnvironment=this.getFeatureFlagEnviornment(),sessionStorage.setItem("switches",JSON.stringify(Y.switches)),window.SWITCHES=Y.switches),m(!0)},Y=>{console.error(Y),b("rejected")})})}catch{}}loadOptimizelyFeatureExp(){if(this.featureFlagService.isFeatureEnabled("OPTIMIZELY_FEATURE_EXPERIMENTATION")){const l=this.readURL.getDomainUrl(),b=`https://cdn.optimizely.com/datafiles/${["localhost","wudispatcher-dev","wudispatcher-qa","wudispatcher-uat","partners-sandbox","wudispatcheruat","www2","www3","perf"].find(Y=>l.indexOf(Y)>-1)?O.Ly.nonProdKey:O.Ly.prodKey}.json`;fetch(b).then(Y=>Y.json()).then(Y=>{const R=(0,s.Q_)({datafile:Y,errorHandler:s.r_});if(R){const k={senderCountry:this.readURL.getCountryFromURL()?.toUpperCase(),language:this.readURL.getLanguageFromURL()};let L=sessionStorage.getItem("optimizelyUserId");L||(L=this.utilService.generateUUID(),sessionStorage.setItem("optimizelyUserId",L));const y=R.createUserContext(L,k);if(!y)throw new Error("failed to create user context");window.optimizelyFeatureExp=y}})}}static#e=this.\u0275fac=function(v){return new(v||p)(e.KVO(x.kl),e.KVO(x.Fq),e.KVO(a.c$),e.KVO(x.$0),e.KVO(c.W),e.KVO(W.il),e.KVO(r.O),e.KVO(f.U),e.KVO(V.k),e.KVO(C.l9),e.KVO(G.a),e.KVO(E.b),e.KVO(e.Agw),e.KVO(A.B),e.KVO(e._9s),e.KVO(P.qQ),e.KVO(N.Ix),e.KVO(w.y))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},40328:(n,d,t)=>{"use strict";t.d(d,{k:()=>P});var o=t(54438),e=t(21626),x=t(93885),$=t(8788),W=t(77202),K=t(60177),V=t(79817);let P=(()=>{class D{constructor(C,A,E,N){this.httpClient=C,this.transferStateService=A,this.readURLService=E,this.platformId=N,this.headers=new e.Lr({"Content-Type":"application/json"})}getURLParam(C){const A=this.getParam(),E=new RegExp("[?|&]"+C+"=([^&;]+?)(&|#|;|$)").exec(A);let N="";E&&3===E.length&&(N=E[1]);let _=decodeURIComponent(N.replace(/\+/g,"%20"))||"";return _&&(_=_.trim()),_}getEndpoint(C,A){let E=this.getBaseUrl();if(C.indexOf("responsiveMinCss")>-1&&!(0,K.UE)(this.platformId)&&"local"!==window.SERVICE_ENV&&(E=""),x.Y.API_ENDPOINT[C]&&x.Y.API_ENDPOINT[C].URL){const N=JSON.parse(JSON.stringify(x.Y.API_ENDPOINT[C]));if(A&&A.dcaas&&N.DCAASURL&&(N.URL=N.DCAASURL),A&&A.isEsEnabled&&N.ESURL&&(N.URL=N.ESURL,delete A.isEsEnabled),"smoConfig"===C&&this.getURLParam("configoverride")&&"enabled"===this.getURLParam("configoverride")&&this.getURLParam("configname"))N.URL=E+"/content/dam/wu/optimus-overrride/"+this.getURLParam("configname")+"/smo-config.js";else if(A)for(const _ in A)N&&N.URL&&N.URL.indexOf(_)>-1?N.URL=N.URL.replace("{{"+_+"}}",A[_]):(N.URL+=N?.URL?.indexOf("?")<0?"?":"&",N.URL+=_+"="+A[_]);return"postCJEventReferral"===C&&(N.URL=N.URL),N.endPoint=C+N.URL.split("?")[0],N.URL=E+N.URL,N}return null}get(C,A){const E=this.getEndpoint(C,A),N=(0,o.zw6)(`get/${E.endPoint}`);return this.transferStateService.fetch(N,this.httpClient.get(E.URL))}post(C,A,E){const N=this.getEndpoint(C,{});if("listOptimus"===C&&(N.URL=this.readURLService?.getDcaasVersionedURL(N.URL)),"eventPush"===C||"listOptimus"===C||"postCJEventReferral"===C)return this.httpClient.post(N.URL,A,E);const _=(0,o.zw6)(`posts/${N.endPoint}`);return this.transferStateService.fetch(_,this.httpClient.post(N.URL,A,E))}getDcaasServerRenderUrl(){let C;return C="webapi-dev.dcaas.digital.us.westernunion.com",this.readURLService.getDomainUrl().indexOf("qa")>-1||this.readURLService.getDomainUrl().indexOf("uat")>-1?C="webapi-dev.dcaas.digital.us.westernunion.com":W.a.isProduction()&&(C="webapi-dcaas.digital.us.westernunion.com"),"https://"+C}getBaseUrl(){let C;const A="true"===sessionStorage.getItem("bMock");return C=this.readURLService.getDomainUrl(),this.readURLService.getDomainUrl().indexOf("localhost")>-1&&(C=A?"wudispatcher-dev11.devwesternunion.com":"wudispatcher-uatrs2.westernunion.com"),"https://"+C}getParam(){return this.readURLService.getURLParams()}static#e=this.\u0275fac=function(A){return new(A||D)(o.KVO(e.Qq),o.KVO(V.G),o.KVO($.F),o.KVO(o.Agw))};static#t=this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},78863:(n,d,t)=>{"use strict";t.d(d,{kl:()=>V.k,$0:()=>W,Fq:()=>K.F,Dx:()=>o.D});var o=t(32497),e=t(15575),x=t(60177),$=t(54438);let W=(()=>{class P{constructor(f){this.document=f,this.loadedLibraries={}}loadJs(f){if(this.loadedLibraries[f])return this.loadedLibraries[f].asObservable();this.loadedLibraries[f]=new e.m;const C=this.document.createElement("script");return C.type="text/javascript",C.src=f,C.onload=()=>{this.loadedLibraries[f].next(""),this.loadedLibraries[f].complete()},"9876"!==window.location.port&&this.document.head.appendChild(C),this.loadedLibraries[f].asObservable()}loadStyle(f,C){const A=document.styleSheets;for(let _=0,M=A.length;_<M;_++){const U=A[_].href;if(U&&U.indexOf("/css/responsive_css.min.css")>-1)return}if(this.loadedLibraries[C])return this.loadedLibraries[C].asObservable();this.loadedLibraries[C]=new e.m;const E=this.document.createElement("link");E.rel="preload",E.as="style",E.href=C,this.document.head.appendChild(E);const N=this.document.createElement("link");return N.rel="stylesheet",N.type="text/css",N.id=f,N.href=C,N.onload=()=>{this.loadedLibraries[C].next(""),this.loadedLibraries[C].complete()},"9876"!==window.location.port&&this.document.head.appendChild(N),this.loadedLibraries[C].asObservable()}setActiveVersion(f){const C=this.document.createElement("script");C.type="text/javascript",C.text="var ACTIVE_VERSION = "+JSON.stringify(f)+";",this.document.head.appendChild(C)}setSwitches(f){const C=this.document.createElement("script");C.type="text/javascript",C.text="var SWITCHES = "+JSON.stringify(f)+";",this.document.head.appendChild(C)}setFeatureFlag(f){const C=this.document.createElement("script");C.type="text/javascript",C.text="var FEATURE_FLAG = "+JSON.stringify(f)+";",this.document.head.appendChild(C)}static#e=this.\u0275fac=function(C){return new(C||P)($.KVO(x.qQ))};static#t=this.\u0275prov=$.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();var K=t(8788),V=t(40328)},89461:(n,d,t)=>{"use strict";t.d(d,{p:()=>O});var o=t(54438),e=t(64646),x=t(47058),$=t(66726),W=t(77202),K=t(76651),V=t(34781),P=t(67376),f=t(93885),C=t(31457),A=t(51347),E=t(8788),N=t(60177),_=t(89377),M=t(3902),U=t(85717);function w(){return window}let O=(()=>{class G{constructor(a,c,r,g,p,h,l,v,S,m,b){this.utilService=a,this._store=c,this.router=r,this.smoConfig=g,this.route=p,this.updateStore=h,this.featureFlagService=l,this.cloudRestService=v,this.mParticlePartnerizeService=S,this.readURLService=m,this.platformId=b,this.mparticle_datahub_config={mparticle:!0},this.wuSessionStorage=window.sessionStorage,this.hadoopAnalyticsConditionalAttr={customer_id:"",subscription_id:"",subscription_expiry_date:""},this.pageNameMappingObj=[{rawPageName:"start",cookedPageName:"send-money-option"},{rawPageName:"single-upload",cookedPageName:"kyc-option-duc"},{rawPageName:"kycoption-duc",cookedPageName:"kyc-option-duc"},{rawPageName:"send-money",cookedPageName:"send-money-option"},{rawPageName:"sendmoneyoption",cookedPageName:"send-money-option"},{rawPageName:"choose",cookedPageName:"eid-verification-options"},{rawPageName:"collect",cookedPageName:"eid-verification-confirm"},{rawPageName:"complete-profile",cookedPageName:"complete-your-profile"},{rawPageName:"preview-profile-data",cookedPageName:"review-your-profile"}],this.src_mParticleParameter=sessionStorage.getItem("src_code")?sessionStorage.getItem("src_code"):this.getUrlParameter("src"),this.mParticleUTMObj=this.getmParticleUTMParameterCapture(),this.mParticleReferrerObj=this.getmParticleReferrer(),this.isServerRender=(0,N.Vy)(this.platformId),this.logEventArr=[],this._store.pipe((0,e.Lt)($.rb)).subscribe(Y=>{this.selectedProduct=Y,this.selectedProduct&&this.selectedProduct.payIn&&this.updateFundsIn(this.selectedProduct.payIn),this.selectedProduct&&this.selectedProduct.payOut&&this.updateFundsOut(this.selectedProduct.payOut)}),this._store.pipe((0,e.Lt)("app")).subscribe(Y=>{this.sessionFromStore=Y}),this.subscription=this.cloudRestService.events.subscribe(Y=>{this.logmParticleAPIEvent(Y.method,Y.body,Y.response,Y.channel,Y.requestTime,Y.responseTime)}),w().logEvergageExperiencemParticleEvent=this.logEvergageExperiencemParticleEvent.bind(this),!(0,N.Vy)(this.platformId)&&!window.isPlatformTesting&&(this.interval=setInterval(()=>{this.repeatLogEventCheck()},1e3))}getWindow(){return window}invokeMParticleSDK(){return w().mParticle}invokeMd5(a){return _.V.hashStr(a)}getMParticleUser(){return P.has(w().mParticle,"Identity.getCurrentUser")?w().mParticle.Identity.getCurrentUser():null}logEvent(a,c,r){this.isServerRender||(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()?(this.repeatLogEventCheck(),this.logEventArr=[],clearInterval(this.interval),this.setUserMpidAttributes(),this.invokeMParticleSDK().logEvent(a,c,r)):a&&c&&r&&this.logEventArr.push({event:a,eventType:c,eventInfo:r,logged:!1}))}repeatLogEventCheck(){if(this.logEventArr.length>0&&this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()&&this.logEventArr.length>0&&this.logEventArr.length<1e3)for(let a=0;a<this.logEventArr.length;a++)if(!this.logEventArr[a].logged){const c=this.invokeMParticleSDK().EventType.Other;this.setUserMpidAttributes(),this.invokeMParticleSDK().logEvent(this.logEventArr[a].event,c,this.logEventArr[a].eventInfo),this.logEventArr[a].logged=!0}}setUserMpidAttributes(){w().mParticle&&this.getMParticleUser()&&w().Visitor&&(w().mParticle.Identity.getCurrentUser().setUserAttribute("Amplitude.device_id",this.getCookie("wu_device_id")),w().mParticle.Identity.getCurrentUser().setUserAttribute("mparticle_id",w().mParticle.Identity.getCurrentUser().getMPID()),w().mParticle.Identity.getCurrentUser().setUserAttribute("ec_id",w().Visitor.getInstance("AACD3BC75245B4940A490D4D@AdobeOrg").getMarketingCloudVisitorID()))}setUserIdentity(a){if(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){const c=function(g){g.getUser()},r={userIdentities:{customerid:P.get(a,"gatewayCustomer.preferredCustomer.accountNbr"),email:P.get(a,"gatewayCustomer.email")?P.get(a,"gatewayCustomer.email").toLowerCase():P.get(a,"gatewayCustomer.email"),other3:this.utilService.getCookieItem("wu_device_id"),other4:P.get(a,"gatewayCustomer.preferredCustomer.accountNbr")?this.invokeMd5(P.get(a,"gatewayCustomer.preferredCustomer.accountNbr")):P.get(a,"gatewayCustomer.preferredCustomer.accountNbr")}};this.invokeMParticleSDK().Identity.login(r,c)}}prepareRegsCusIdent(a,c,r){const g=P.get(c,"gatewayCustomer.preferredCustomer.accountNbr");g&&(this.setUserIdentity(c),this.setRegisterCustomerIdentify(a,c,r)),this.hadoopAnalyticsConditionalAttr.customer_id=g||""}setRegisterCustomerIdentify(a,c,r){w().mParticle&&this.getMParticleUser()&&("RegisterCustomer"===r&&(w().mParticle.Identity.getCurrentUser().setUserAttribute("preferences_update_date",this.getTodayDate()),w().mParticle.Identity.getCurrentUser().setUserAttribute("my_wu_enabled",this.getWuEnabled(a)),w().mParticle.Identity.getCurrentUser().setUserAttribute("registration_date",this.getTodayDate()),w().mParticle.Identity.getCurrentUser().setUserAttribute("gender",this.getGender(a)),w().mParticle.Identity.getCurrentUser().setUserAttribute("nationality",this.getNationality(a)),w().mParticle.Identity.getCurrentUser().setUserAttribute("date_of_birth",P.get(a,"gateway_customer.date_of_birth")),w().mParticle.Identity.getCurrentUser().setUserAttribute("lifetime_amount_sent",0),w().mParticle.Identity.getCurrentUser().setUserAttribute("lifetime_fee_paid",0),w().mParticle.Identity.getCurrentUser().setUserAttribute("user_type","wu-profile")),"us"===this.smoConfig._getCountryIsoFromURL().toLowerCase()&&"mx"===this.smoConfig._getCountryIsoFromURL().toLowerCase()&&w().mParticle.Identity.getCurrentUser().setUserAttribute("state",this.getState(c)),w().mParticle.Identity.getCurrentUser().setUserAttribute("wu_country",this.smoConfig._getCountryIsoFromURL().toLowerCase()?this.smoConfig._getCountryIsoFromURL().toLowerCase():this.mandatoryAttributes().sender_country.toLowerCase()),w().mParticle.Identity.getCurrentUser().setUserAttribute("wu_language",this.utilService.getCookieItem("WULanguageCookie_")?this.utilService.getCookieItem("WULanguageCookie_"):null),"CustomerSignOn"===r&&(w().mParticle.Identity.getCurrentUser().setUserAttribute("identity_verification_status",P.get(c,"gatewayCustomer.identityVerificationStatus")?P.get(c,"gatewayCustomer.identityVerificationStatus").toLowerCase():P.get(c,"gatewayCustomer.identityVerificationStatus")),w().mParticle.Identity.getCurrentUser().setUserAttribute("registration_date",P.get(c,"gatewayCustomer.registrationDate",null)),w().mParticle.Identity.getCurrentUser().setUserAttribute("customer_name",this.getCustomerName(c,"fullName")),w().mParticle.Identity.getCurrentUser().setUserAttribute("customer_first_name",this.getCustomerName(c,"firstName")),w().mParticle.Identity.getCurrentUser().setUserAttribute("FIRSTNAME",this.getCustomerName(c,"firstName")),w().mParticle.Identity.getCurrentUser().setUserAttribute("EMAILADDRESS",P.get(c,"gatewayCustomer.email")),w().mParticle.Identity.getCurrentUser().setUserAttribute("SUBSCRIBERKEY",P.get(c,"gatewayCustomer.preferredCustomer.accountNbr")),w().mParticle.Identity.getCurrentUser().setUserAttribute("ORIGINCOUNTRY",this.smoConfig._getCountryIsoFromURL().toLowerCase()?this.smoConfig._getCountryIsoFromURL().toLowerCase():this.mandatoryAttributes().sender_country.toLowerCase()),w().mParticle.Identity.getCurrentUser().setUserAttribute("PREFLANGUAGECODE",this.utilService.getCookieItem("WULanguageCookie_")?this.utilService.getCookieItem("WULanguageCookie_"):null),w().mParticle.Identity.getCurrentUser().setUserAttribute("EMAIL_MKTG_OPTIN_FLAG",a.gateway_customer?.account_preferences?.email?"T":"F"),w().mParticle.Identity.getCurrentUser().setUserAttribute("REGISTRATIONCHANNEL","r3_web"),w().mParticle.Identity.getCurrentUser().setUserAttribute("REGISTRATIONDATE",P.get(c,"gatewayCustomer.registrationDate",null)),w().mParticle.Identity.getCurrentUser().setUserAttribute("customer_key",P.get(c,"gatewayCustomer.preferredCustomer.accountNbr")),this.validateNames(c)),w().mParticle.Identity.getCurrentUser().setUserAttribute("lifetime_trxn_count",this.getTxCount(c)),w().mParticle.Identity.getCurrentUser().setUserAttribute("mywu_points",0),w().mParticle.Identity.getCurrentUser().setUserAttribute("register_flag",this.getRegisterFlag(a)))}validateNames(a){let c=this.getCustomerName(a,"middleName");c?w().mParticle.Identity.getCurrentUser().setUserAttribute("customer_middle_name",c):w().mParticle.Identity.getCurrentUser().setUserAttribute("customer_middle_name",""),c=this.getCustomerName(a,"lastName"),c?w().mParticle.Identity.getCurrentUser().setUserAttribute("customer_last_name",c):w().mParticle.Identity.getCurrentUser().setUserAttribute("customer_last_name","")}getCustomerName(a,c){let r="";const g=c;if("fullName"===g){const p=P.get(a,"gatewayCustomer.name.firstName"),h=P.get(a,"gatewayCustomer.name.middleName"),l=P.get(a,"gatewayCustomer.name.lastName");r=void 0!==h?p+" "+h+" "+l:p+" "+l}else r=P.get(a,"gatewayCustomer.name["+g+"]");return r&&(r=r.split(" ").map(p=>p[0].toUpperCase()+p.substr(1).toLowerCase()).join(" ")),r}getState(a){let c="";const r=P.get(a,"gatewayCustomer.address.state");return r&&(c=r),c}getTxCount(a){let c=0;const r=P.get(a,"gatewayCustomer.transactionCount");return r&&(c=r),c}getWuEnabled(a){let c=!1;return 1===P.get(a,"gateway_customer.terms_condition_flag")&&(c=!0),c}getTodayDate(){const a=r=>r<10?"0"+r:r;return Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())},(new Date).toISOString()}getGender(a){let c="";const r=P.get(a,"gateway_customer.gender");return r&&(c="M"===r?"male":"female"),c}getNationality(a){let c=null;const r=P.get(a,"gateway_customer.nationality");return r&&(c=r.toLowerCase()),c}getRegisterFlag(a){return"true"===a.progressive_registration?"p":"f"}updateFundsIn(a){this.currentFundsIn?this.currentFundsIn=a.replace(/\s/g,"").toLowerCase():(this.currentFundsIn=a.replace(/\s/g,"").toLowerCase(),this.getDefFundsIn(a.replace(/\s/g,"").toLowerCase()))}updateFundsOut(a){this.currentFundsOut?this.currentFundsOut=a.replace(/\s/g,"").toLowerCase():(this.currentFundsOut=a.replace(/\s/g,"").toLowerCase(),this.getDefFundsOut(a.replace(/\s/g,"").toLowerCase()))}additionalAttributesforPageEvent(){const a=JSON.parse(sessionStorage.getItem("app")||"{}");return{SUBSCRIBERKEY:P.get(a,"sender.myWuNumber"),EMAILADDRESS:P.get(a,"sender.email"),FIRSTNAME:P.get(a,"sender.firstName"),ORIGINCOUNTRY:this.smoConfig._getCountryIsoFromURL().toLowerCase()?this.smoConfig._getCountryIsoFromURL().toLowerCase():this.mandatoryAttributes().sender_country.toLowerCase(),PREFLANGUAGECODE:this.utilService.getCookieItem("WULanguageCookie_")?this.utilService.getCookieItem("WULanguageCookie_"):null,EMAIL_MKTG_OPTIN_FLAG:"true"===sessionStorage.getItem("ScheduleTransferMktgOptedIn")?"T":"F",REGISTRATIONCHANNEL:"r3_web",REGISTRATIONDATE:P.get(a,"sender.registrationDetails.registrationDate"),timestamp:Date.now(),CUSTOMER_KEY:P.get(a,"sender.myWuNumber"),platform:"Web"}}additionCustomAttributes(a,c){const r={SUBSCRIBERKEY:P.get(c,"gateway_customer.preferred_customer.account_nbr"),EMAILADDRESS:P.get(a,"gateway_customer.email"),FIRSTNAME:P.get(a,"gateway_customer.name.first_name"),ORIGINCOUNTRY:this.smoConfig._getCountryIsoFromURL().toLowerCase()?this.smoConfig._getCountryIsoFromURL().toLowerCase():this.mandatoryAttributes().sender_country.toLowerCase(),PREFLANGUAGECODE:this.utilService.getCookieItem("WULanguageCookie_")?this.utilService.getCookieItem("WULanguageCookie_"):null,EMAIL_MKTG_OPTIN_FLAG:a?.gateway_customer?.account_preferences?.email?"T":"F",REGISTRATIONCHANNEL:"r3_web",REGISTRATIONDATE:this.getTodayDate(),timestamp:Date.now(),CUSTOMER_KEY:P.get(c,"gateway_customer.preferred_customer.account_nbr"),platform:"Web"};return Object.keys(r).forEach(g=>{null===r[g]&&delete r[g]}),r}mandatoryAttributes(){const a={sender_country:this.smoConfig._getCountryIsoFromURL().toLowerCase(),session_id:this.utilService.getCookieItem("SessionId"),wu_device_id:this.utilService.getCookieItem("wu_device_id"),wu_platform:"r3_responsive_web",page_name:this.getCurrentPageName(),current_url:this.readURLService.getCurrentUrl(),logged_in:this.getLoggedInStatue(),identity_verification_status:this.getIdvStatus(),app_version:this.getAppVersion(),campaign_name:this.getCampaignName(),previous_event:this.getPreviousEvent(),user_path:"client"===sessionStorage.getItem("initiator")?"ng6":"ssr",ab_test:this.getAbTest(),ab_test_variant:this.getAbTestVariant(),data_plan_version:"web_ver_0"};return Object.keys(a).forEach(c=>{null===a[c]&&delete a[c]}),a}getLoggedInStatue(){return this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender.isLoggedIn?"true":"false"}getAppVersion(){let a="main0.js";try{let c=sessionStorage.getItem("activeVersion");c?(c=JSON.parse(c.replace(/'/g,'"')),a=c.assetVersion):a=sessionStorage.getItem("assetVersion"),a&&(a=a.split(".").slice(0,3).join("."))}catch{}return a}getIdvStatus(){return this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender.identityVerificationStatus?this.sessionFromStore.sender.identityVerificationStatus.toLowerCase():null}getCampaignName(){const a=this.getUrlParameter("campaign_name");return sessionStorage.getItem("campaign_name")||(a?(sessionStorage.setItem("campaign_name",a),a):null)}getUrlParameter(a){const c=location.search||location.hash;let r;const g=(new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(c)||[,""])[1];return g&&(r=decodeURIComponent(g.replace(/\+/g,"%20"))||null),r?.trim(),r}getPreviousEvent(){return this.previous_event?this.previous_event:this.wuSessionStorage.wuMparticle_previousEvent?this.wuSessionStorage.wuMparticle_previousEvent:null}getAbTest(){const a=sessionStorage.getItem("ab_test");return a?a.toLowerCase():null}getAbTestVariant(){const a=sessionStorage.getItem("ab_test_variant");return a?a.toLowerCase():null}getCurrentPageName(){return this.currentPageName?this.currentPageName:this.mapPageName(this.router.url)}optionalAttributes(){const a={send_amount:P.get(this.sessionFromStore,"senderAmount"),send_currency:this.getSenderCurrency(),receiver_account_number:"",receiver_country:"",receive_currency:this.getReceiverCurrency(),receive_amount:P.get(this.sessionFromStore,"receiverAmount"),exchange_rate:this.selectedProduct?.exchangeRate,funds_in:this.getFundsInMap(this.currentFundsIn)||"",funds_out:this.getFundsOutMap(this.currentFundsOut)||"",agent_network:"",transfer_fee:this.selectedProduct?.fees,send_receive_lock:"",user_journey:"",provider_id:this.getUrlParameter("providerid")||"",wu_source:this.getUrlParameter("src")||"",partner_name:"",product_code:"",biller:"",efl_state:"",city:"",state:"",directed_services:"",user_flow:"",kyc_duc:"",paSubType:"",kyc_ducDocs:"",kyc_dur:"",kyc_durDocs:"",receipt_status:"",umn_id:""};this.sessionFromStore&&this.sessionFromStore.corridor&&this.sessionFromStore.corridor.receiverCountry&&this.sessionFromStore.corridor.receiverCountry.isoCode&&(a.receiver_country=this.sessionFromStore.corridor.receiverCountry.isoCode.toLowerCase()),this.sessionFromStore&&this.sessionFromStore.selectedReceiver&&this.sessionFromStore.selectedReceiver.generalInformation&&this.sessionFromStore.selectedReceiver.generalInformation.uid&&(a.receiver_account_number=this.invokeMd5(this.sessionFromStore.selectedReceiver.generalInformation.uid)),"cash"===a.funds_out&&(a.agent_network="all"),sessionStorage.getItem("wuMparticleSMO_sendReceiveLock")&&(a.send_receive_lock=sessionStorage.getItem("wuMparticleSMO_sendReceiveLock")||""),sessionStorage.getItem("wuMparticle_biller")&&(a.biller=sessionStorage.getItem("wuMparticle_biller")||""),sessionStorage.getItem("ocr_sdk_load_error")&&(a.ocr_sdk_load_error=sessionStorage.getItem("ocr_sdk_load_error")||""),sessionStorage.getItem("ocr_extraction_error")&&(a.ocr_extraction_error=sessionStorage.getItem("ocr_extraction_error")||"");const c=this.route.snapshot.paramMap.get("partnerName");a.partner_name=c?c.toLowerCase():sessionStorage.getItem("partnerID")||"","AG"===a.funds_in.toUpperCase()&&!P.isEmpty(P.get(this.sessionFromStore,"efl"))&&(a.efl_state=P.get(this.sessionFromStore,"efl.address.state"));const r="true"===sessionStorage.getItem("isWUPlusTileSelected"),g=this.featureFlagService.isFeatureEnabledForReceiver("WU_BANK_TILE_ENABLED_RECEIVER",P.get(this.sessionFromStore?.corridor,"receiverCountry.isoCode"));r&&g&&a.funds_out&&(a.funds_out="wu+"),Object.keys(a).forEach(h=>{(""===a[h]||null===a[h])&&delete a[h]}),this.featureFlagService.isFeatureEnabled("HIDE_CHANGE_PAYMENT_METHOD_C1974")&&(a.offered_change_payment_method="true"===sessionStorage.getItem("offered_change_payment_method"));const p=P.get(this.sessionFromStore,"sender.encryptedUmnId",null);return null!==p&&(a.umn_id=p),a}getSenderCurrency(){return this.sessionFromStore&&this.sessionFromStore.corridor&&this.sessionFromStore.corridor.senderCurrency?this.sessionFromStore.corridor.senderCurrency.toLowerCase():""}getReceiverCurrency(){return this.sessionFromStore&&this.sessionFromStore.corridor&&this.sessionFromStore.corridor.receiverCurrency?this.sessionFromStore.corridor.receiverCurrency.toLowerCase():""}getFundsInMap(a){const c={ach:"bank_account",cash:"cash",creditcard:"credit_card",debitcard:"debit_card",fpx:"fpx",IBP:"IBP",IDEAL:"ideal",instant_bank_account:"instant_bank_account",paramount:"paramount",partner_funds:"PartnerFunds",POLI:"poli",servipag:"servipag",sofort:"sofort",TapNGo:"tapngo",Trustly:"trustly",WUPay:"wupay",applepay:"applepay",plaid:"Plaid",TK:"TK"};return c[a]?c[a]:a}getFundsOutMap(a){const c={ag:"cash",apn:"apn",bill_pay:"bill_pay",inmate_pay:"inmate_pay",wallet:"wallet",ba:"bank_account"};return c[a]?c[a]:a}savePageNames(a,c){if(!this.utilService.inFrame()){if(a){const r=this.mapPageName(a);sessionStorage.setItem("previous_page_name",r)}else sessionStorage.getItem("page_name")&&sessionStorage.setItem("previous_page_name",sessionStorage.getItem("page_name")||"");if(c){const r=this.mapPageName(c);sessionStorage.setItem("page_name",r)}}}getmParticleGetQueryParams(a){a=a.split("+").join(" ");let c=new Object;const r=new Map(Object.entries(c));let g;const p=/\butm_([^=]+)=([^&]+)/g;for(;g=p.exec(a);)r.set(decodeURIComponent(g[1]),decodeURIComponent(g[2]));return c=this.mapToObj(r),c}mapToObj(a){const c={};return a.forEach(function(r,g){c[g]=r}),c}getmParticleReferrer(){let a={},c={};const r=sessionStorage.getItem("mparticleRefParam"),g=["www.westernunion.com","wudispatcher-uatci2.westernunion.com"];if(r&&null!==r)a=JSON.parse(r),c=JSON.parse(r);else{const p=document.referrer;if(p){const h=new URL(String(p));-1===g.indexOf(h.hostname)&&(a.referrer=p,a.referring_domain=h.hostname,c.last_referrer=p,c.last_referring_domain=h.hostname)}0!==Object.getOwnPropertyNames(a).length&&sessionStorage.setItem("mparticleRefParam",JSON.stringify(a))}return this.mParticleUserProperties(c),a}getmParticleUTMParameterCapture(){let r,g,a={},c={};const p=this.getUrlParameter("src"),h=sessionStorage.getItem("mparticleUTMParam"),l=sessionStorage.getItem("mparticleUserUTMParam");let v=sessionStorage.getItem("UTMSourcesList");const S=document.referrer;if(h&&null!==h&&null!==l)a=JSON.parse(h),c=JSON.parse(l);else{const m=this.getmParticleGetQueryParams(document.location.search);if(m.hasOwnProperty("source")&&m.hasOwnProperty("medium")&&m.hasOwnProperty("campaign"))for(const b in m)m.hasOwnProperty(b)&&(a["utm_"+b]=m[b],c["initial_utm_"+b]=m[b],c["last_utm_"+b]=m[b]);else if(p){if(null!==v&&S){v=v.replace(/'/g,'"'),r=JSON.parse(v);let Y=new URL(S).hostname.split(".");Y=Y[1],Object.keys(r).forEach(k=>{if(r[k]){const L=r[k].split(",");for(let y=0;y<L.length;y++)if("SOCIALSITES"===k||"SEARCHENGINES"===k){if(L[y]===Y){g=k;break}}else if(L[y]===p){g=k;break}}});const R=this.setUTMSrcParameters(g,Y,p);a=R[0],c=R[1]}}else if(!(m.hasOwnProperty("source")||m.hasOwnProperty("medium")||m.hasOwnProperty("campaign")||p)){const b=this.getUTMForNonPaidTarffic();b&&(a=b[0],c=b[1])}(void 0===p&&0===Object.keys(m).length&&!S||!S&&"saasquatch"!==m.campaign&&!a.utm_source&&!a.utm_medium&&!a.utm_campaign)&&(a.utm_source="web-bookmark-or-typed",a.utm_medium="e-web-bookmark-or-typed",a.utm_campaign="organic-web-bookmark-or-typed",c.initial_utm_source="web-bookmark-or-typed",c.initial_utm_medium="e-web-bookmark-or-typed",c.initial_utm_campaign="organic-web-bookmark-or-typed",c.last_utm_source="web-bookmark-or-typed",c.last_utm_medium="e-web-bookmark-or-typed",c.last_utm_campaign="organic-web-bookmark-or-typed"),0!==Object.getOwnPropertyNames(a).length&&(sessionStorage.setItem("mparticleUTMParam",JSON.stringify(a)),sessionStorage.setItem("mparticleUserUTMParam",JSON.stringify(c)))}return this.mParticleUserProperties(c),a}getUTMForNonPaidTarffic(){let a,c,r,g=!0;const p=this.getUrlParameter("src"),h=document.referrer;let l=sessionStorage.getItem("UTMSourcesList");if(null!==l&&h){l=l.replace(/'/g,'"'),a=JSON.parse(l);let S=new URL(h).hostname.split(".");S=S[1];for(const m in a)if(a.hasOwnProperty(m)){const b=a[m].split(",");for(const Y of b)if("SOCIALSITES"===m){if(Y===S){c="SS",g=!1;break}}else if("SEARCHENGINES"===m&&Y===S){c="SE",g=!1;break}if(!1===g)break}return"SS"!==c&&"SE"!==c&&(c="NA"),r=this.setUTMSrcParameters(c,S,p),r}}setUTMSrcParameters(a,c,r){const p={};let h={};switch(a){case"AFFILIATES":p.utm_source=c,p.utm_medium="p-affiliates",p.utm_campaign=r;break;case"DISPLAY":p.utm_source=c,p.utm_medium="p-web-display",p.utm_campaign=r;break;case"EMAIL":p.utm_source="email",p.utm_medium="e-email",p.utm_campaign=r;break;case"INTERNAL":p.utm_source="web",p.utm_medium="e-internal",p.utm_campaign=r;break;case"MOBILE":p.utm_source="app",p.utm_medium="e-app",p.utm_campaign=r;break;case"RETAIL":p.utm_source="retail",p.utm_medium="e-retail",p.utm_campaign=r;break;case"SEARCHENGINES":p.utm_source=c,p.utm_medium="p-web-serp",p.utm_campaign=r;break;case"SOCIALSITES":p.utm_source=c,p.utm_medium="p-social",p.utm_campaign=r;break;case"SS":p.utm_source=c,p.utm_medium="e-social",p.utm_campaign="organic-social";break;case"SE":p.utm_source=c,p.utm_medium="e-web-serp",p.utm_campaign="organic-search";break;case"NA":p.utm_source=c,p.utm_medium="e-web",p.utm_campaign="organic-web";break;default:p.utm_source="other",p.utm_medium="e-other",p.utm_campaign=r}return h={...p},Object.keys(h).forEach(function(l){const S="initial_"+l;h["last_"+l]=h[l],h[S]=h[l],delete h[l]}),0!==Object.getOwnPropertyNames(h).length&&(sessionStorage.setItem("mparticleUTMParam",JSON.stringify(p)),sessionStorage.setItem("mparticleUserUTMParam",JSON.stringify(h))),[p,h]}getmParticlePartnerizeParameterCapture(a){let c={};if(c=this.mParticlePartnerizeService.getPartnerizeQueryParams(c,document.location.search,a),0!==Object.getOwnPropertyNames(c).length){const r=this.smoConfig.getGlobalConfig("switches","partnerizeCookieExpiry");if(this.utilService.setCookieItem("partnerizeParams",JSON.stringify(c),r||7,null,null,!0),this.mParticleUserProperties(c),this.featureFlagService.isFeatureEnabled("PARTNERIZE_CUSTOMER_TYPE_PARAMETER"))if(this.utilService.getCookieItem("partnerizeCustomerTypeParams")){const g=JSON.parse(this.utilService.getCookieItem("partnerizeCustomerTypeParams"));g.partner_customer_type=g.partner_customer_type?g.partner_customer_type:"existing",a.partner_customer_type=g.partner_customer_type?g.partner_customer_type:"existing"}else{this.utilService.setCookieItem("partnerizeCustomerTypeParams",JSON.stringify({partner_customer_type:"existing"}),r||7,null,null,!0),a.partner_customer_type="existing"}a.marketing_partner_name="partnerize"}}mParticleUserProperties(a){if(0!==Object.getOwnPropertyNames(a).length&&this.getMParticleUser())for(const c in a)a.hasOwnProperty(c)&&"prz_partnerName"!==c&&(w().mParticle.Identity.getCurrentUser().setUserAttribute(c,a[c]),w().mParticle.Identity.getCurrentUser().removeUserAttribute("Amplitude.device_id"))}setmParticleUtmSrcParameter(a){if(this.mParticleUTMObj)for(const c in this.mParticleUTMObj)this.mParticleUTMObj.hasOwnProperty(c)&&(a[c]=this.mParticleUTMObj[c]);this.src_mParticleParameter&&(this.getMParticleUser()&&w().mParticle.Identity.getCurrentUser().setUserAttribute(this.src_mParticleParameter),a.src_parameter=this.src_mParticleParameter)}setReferrerParameter(a){if(this.mParticleReferrerObj)for(const c in this.mParticleReferrerObj)this.mParticleReferrerObj.hasOwnProperty(c)&&(a[c]=this.mParticleReferrerObj[c])}setSocialPoofingMsgAttribute(a){const c=JSON.parse(sessionStorage.getItem("loggedSMOSPmsgMap")||"false");P.isEmpty(c)||(c.countryAmountSPmsg&&(a.sp_corridor_message=c.countryAmountSPmsg),c.fundsOutSPmsg&&(a["sp_funds-out_message"]=c.fundsOutSPmsg),c.fundsInSPmsg&&(a["sp_funds-in-cta_message"]=c.fundsInSPmsg))}logmParticlePageEvent(a){try{if(this.utilService.inFrame()||this.isServerRender)return}catch{}this.currentPageName=this.mapPageName(a),"login"===this.currentPageName&&"true"===sessionStorage.getItem("isRedirectedToSocialLoginOrReg")?this.currentPageName="social-email-linking":"register"===this.currentPageName&&"true"===sessionStorage.getItem("isRedirectedToSocialLoginOrReg")&&(this.currentPageName="complete-registration");const c={previous_page:this.previous_page};if("singpass"===sessionStorage.getItem("vendorType")?.toLowerCase()){const h=this.route.snapshot.queryParams.error?this.route.snapshot.queryParams.error:null,l=this.route.snapshot.queryParams["error-description"]?this.route.snapshot.queryParams["error-description"]:null;h&&(c.response_code=h,c.error_source="myinfo"),l&&(c.error_message=l)}let r;this.currentPageName&&(r="page_"+this.currentPageName);const g=this.invokeMParticleSDK()?this.invokeMParticleSDK().EventType.Other:"";let p;p="page_send-money-option"===r?{...this.mandatoryAttributes(),...this.optionalAttributes(),...c,...this.additionalAttributesforPageEvent()}:{...this.mandatoryAttributes(),...this.optionalAttributes(),...c},this.previous_event=r,sessionStorage.setItem("wuMparticle_previousEvent",r),this.previous_page=r,this.setmParticleUtmSrcParameter(p),this.setReferrerParameter(p),document.location.search.match(/\bprz_([^=]+)=([^&]+)/g)&&this.getmParticlePartnerizeParameterCapture(p),this.logEvent(r,g,p),this.utilService.getCookieItem("visit-logged")||this.logmparticleVisitEvent(g,p),this.utilService.isMetaCapiMparticleEnabled()&&("page_register"===r?this.logMetaCapiMparticleEvent("InitiateCheckout,PageView,ViewContent",g,c):"true"===w().analyticsObject.sc_register_success||"true"===sessionStorage.getItem("sc_register_success")?(sessionStorage.removeItem("metaEventAnalytics"),this.logMetaCapiMparticleEvent("CompleteRegistration,PageView,ViewContent",g,c)):"true"===w().analyticsObject.sc_addtocart&&"true"===sessionStorage.getItem("smoaddToCart")?this.logMetaCapiMparticleEvent("AddToCart,PageView,ViewContent",g,c):this.logMetaCapiMparticleEvent("review"===r?"Purchase,PageView,ViewContent":"PageView,ViewContent",g,c))}mapPageName(a){const r=a.split("?")[0].split("/");let g;g=r.length<3?r[1]:4===r.length?r[3]:r[2];let p=g;const h=this.pageNameMappingObj.find(l=>l.rawPageName===g);return h&&h.cookedPageName&&(p=h.cookedPageName),p}logEvergageExperiencemParticleEvent(a){try{if(this.invokeMParticleSDK()&&this.mparticle_datahub_config.mparticle)this.logEvergageExperienceInmParticle(a);else{const c=(0,K.O)(0,100).subscribe(()=>{this.invokeMParticleSDK()&&this.mparticle_datahub_config.mparticle&&(c&&c.unsubscribe(),this.logEvergageExperienceInmParticle(a))})}}catch(c){console.error("Error logging amplitude event: ",c)}}logEvergageExperienceInmParticle(a){let c=[],r=[];const g=sessionStorage.getItem("evergageExperiences");g&&(r=JSON.parse(g)),c=P.get(this.sessionFromStore,"evergageExperiences")?[...P.get(this.sessionFromStore,"evergageExperiences")]:P.get(this.sessionFromStore,"evergageExperiences");let p=!1;for(let h=0;h<c.length;h++)c[h].ab_test===a.ab_test&&c[h].ab_test_variant===a.ab_test_variant&&(p=!0);for(let h=0;h<r.length;h++)r[h].ab_test===a.ab_test&&r[h].ab_test_variant===a.ab_test_variant&&(p=!0);if(!p&&this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){sessionStorage.setItem("ab_test",a.ab_test);const h="ab_test_experience";c.push({ab_test:a.ab_test,ab_test_variant:a.ab_test_variant}),this.updateStore.updateEvergageExperiences(c),sessionStorage.setItem("evergageExperiences",JSON.stringify(c));const l=this.invokeMParticleSDK().EventType.Other,v={ab_test:a.ab_test,ab_test_variant:a.ab_test_variant,...this.mandatoryAttributes(),...this.optionalAttributes()};this.previous_event=h,sessionStorage.setItem("wuMparticle_previousEvent",h),this.logEvent(h,l,v)}}logPopupEvent(a,c,r){if(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){let g=r?"actionsheet_["+a+"]":"pop-up_["+a+"]";const p=this.invokeMParticleSDK().EventType.Other;({...this.mandatoryAttributes(),...this.optionalAttributes()}).funds_in=a;const l={previous_page:this.previous_page};let v;if("pop-up_[abandoned-transaction]"===g){const S=JSON.parse(sessionStorage.getItem("app")||"{}"),m=JSON.parse(sessionStorage.getItem("SendMoneyValidation")||"{}"),b={SUBSCRIBERKEY:P.get(S,"sender.myWuNumber"),EMAILADDRESS:P.get(S,"sender.email"),FIRSTNAME:P.get(S,"sender.firstName"),ORIGINCOUNTRY:this.smoConfig._getCountryIsoFromURL().toLowerCase()?this.smoConfig._getCountryIsoFromURL().toLowerCase():this.mandatoryAttributes().sender_country.toLowerCase(),PREFLANGUAGECODE:this.utilService.getCookieItem("WULanguageCookie_")?this.utilService.getCookieItem("WULanguageCookie_"):null,EMAIL_MKTG_OPTIN_FLAG:"true"===sessionStorage.getItem("ScheduleTransferMktgOptedIn")?"T":"F",REGISTRATIONCHANNEL:"r3_web",REGISTRATIONDATE:P.get(S,"sender.registrationDetails.registrationDate"),timestamp:Date.now(),CUSTOMER_KEY:P.get(S,"sender.myWuNumber"),ISOCURRENCY:P.get(S,"selectedProduct.origination.currencyIsoCode"),SUBPAYMENT_TYPE:P.get(m,"payment_details.payment_method.payment_sub_type"),platform:"Web"};Object.keys(b).forEach(Y=>{null===b[Y]&&delete b[Y]}),v={...this.mandatoryAttributes(),...this.optionalAttributes(),...b,...l}}else v={...this.mandatoryAttributes(),...this.optionalAttributes(),...l};return this.setmParticleUtmSrcParameter(v),this.setReferrerParameter(v),this.previous_event=g,sessionStorage.setItem("wuMparticle_previousEvent",g),g="send-money"!==this.currentPageName&&"send-money-option"!==this.currentPageName||!c||r?r?g:"pop-up_["+a+"]":"pop-up_[smo-fundsin-instructions]","pop-up_[verification_unsuccessful]"===g&&(v.ocr_failure_reason=P.get(this.getOcrErrorResponse,"error.reasons.reason[0].code")),this.logEvent(g,p,v)}}logJSErrors(a){const c={},r={previous_page:this.previous_page},g={...this.mandatoryAttributes(),...this.optionalAttributes(),...r};(a.error||a.code)&&this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()&&(c.event_attr=g,c.error_message=a.message,c.location=a.location,this.logEvent("js_error",c))}logCookieNotificationEvent(){if(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){const a={...this.mandatoryAttributes(),...this.optionalAttributes()},c=this.invokeMParticleSDK().EventType.Other;a.wu_cookie_preference=this.getCookiePreferenceSelected()?this.getCookiePreferenceSelected():"m",this.logEvent("message_cookiesettings",c,a),sessionStorage.setItem("wuMparticle_previousEvent","message_cookiesettings")}}logCookiePopupClickEvents(a){const c=window.event?window.event.srcElement:a.target,r=this.getAmplitudeId(c),g={...this.mandatoryAttributes(),...this.optionalAttributes()};let p="";return"link-managecookies"===r?p="clicked_[cookiesettings]_["+r+"]":"footer-changecookiesettings"===r?p="clicked_["+r+"]":"radio-marketing"===r||"radio-performance"===r||"radio-transactional"===r?p="clicked_[managecookies]_["+r+"]":("icon-cookie-popup-close"===r||"button-cookie-popup-close"===r)&&(p="clicked_[managecookies]_["+r+"]",g.wu_cookie_preference=this.getCookiePreferenceSelected()?this.getCookiePreferenceSelected():"m"),{click_event:p,clickEventAttr:g}}getOptCookieInputVal(){return this.getCookie("cookieOptIn")}getCookie(a){const r=document.cookie.match(new RegExp(`(^| )${a}=([^;]+)`));return r&&r[2]?r[2]:null}getCookiePreferenceSelected(){const a=this.getOptCookieInputVal();let c;return"CKTXNL+CKPERF+CKMKTG"===a?c="m":"CKTXNL+CKPERF"===a?c="p":"CKTXNL"===a&&(c="t"),c}manageCookiePopupEvent(){if(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){const a={...this.mandatoryAttributes(),...this.optionalAttributes()},c=this.invokeMParticleSDK().EventType.Other;a.wu_cookie_preference=this.getCookiePreferenceSelected()?this.getCookiePreferenceSelected():"m",this.logEvent("pop-up_[managecookies]",c,a),sessionStorage.setItem("wuMparticle_previousEvent","pop-up_[managecookies]")}}logmParticleAPIEvent(a,c,r,g,p,h){if(!this.isServerRender&&this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){const l=["CreateSession","GetDatabase","AddRewardsToCustomerWallet","AuthenticateCustomer","GetPaymentInstruments","Languages","PayoutCommit","PromoAPI","RetailCustomerLookUp","VerifyPhone"];let v="";const S=a?this.getFetchName(a):"";if(v="retail"===g?"api_Retail"+S:"api_"+S,-1===l.indexOf(S)){const m={api_name:S,api_response_code:P.get(r,"error.code",0),api_response_message:null};if(m.execution_time=this.setExecutionTime(h,p),0!==m.api_response_code&&(m.api_response_message=P.get(r,"error.message","Response message is not available")),"FeeInquiryEstimated"===S&&"digital"===g&&(sessionStorage.removeItem("wuMparticleSMO_sendReceiveLock"),this.getSendReceiveLock(c),this.getBiller(c)),"GetTransactionDetails"===S&&(m.execution_time=r.execution_time/1e3,m.total_transactions=P.has(r,"transactions.transaction")?r.transactions.transaction.length:0,m.api_version="v"+c.security.version),"GwpRuleCount"===S&&r&&!r.error){const R={...this.mandatoryAttributes(),...this.optionalAttributes()};if(this.logEvent("RuleCountEvents",R),r.id&&(m.MTCN=r.id),r.id_type&&(m.ID_type=r.id_type),r.rule){const k=[];(r.rule.emailSendCount>-1||r.rule.emailVerifyCount>-1)&&(m.verification_type=k.push("EMAIL"),m.email_send_count=r.rule.emailSendCount,m.email_verify_count=r.rule.emailVerifyCount),(r.rule.smsSendCount>-1||r.rule.smsVerifyCount>-1)&&(m.verification_type=k.push("SMS"),m.sms_send_count=r.rule.smsSendCount,m.sms_verify_count=r.rule.smsVerifyCount),r.rule.idVerificationCount>-1&&(m.verification_type=k.push("ID"),m.id_verification_count=r.rule.idVerificationCount)}}if("CustomerSignOn"===S){this.utilService.isSybaseEnabled(a)&&(r=this.utilService.mapCustSignonRespPs2Cs(r));const R=P.get(r,"gatewayCustomer.preferredCustomer.accountNbr",null),k=P.get(r,"gatewayCustomer.verificationStatus",null);if(this.hadoopAnalyticsConditionalAttr.customer_id=R||"",k&&(m.email_verification_status=k),this.utilService.getCookieItem("partnerizeParams")&&this.utilService.getCookieItem("partnerizeCustomerTypeParams")&&this.featureFlagService.isFeatureEnabled("PARTNERIZE_CUSTOMER_TYPE_PARAMETER")){const y=JSON.parse(this.utilService.getCookieItem("partnerizeCustomerTypeParams"));y.partner_customer_type=y.partner_customer_type?y.partner_customer_type:"existing",m.partner_customer_type=y.partner_customer_type?y.partner_customer_type:"existing"}const L=null!==R?this.invokeMd5(R):null;null!==L&&(m.umn_id=L)}if("GetVendorData"===S&&(m.vendor_list=[],c.vendorData.forEach(R=>m.vendor_list.push(R.name.toLowerCase()))),"RegisterCustomer"===S){if(P.has(c,"gateway_customer.address.raw_address")&&(m.suggested_address=!0),this.featureFlagService.isFeatureEnabled("MARKETING_ON_PR")){const k={},L=this.featureFlagService.isFeatureEnabled("EXPLICIT_MARKETING_CHKBOX_ON_PR"),y=this.featureFlagService.isFeatureEnabled("PHONE_MARKETING_ON_PR");m.mywu_consent=!1,c.gateway_customer.terms_condition_flag&&(m.mywu_consent=!0),c.gateway_customer.account_preferences.email?(k.marketing_consent=!0,L&&y?(k.preferences_email=!0,k.preferences_sms_message=!0,k.preferences_telephone_call=!0):k.preferences_email=!0):(k.marketing_consent=!1,L&&y?(k.preferences_email=!1,k.preferences_sms_message=!1,k.preferences_telephone_call=!1):k.preferences_email=!1);for(const I in k)P.isEmpty(I)||(m[I]=k[I],w().mParticle&&this.getMParticleUser()&&w().mParticle.Identity.getCurrentUser().setUserAttribute(I,k[I]))}if(P.has(c,"gateway_customer.account_preferences.thirdparty_datasharing_consent")&&(m["3rd_party_data_sharing"]=c.gateway_customer.account_preferences.thirdparty_datasharing_consent),this.utilService.getCookieItem("partnerizeParams")){const k=JSON.parse(this.utilService.getCookieItem("partnerizeParams"));this.mParticleUserProperties(k),k.prz_partnerName&&(m.partner_name=k.prz_partnerName),m.marketing_partner_name="partnerize"}}if(("CustomerSignOn"===S||"RegisterCustomer"===S)&&(this.prepareRegsCusIdent(c,r,S),m.pricing_campaign=c&&c.campaign&&c.campaign.campaign_name?c.campaign.campaign_name:"",m.subscription_id=c&&c.campaign&&c.campaign.subscription_id?c.campaign.subscription_id:"",m.pricing_campaign_response=r&&r.subscription&&r.subscription.campaign_name?r.subscription.campaign_name:"",m.subscription_id_response=r&&r.subscription&&r.subscription.subscription_id?r.subscription.subscription_id:"",m.subscription_expiry_date=r&&r.subscription&&r.subscription.end_date?r.subscription.end_date:""),("RegisterCustomer"===S&&!r.error||"RegisterCustomer"===S&&"C6006"===r.error.code)&&this.utilService.getCookieItem("partnerizeParams")&&this.utilService.getCookieItem("partnerizeCustomerTypeParams")&&this.featureFlagService.isFeatureEnabled("PARTNERIZE_CUSTOMER_TYPE_PARAMETER")){const R=JSON.parse(this.utilService.getCookieItem("partnerizeCustomerTypeParams"));R.partner_customer_type="new",m.partner_customer_type="new";const k=this.smoConfig.getGlobalConfig("switches","partnerizeCookieExpiry");this.utilService.setCookieItem("partnerizeCustomerTypeParams",JSON.stringify(R),k||7,null,null,!0)}if("catalog"===S&&(m.pricing_campaign=c&&c.campaign&&c.campaign.campaign_name?c.campaign.campaign_name:"",m.subscription_id=c&&c.campaign&&c.campaign.subscription_id?c.campaign.subscription_id:"",m.pricing_segment=r&&r.sender&&r.sender.segment?r.sender.segment:"",m.subscription_expiry_date=this.utilService.getCookieItem("promoCampaignSubscriptionEndDate"),this.subscription.unsubscribe()),"VerifyEID"===S&&r&&!r.error){const R={...this.mandatoryAttributes(),...this.optionalAttributes()};"Y"===r.verification_status&&this.logEvent("page_NemID_Verification_Success",R),r.verificationSource&&(m.verification_source=r.verificationSource),r.verification_status&&(m.identity_verification_status=r.verification_status?r.verification_status.toLowerCase():"n"),r.nameMatched&&(m.name_match_status=r.nameMatched),r.dobMatched&&(m.dob_match_status=r.dobMatched)}if("Authorize"===S&&r&&(sessionStorage.getItem("vendorType")&&(m.error_source="myinfo"),r.error&&(delete m.api_response_code,m.response_code=r.error),r.errorDescription&&(m.error_message=r.errorDescription)),("UploadDMSDoc"===S&&r||"GetCustomerVerificationStatus"===S&&P.get(r,"sender.kyc_details.duc.ducDelivery.ducDocuments.ducDocument"))&&this.addDocCountAndDocType(r,m),"GetCustomerProfile"===S&&r&&!r.error&&(m.identity_verification_status=P.get(r,"gatewayCustomer.identityVerificationStatus")?P.get(r,"gatewayCustomer.identityVerificationStatus").toLowerCase():"n",sessionStorage.getItem("vendorType")&&(m.verification_source="myinfo")),"pricing"===S&&this.subscription.unsubscribe(),"UpdateCustomerProfile"===S&&r&&!r.error){const R=this.featureFlagService.isFeatureEnabled("MARKETING_ON_PR"),k=this.featureFlagService.isFeatureEnabled("PHONE_MARKETING_ON_PR");if(R&&"complete-your-profile"===this.currentPageName){const L=JSON.parse(sessionStorage.getItem("PrAccountPreferences")||"false");if(!P.isEmpty(L)&&"false"!==L){const y={},I=L.directMail!==P.get(c,"gateway_customer.account_preferences.direct_mail");k&&L.email?(y.marketing_consent=!0,y.preferences_direct_mail=I):L.email?(y.marketing_consent=!0,y.preferences_telephone_call=I,y.preferences_sms_message=I,y.preferences_direct_mail=I):(y.marketing_consent=I,y.preferences_email=I,y.preferences_telephone_call=I,y.preferences_sms_message=I,y.preferences_direct_mail=I);for(const T in y)P.isEmpty(T)||(m[T]=y[T],w().mParticle&&this.getMParticleUser()&&w().mParticle.Identity.getCurrentUser().setUserAttribute(T,y[T]))}}if(!P.isNil(sessionStorage.getItem("popUpThirdPartyConsent"))&&"true"===sessionStorage.getItem("popUpThirdPartyConsent")){const L=P.get(c,"gateway_customer.account_preferences.thirdparty_datasharing_consent");m["3rd_party_data_sharing"]=L,sessionStorage.removeItem("popUpThirdPartyConsent")}}("UpdateReceivers"===S||"AddReceivers"===S)&&c.receivers&&c.receivers.receiver&&c.receivers.receiver[0]&&this.setFundsOutUpiAmplitudeData(c.receivers.receiver[0],m),("SendMoneyValidation"===S||"SendMoneyStore"===S)&&(this.setFundsOutUpiAmplitudeData(c.receiver,m),sessionStorage.getItem("CPRoadRunnerUpdates")&&this.logPaymentMismatchFlag(r,m)),"SignUpAsLead"===S&&r&&!r.error&&(w().mParticle&&this.getMParticleUser()&&(w().mParticle.Identity.getCurrentUser().setUserAttribute("user_type","lead"),w().mParticle.Identity.getCurrentUser().setUserAttribute("opt-in-as-lead-status","true")),r.leadAccountResponse===f.Y.LEAD_ACCOUNT_RESPONSE.NEW&&(m["already-a-wu-profile"]="false",m["already-a-lead"]="false"),r.leadAccountResponse===f.Y.LEAD_ACCOUNT_RESPONSE.DUPLICATE&&(m["already-a-wu-profile"]="false",m["already-a-lead"]="true"),r.leadAccountResponse===f.Y.LEAD_ACCOUNT_RESPONSE.DIGITALCUSTOMER&&(m["already-a-wu-profile"]="true",m["already-a-lead"]="false",w().mParticle&&this.getMParticleUser()&&w().mParticle.Identity.getCurrentUser().setUserAttribute("opt-in-as-lead-status","false"))),"ExtractOCR"===S&&(this.getOcrErrorResponse=r),Object.keys(m).forEach(R=>{""===m[R]&&delete m[R]});const b=this.invokeMParticleSDK().EventType.Other;let Y;if(Y={...this.mandatoryAttributes(),...this.optionalAttributes(),...m},"RegisterCustomer"===S&&r&&!W.a.isProduction()&&!this.utilService.isMetaCapiMparticleEnabled()&&0===r.Status?.code){const R={...this.mandatoryAttributes(),...this.optionalAttributes()};this.logEvent("CompleteRegistration",b,R)}"RegisterCustomer"===S&&(Y={...this.mandatoryAttributes(),...this.optionalAttributes(),...this.additionCustomAttributes(c,r),...m}),"TransactionInquiry"===S&&(Y={...this.mandatoryAttributes(),...this.optionalAttributes(),...this.additionalAttributesforPageEvent(),...m}),this.setmParticleUtmSrcParameter(Y),this.setReferrerParameter(Y),this.previous_event=v,sessionStorage.setItem("wuMparticle_previousEvent",v),this.logEvent(v,b,Y)}}}setExecutionTime(a,c){return""===a||""===c?"":(a.getTime()-c.getTime())/1e3}logPaymentMismatchFlag(a,c){const r=JSON.parse(sessionStorage.getItem("CPRoadRunnerUpdates")||"false"),g=a?.payment_details?.payment_type;c.payment_mismatch_flag=r&&r.payInChangeFlag?g:""}addDocCountAndDocType(a,c){const r=P.get(a,"sender.kyc_details.duc.ducDelivery.ducDocuments.ducDocument"),g=sessionStorage.getItem("wuAmplitude_kycDocTypes")||"",p=P.get(a,"dms_doc"),h=JSON.parse(sessionStorage.getItem("StoreResponse")||"false"),l=sessionStorage.getItem("wuAmplitude_ducKycDocTypes")||"",v=sessionStorage.getItem("wuAmplitude_ducDocTypes")||"";if(r){const S=r.map(m=>"ID"===m.docType?m.docType+"-"+m.type:m.docType);0!==S.length&&(sessionStorage.setItem("wuAmplitude_kycDocTypes",S),c.kyc_doc_count=S.length,c.kyc_doc_type=S)}if(g){const S=g.split(",");S&&0!==S.length&&(c.kyc_doc_count=S.length,c.kyc_doc_type=S)}if(p&&h){let m=P.get(h,"sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument").map(Y=>"ID"===Y.docType?Y.type:"");m=m.filter(Y=>Y),0!==m.length&&(sessionStorage.setItem("wuAmplitude_ducKycDocTypes",m),c.kyc_doc_count=m.length,c.kyc_doc_type=m);const b=p.map(Y=>Y.doc_type);0!==b.length&&(sessionStorage.setItem("wuAmplitude_ducDocTypes",b),c.doc_count=b.length,c.doc_type=b)}if(l){const S=l.split(",");S&&0!==S.length&&(c.kyc_doc_count=S.length,c.kyc_doc_type=S)}if(v){const S=v.split(",");S&&0!==S.length&&(c.doc_count=S.length,c.doc_type=S)}}getSendReceiveLock(a){a.payment_details&&a.payment_details.destination&&a.payment_details.destination.expected_payout_amount?sessionStorage.setItem("wuMparticleSMO_sendReceiveLock","receive_locked"):a.payment_details&&a.payment_details.origination&&a.payment_details.origination.principal_amount&&sessionStorage.setItem("wuMparticleSMO_sendReceiveLock","send_locked")}getBiller(a){a.biller&&a.biller.code&&sessionStorage.setItem("wuMparticle_biller",a.biller.code)}inFrame(){try{return window.self!==window.top}catch{return!1}}setFundsOutUpiAmplitudeData(a,c){if(this.updateStore.getState()&&this.updateStore.getState().corridor&&this.updateStore.getState().corridor.receiverCountry&&"IN"===this.updateStore.getState().corridor.receiverCountry.isoCode&&this.updateStore.getState().selectedProduct&&"BA"===this.updateStore.getState().selectedProduct.payOut){const r=a.wallet.bank_accounts.bank_account[0]?.account_selected_type?.toLowerCase();c.funds_out=r===f.Y.FUNDSOUT_UPI?r:f.Y.BANK_ACCOUNT}}logmParticleClickEvent(a){if(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){let c;const g=this.getAmplitudeId(a.target||a.srcElement||a.currentTarget),p=this.invokeMParticleSDK().EventType.Other,h=sessionStorage.getItem("amplitude_pageName_MYWU");if("false"===sessionStorage.getItem("FTCFlag")&&"button-accept"===g){c="clicked_[ftc-fraud-warning]_["+g+"]";const l={...this.mandatoryAttributes(),...this.optionalAttributes()};this.previous_event=c,sessionStorage.setItem("wuMparticle_previousEvent",c),this.logEvent(c,p,l)}else if("amplitude-id did not find"!==g){if(0===g.indexOf("menu-"))c="clicked_["+g+"]";else if(this.inFrame()&&"button-continue"===g||"button-close-overlay"===g){let b=sessionStorage.getItem("page_name");b="register-verify-email"===b?"verify-email-overlay":"signup-overlay",c="clicked_["+b+"]_["+g+"]"}else"button-allow-3rd-party-data-sharing"===g||"button-deny-3rd-party-data-sharing"===g?(c="clicked_[share-consent-for-data-sharing]_["+g+"]",sessionStorage.setItem("popUpThirdPartyConsent","true")):"button-popup-refer-friend"===g||"button-popup-close"===g?c="clicked_["+this.currentPageName+"]_["+g+"]":"menuicon"===g?c="clicked_[link-menu]":"link-apply-reward-promo"===g||"link-active-reward-promo"===g?(c="clicked_["+this.currentPageName+"]_["+g+"]",sessionStorage.setItem("amplitude_pageName_MYWU","smo-my-wu")):"smo-my-wu"===h?c="clicked_[smo-my-wu]_["+g+"]":"true"===sessionStorage.getItem("isSignUpasLeadPopup")&&"textbox-email"===g||"lead-submit"===g?c="clicked_[leads-widget-overlay]_["+g+"]":(this.inFrame()&&(this.currentPageName="signup-overlay"),c="clicked_["+this.currentPageName+"]_["+g+"]");let l={...this.mandatoryAttributes(),...this.optionalAttributes()};this.previous_event=c,sessionStorage.setItem("wuMparticle_previousEvent",c);const v=this.logCookiePopupClickEvents(a);v.click_event&&(c=v.click_event,l=v.clickEventAttr);const S=[{popupName:"session-expiry",amplitudeId:"button-session-expiry-pop-up-continue-extend"},{popupName:"session-expiry",amplitudeId:"button-session-expiry-pop-up-close"}];for(let b=0;b<S.length;b++)S[b].amplitudeId===g&&(c="clicked_["+S[b].popupName+"]_["+g+"]");const m=this.utilService.getMerchantData();m&&("button-click-here"===g||"tile"===g)&&(c="clicked_[sovrn-offers]_["+g+"]",l.merchant_name=m.merchantName?m.merchantName:"",l.merchant_coupon_id=m.couponId?m.couponId:"",l.merchant_position_within_the_carousel=m.index?Number(m.index)+1:"",l.merchant_category=m.category?m.category:"",l.merchant_rating=m.rating?m.rating:""),this.setmParticleUtmSrcParameter(l),this.setReferrerParameter(l),"send-money-option"===this.currentPageName&&"clicked_[send-money-option]_[button-smo-continue]"===c&&(this.setSocialPoofingMsgAttribute(l),this.utilService.isMetaCapiMparticleEnabled()&&(sessionStorage.setItem("smoaddToCart","true"),DTM_Trigger("addToCart"))),this.utilService.isMetaCapiMparticleEnabled()&&"history"===this.currentPageName&&"clicked_[history]_[button-edit-resend-continue-to-review]"===c&&this.logMetaCapiMparticleEvent("AddToCart,PageView,ViewContent",p),""!==this.currentPageName&&this.logEvent(c,p,l),"button-apply-ucpromo"===g&&sessionStorage.removeItem("amplitude_pageName_MYWU")}}}getAncestorElement(a){for(;(a=a.parentElement)&&!a.hasAttribute("amplitude-id"););return null!==a&&a&&a.hasAttribute("amplitude-id")?a.getAttribute("amplitude-id"):"amplitude-id did not find"}getAmplitudeId(a){return a.attributes["amplitude-id"]?a.attributes["amplitude-id"].nodeValue:this.getAncestorElement(a)}getDefFundsOut(a){if(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){const c="clicked_[send-money-option]_[tile-fundsout-"+a.toLowerCase()+"]",r=this.invokeMParticleSDK().EventType.Other,g={...this.mandatoryAttributes(),...this.optionalAttributes()};this.previous_event=c,sessionStorage.setItem("wuMparticle_previousEvent",c),this.logEvent(c,r,g)}}getDefFundsIn(a){if(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){const c="clicked_[send-money-option]_[tile-fundsin-"+a.toLowerCase()+"]",r=this.invokeMParticleSDK().EventType.Other,g={...this.mandatoryAttributes(),...this.optionalAttributes()};this.previous_event=c,sessionStorage.setItem("wuMparticle_previousEvent",c),this.logEvent(c,r,g)}}logmParticleTabEvent(a){if(9===a.keyCode&&this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){const c=this.currentPageName,r=this.invokeMParticleSDK().EventType.Other;if("register"===c||"new-payment"===c){const g=this.getClickedElement(a),p=this.getAmplitudeId(g);if("property is not available"!==p&&"button-continue"!==p){const h="clicked_["+c+"]_["+p+"]",l={...this.mandatoryAttributes(),...this.optionalAttributes()};this.updateWULanguage(),this.previous_event=h,sessionStorage.setItem("wuMparticle_previousEvent",h),this.logEvent(h,r,l)}}}}logmParticleOtherEventWithProperty(a,c){if(this.mparticle_datahub_config.mparticle&&this.invokeMParticleSDK()){const r={...this.mandatoryAttributes(),...this.optionalAttributes(),...c},g=this.invokeMParticleSDK().EventType.Other;this.logEvent(a,g,r),sessionStorage.setItem("wuMparticle_previousEvent",a)}}getClickedElement(a){const c=this.getWindow();return c.event&&c.event.srcElement&&c.event.srcElement.attributes?c.event.srcElement:a.target}updateWULanguage(){if(this.utilService.getCookieItem("WULanguageCookie_")&&this.getMParticleUser()){const a=this.utilService.getCookieItem("WULanguageCookie_");w().mParticle.Identity.getCurrentUser().setUserAttribute("wu_language",a)}}getFetchName(a){return a===f.Y.cloudPricingAPI||a===f.Y.lookupAPI?a.split("/")[2]:-1!==a.indexOf("/v1/authorize")||-1!==a.indexOf("/v1/token")?a.split("/")[2].split("?")[0]:a.split("/")[1]}logmparticleVisitEvent(a,c){const r={};if(0!==Object.getOwnPropertyNames(c).length)for(const g in c)-1!==f.Y.VISIT_EVENT_PROPS.indexOf(g)&&"device_id"!==g&&(r[g]=c[g]);this.logEvent("customer_visit",a,r),document.cookie="visit-logged=true;path=/;domain="+window.location.hostname}logMetaCapiMparticleEvent(a,c,r){try{if(null==sessionStorage.getItem("metaEventAnalytics")||w().analyticsObject.hasOwnProperty("sc_metaeventid")){const g={},p=this.utilService.generateMetaEventId();g.metaEventId=p,g.metaEventName=a,sessionStorage.setItem("metaEventAnalytics",JSON.stringify(g)),w().analyticsObject.sc_metaeventid=p;const h={...this.mandatoryAttributes(),...this.optionalAttributes(),...r};h.event_id=p;const l=a.split(",");l.length&&l.forEach(v=>{this.logEvent(v,c,h)})}}catch(g){console.error(g)}}static#e=this.\u0275fac=function(c){return new(c||G)(o.KVO(W.a),o.KVO(e.il),o.KVO(U.Ix),o.KVO(x.l9),o.KVO(U.nX),o.KVO(V.k),o.KVO(M.y),o.KVO(C.p),o.KVO(A.D),o.KVO(E.F),o.KVO(o.Agw))};static#t=this.\u0275prov=o.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},51347:(n,d,t)=>{"use strict";t.d(d,{D:()=>$});var o=t(67374),e=t.n(o),x=t(54438);let $=(()=>{class W{constructor(){}getPartnerizeQueryParams(V,P,D){P=P.split("+").join(" ");const f=new Map(Object.entries(V));let C;const A=/\bprz_([^=]+)=([^&]+)/g;for(;C=A.exec(P);)f.set("prz_"+decodeURIComponent(C[1]),decodeURIComponent(C[2]));f.set("partner_referral_date",e()(new Date).format("YYYY-MM-DD h:mm:ss")),D.prz_clickref_id=f.get("prz_clickref_id");const E=sessionStorage.getItem("partnerName");return E&&(D.partner_name=E.toLowerCase(),f.set("prz_partnerName",E.toLowerCase())),this.mapToObj(f)}mapToObj(V){const P={};return V.forEach(function(D,f){P[f]=D}),P}static#e=this.\u0275fac=function(P){return new(P||W)};static#t=this.\u0275prov=x.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},8788:(n,d,t)=>{"use strict";t.d(d,{F:()=>K});var o=t(60177),e=t(54438),x=t(23154),$=t(37486),W=t(2490);let K=(()=>{class V{constructor(D,f,C){this.injector=D,this.platformId=f,this.cookieService=C,this._countryNameWithIsoCode=new $.Rd}getCountryLanguage(){const D=this.getCurrentUrl(),f=D.split("/");let C={country:"",language:""};return D&&f.length>5&&(C={country:f[3],language:f[4]}),C}getRequestHeaders(){return(0,o.Vy)(this.platformId)?this.injector.get(x.S)?.headers:null}getSSRRequestCookie(D){if(!(0,o.Vy)(this.platformId))return null;const f=this.getRequestHeaders()?.cookie?.split("; ").reduce((C,A)=>{const[E,N]=A.split("=");return C[E]=N,C},{});return f&&f[D]||null}getCurrentUrl(){let D;if((0,o.Vy)(this.platformId)){const f=this.injector.get(x.S);D=decodeURIComponent(encodeURIComponent(`${f.protocol}://${window.HOST_URL}${f.url}`))}else D=decodeURIComponent(encodeURIComponent(window.location.href));return decodeURIComponent(encodeURIComponent(D))}getDomainUrl(){let D;return D=(0,o.Vy)(this.platformId)?window.AWS_HOST_URL?window.AWS_HOST_URL:window.HOST_URL:window.location.host,D}getCountryFromURL(){const f=this.getCurrentUrl().split("/");let C;return C=void 0!==f&&-1!==f.indexOf("content")?f[6]:f[3],C&&-1!==C.indexOf("_")&&(C=C.split("_")[1]),(!C||C.length>2)&&(C="",C=this.getCountryIsoCode(C)),C?C.toLowerCase():null}getCountryIsoCode(D){return D||(D=this.getURLParam("WUCountry")),D||(D=this.dtmGetCookie("WUCountryCookie_")),D||(D=this.dtmGetCookie("AKCountry")?this.dtmGetCookie("AKCountry"):"us"),D?D.toLowerCase():null}getLanguageFromURL(){const f=this.getCurrentUrl().split("/");let C;return C=void 0!==f&&-1!==f.indexOf("content")?f[7]:f[4],C&&-1!==C.indexOf("_")&&(C=C.split("_")[1]),(!C||C.length>2)&&(C="",C||(C=this.getURLParam("WULanguage")),C||(C=this.dtmGetCookie("WULanguageCookie_")),C||(C="en")),C?C.toLowerCase():null}getAnchorFromURL(){const f=this.getCurrentUrl().split("/");let C;return C=-1!==f.indexOf("content")?f[8]:f.indexOf("global-service")>-1?f[3]:f[5],C||(C="web"),C}getURLParams(){let D;if((0,o.Vy)(this.platformId)){const C=this.injector.get(x.S).url.split("?");C.length>1&&(D="?"+C[1])}else D=location.search||location.hash;return D}dtmGetCookie(D){if((0,o.Vy)(this.platformId))return this.getSSRRequestCookie(D);let f,C,A;const E=document.cookie.split(";");for(f=0;f<E.length;f++)if(C=E[f].substr(0,E[f].indexOf("=")),A=E[f].substr(E[f].indexOf("=")+1),C=C.replace(/^\s+|\s+$/g,""),C===D&&""!==A)return decodeURIComponent(A)}getURLParam(D){let f=this.getLocationSearch()||this.getLocationHash();(0,o.Vy)(this.platformId)&&(f=this.getURLParams()||"");const C=new RegExp("[?|&]"+D+"=([^&;]+?)(&|#|;|$)").exec(f);let A="";C&&3===C.length&&(A=C[1]);let E=decodeURIComponent(A.replace(/\+/g,"%20"))||"";return E&&(E=E.trim()),E}getLocationSearch(){return location.search}getLocationHash(){return location.hash}get countryNameWithIsoCode(){return this._countryNameWithIsoCode}set countryNameWithIsoCodebar(D){this._countryNameWithIsoCode=D}getURLParameter(D){const f=this.getURLParams(),C=new RegExp("[?|&]"+D+"=([^&;]+?)(&|#|;|$)").exec(f);let A="";C&&C.length>=2&&(A=C[1]);let E=decodeURIComponent(A.replace(/\+/g,"%20"))||"";return E&&(E=E.trim()),E}readPartnerName(){return this.cookieService.get("partnerName")||this.getURLParameter("partnerName")||(this.getCookieItem("partnerName")?this.getCookieItem("partnerName"):"")}getCookieItem(D){const f=sessionStorage.getItem("cookiestore");return f&&JSON.parse(f)&&JSON.parse(f)[D]?JSON.parse(f)[D]:this.cookieService.get(D)}getDcaasVersionedURL(D){const f=sessionStorage.getItem("dcaasVersion")||window.ACTIVE_VERSION?.dcaasVersion||"default";return D+(D.indexOf("?")<0?"?":"&")+"dcaasversion="+f}static#e=this.\u0275fac=function(f){return new(f||V)(e.KVO(e.zZn),e.KVO(e.Agw),e.KVO(W.O))};static#t=this.\u0275prov=e.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},28557:(n,d,t)=>{"use strict";t.d(d,{B:()=>K});var o=t(60177),e=t(64646),x=t(66726),$=t(23154),W=t(54438);let K=(()=>{class V{constructor(D,f,C){this.dom=D,this._store=f,this.injector=C,this._store.pipe((0,e.Lt)(x.KZ)).subscribe(A=>{this.isPartner=A})}isNonProd(){const D=window.HOST_URL&&window.HOST_URL.toLowerCase();return D.indexOf("www2")>-1||D.indexOf("www3")>-1||D.indexOf("localhost")>-1||D.indexOf("partners-sandbox")>-1||D.indexOf("-uat")>-1||D.indexOf("-qa")>-1||D.indexOf("-dev")>-1}setTitle(D){const C=(D&&D.seo_fields?D.seo_fields:[]).map(A=>JSON.parse(A));this.seoComponents=C&&C.length?C:void 0,window.seoJSON=this.seoComponents}setCanonicalURL(D){const f=this.injector.get($.S),C=D.seo_fields?.filter(function(M){const U=f.url.split("?")[0].split("/"),w=JSON.parse(M);return"start"===U[U.length-1]?"sendmoneyoption"===w.statename||"start"===w.statename:JSON.parse(M).statename===U[U.length-1]});let A={};C&&C.length>0&&(A=JSON.parse(C[0]),this.dom.title=A.title),A.prodcanonical?.indexOf("https://")>-1||(A.prodcanonical="https://www.westernunion.com"+A.prodcanonical),A.prodcanonical?.indexOf("/send-money/app/start")>-1&&(A.prodcanonical=A.prodcanonical.replace("send-money/app","web/send-money")),(A.prodcanonical?.indexOf("/login")||A.prodcanonical?.indexOf("/register")||A.prodcanonical?.indexOf("/sm-login")||A.prodcanonical?.indexOf("/forgot-password"))&&(A.prodcanonical=A.prodcanonical.replace("send-money/app","web/user")),A.nonprodcanonical?.indexOf("https://")>-1||(A.nonprodcanonical="https://www.westernunion.com"+A.nonprodcanonical);const E=this.isNonProd(),N=A&&E?A.nonprodcanonical:A.prodcanonical,_=this.dom.createElement("link");_.setAttribute("rel","canonical"),_.setAttribute("href",N),this.dom.head.appendChild(_),this.setRobotsMeta(D)}setRobotsMeta(D){const f=this.isNonProd(),C=this.injector.get($.S);if(D.isNoIndexNoFollow&&(f||C.url.includes("track-transfer-success"))){const A=this.dom.createElement("meta");A.setAttribute("name","ROBOTS"),A.setAttribute("content","NOINDEX, NOFOLLOW"),this.dom.head.appendChild(A)}}setMetaTags(D){const f=this.injector.get($.S),C=D.seo_fields?.filter(function(_){const M=JSON.parse(_),U=f.url.split("?")[0].split("/");return"start"===U[U.length-1]?"sendmoneyoption"===M.statename||"start"===M.statename:M.statename===U[U.length-1]});let A={};if(C&&C.length>0&&(A=JSON.parse(C[0])),!this.isPartner){const _=this.dom.createElement("meta");_.setAttribute("name","msapplication-TileColor"),_.setAttribute("content","#111111"),this.dom.head.appendChild(_);const M=this.dom.createElement("meta");M.setAttribute("name","msapplication-TileImage"),M.setAttribute("content","/etc/designs/wu/mstile-150x150.png"),this.dom.head.appendChild(M)}if(A.keywords){const _=this.dom.createElement("meta");_.setAttribute("name","keywords"),_.setAttribute("content",A.keywords),this.dom.head.appendChild(_)}const E=this.dom.createElement("meta");if(E.setAttribute("name","description"),E.setAttribute("content",A.description),this.dom.head.appendChild(E),D["meta-apple-itunes-app"]){const _=this.dom.createElement("meta");_.setAttribute("name","apple-itunes-app"),_.setAttribute("content",D["meta-apple-itunes-app"]),this.dom.head.appendChild(_)}if(D["meta-google-play-app"]){const _=this.dom.createElement("meta");_.setAttribute("name","google-play-app"),_.setAttribute("content",D["meta-google-play-app"]),this.dom.head.appendChild(_)}const N=this.dom.createElement("meta");N.setAttribute("name","google-site-verification"),N.setAttribute("content","Qs-9D61IwA4kZeZgoamG4ijzLv36Kiaam_ZwHenkHtc"),this.dom.head.appendChild(N)}static#e=this.\u0275fac=function(f){return new(f||V)(W.KVO(o.qQ),W.KVO(e.il),W.KVO(W.zZn))};static#t=this.\u0275prov=W.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},87465:(n,d,t)=>{"use strict";t.d(d,{i:()=>w});var o=t(64646),e=t(93885),x=t(37486),$=t(54831),W=t(34781),K=t(47058),V=t(66726),P=t(67376),f=t(26692),C=t(3902),A=t(87801),E=t(36734),N=t(89377),_=t(54438),M=t(85717),U=t(2490);let w=(()=>{class O{constructor(s,a,c,r,g,p,h,l,v){this.router=s,this._store=a,this.updateStore=c,this.smoConfig=r,this.cookieService=g,this.disclaimersService=p,this.countryConfigService=h,this.featureFlagService=l,this.priceCatalog=v,this.routerMapInfo=[{currentRouter:"/send-money",nextRouter:"/login"}],this.agentStoreList=[],this.d2cPaySendServiceCodes=["200","201","202"],this.subscription=this._store.pipe((0,o.Lt)("app")).subscribe(S=>{this.sessionFromStore=S,this.getLimits=S.getLimits,this.corridor=S.corridor?S.corridor:{},this.selectedProduct=S.selectedProduct,this.sender=S.sender,this.smvResponse=S.smvResponse,this.smvRequest=S.smvRequest,this.notification=S.notifications,this.selectedReceiver=S.selectedReceiver,this.sendAgainTxnData=S.sendAgainTransactionData,this.siteBehaviourData=S.siteBehaviour,this.sessionFlags=S.sessionFlags,this.resumeSelectedCard=S.selectedCard,this.walletBankinfo=S.WalletBankInfo}),this._store.pipe((0,o.Lt)(V.zl)).subscribe(S=>this.priceQuoteServicesMeta=S),this._store.pipe((0,o.Lt)(V.d$)).subscribe(S=>this.products=S),this._store.pipe((0,o.Lt)(V.mz)).subscribe(S=>this.principalAmount=S),this._store.pipe((0,o.Lt)(V.Qm)).subscribe(S=>this.receiveAmount=S),this._store.pipe((0,o.Lt)(V.dj)).subscribe(S=>this.isPPSprofile=S),this._store.pipe((0,o.Lt)(V.Yr)).subscribe(S=>this.userJourney=S),this._store.pipe((0,o.Lt)(V.A6)).subscribe(S=>this.resumeTransferToken=S),this._store.pipe((0,o.Lt)(V.E_)).subscribe(S=>this.uploadDMSDocStatus=S),this._store.pipe((0,o.Lt)(V.WZ)).subscribe(S=>this.idealBankInfo=S),this._store.pipe((0,o.Lt)(V.f9)).subscribe(S=>this.fpxBankInfo=S),this._store.pipe((0,o.Lt)(V.Mb)).subscribe(S=>this.credData=S),this._store.pipe((0,o.Lt)(V.Ql)).subscribe(S=>this.biller=S),this._store.pipe((0,o.Lt)(V.DE)).subscribe(S=>this.quickResendSMO=S),this._store.pipe((0,o.Lt)(V.T7)).subscribe(S=>this.countryConfig=S)}getTransTotal(){const s=this.getPromotionalDiscount();let a,c=0;return this.selectedProduct.taxes&&this.selectedProduct.taxes.taxAmount&&(c=parseFloat(this.selectedProduct.taxes.taxAmount)),a=s?parseFloat(this.sessionFromStore.senderAmount)+c+(parseFloat(this.selectedProduct.fees)-parseFloat(s)):parseFloat(this.sessionFromStore.senderAmount)+c+parseFloat(this.selectedProduct.fees),parseFloat(a).toFixed(2)}getFeeInquiry(){let s="";const a=this.getUserJourney(),c=JSON.parse(sessionStorage.getItem("feeInquiryResponse")||"{}"),r=JSON.parse(sessionStorage.getItem("billPayFeeInquiryResponse")||"{}"),g=JSON.parse(sessionStorage.getItem("reloadMobileFeeInquiryResponse")||"{}");if(c&&c.serviceOptions&&(s=c),P.isEmpty(c?.serviceOptions?.serviceOption?.WEB)&&"price-estimator"===a?.toLowerCase()){const p={serviceOptions:{serviceOption:{}}},h=JSON.parse(sessionStorage.getItem("feeInquiryResponseComplete")||"{}");if(h)return p.serviceOptions.serviceOption=h,p}return P.get(r,"serviceOptions.serviceOption.WEB.AG")&&P.get(r,"serviceOptions.serviceOption.WEB.AG").length&&(a===e.Y.userJourneyBillPay||a===e.Y.userJourneyInmatePay)&&(s=P.get(r,"serviceOptions.serviceOption.WEB.AG").filter(h=>P.get(h,"paymentDetails.paymentType")===this.selectedProduct.payIn&&P.get(h,"wuProduct.code")===this.selectedProduct.code)[0]),a===e.Y.userJourneyMobileReload&&!P.isEmpty(g)&&(s=g),s}getPaymentDetails(){return{txtSendAmount:this.sessionFromStore.senderAmount,exchangeRate:this.selectedProduct.exchangeRate,transferFee:this.getTransferFee(this.selectedProduct.fees),redeemedPointsPromotionalDiscount:null,txtReceiveAmount:this.sessionFromStore.receiverAmount,transactionTotal:this.getTransTotal(),promotionalDiscount:this.getPromotionalDiscount()}}getTransferFee(s){return s?parseFloat(s).toFixed(2):"0.00"}getFeeInquiryRes(){let s=null;const a=JSON.parse(sessionStorage.getItem("feeInquiryResponse")||"{}"),c=JSON.parse(sessionStorage.getItem("feeInquiryResponseComplete")||"{}");return a&&a.serviceOptions&&a.serviceOptions.serviceOption?s=a.serviceOptions.serviceOption:c&&(s=c),s}getFeeInquiryData(){const s={paymentDetails:this.getPaymentDetails(),feeInquiryRes:this.getFeeInquiryRes(),isSMOContinue:!0,isMobile:this.isMobileDevice(),sampleData:"",isDirectedServiceApplicable:this.getIsDirectedCountry(),postal_code:this.getPostalCode(),destnCountry:this.getDestnCountryObject(),sourceCountry:this.getSourceCountryObject(),preferredAmount:"SendAmount"};return(this.userJourney===e.Y.userJourneyBillPay||this.userJourney===e.Y.userJourneyInmatePay)&&(s.biller={accountNo:this.getBiilerDetails().account_no,companyCode:this.getBiilerDetails().code,companyName:this.getBiilerDetails().companyName}),this.userJourney===e.Y.userJourneyMobileReload&&(s.destination={mobile_phone:{phone_number:{country_code:this.biller?.billerReceiverAreaCode,national_number:this.biller?.accountNumber}}}),s}getCountryName(){return this.corridor.receiverCountry&&this.corridor.receiverCountry.name?this.corridor.receiverCountry.name:null}getSummaryObjects(){const s={country_name:this.getCountryName(),temp_zipcode:this.getTempZipCode(),flag_position:this.getReceivingCountry(),payout_method:this.getPayoutMethod(),payout_method_code:this.selectedProduct.code,paying_method:this.getPayInMethod(),transfer_amount:this.sessionFromStore.senderAmount,receive_amount:this.sessionFromStore.receiverAmount,preferred_amount:"send_amount",transaction_total:this.getTransTotal(),receiver_currency:this.sessionFromStore.receiverAmount,transfer_fee:this.getTransferFee(this.selectedProduct.fees),strikeThrough:this.selectedProduct.strikeThrough,available:this.selectedProduct.speedIndicator,exchangeRate:this.selectedProduct.exchangeRate,currencyIsoCode:this.getReceiverCurrency(),defaultCurrencyIsoCode:this.corridor.senderCurrency,feeInquiry:this.getFeeInquiry(),type:this.getSummaryObjectsType(),feeInquiryData:this.getFeeInquiryData(),promotional_discount:this.getPromotionalDiscount(),promotional_code_discount:this.getPromotionCode(),promotion:this.getPromotionDetail(),promotionCodeFlag:this.getPromotionCode()?"Y":"N",first_name:this.selectedReceiver&&this.selectedReceiver.name?this.selectedReceiver.name.firstName:null,middle_name:this.selectedReceiver&&this.selectedReceiver.name?this.selectedReceiver.name.middleName:null,last_name:this.selectedReceiver&&this.selectedReceiver.name?this.selectedReceiver.name.lastName:null,consumer_to_business_name:this.selectedReceiver&&this.selectedReceiver.consumerToBusinessName?this.selectedReceiver.consumerToBusinessName:null,uid:this.getUidValue(),id:this.getIdValue(),email:this.getReceiverEmail(),sourceOfFundsField:this.getSourceOfFunds(),purposeField:this.getPurposeField(),purposeText:this.getPurposeText(),relationToReceiverField:this.getRelationToReceiverField(),receiver_wallet:this.getReceiverWallet(),repeat_mtcn:this.getRepeatMTCN(),send_again_txn:this.sendAgainTxnData&&this.sendAgainTxnData.resend?"true":"false",country_receiver:P.get(this.selectedReceiver,"address.state")?P.get(this.selectedReceiver,"address.state"):null,city_receiver:P.get(this.selectedReceiver,"address.city")?P.get(this.selectedReceiver,"address.city"):null,postal_code:this.selectedReceiver?.address?.postalCode||this.selectedReceiver?.address?.zipCode||null,country_code:this.getCountryPhoneCode(),phone_number:this.getPhoneNumber(),addressReceiver:this.getReceiverAddress(),wallet:this.getSenderWallet(),question:this.getQuestion(),answer:this.getAnswer(),date_of_birth:this.selectedReceiver?.dob,dsrSkippedPricing:this.getBACatalogToFeeEnquiry(),nationality:this.selectedReceiver&&this.selectedReceiver.nationality?this.selectedReceiver.nationality:""};return"BR"===P.get(this.corridor,"senderCountry.isoCode")&&P.get(this.selectedReceiver,"selfDeclaredQuestions.purposeFieldCode")&&(s.purposeFieldCode=P.get(this.selectedReceiver,"selfDeclaredQuestions.purposeFieldCode")),this.isPayInCard(s)&&this.sendAgainTxnData&&this.sendAgainTxnData.paymentDetails&&this.sendAgainTxnData.paymentDetails.creditDebitCard&&(this.sendAgainTxnData.paymentDetails.paymentType===x.mt.CreditCard||this.sendAgainTxnData.paymentDetails.paymentType===x.mt.DebitCard)?s.creditDebitCards={creditDebitCard:[this.updateCreditDebitCard(this.sendAgainTxnData)]}:this.isPayInCard(s)&&this.resumeSelectedCard?s.creditDebitCards={creditDebitCard:[this.resumeSelectedCard]}:this.credData&&(s.creditDebitCards={creditDebitCard:[this.savePaymentDetails()]}),"800"===this.selectedProduct.code||this.getDSRServiceCodesFromPricing()?.walletServiceCodes.includes(this.selectedProduct?.code)&&this.selectedReceiver&&this.selectedReceiver.wallet?s.walletObj=this.selectedReceiver?.wallet&&this.selectedReceiver.wallet?.wu_wallet?this.selectedReceiver.wallet.wu_wallet:null:this.d2cPaySendServiceCodes.includes(this.selectedProduct.code)&&this.selectedReceiver&&this.selectedReceiver.wallet&&(s.receiver_card_details=this.selectedReceiver.wallet&&(this.selectedReceiver.wallet.wuD2c||this.selectedReceiver.wallet.wu_d2c)?this.selectedReceiver.wallet.wuD2c||this.selectedReceiver.wallet.wu_d2c:null),this.userJourney===e.Y.userJourneyBillPay&&(s.biller_details=this.getBiilerDetails(),s.payout_method=this.getBiilerDetails().companyName,s.payout_method_code=this.getBiilerDetails().code),this.userJourney===e.Y.userJourneyInmatePay&&(s.inmate_details=this.getBiilerDetails(),s.payout_method=this.getBiilerDetails().companyName,s.payout_method_code=this.getBiilerDetails().code,s.first_name=P.get(this.biller,"billerReceiverFirstName")?P.get(this.biller,"billerReceiverFirstName"):void 0,s.middle_name=P.get(this.biller,"billerReceiverMiddleName")?P.get(this.biller,"billerReceiverMiddleName"):void 0,s.last_name=P.get(this.biller,"billerReceiverLastName")?P.get(this.biller,"billerReceiverLastName"):void 0),this.userJourney===e.Y.userJourneyMobileReload&&(s.biller_details=this.getBiilerDetails(),s.first_name=P.get(this.biller,"billerReceiverFirstName")?P.get(this.biller,"billerReceiverFirstName"):void 0,s.middle_name=P.get(this.biller,"billerReceiverMiddleName")?P.get(this.biller,"billerReceiverMiddleName"):void 0,s.last_name=P.get(this.biller,"billerReceiverLastName")?P.get(this.biller,"billerReceiverLastName"):void 0,s.phone_number=P.get(this.biller,"billerReceiverPhoneNumber")?P.get(this.biller,"billerReceiverPhoneNumber"):void 0,s.country_code=P.get(this.biller,"billerReceiverAreaCode")?P.get(this.biller,"billerReceiverAreaCode"):void 0),JSON.stringify(s)}getSummaryObjectsType(){let s=this.getUserJourney();return s=s&&"price-estimator"===s.toLowerCase()?"sending_money":s,s||"sending_money"}getBiilerDetails(){const s={companyName:this.biller.companyName,account_no:this.biller.accountNumber,countryIsoCode:this.biller.countryIsoCode,currencyIsoCode:this.biller.currencyIsoCode,code:this.biller.code};return this.biller.industry&&(s.industry=this.biller.industry),s}savePaymentDetails(){const s={id:P.has(this.credData,"id")?this.credData.id:0,paymentInstrumentId:P.get(this.credData,"paymentInstrumentId"),customer_name:{firstName:P.get(this.credData,"customerName.firstName"),lastName:P.get(this.credData,"customerName.lastName")}};return s.cardNumber=P.has(this.credData,"cardNumber")?this.credData.cardNumber:"",s.cardType=P.has(this.credData,"cardType")?this.credData.cardType:"",s.expirationDate=P.has(this.credData,"expirationDate")?this.credData.expirationDate:"",s.isCreditCardScanned=P.has(this.credData,"isCreditCardScanned")?this.credData.isCreditCardScanned.toString():"",s.cvvii_code=P.has(this.credData,"cvvii_code")?this.credData.cvvii_code:"",s.card_consent_flag=P.has(this.credData,"card_consent_flag")?this.credData.card_consent_flag:"",s.card_consent_mtcn=P.has(this.credData,"card_consent_mtcn")?this.credData.card_consent_mtcn:"",s}getReceiverEmail(){return this.selectedReceiver?this.selectedReceiver.email?this.selectedReceiver.email:this.selectedReceiver.contactDetails&&this.selectedReceiver.contactDetails.email?this.selectedReceiver.contactDetails.email:null:null}getUidValue(){return this.selectedReceiver&&this.selectedReceiver.generalInformation&&this.selectedReceiver.generalInformation.uid?this.selectedReceiver.generalInformation.uid:this.selectedReceiver&&this.selectedReceiver.uid?this.selectedReceiver.uid:null}getIdValue(){return this.selectedReceiver&&this.selectedReceiver.generalInformation&&this.selectedReceiver.generalInformation.id?this.selectedReceiver.generalInformation.id:this.selectedReceiver&&this.selectedReceiver.id?this.selectedReceiver.id:null}isPayInCard(s){return s.paying_method===x.mt.CreditCard||s.paying_method===x.mt.DebitCard}getTempZipCode(){return P.get(this,"sender.address.zipCode")?this.sender.address.zipCode:P.get(this,"sender.address.postalCode")?this.sender.address.postalCode:"94085"}getPriceQuoteApiFlag(){return this.countryConfig?.ConfigTemplate?.isPriceQuoteApiEnabled}getShakeHandsObj(){const s=this.getPartnerHandShakeObject();s&&this.partnerHandShakeObject();const a=this.getCurrentRouterUrl(),c=this.getUserJourney();if("sending_money"!==c&&"price-estimator"!==c&&c!==e.Y.userJourneyBillPay&&c!==e.Y.userJourneyInmatePay&&c!==e.Y.userJourneyMobileReload)return this.getData(a);const h=!!this.countryConfigService.isPromoPricingEnabled();if("true"===sessionStorage.getItem("cloudPricing")||h)this.convertPriceCatalogToFeeInquiry();else{const v=P.get(this.corridor,"senderCountry.isoCode",null);(this.isPriceQuotecountry(v)||s&&s.partnerName&&s.partnerName.toLowerCase()===e.Y.LBP_PARTNER||s&&s.partnerName&&s.partnerName.toLowerCase()===e.Y.POSTEITALIANE_PARTNER)&&this.convertPriceQuoteToFeeInquiry()}this.selectedProduct&&(this.disclaimersService.setDisclaimers(),this.disclaimersService.disclaimerState.subscribe(v=>{this.disclaimersObj=v}));const l={userJourney:this.getUserJourneyInShakeHandsObj(),LastPage:"send-money"===a||"start"===a?"send-money-option":a,previous_page_name:"send-money"===a||"start"===a?"send-money-option":a,Limits:JSON.stringify(this.getLimits),SummaryObjects:this.getSummaryObjects(),page_name:"send-money"===a||"start"===a?"send-money-option":a,Efl:JSON.stringify(this.sessionFromStore.efl),isDirectedCountry:this.getIsDirectedCountry(),maxLimitKey:this.getSenderAmountLimit(),promotionCodeFlag:this.getPromotionCodeFlag(),fromState:"send-money"===a||"start"===a?"send-money-option":a,personal_info_section:Date.now(),security_section:Date.now(),invalidEmailCount:this.invalidEmailCount(),transactionPageCount:this.setTransactionPageCount(),wuAmplitude_pageName:"send-money"===a||"start"===a?"send-money-option":a,SelectedPayInOption:this.selectedProduct.payIn,SelectedPayOutOption:this.selectedProduct.payOut,wuAmplitudeSMO_receiverCountry:this.getReceivingCountry(),wuAmplitudeSMO_fundsOut:this.getPayOut(),wuAmplitudeSMO_fundsIn:this.selectedProduct.payIn,wuAmplitude_sendAmount:this.sessionFromStore?this.sessionFromStore.senderAmount:null,wuAmplitudeSMO_sendReceiveLock:"",loginRedirectApi:"enabled",Email:this.getEmail(),AccountNumber:this.getAccountNumber(),account_login:this.getEmail(),FirstName:this.getFirstName(),GatewayCustomer:this.getGatewayCustomer(),IsSWB:this.getIsSWBProfile(),LastName:this.getLastName(),loyaltyPoints:this.getLoyalityPoints(),showSummaryWidgetTextMsg:this.getSummaryWidgetTextMsg(),exchange_rate:this.getExchangeRate(),cookiestore:this.updateCookieStore(),ValidationRequest:this.getValidationRequest(),ValidationResponse:this.getValidationResponse(),SenderMEXObj:this.corridor.isDirected&&this.corridor.receiverCity&&this.corridor.receiverCountry&&"MX"===this.corridor.receiverCountry.isoCode?this.getSenderMEXObj():null,agentStoreList:this.corridor.isDirected&&this.corridor.receiverCity?this.getAgentStoreList():null,currentSelectedAgentName:this.corridor.isDirected&&this.corridor.receiverCity?this.getCurrentSelectedAgentName():null,mxAgentStoreIndex:this.corridor.isDirected&&this.corridor.receiverCity?this.getMEXAgentStoreIndex():null,PendingPromoCode:this.getPendingPromoCode(),NG_TRANSLATE_LANG_KEY:this.sessionFromStore.NG_TRANSLATE_LANG_KEY,SendMoneyValidation:this.getSendMoneyvalidationResponse(),SendAgainTxnDetails:this.getSendAgainTransactionDetails(),RetailLimit:this.getRetailLimits(),showDisclaimer31:JSON.stringify(!(!this.disclaimersObj||!this.disclaimersObj.disclaimer31)),showDisclaimer33:JSON.stringify(!(!this.disclaimersObj||!this.disclaimersObj.disclaimer33)),showDisclaimer34:JSON.stringify(!(!this.disclaimersObj||!this.disclaimersObj.disclaimer34)),RegMessageFlag:JSON.stringify(!(!this.notification||!this.notification.regMessageFlag1)),resLoyalityCard:this.getLoyalityCardResponse(),SWBErrors:this.getSWBErrors(),existingUserFlag:this.getExistingUserFlag(),wuAmplitude_userPath:"ng6",abandonedCartToken:this.resumeTransferToken,UploadDmsDoc:this.uploadDMSDocStatus?JSON.stringify(this.uploadDMSDocStatus):null,_token:this.sessionFromStore.siteBehaviour?this.sessionFromStore.siteBehaviour.abandonedCartToken:null,_src:this.sessionFromStore.siteBehaviour?this.sessionFromStore.siteBehaviour.src:null,AbandonTransactionParams:this.sessionFromStore.siteBehaviour?this.sessionFromStore.siteBehaviour.abandonTransactionParams:null,ComplianceData:this.getCompliance(),tdsJWT:this.getTDSJWT(),cardinalInitCompleted:this.getCardinalInitCompleted(),is_name_verified:P.get(this.sender,"is_name_verified"),selectedReceiver:JSON.stringify(P.cloneDeep(this.selectedReceiver)),applicationName:this.isPPSprofile?"PPS":null,quickResendSMO:this.quickResendSMO?this.quickResendSMO:"",walletBankinfo:JSON.stringify(this.walletBankinfo),countryDynamicParams:JSON.stringify(this.sessionFromStore.countryDynamicParams),lastTransactionData:this.getLastTransactionData(),customerTxnDetails:JSON.stringify(this.sessionFromStore.customerTxnDetails),gamQueryParam:JSON.stringify(this.sessionFromStore.gamQueryParam)};return"Y"===this.getPromotionCodeFlag()&&!this.sessionFromStore.navigateToPayInChange&&P.get(this.selectedProduct,"promotion.code")&&this.updateStore.updatePromoCode(P.get(this.selectedProduct,"promotion.code")),this.getCustomerVerificationStatus()&&this.getCustomerVerificationStatus()instanceof Object&&(l.CustomerVerificationStatus=JSON.stringify(this.getCustomerVerificationStatus())),this.getUseCasePromos()&&(l.UseCasePromos=JSON.stringify(this.getUseCasePromos())),this.selectedProduct.payIn===x.mt.IDEAL&&(l.iDealBankName=this.getIdealBankName(),l.iDealBankValue=this.sessionFromStore.idealBankInfo?this.sessionFromStore.idealBankInfo.name:null),this.selectedProduct.payIn===x.mt.FPX&&(l.fpxBankName=this.getFpxBankName()),l.signicat_initiated=this.sessionFromStore.signicatInitiatedStatus,l}getUserJourneyInShakeHandsObj(){return this.userJourney===e.Y.userJourneyBillPay?e.Y.userJourneyBillPay:this.userJourney===e.Y.userJourneyInmatePay?e.Y.userJourneyInmatePay:this.userJourney===e.Y.userJourneyMobileReload?e.Y.userJourneyMobileReload:e.Y.userJourneySmo}getTDSJWT(){const s=this.updateStore.getState()?.tdsJWT;return s?JSON.stringify(s):null}getCardinalInitCompleted(){const s=this.updateStore.getState()?.tdsJWT;return s&&s.cardinalInitCompleted?s.cardinalInitCompleted:null}getCompliance(){const s=this.updateStore.getState().complianceWeb;return s?.idDetails?.length>0?JSON.stringify({id_documents:{id_document:s.idDetails}}):null}getIdealBankName(){return this.sendAgainTxnData&&this.sendAgainTxnData.paymentDetails&&this.sendAgainTxnData.paymentDetails.paymentMethod&&this.sendAgainTxnData.paymentDetails.paymentMethod.params&&this.sendAgainTxnData.paymentDetails.paymentMethod.params.param&&this.sendAgainTxnData.paymentDetails.paymentMethod.params.param[0].Value?this.sendAgainTxnData.paymentDetails.paymentMethod.params.param[0].Value:this.idealBankInfo.code}getFpxBankName(){return P.get(this.sendAgainTxnData,"paymentDetails.paymentMethod.params.param[0].Value")?P.get(this.sendAgainTxnData,"paymentDetails.paymentMethod.params.param[0].Value"):P.get(this.fpxBankInfo,"code")?P.get(this.fpxBankInfo,"code"):""}getUserJourney(){let s;return this.userJourney?s=this.userJourney:sessionStorage.getItem("userJourney")&&(s=sessionStorage.getItem("userJourney")),s}updateUserJourney(){sessionStorage.getItem("userJourney")&&this.updateStore.updateUserJourney(sessionStorage.getItem("userJourney"))}updateReceiverCountry(){const s=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}"),a=this.getUserJourney()===e.Y.userJourneyBillPay||this.getUserJourney()===e.Y.userJourneyInmatePay||this.getUserJourney()===e.Y.userJourneyMobileReload;if(s&&s.feeInquiryData){const c=P.get(s,"feeInquiryData.smoDefaults"),r={receiverCountryDetails:{receiverCountryName:c?P.get(s,"feeInquiryData.smoDefaults.receiveCountry.name"):"",receiverCountryIsoCode:c?P.get(s,"feeInquiryData.smoDefaults.receiveCountry.isoCode"):a?s.flag_position:"",receiverCurrency:s.currencyIsoCode?s.currencyIsoCode:"",receiverCurrencyArray:c?P.get(s,"feeInquiryData.smoDefaults.receiveCountry.currencies"):""}};this.updateStore.updateReceiverCountry(r)}}updateSenderAmount(){const s=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}");s&&s.transfer_amount&&this.updateStore.updateSenderAmount(s.transfer_amount)}updateReceiverAmount(){const s=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}"),a=this.isTransactionBillOrInmateOrMobileReload(e.Y.userJourneyBillPay),c=this.isTransactionBillOrInmateOrMobileReload(e.Y.userJourneyInmatePay),r=this.isTransactionBillOrInmateOrMobileReload(e.Y.userJourneyMobileReload);s&&s.receive_amount&&!a&&!c&&!r&&this.updateStore.updateReceiverAmount(s.receive_amount),(a||c)&&this.updateReceiverAmountForBillAndInmatePay(s),r&&this.updateStore.updateReceiverAmount(s.receiver_currency)}updateReceiverAmountForBillAndInmatePay(s){let a;P.get(s,"feeInquiryData.destnCountry.isoCode")===P.get(s,"feeInquiryData.sourceCountry.isoCode")?Number(P.get(s,"feeInquiryData.paymentDetails.txtSendAmount"))>0&&(a=P.get(s,"feeInquiryData.paymentDetails.txtSendAmount")):Number(P.get(s,"feeInquiryData.paymentDetails.txtReceiveAmount"))>0&&(a=P.get(s,"feeInquiryData.paymentDetails.txtReceiveAmount")),this.updateStore.updateReceiverAmount(a)}updateSelectedBiller(){const s=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}");let a;const c={};(P.has(s,"biller_details")||P.has(s,"inmate_details"))&&(a=P.get(s,"type")===e.Y.userJourneyBillPay||P.get(s,"type")===e.Y.userJourneyMobileReload?s.biller_details:s.inmate_details,c.companyName=a.companyName,c.accountNumber=a.account_no,c.countryIsoCode=a.countryIsoCode,c.currencyIsoCode=a.currencyIsoCode,c.industry=P.has(a,"industry")?P.get(a,"industry"):"",c.code=a.code),c.billerReceiverFirstName=P.has(s,"first_name")?P.get(s,"first_name"):"",c.billerReceiverMiddleName=P.has(s,"middle_name")?P.get(s,"middle_name"):"",c.billerReceiverLastName=P.has(s,"last_name")?P.get(s,"last_name"):"",c.billerReceiverId=P.has(s,"id")?P.get(s,"id"):"",c.billerReceiverUid=P.has(s,"uid")?P.get(s,"uid"):"",c.billerReceiverAreaCode=P.has(s,"area_code")?P.get(s,"area_code"):"",c.billerReceiverPhoneNumber=P.has(s,"phone_number")?P.get(s,"phone_number"):"",this.updateStore.updateSelectedBiller(c)}updateSelectedProductForBillAndInmatePay(){const s=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}");if(P.has(s,"transfer_fee")&&P.has(s,"exchangeRate")){const a=P.has(s,"paying_method")?"AG"===P.get(s,"paying_method")?"Cash":x.mt[s.paying_method]:null,c=(new x.cC).codeName[s.payout_method],r=sessionStorage.getItem("isDirectedCountry")?sessionStorage.getItem("isDirectedCountry"):"",g=P.get(s,"feeInquiry.wuProduct"),p=P.get(s,"feeInquiry.paymentDetails"),h={code:P.get(g,"code"),name:P.get(g,"name"),payIn:P.isNull(a)?null:x.mt[a],payOut:P.isNull(c)?null:x.Zr[c],deliverySpeed:null,minAmount:0,maxAmount:sessionStorage.getItem("maxLimitKey")?Number(sessionStorage.getItem("maxLimitKey")):0,fees:Number(s.transfer_fee),destinationFees:0,exchangeRate:Number(s.exchangeRate),speedIndicator:g?.speedIndicator,isDirected:P.isNull(r)?"":r};h.type=P.has(s,"type")?s.type:"",h.pricingContext=P.has(g,"pricingContext")?g.pricingContext:"",P.has(p,"destination")&&(h.destination={expectedPayoutAmount:"reload-options"===P.get(s,"type")?(100*Number(P.get(p,"destination.expectedPayoutAmount"))).toString():P.get(p,"destination.expectedPayoutAmount"),currencyIsoCode:P.get(p,"destination.currencyIsoCode"),countryIsoCode:P.get(p,"destination.countryIsoCode")}),P.has(p,"origination")&&(h.origination={principalAmount:"reload-options"===P.get(s,"type")?(100*Number(P.get(p,"origination.principalAmount"))).toString():P.get(p,"origination.principalAmount"),grossAmount:"reload-options"===P.get(s,"type")?(100*Number(P.get(p,"origination.grossAmount"))).toString():P.get(p,"origination.grossAmount"),currencyIsoCode:P.get(p,"origination.currencyIsoCode"),countryIsoCode:P.get(p,"origination.countryIsoCode")}),this.updateStore.updateSelectedProduct(h)}}getSelectFeeEnquiryData(s,a,c){const g=P.get(s,"feeInquiry.serviceOptions.serviceOption.WEB")[c],p=P.find(g,v=>v.paymentDetails.paymentType===a&&s.payout_method_code===v?.wuProduct?.code);return p.paymentDetails.origination.grossAmount=Math.round(100*Number(s.transaction_total)).toString(),{paymentOption:p.paymentDetails,selectedWuData:p.wuProduct}}updateSelectedProduct(){const s=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}");if(s&&s.transfer_fee&&s.exchangeRate){let a=s.paying_method?x.mt[s.paying_method]:null;a=a||(s.paying_method?s.paying_method:null);const c=(new x.cC).codeName[s.payout_method],r=sessionStorage.getItem("isDirectedCountry")?sessionStorage.getItem("isDirectedCountry"):"",g=this.getSelectFeeEnquiryData(s,a,c),p=g?.paymentOption,h=g?.selectedWuData,l={code:s.payout_method_code?s.payout_method_code:"",name:h?.name?h.name:s.payout_method?s.payout_method:"",payIn:"AG"===a?a:x.mt[a]?x.mt[a]:null,payOut:c?x.Zr[c]:null,deliverySpeed:null,minAmount:0,maxAmount:sessionStorage.getItem("maxLimitKey")?Number(sessionStorage.getItem("maxLimitKey")):0,fees:s.transfer_fee?Number(s.transfer_fee):0,destinationFees:0,exchangeRate:s.exchangeRate?Number(s.exchangeRate):0,speedIndicator:h?.speedIndicator,isDirected:null!=r&&"000"!==s.payout_method_code&&"400"!==s.payout_method_code?r:void 0,location:h?.location?h?.location:"",strikeThrough:s.strikeThrough,promotion:s.promotion};if(l.type=P.has(s,"type")?s.type:"",l.pricingContext=P.has(h,"pricingContext")?h.pricingContext:"",P.has(p,"destination")&&(l.destination={expectedPayoutAmount:"reload-options"===P.get(s,"type")?(100*Number(P.get(p,"destination.expectedPayoutAmount"))).toString():P.get(p,"destination.expectedPayoutAmount"),currencyIsoCode:P.get(p,"destination.currencyIsoCode"),countryIsoCode:P.get(p,"destination.countryIsoCode")},p.destination?.split_payout?.length)){const v=[],S=p.destination.split_payout;for(let m=0;m<S.length;m++)v.push({currencyIsoCode:S[m]?.currency_iso_code,exchangeRate:S[m]?.exchange_rate,expectedPayoutAmount:S[m]?.expected_payout_amount});l.destination.splitPayOut=v}P.has(p,"origination")&&(l.origination={principalAmount:"reload-options"===P.get(s,"type")?(100*Number(P.get(p,"origination.principalAmount"))).toString():P.get(p,"origination.principalAmount"),grossAmount:"reload-options"===P.get(s,"type")?(100*Number(P.get(p,"origination.grossAmount"))).toString():P.get(p,"origination.grossAmount"),currencyIsoCode:P.get(p,"origination.currencyIsoCode"),countryIsoCode:P.get(p,"origination.countryIsoCode")}),this.updateStore.updateSelectedProduct(l)}}updateForCountry(){const s=this.smoConfig.isForCountry(this.getReceivingCountry());this.updateStore.updateForCountry(s)}updateSmoSenderCountry(){const s=this.smoConfig.getSenderCountry();this.updateStore.updateSenderCountry(s)}getCurrentRouterUrl(){const c=this.router.url.split("?")[0].split("/");return c[c.length-1]}getData(s){const a={cookiestore:this.updateCookieStore(),loginRedirectApi:"enabled",fromState:s,page_name:s,personal_info_section:Date.now(),security_section:Date.now(),invalidEmailCount:this.invalidEmailCount(),transactionPageCount:this.setTransactionPageCount(),NG_TRANSLATE_LANG_KEY:this.sessionFromStore.NG_TRANSLATE_LANG_KEY,GatewayCustomer:this.getGatewayCustomer(),AccountNumber:this.getAccountNumber(),Email:this.getEmail(),IsSWB:this.getIsSWBProfile(),FirstName:this.getFirstName(),LastName:this.getLastName(),Efl:JSON.stringify(this.sessionFromStore.efl),resLoyalityCard:this.getLoyalityCardResponse(),LastPage:s,previous_page_name:s,loyaltyPoints:this.getLoyalityPoints(),wuAmplitude_pageName:s,wuAmplitude_userPath:"ng6",account_login:this.getEmail(),abandonedCartToken:this.resumeTransferToken,ValidationResponse:this.getValidationResponse(),UploadDmsDoc:this.uploadDMSDocStatus?JSON.stringify(this.uploadDMSDocStatus):null,tdsJWT:this.getTDSJWT(),cardinalInitCompleted:this.getCardinalInitCompleted(),lastTransactionData:this.getLastTransactionData(),customerTxnDetails:JSON.stringify(this.sessionFromStore.customerTxnDetails),gamQueryParam:JSON.stringify(this.sessionFromStore.gamQueryParam)};return this.getCustomerVerificationStatus()&&this.getCustomerVerificationStatus()instanceof Object&&(a.CustomerVerificationStatus=JSON.stringify(this.getCustomerVerificationStatus())),this.getUseCasePromos()&&(a.UseCasePromos=JSON.stringify(this.getUseCasePromos())),a}getUseCasePromos(){return this.sender&&this.sender.useCasePromoDetail?this.sender.useCasePromoDetail:null}getPendingPromoCode(){return this.sender&&this.sender.promoCode?this.sender.promoCode:null}convertPriceQuoteToFeeInquiry(){if("price-estimator"!==this.getUserJourney()?.toLowerCase())if(this.priceQuoteServicesMeta&&this.priceQuoteServicesMeta.servicesMeta){const a=this.handlePriceQuoteBand();a&&a.serviceOptions&&a.serviceOptions.serviceOption&&(sessionStorage.setItem("PriceBandResponse",JSON.stringify(a)),sessionStorage.setItem("feeInquiryResponseComplete",JSON.stringify(a.serviceOptions.serviceOption)),sessionStorage.setItem("feeInquiryResponse",JSON.stringify(a))),sessionStorage.setItem("PriceQuoteservicesMeta",JSON.stringify({servicesMeta:this.priceQuoteServicesMeta.servicesMeta}))}else{const a=JSON.parse(sessionStorage.getItem("feeInquiryResponseRetail")||"{}");a&&a.serviceOptions&&sessionStorage.setItem("feeInquiryResponse",JSON.stringify({serviceOptions:{serviceOption:{WEB:{AG:[a.serviceOptions.serviceOption.RETAIL_MOBILE.AG[0]]}}}}))}}convertPriceCatalogToFeeInquiry(){if("price-estimator"===this.getUserJourney()?.toLowerCase())return;const a={serviceOptions:{}},c={};a.serviceOptions.serviceOption={},a.serviceOptions.serviceOption.WEB={},this.products&&this.products.length>0&&this.products.forEach(r=>{if(r.payOut&&"ND"!==r.payOut){let g;c[r.payOut]||(c[r.payOut]=[]),g="000"===r.code?"Money in Minutes":["500","D01","D00"].includes(r.code)||this.getDSRServiceCodesFromPricing().bankServiceCodes.includes(r.code)?"Direct to bank":"600"===r.code?"Mobile money transfer":"800"===r.code||this.getDSRServiceCodesFromPricing()?.walletServiceCodes.includes(r.code)?"WALLET":this.d2cPaySendServiceCodes.includes(r.code)?"D2C":r.name;const p={additionalInfo:"",channel:{}};p.channel.type=r.payIn&&r.payIn===x.bw.CA?"RETAIL_MOBILE":"WEB",p.codeTextAdditionalInfo="",p.identification_question_indicator=r.questionIndicator,p.paymentDetails=this.getPriceCatalogPaymentDetails(r),p.wuProduct={},p.wuProduct.code=r.code,p.wuProduct.maxDeliveryDays="",p.wuProduct.minDeliveryDays="",p.wuProduct.name=g,p.wuProduct.pricingContext=this.updatePriceContextDataInSession(r),p.wuProduct.speedIndicator=r.speedIndicator,this.corridor.isDirected&&"Y"===r.isDirected&&(p.wuProduct.isDirected=r.isDirected,p.wuProduct.location=decodeURIComponent(encodeURIComponent(r.location))),c[r.payOut].push(p)}}),a.serviceOptions.serviceOption.WEB=c,a&&a.serviceOptions&&a.serviceOptions.serviceOption&&(sessionStorage.setItem("feeInquiryResponseComplete",JSON.stringify(a.serviceOptions.serviceOption)),this.corridor.isDirected&&a.serviceOptions.serviceOption.WEB.AG?(a.directedServiceReady=!0,sessionStorage.setItem("SummaryObjectsOld",JSON.stringify(a.serviceOptions.serviceOption.WEB))):delete a.directedServiceReady,sessionStorage.setItem("feeInquiryResponse",JSON.stringify(a)))}getBACatalogToFeeEnquiry(){const s={},a=JSON.parse(sessionStorage.getItem("DSRBAProducts")||null);return a&&a.length>0&&a.forEach(c=>{let r;s[c.payOut]||(s[c.payOut]=[]),(["500","D01","D00"].includes(c.code)||this.getDSRServiceCodesFromPricing().bankServiceCodes.includes(c.code))&&(r="Direct to bank");const g={additionalInfo:"",channel:{}};g.channel.type=c.payIn&&c.payIn===x.bw.CA?"RETAIL_MOBILE":"WEB",g.codeTextAdditionalInfo="",g.identification_question_indicator=c.questionIndicator,g.paymentDetails=this.getPriceCatalogPaymentDetails(c),g.wuProduct={},g.wuProduct.code=c.code,g.wuProduct.maxDeliveryDays="",g.wuProduct.minDeliveryDays="",g.wuProduct.name=r,g.wuProduct.pricingContext=this.updatePriceContextDataInSession(c),g.wuProduct.speedIndicator=c.speedIndicator,this.corridor.isDirected&&"Y"===c.isDirected&&(g.wuProduct.isDirected=c.isDirected,g.wuProduct.location=decodeURIComponent(encodeURIComponent(c.location))),s[c.payOut].push(g)}),s}getPriceCatalogPaymentDetails(s){const a={};return a.destination=s.destination,a.origination=s.origination,a.paymentType=s.payIn,a.promotion=s.promotion,a.exchangeRate=s.exchangeRate,a.displayExchangeRate=s.exchangeRate,a.fullExchangeRate=Number(s.exchangeRate),a.fees={},a.fees.accuracy="EXACT",a.fees.charges=(100*s.fees).toFixed(),this.corridor.isDirected&&"Y"===s.isDirected&&s.expectedPayoutLocation&&(a.expectedPayoutLocation=s.expectedPayoutLocation),s.destination&&s.destination.splitPayOut&&a.destination&&(a.destination.split_payout=[],s.destination.splitPayOut.forEach(c=>{a.destination.split_payout.push({expected_payout_amount:c.expectedPayoutAmount,currency_iso_code:c.currencyIsoCode,exchange_rate:c.exchangeRate,country_iso_code:c.countryIsoCode})})),a}getPartnerHandShakeObject(){return this.sessionFromStore.partnerData?this.sessionFromStore.partnerData:null}getSourceOfFunds(){return this.selectedReceiver&&this.selectedReceiver.selfDeclaredQuestions&&this.selectedReceiver.selfDeclaredQuestions.sourceOfFunds?this.selectedReceiver.selfDeclaredQuestions.sourceOfFunds:this.getSOFForMY()}getPurposeField(){return this.selectedReceiver&&this.selectedReceiver.selfDeclaredQuestions&&this.selectedReceiver.selfDeclaredQuestions.purposeOfTransaction?this.selectedReceiver.selfDeclaredQuestions.purposeOfTransaction:this.getPOTForMY()}getPurposeText(){return this.selectedReceiver&&this.selectedReceiver.selfDeclaredQuestions&&this.selectedReceiver.selfDeclaredQuestions.purposeOfTransactionText?this.selectedReceiver.selfDeclaredQuestions.purposeOfTransactionText:this.getPOTForMY()}getReceiverWallet(){if((this.selectedReceiver?.wallet?.bankAccounts||this.selectedReceiver?.wallet?.bank_accounts)&&(["500","D01","D00"].includes(this.selectedProduct.code)||this.getDSRServiceCodesFromPricing().bankServiceCodes.includes(this.selectedProduct.code))){if(this.selectedReceiver?.wallet?.bankAccounts?.bankAccount||this.selectedReceiver?.wallet?.bank_accounts?.bank_account){const c=JSON.parse(JSON.stringify(this.selectedReceiver?.wallet?.bankAccounts?.bankAccount||this.selectedReceiver?.wallet?.bank_accounts?.bank_account));return this.formatReceiverWallet(c)}const s=P.cloneDeep(this.selectedReceiver?.wallet);return s&&s.bank_accounts?(delete s.bank_accounts[0].confirm_account_number,delete s.bank_accounts[0].countryIsoCode,delete s.bank_accounts[0].currency):s&&s.bankAccounts&&(delete s.bankAccounts[0].confirm_account_number,delete s.bankAccounts[0].countryIsoCode,delete s.bankAccounts[0].currency),s}return!P.get(this.selectedReceiver,"wallet.wu_wallet")&&!P.get(this.selectedReceiver,"wallet.wuWallet")||"800"!==this.selectedProduct.code&&!this.getDSRServiceCodesFromPricing()?.walletServiceCodes.includes(this.selectedProduct?.code)?(P.get(this.selectedReceiver,"wallet.wu_d2c")||P.get(this.selectedReceiver,"wallet.wuD2c"))&&"200"===this.selectedProduct.code?P.get(this.selectedReceiver,"wallet.wu_d2c")?{wu_d2c:this.selectedReceiver.wallet.wu_d2c}:this.selectedReceiver.wallet:null:P.get(this.selectedReceiver,"wallet.wuWallet")?(P.get(this.selectedReceiver,"wallet.wuWallet.walletAccountNumber")&&(this.selectedReceiver.wallet.wuWallet.wallet_account_number=this.selectedReceiver.wallet.wuWallet.walletAccountNumber,delete this.selectedReceiver.wallet.wuWallet.walletAccountNumber),(!P.get(this.selectedReceiver,"wallet.wuWallet.reason")||!P.get(this.selectedReceiver,"wallet.wuWallet.currency"))&&P.get(this.selectedReceiver,"selfDeclaredQuestions.purposeOfTransaction")&&(this.selectedReceiver.wallet.wuWallet.reason=P.get(this.selectedReceiver,"selfDeclaredQuestions.purposeOfTransaction"),this.selectedReceiver.wallet.wuWallet.currency=this.corridor.receiverCurrency),{wu_wallet:this.selectedReceiver.wallet.wuWallet}):this.selectedReceiver.wallet}getRepeatMTCN(){return this.smvRequest&&this.smvRequest.repeat_mtcn?this.smvRequest.repeat_mtcn:null}getRelationToReceiverField(){return this.selectedReceiver&&this.selectedReceiver.selfDeclaredQuestions&&this.selectedReceiver.selfDeclaredQuestions.relationshipToReceiver?this.selectedReceiver.selfDeclaredQuestions.relationshipToReceiver:null}getCountryPhoneCode(){return this.selectedReceiver&&this.selectedReceiver.contactDetails&&this.selectedReceiver.contactDetails.countryCode?this.selectedReceiver.contactDetails.countryCode:this.selectedReceiver&&this.selectedReceiver.mobilePhone&&this.selectedReceiver.mobilePhone.phoneNumber&&this.selectedReceiver.mobilePhone.phoneNumber.countryCode?this.selectedReceiver.mobilePhone.phoneNumber.countryCode:null}getPhoneNumber(){return this.selectedReceiver&&this.selectedReceiver.contactDetails&&this.selectedReceiver.contactDetails.mobileNumber?this.selectedReceiver.contactDetails.mobileNumber:this.selectedReceiver&&this.selectedReceiver.mobilePhone&&this.selectedReceiver.mobilePhone.phoneNumber&&this.selectedReceiver.mobilePhone.phoneNumber.nationalNumber?this.selectedReceiver.mobilePhone.phoneNumber.nationalNumber:""}getSenderWallet(){return this.smvRequest&&this.smvRequest.sender&&this.smvRequest.sender.wallet?this.smvRequest.sender.wallet:this.getWalletFromSelectedPayment()}getWalletFromSelectedPayment(){const s=this.selectedProduct.payIn;return this.sessionFromStore&&this.sessionFromStore.selectedBank&&(s===x.mt.Paramount||s===x.mt.ACH||this.selectedProduct===x.mt.iACH||s===x.mt.Plaid||s===x.mt.TK||"AR"===this.corridor.senderCountry?.isoCode&&s===x.mt.WUPay)?{bankAccounts:{bankAccount:[this.sessionFromStore.selectedBank]}}:null}getLoyalityCardResponse(){const s=this.featureFlagService.isFeatureEnabled("LOYALTY_WU_DIGITAL")||"true"===sessionStorage.getItem("isLoyaltyProgramEnabled");let a="";if(s&&(a=this.sender&&this.sender.rewardList&&this.sender.rewardList.total_points_earned),this.sender){const c={gatewayCustomer:{additionalPreferredCustomers:{preferredCustomer:{accountNbr:this.getAdditionalPreferredAccountNumber(),issueDate:this.getIssueDate(),lastUseDate:this.getLastUseDate(),eligibilityBuffer:this.getEligibilityBufferData(),levelCode:this.getLevelCode(),totalPointsEarned:this.getLoyalityPoints()?this.getLoyalityPoints():a,promoCode:this.getPromoCode()}}}},r=c.gatewayCustomer.additionalPreferredCustomers.preferredCustomer,g=this.getUseCasePromos(),p=this.getMyWuPromo();if(r&&(g||p)&&(r.promoCodes={promoCode:[]},g&&g.length&&(r.promoCodes.promoCode=g),p&&p.length&&(r.promoCodes.promoCode=r.promoCodes.promoCode.concat(p))),r&&s&&this.sender&&this.sender.rewardList&&this.sender.rewardList.rewards&&this.sender.rewardList.rewards.reward){r.promoCodes={promoCode:[]};const h=P.get(this.sender,"rewardList.rewards.reward").filter(l=>!(l.pointsAway>0)).map(l=>({promoCode:l.promoCode,promoType:l.promoType,points:l.points,valueRetail:l.valueRetail,valueDigital:l.valueDigital,value:l.value}));r.promoCodes.promoCode=h}return this.sender.rewardHistory&&(c.rewardHistory=this.sender.rewardHistory),this.sender.rewardList&&(c.rewardList=this.sender.rewardList),JSON.stringify(c)}}getIssueDate(){return this.sender&&this.sender.issueDate?this.sender.issueDate:null}getEligibilityBufferData(){return this.sender&&this.sender.eligibilityBuffer?this.sender.eligibilityBuffer:null}getLevelCode(){return this.sender&&this.sender.levelCode?this.sender.levelCode:null}getPromoCode(){return this.sender&&this.sender.promoCode?this.sender.promoCode:null}getLastUseDate(){return this.sender&&this.sender.lastUseDate?this.sender.lastUseDate:null}getSWBErrors(){if(this.notification&&this.notification.swb)return JSON.stringify({SWBLimitError:this.notification.swb.SWBLimitError?this.notification.swb.SWBLimitError:null,SWBD2bError:this.notification.swb.SWBD2bError?this.notification.swb.SWBD2bError:null,SWBPaymentTypeError:this.notification.swb.SWBPaymentTypeError?this.notification.swb.SWBPaymentTypeError:null,SWBRetailError:this.notification.swb.SWBRetailError?this.notification.swb.SWBRetailError:null})}getExistingUserFlag(){return this.siteBehaviourData&&this.siteBehaviourData.existingUserFlag?this.siteBehaviourData.existingUserFlag:null}getReceiverAddress(){const s={};return this.selectedReceiver&&this.selectedReceiver.address&&(s.addrLine1=this.selectedReceiver.address.addressLine1?this.selectedReceiver.address.addressLine1:this.selectedReceiver.address.addrLine1?this.selectedReceiver.address.addrLine1:null,s.addrLine2=this.selectedReceiver.address.addressLine2?this.selectedReceiver.address.addressLine2:this.selectedReceiver.address.addrLine2?this.selectedReceiver.address.addrLine2:null),this.selectedReceiver&&this.selectedReceiver.address&&(this.selectedReceiver.address.postalCode||this.selectedReceiver.address.zipCode)&&(s.postalCode=this.selectedReceiver.address.postalCode||this.selectedReceiver.address.zipCode),s}getPayoutMethod(){let s="";if(this.selectedProduct&&this.selectedProduct.payOut)switch(this.selectedProduct.payOut){case x.Zr.AG:s="Cash at agent location";break;case x.Zr.BA:s="Bank account";break;case x.Zr.MT:s="Mobile wallet";break;case x.Zr.WA:s="Wallet";break;case x.Zr.D2C:s="D2C";break;case x.Zr.D2C_PS:s="D2C_PS";break;case x.Zr.HD:s="Home Delivery";break;default:s=this.selectedProduct.payOut}return s}getPayInMethod(){return this.isPPSprofile?"CreditCard":this.selectedProduct.payIn?this.selectedProduct.payIn.toString().replace(" ",""):null}getPromotionalDiscount(){return this.featureFlagService.isFeatureEnabled("NEW_CUSTOMER_BF_PROMO_ENABLED")?this.selectedProduct&&this.selectedProduct.promotion&&P.isFinite(this.selectedProduct.promotion.discount)&&this.selectedProduct.promotion.discount>=0?parseFloat(this.selectedProduct.promotion.discount).toFixed(2):null:this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.discount?parseFloat(this.selectedProduct.promotion.discount).toFixed(2):null}getPromotionCode(){return this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.code?this.selectedProduct.promotion.code:null}getPromotionDetail(){if(this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.code)return this.selectedProduct.promotion}getPromotionCodeFlag(){return this.selectedProduct&&this.selectedProduct.promotion&&(this.selectedProduct.promotion.discount||this.selectedProduct.promotion.campaign_name)?"Y":"N"}getIsDirectedCountry(){return this.corridor&&this.corridor.isDirected?"Y":"N"}getSenderAmountLimit(){return this.sessionFromStore&&this.sessionFromStore.senderAmountLimit?this.sessionFromStore.senderAmountLimit:null}getReceivingCountry(){return this.corridor&&this.corridor.receiverCountry?this.corridor.receiverCountry.isoCode:null}getPayOut(){return this.selectedProduct?this.selectedProduct.payOut:null}getAccountNumber(){return this.sender&&this.sender.myWuNumber?this.sender.myWuNumber:this.sessionFromStore&&this.sessionFromStore.AccountNumber?this.sessionFromStore.AccountNumber:null}getAdditionalPreferredAccountNumber(){return this.sender.additionalPreferedAccountNumber}getFirstName(){return this.sender&&this.sender.firstName?this.sender.firstName:null}getIsSWBProfile(){return this.sender?this.sender.isSWBProfile:null}getLastName(){return this.sender&&this.sender.lastName?this.sender.lastName:null}getEmail(){return this.sender&&this.sender.email?this.sender.email:null}getLoyalityPoints(){return this.sender&&this.sender.loyalityPoints?this.sender.loyalityPoints:null}getExchangeRate(){return this.selectedProduct&&this.selectedProduct.exchangeRate?this.selectedProduct.exchangeRate:null}getMyWuPromo(){return this.sender&&this.sender.myWuPromo?this.sender.myWuPromo:null}getSummaryWidgetTextMsg(){return!(!this.selectedProduct||!this.selectedProduct.payIn||this.selectedProduct.payIn!==x.mt.Cash)}setTransactionPageCount(){return null!=sessionStorage.getItem("transactionPageCount")?parseInt(sessionStorage.getItem("transactionPageCount")||"",0)+1:1}invalidEmailCount(){return this.siteBehaviourData&&this.siteBehaviourData.invalidEmailCount?this.siteBehaviourData.invalidEmailCount:null}getGatewayCustomer(){if(this.sender){const s={address:this.getAddress(),contactPhone:this.sender.contactPhone,contactPhoneCountryPrefix:this.sender.contactPhoneCountryPrefix,dateOfBirth:this.sender.dateOfBirth,email:this.sender.email,fbMsgEnabled:this.sender.fbMsgEnabled,mobilePhone:{phoneNumber:this.getMobileData()},name:this.getUserName(),preferredCustomer:{accountNbr:this.sender.myWuNumber},r3Login:this.sender.r3Login,termsConditionFlag:this.sender.termsConditionFlag,identityVerificationStatus:this.sender&&this.sender.customerVerificationStatus&&this.sender.customerVerificationStatus.identityFlag?this.sender.customerVerificationStatus.identityFlag:this.sender.identityVerificationStatus?this.sender.identityVerificationStatus:null,verificationStatus:this.sender&&this.sender.verificationStatusActualVal?this.sender.verificationStatusActualVal:null,registrationDate:this.sender&&this.sender.registrationDetails&&this.sender.registrationDetails.registrationDate?this.sender.registrationDetails.registrationDate:null};return this.sender&&this.sender.gender&&(s.gender=this.sender.gender),this.sender&&this.sender.registrationDetails&&this.sender.registrationDetails.registrationStatus&&(s.registrationStatus=this.sender.registrationDetails.registrationStatus),(this.sender.registrationDetails&&this.sender.registrationDetails.countryOfBirth&&this.sender.registrationDetails.countryOfBirth.isoCode||this.sender?.countryOfBirth)&&(s.countryOfBirth=this.sender.registrationDetails?.countryOfBirth?.isoCode?this.sender.registrationDetails?.countryOfBirth?.isoCode:this.sender?.countryOfBirth?this.sender?.countryOfBirth:""),this.sender.registrationDetails&&this.sender.registrationDetails.employmentPositionLevel&&(s.employmentPositionLevel=this.sender.registrationDetails.employmentPositionLevel),this.sender.registrationDetails&&this.sender.registrationDetails.placeOfBirth&&(s.placeOfBirth=this.sender.registrationDetails.placeOfBirth),this.sender&&(this.sender.registrationDetails&&this.sender.registrationDetails.nationality||this.sender.nationality)&&(s.nationality=this.sender.registrationDetails?.nationality?.isoCode?this.sender.registrationDetails?.nationality?.isoCode:this.sender?.nationality?this.sender?.nationality:""),this.sender&&this.sender.additionalPreferedAccountNumber&&(s.additionalPreferredCustomers={preferredCustomer:{accountNbr:this.sender.additionalPreferedAccountNumber}}),this.sender&&this.sender.registrationDetails&&this.sender.registrationDetails.occupation&&(s.occupation=this.sender.registrationDetails.occupation),this.sender&&this.sender.registrationDetails&&this.sender.registrationDetails.annual_income&&(s.annual_income=this.sender.registrationDetails.annual_income),this.sender&&this.sender.idCode&&(s.idCode=this.sender.idCode),this.sender&&this.sender.customerlookupdetails&&this.sender.customerlookupdetails.idNumber&&(s.idNumber=this.sender.customerlookupdetails.idNumber),this.sender&&this.sender.customerlookupdetails&&this.sender.customerlookupdetails.idType&&(s.idType=this.sender.customerlookupdetails.idType),this.sender&&this.sender.customerlookupdetails&&this.sender.customerlookupdetails.fss_verify_flag&&(s.fss_verify_flag=this.sender.customerlookupdetails.fss_verify_flag),this.sender&&this.sender.customerlookupdetails&&this.sender.customerlookupdetails.FSS_status&&(s.FSS_status=this.sender.customerlookupdetails.FSS_status),this.sender&&this.sender.customerlookupdetails&&this.sender.customerlookupdetails.docdetails&&(s.docdetails=this.sender.customerlookupdetails.docdetails),this.sender&&this.sender.customerlookupdetails&&this.sender.customerlookupdetails.primaryDocData&&(s.primaryDocData=this.sender.customerlookupdetails.primaryDocData),this.sender&&this.sender.customerlookupdetails&&this.sender.customerlookupdetails.secondaryDocData&&(s.secondaryDocData=this.sender.customerlookupdetails.secondaryDocData),this.sender&&this.sender.nationalIdNumber&&(s.nationalIdNumber=this.sender.nationalIdNumber),this.sender&&this.sender.customerCategory&&(s.customerCategory=this.sender.customerCategory),this.sender?.creditLines&&(s.creditLines=this.sender.creditLines),this.sender?.nbrStatus&&(s.nbrStatus=this.sender.nbrStatus),JSON.stringify(s)}return null}getMobileData(){const s=this.sender&&this.sender.mobileNumber?this.sender.mobileNumber:null;return s?{countryCode:s.countryCode,nationalNumber:s.mobileNumber}:null}getUserName(){const s={};return this.getFirstName()&&(s.firstName=this.getFirstName()),this.getLastName()&&(s.lastName=this.getLastName()),this.sender&&this.sender.middleName&&this.sender.middleName.trim()&&(s.middleName=this.sender.middleName),this.sender&&this.sender.givenName&&(s.givenName=this.sender.givenName),this.sender&&this.sender.paternalName&&(s.paternalName=this.sender.paternalName),this.sender&&this.sender.maternalName&&(s.maternalName=this.sender.maternalName),s}getAddress(){const s=this.sender&&this.sender.address?this.sender.address:null;return s?{addrLine1:s.addressLine1,addrLine2:s.addressLine2,city:s.city,countryIsoCode:s.countryIsoCode,postalCode:s.zipCode,state:s.state,advvStatus:s.advvStatus}:null}clearInvalidSession(){const s=["agentStoreList","mxAgentStoreIndex","tryAgainCount"];for(let a=0;a<s.length;a++)null!==sessionStorage.getItem(s[a])&&sessionStorage.removeItem(s[a])}getRtoBtemplateData(){"redirect-start"===(sessionStorage.getItem("LastPage")||"")&&this.setDrivenDataForRtoB()}getCustomerVerificationStatus(){return this.sessionFromStore.customerVerificationStatus}isPriceQuotecountry(s){return!(this.isPPSprofile||!this.isPriceQuoteApiEnabled()||-1===e.Y.metaConfig.indexOf(s)||this.sender&&this.sender.promoCode)}isPriceQuoteApiEnabled(){return"TRUE"===P.get(this.countryConfig,"ConfigTemplate.isPriceQuoteApiEnabled")}startNavigation(){this.clearInvalidSession();const s=this.getShakeHandsObj();for(const a in s)s.hasOwnProperty(a)&&s[a]&&sessionStorage.setItem(a,s[a])}partnerHandShakeObject(){const s=this.getPartnerHandShakeObject();if(s)for(const a in s)s.hasOwnProperty(a)&&s[a]&&("object"==typeof s[a]?sessionStorage.setItem(a,JSON.stringify(s[a])):sessionStorage.setItem(a,s[a]))}setDrivenDataForRtoB(){if(sessionStorage.getItem("corridor")){const s=JSON.parse(sessionStorage.getItem("corridor")||"null");this.corridor.receiverCountry={isoCode:s?.receiverCountry?.isoCode||""},this.corridor.senderCountry={isoCode:s?.senderCountry?.isoCode||""},this.updateStore.updateCorridor(this.corridor),sessionStorage.removeItem("corridor")}if(sessionStorage.getItem("selectedProduct")){const s=JSON.parse(sessionStorage.getItem("selectedProduct")||"null");this.selectedProduct.payIn=s?.payIn||"",this.selectedProduct.payOut=s?.payOut||"",this.selectedProduct.code=s?.code||"",this.updateStore.updateSelectedProduct(this.selectedProduct),sessionStorage.removeItem("selectedProduct")}if(sessionStorage.getItem("userJourney")){const s=sessionStorage.getItem("userJourney")||"";this.updateStore.updateUserJourney(s)}sessionStorage.getItem("sender")&&(this.sender||(this.sender={}),this.sender.isSWBProfile=!1,this.updateStore.updateSender(this.sender),sessionStorage.removeItem("sender"))}isMobileDevice(){let s=!1;return navigator&&navigator.userAgent&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(s=!0),s}getDestnCountryObject(){return{isoCode:this.corridor.receiverCountry?this.corridor.receiverCountry.isoCode:null,selectedCurrency:{isoCode:this.corridor.receiverCurrency?this.corridor.receiverCurrency:null}}}getReceiverCurrency(){return this.sessionFromStore&&this.sessionFromStore.corridor?this.sessionFromStore.corridor.receiverCurrency:null}getSourceCountryObject(){return{isoCode:this.corridor.senderCountry?this.corridor.senderCountry.isoCode:null,selectedCurrency:this.getSelectedCurrencyObject(),name:this.corridor.senderCountry?this.corridor.senderCountry.name:null}}getSelectedCurrencyObject(){return{lockOnReceive:this.getLockOnReceive(),isoCode:this.corridor.senderCurrency?this.corridor.senderCurrency:null}}getLockOnReceive(){const s=this.corridor.senderCountry?this.corridor.senderCountry.isoCode:null,a=this.corridor.receiverCountry?this.corridor.receiverCountry.isoCode:null;let c;return c="US"===s?e.Y.forCorridorsUS.countryCode:"BR"===s||"TRUE"===this.countryConfig?.ConfigTemplate.isRetail?e.Y.forCorridorsBR.countryCode:e.Y.forCorridorsINTL.countryCode,-1!==c.indexOf(a)?"Y":"N"}updateStoreFromSession(){const s=sessionStorage.getItem("page_name")||null;s&&sessionStorage.setItem("LastPage",s),"receipt"===s&&(sessionStorage.removeItem("transactionHistoryResp"),sessionStorage.removeItem("isTransactionFavorited"),this.updateStore.cleanTransactionHistory()),("receipt"===s||"review"===s)&&this.updateStore.cleanReminderId(),"completeyourprofile"===s&&this.isLeanRegistrationEnabled()&&this.updateProductsFromCatalogResponse(),this.updateValidationResponse();const a=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}"),c=JSON.parse(sessionStorage.getItem("ValidationRequest")||"{}"),r=JSON.parse(sessionStorage.getItem("ValidationResponse")||"{}"),g=this.isTransactionBillOrInmateOrMobileReload(e.Y.userJourneyBillPay),p=this.isTransactionBillOrInmateOrMobileReload(e.Y.userJourneyInmatePay),h=this.isTransactionBillOrInmateOrMobileReload(e.Y.userJourneyMobileReload);if(this.updateSMVReqAndResStore(c,r),this.updateSenderStore(a),this.updateLoyalitValue(),this.updateCustomerVerification(),this.updateNotificationInStore(),this.updateClientIp(),this.updateSessionId(),this.updatePartnerData(),this.updatePPSProfile(),this.updateEflToStore(),"Y"===sessionStorage.getItem("promotionCodeFlag")&&this.updatePromoCodeFromSession(),this.updateReceiverList(),this.updateSendAgainTransactionDetails(),this.updateSelectedReceiver(),this.updateSessionFlagsStore(),this.updateSelectedReceiverClear(),this.updateAbandonTransactionParams(),this.updateSignicatInitiated(),"sending_money"===sessionStorage.getItem("userJourney")?this.updateSelectedProduct():"price-estimator"===sessionStorage.getItem("userJourney")&&(this.updateUserJourney(),this.updateSmoSenderCountry(),this.updateReceiverCountry(),this.updateSenderAmount(),this.updateReceiverAmount(),this.updateSelectedProduct(),this.updateForCountry()),(g||p||h)&&(this.updateUserJourney(),this.updateSenderAmount(),this.updateSelectedProductForBillAndInmatePay(),this.updateSelectedBiller(),this.updateReceiverAmount(),this.updateReceiverCountry()),("refer-friend"===sessionStorage.getItem("userJourney")||"receive-money"===sessionStorage.getItem("userJourney"))&&this.updateUserJourney(),"edit-receiver-name"===sessionStorage.getItem("userJourney")&&this.updateStore.updateUserJourney(sessionStorage.getItem("userJourney")),this.updateDucResponses(),sessionStorage.getItem("GuestInfo")&&this.updateGuestInfo(),this.updatePepCategory(),this.updateCompliance(),this.updateTdsJWT(),sessionStorage.getItem("StoreResponse")&&(window.location.href.includes("web/send-money/progress")||this.clearSession()),"receipt"===s&&this.isScheduledTransferEnabled()&&this.updateStore.cleanReceiverList(),sessionStorage.getItem("ocrFlowEnable")){const l=JSON.parse(sessionStorage.getItem("ocrFlowEnable")||"null");this.updateStore.updateOCRFlowEnable(l)}if(sessionStorage.getItem("VerificationOptionList")){const l=JSON.parse(sessionStorage.getItem("VerificationOptionList")||"null");this.updateStore.updateVerificationOptionList(l)}sessionStorage.getItem("myeKycValidationError")&&(this.updateStore.updateValidationError(sessionStorage.getItem("myeKycValidationError")),sessionStorage.removeItem("myeKycValidationError")),"true"===sessionStorage.getItem("navigateToPayInChange")&&this.updateStore.updateToPayInChange(!0)}updateProductsFromCatalogResponse(){const s=JSON.parse(sessionStorage.getItem("PriceCatalogRes")||"{}"),a=JSON.parse(sessionStorage.getItem("PriceCatalogReq")||"{}");if(!P.isEmpty(s)&&!P.isEmpty(a)){const c=this.priceCatalog.updateProductsDetails(s,null,a);P.isEmpty(c)||this.updateStore.updateProducts(c)}}isLeanRegistrationEnabled(){const s=P.get(this.corridor,"senderCountry.isoCode",null);return!this.isPPSprofile&&this.featureFlagService.isFeatureEnabled("LEAN_REGISTRATION_ENABLED")&&(A.K.LEAN_REG_ENABLED_COUNTRIES.indexOf(s)>-1||"true"===sessionStorage.getItem("isLeanRegistrationFlowEnabled"))}isScheduledTransferEnabled(){return!this.isPPSprofile&&P.isEmpty(this.getPartnerHandShakeObject())&&(this.featureFlagService.isFeatureEnabled("CREATE_SCHEDULED_TRANSFER")||"true"===sessionStorage.getItem("Scheduled_Transfer_Enabled"))}isTransactionBillOrInmateOrMobileReload(s){const a=sessionStorage.getItem("SummaryObjects")&&JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}").type?JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}").type:null,c=sessionStorage.getItem("userJourney");return a===s&&c===s}updateTdsJWT(){const s=JSON.parse(sessionStorage.getItem("tdsJWT")||"{}");this.updateStore.updateTDSJWT(s)}updateCompliance(){const s=JSON.parse(sessionStorage.getItem("ComplianceData")||"{}");let a;if(s&&s.id_documents&&s.id_documents.id_document){const c=s.id_documents.id_document.length;a=new Array(c);for(let r=0;r<c;r++)a[r]=s.id_documents.id_document[r]}this.updateStore.updateComplianceWeb({relationshipToReceiver:sessionStorage.getItem("SenderReceiverRelationship")||"",idDetails:a})}updatePepCategory(){const s=JSON.parse(sessionStorage.getItem("ComplianceData")||"{}");let a;a=s.is_politically_exposed?{is_politically_exposed:s.is_politically_exposed,pepCategory:s.pep_category}:null,this.updateStore.updatePepCategory(a)}updateGuestInfo(){const s=JSON.parse(sessionStorage.getItem("GuestInfo")||"{}"),a=s.sender?s.sender:null;this.updateStore.updateGuestInfoSender(a||""),this.updateStore.updateUserFlow(!0);const c=this.getSenderObjectFromGuestInfo(a);this.updateStore.updateSender(c||"")}getSenderObjectFromGuestInfo(s){let a={};if(s){if(s.address&&s.address.addrLine1){const c=s.address.addrLine1;delete s.address.addrLine1,s.address.addressLine1=c}return s.name&&(a={...s,...s.name}),a}return s}updateValidationResponse(){const s=JSON.parse(sessionStorage.getItem("ValidationResponse")||"{}");this.updateStore.updateSendMoneyValidationResponse(s||"")}updateDucResponses(){let s=sessionStorage.getItem("SendMoneyObjects");null===s&&(s=sessionStorage.getItem("StoreResponse")),this.updateStore.updateSendMoneyObjects(s||"");const a=sessionStorage.getItem("initiateCustomerVerificationResp");this.updateStore.updateICVResponse(a||"");const c=sessionStorage.getItem("VerifyCustomerResp");this.updateStore.updateVerifyCustomerStatus(c||"");const r=sessionStorage.getItem("CustomerVerificationStatus");this.updateStore.updateCustomerVerificationStatus(r||"");const p="KYCConfigTemplate_"+P.get(this.countryConfig,"ConfigTemplate.country"),h=sessionStorage.getItem(p);this.updateStore.updateAWSKycConfigResponse(h||"")}updateSignicatInitiated(){const s=sessionStorage.getItem("signicat_initiated")||"false";this.updateStore.updateSignicatInitiatedStatus(s)}updateAbandonTransactionParams(){const s=sessionStorage.getItem("abandonedCartToken");s?this.updateStore.updateAbandonedToken(s):this.sessionFromStore.abandonedCartToken&&this.updateStore.clearAbandonedToken()}updateSessionFlagsStore(){const s=this.sessionFlags;sessionStorage.getItem("digitalCancelFlow")&&(s.digitalCancelFlow=sessionStorage.getItem("digitalCancelFlow")||""),sessionStorage.getItem("digitalCancelFromTAT")&&(s.digitalCancelFromTAT=sessionStorage.getItem("digitalCancelFromTAT")||""),sessionStorage.getItem("digitalNameChangeFlow")&&(s.digitalNameChangeFlow=sessionStorage.getItem("digitalNameChangeFlow")||""),sessionStorage.getItem("digitalNameChangeFromTAT")&&(s.digitalNameChangeFromTAT=sessionStorage.getItem("digitalNameChangeFromTAT")||""),sessionStorage.getItem("retailCancelRetailRedirect")&&(s.nameChangeDigitalRedirect=sessionStorage.getItem("retailCancelRetailRedirect")||""),sessionStorage.getItem("retailCancelRetailRedirect")&&(s.nameChangeDigitalRedirect=sessionStorage.getItem("retailCancelDigitalRedirect")||""),sessionStorage.getItem("transactionStatus")&&(s.transactionStatus=sessionStorage.getItem("transactionStatus")||""),sessionStorage.getItem("token_pin")&&(s.token_pin=JSON.parse(sessionStorage.getItem("token_pin")||"{}")),sessionStorage.getItem("nameChangeDigitalRedirect")&&(s.nameChangeDigitalRedirect=sessionStorage.getItem("nameChangeDigitalRedirect")||""),sessionStorage.getItem("isUnverifiedWUpayUser")&&(s.isUnverifiedWUpayUser="true"===sessionStorage.getItem("isUnverifiedWUpayUser")||!1,sessionStorage.removeItem("isUnverifiedWUpayUser")),this.updateStore.updateSessionFlags(s)}updatePromoCodeFromSession(){const s=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}"),a=this.getPromotionalDiscount(),c=JSON.parse(sessionStorage.getItem("ValidationResponse")||"{}");(s&&s.promotional_code_discount&&a||this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.campaign_name)&&(c&&c.sender&&c.sender.campaign_name&&c.sender.end_date&&c.sender.subscription_id&&this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.campaign_name&&(s.promotional_code_discount="",delete this.selectedProduct.promotion),this.updateStore.updatePromoCode(s.promotional_code_discount))}clearSession(){const s=["app","promotionCodeFlag","SendMoneyObjects","sendMoneyResponse","SummaryObjects","ValidationRequest","ValidationResponse","ReceiverTransactionsHistory","GetLimits_k","GetLimits_v","VerifyCustomerResp","ComplianceData","CollectIdErrorRespCode","SenderOccupation","employmentPositionLevel","SenderEmploymentPositionLevel","occupation","placeOfBirth"];window.location.href.includes("web/send-money/decline")||s.push("ErrorResponse");for(let c=0;c<s.length;c++)null!=sessionStorage.getItem(s[c])&&sessionStorage.removeItem(s[c])}updateEflToStore(){const s=JSON.parse(sessionStorage.getItem("Efl")||"{}");this.updateStore.updateEfl(s)}updatePPSProfile(){if("PPS"===sessionStorage.getItem("applicationName")){this.updateStore.updatePPSProfile(!0);const s=JSON.parse(sessionStorage.getItem("CustomerProfile")||"null");s&&this.updateStore.updatePPSProfileData(s)}}updatePartnerData(){if(sessionStorage.getItem("retrieveResponseData")&&"googlespot"===sessionStorage.getItem("partnerName")?.toLowerCase()){this.updateStore.updateHostedPartner(!0);const s={partnerName:sessionStorage.getItem("partnerName")?.toLowerCase()||null,retrieveResponseData:JSON.parse(sessionStorage.getItem("retrieveResponseData")||"null")};s&&this.updateStore.updatePartnerPayloadData(s)}}updateSMVReqAndResStore(s,a){s&&a&&(this.updateStore.updateSendMoneyValidationResponse(a),this.updateStore.updateSendMoneyValidationBody(s))}updateSenderStore(s){const a=sessionStorage.getItem("loyalityCardsUpdated");if(s&&!P.isEmpty(s.preferredCustomer)){const c=s,r=!!c.preferredCustomer,p={isSWBProfile:sessionStorage.getItem("IsSWB")?JSON.parse(sessionStorage.getItem("IsSWB")||"{}"):null,email:c.email,dateOfBirth:c.dateOfBirth,fbMsgEnabled:c.fbMsgEnabled,verificationStatus:c.identityVerificationStatus,termsConditionFlag:c.termsConditionFlag,myWuNumber:c.preferredCustomer.accountNbr,address:this.getAddressObject(c.address),isLoggedIn:r,contactPhoneCountryPrefix:c.contactPhoneCountryPrefix,contactPhone:c.contactPhone,mobileNumber:{countryCode:c.mobilePhone?c.mobilePhone.phoneNumber?.countryCode:"",mobileNumber:c.mobilePhone?c.mobilePhone.phoneNumber?.nationalNumber:""}};"false"===a&&(p.loyalityCardsUpdated=!1);const h=this.featureFlagService.isFeatureEnabled("LOYALTY_WU_DIGITAL")||"true"===sessionStorage.getItem("isLoyaltyProgramEnabled"),l=JSON.parse(sessionStorage.getItem("app"))||{};h&&P.has(l,"sender.encUmn")&&(p.encUmn=P.get(l,"sender.encUmn")),c.name.firstName&&(p.firstName=c.name.firstName),c.name.lastName&&(p.lastName=c.name.lastName),c.name.givenName&&(p.givenName=c.name.givenName),c.name.paternalName&&(p.paternalName=c.name.paternalName),c.name.maternalName&&(p.maternalName=c.name.maternalName),c.name.middleName&&(p.middleName=c.name.middleName),c.pinStatus&&(p.pinStatus=c.pinStatus),c.additionalPreferredCustomers&&c.additionalPreferredCustomers.preferredCustomer&&c.additionalPreferredCustomers.preferredCustomer.accountNbr&&(p.additionalPreferedAccountNumber=c.additionalPreferredCustomers.preferredCustomer.accountNbr),s.nationalIdNumber&&(p.nationalIdNumber=s.nationalIdNumber);const v={};c.dateOfBirth&&(v.dob=c.dateOfBirth),c.occupation&&(v.occupation=c.occupation),c.annual_income&&(v.annual_income=c.annual_income),c.nationality&&(v.nationality={isoCode:c.nationality,name:c.nationality}),c.countryOfBirth&&(v.countryOfBirth={isoCode:c.countryOfBirth,name:c.countryOfBirth}),c.placeOfBirth&&(v.placeOfBirth=c.placeOfBirth),c.employmentPositionLevel&&(v.employmentPositionLevel=c.employmentPositionLevel),c.industry&&(v.industry=c.industry),c.registrationStatus&&(v.registrationStatus=c.registrationStatus),c.registrationDate&&(v.registrationDate=c.registrationDate),c.registrationStatus&&(p.registrationStatus=c.registrationStatus),c.verificationStatus&&(p.verificationStatusActualVal=c.verificationStatus),c.r3Login&&(p.r3Login=c.r3Login),p.registrationDetails=v;const S={};c.idNumber&&(S.idNumber=c.idNumber),c.idType&&(S.idType=c.idType),c.fss_verify_flag&&(S.fss_verify_flag=c.fss_verify_flag),c.FSS_status&&(S.FSS_status=c.FSS_status),c.docdetails&&(S.docdetails=c.docdetails),c.primaryDocData&&(S.primaryDocData=c.primaryDocData),c.secondaryDocData&&(S.secondaryDocData=c.secondaryDocData),s.idCode&&(p.idCode=s.idCode),s.customerCategory&&(p.customerCategory=s.customerCategory),s?.creditLines&&(p.creditLines=s.creditLines),this.featureFlagService.isFeatureEnabled("MARKETING_TRACKING_PARAMS")&&s?.preferredCustomer?.accountNbr&&(p.encryptedUmnId=N.V.hashStr(s.preferredCustomer.accountNbr)),p.customerlookupdetails=S,this.updateStore.updateSender(p)}}updateLoyalitValue(){const s=JSON.parse(sessionStorage.getItem("resLoyalityCard")||"{}");if(sessionStorage.getItem("resLoyalityCard")&&s){const a=this.sender,c=s;if(c.gatewayCustomer&&c.gatewayCustomer.additionalPreferredCustomers&&c.gatewayCustomer.additionalPreferredCustomers.preferredCustomer){const r=c.gatewayCustomer.additionalPreferredCustomers.preferredCustomer;if(a.loyalityPoints=r.totalPointsEarned,a.promoCode=r.promoCode,a.eligibilityBuffer=r.eligibilityBuffer,a.levelCode=r.levelCode,a.issueDate=r.issueDate,a.lastUseDate=r.lastUseDate,r.accountNbr&&(a.additionalPreferedAccountNumber=r.accountNbr),"TRUE"===this.countryConfig?.ConfigTemplate.UseCasePromo.toUpperCase()&&r.promoCodes&&r.promoCodes.promoCode){const g=[];for(const p of r.promoCodes.promoCode)if("USECASE_PROMO"===p.type){const h=new $.pn;h.campaignId=p.campaignId,h.expirationDate=p.expirationDate,h.promoCode=p.promoCode,h.promoDescription=p.promoDescription,h.promoTitle=p.promoTitle,h.type=p.type,h.isExpand=!1,g.push(h)}a.useCasePromoDetail=g,a.myWuPromo=this.buildMyWuPromos(r.promoCodes.promoCode)}}c.rewardHistory&&c.rewardHistory.rewards&&c.rewardHistory.rewards.reward&&(a.pendingPromoValue=c.rewardHistory.rewards.reward[0].value,a.pendingPromoPoints=c.rewardHistory.rewards.reward[0].points,a.pendingPromoType=c.rewardHistory.rewards.reward[0].type,a.pendingPromoType=c.rewardHistory.rewards.reward[0].type&&c.rewardHistory.rewards.reward[0].type.includes("PERC")?"%":this.corridor.senderCurrency,a.isPendingPromo=!0,a.rewardHistory=c.rewardHistory),c.rewardList&&c.rewardList.rewards&&c.rewardList.rewards.reward&&(a.rewardList=c.rewardList),c.promoCodes&&c.promoCodes.promoCode&&(a.promoCode=c.gatewayCustomer.additionalPreferredCustomers.preferredCustomer.promoCode),this.updateStore.updateSender(a)}}updateCustomerVerification(){const s=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}");if(sessionStorage.getItem("CustomerVerificationStatus")&&s){this.updateStore.updateCustomerVerificationStatus(s);const a=this.sender,c=s;a.customerVerificationStatus={isEligibleToTransact:c.isEligibleToTransact,customerStatus:c.customerStatus,occasionalFlag:c.occasionalFlag,identityFlag:c.identityVerificationStatus?c.identityVerificationStatus:this.sender&&this.sender.verificationStatus,sendersKyc:c.sender,token:c.token,verificationFlag:c.verificationFlag},c.transaction_id&&(a.customerVerificationStatus.transactionId=c.transaction_id),c.token_time_in_minutes&&(a.customerVerificationStatus.token_time_in_minutes=c.token_time_in_minutes),c.verificationStatusReponseTime&&(a.customerVerificationStatus.verificationStatusReponseTime=c.verificationStatusReponseTime),c.pinStatus&&(a.customerVerificationStatus.pinStatus=c.pinStatus),c.customerUnverifiedFlag&&(a.customerVerificationStatus.customerUnverifiedFlag=c.customerUnverifiedFlag),s.kycStatus&&(a.customerVerificationStatus.kycStatus=c.kycStatus),this.updateStore.updateSender(a)}}buildMyWuPromos(s){const a=[];for(const c of s)if("MYWU_PROMO"===c.type){const r=new $.CH;r.promoCode=c.promoCode,r.type=c.type,a.push(r)}return a}updateReceiverList(){const s=JSON.parse(sessionStorage.getItem("GetReceivers_v")||"null");this.updateStore.getState()&&null!==this.updateStore.getState().receiverList||s&&s.receivers&&s.receivers.receiver&&this.updateStore.updateReceiverList(s)}getAddressObject(s){s=s||{};const a=new x.pV;return a.addressLine1=s.addrLine1,a.state=s.state,a.city=s.city,a.zipCode=s.zipCode?s.zipCode:s.postalCode,a.countryIsoCode=s.countryIsoCode,s.addrLine2&&(a.addressLine2=s.addrLine2),s.advvStatus&&(a.advvStatus=s.advvStatus),a}getValidationRequest(){return this.smvRequest instanceof Object&&!1===P.isEmpty(this.smvRequest)?(this.smvRequest?.sender?.additional_preferred_customers&&this.sender?.additionalPreferedAccountNumber&&(this.smvRequest.sender.additional_preferred_customers={preferred_customer:{account_nbr:this.sender.additionalPreferedAccountNumber}}),JSON.stringify(this.smvRequest)):null}getValidationResponse(){if(this.smvResponse instanceof Object&&!1===P.isEmpty(this.smvResponse))return this.smvResponse?.sender?.additional_preferred_customers&&this.sender?.additionalPreferedAccountNumber&&(this.smvResponse.sender.additional_preferred_customers={preferred_customer:{account_nbr:this.sender.additionalPreferedAccountNumber}}),this.smvResponse?JSON.stringify(this.smvResponse):null}getSendMoneyvalidationResponse(){if(this.smvResponse instanceof Object&&!1===P.isEmpty(this.smvResponse))return this.smvResponse?JSON.stringify(this.smvResponse):null}getSenderMEXObj(){return JSON.stringify({selectedCityState:(this.corridor.receiverCity?this.corridor.receiverCity:null)+","+(this.corridor.receiverState?this.corridor.receiverState.name:null),mexCity:this.corridor.receiverCity?this.corridor.receiverCity:null,mexState:this.corridor.receiverState?this.corridor.receiverState.name:null,mexStateCode:this.corridor.receiverState?this.corridor.receiverState.isoCode:null})}getDirectedServiceRes(){return JSON.parse(sessionStorage.getItem("SummaryObjectsOld")||"{}")||null}getAgentStoreList(){const s=this.getDirectedServiceRes();if(this.agentStoreList=[],s&&s.AG){const a=s.AG,c=a.length;for(let r=0;r<c;r++)a[r]&&a[r].paymentDetails.paymentType===this.selectedProduct.payIn&&"Y"===a[r].wuProduct.isDirected&&this.agentStoreList.push({wuProduct:a[r].wuProduct,paymentDetails:a[r].paymentDetails})}return 0===this.agentStoreList.length?null:JSON.stringify(this.agentStoreList)}getCurrentSelectedAgentName(){return this.sessionFromStore.selectedAgentProduct&&this.sessionFromStore.selectedAgentProduct.location?this.sessionFromStore.selectedAgentProduct.location:null}getMEXAgentStoreIndex(){let s;if(this.agentStoreList&&0!==this.agentStoreList.length){const a=this.agentStoreList,c=a.length;for(let r=0;r<c;r++)if(a[r]&&a[r].wuProduct&&a[r].wuProduct.location.toUpperCase()===this.selectedProduct?.location?.toUpperCase()){s=r;break}return s||0===s?JSON.stringify(s):"stores-list-default"}return null}getRetailLimits(){let s;const a=this.smoConfig.getRetailLimits();if(a&&this.corridor&&this.corridor.senderCountry&&this.corridor.senderCountry.isoCode){const c=a.findIndex(r=>r.countryIsoCode===P.get(this.corridor,"senderCountry.isoCode"));s=a[c]?.fundsOutLimit}return JSON.stringify(s)}handlePriceQuoteBand(){const s=this.corridor.receiverCountry.isoCode,a=this.smoConfig.countryCurrencyDefaults(),c=this.getCorridorList(a,s),r=this.priceQuoteServicesMeta.servicesMeta,g={serviceOptions:{}},p={};g.serviceOptions.serviceOption={},g.serviceOptions.serviceOption.WEB={},r.forEach(l=>{const v=(0,P.findKey)(x.Oi,function(m){return m===l.service});let S;"000"===l.service?S="Money in Minutes":["500","D01","D00"].includes(l.service)||this.getDSRServiceCodesFromPricing().bankServiceCodes.includes(l.service)?S="Direct to bank":"600"===l.service?S="Mobile money transfer":"800"===l.service||this.getDSRServiceCodesFromPricing()?.walletServiceCodes.includes(l.service)?S="WALLET":"200"===l.service?S="D2C":("201"===l.service||"202"===l.service)&&(S="D2C_PS"),v&&(p[v]=[]),l.payGroupsMeta.forEach(m=>{if("0"===m.maxAmount||"AP"===m.paymentType)return;const b={additionalInfo:"",channel:{}};b.channel.type="WEB",b.codeTextAdditionalInfo=[],c&&(b.identification_question_indicator="P"===c.textQuestion?"PROHIBITED":"N"===c.textQuestion?"OPTIONAL":"Y"===c.textQuestion?"REQUIRED":"NULL"),b.wuProduct={},b.wuProduct.code=l.service,b.wuProduct.maxDeliveryDays="",b.wuProduct.minDeliveryDays="",b.wuProduct.name=S,b.wuProduct.routingCode=m.routingCode,b.wuProduct.pricingContext=m.pricingContext,b.wuProduct.speedIndicator=m.speedDays,b.paymentDetails=this.getPriceQuotePaymentDetails(m,v),v&&p[v].push(b)})}),g.serviceOptions.serviceOption.WEB=p;const h=JSON.parse(sessionStorage.getItem("feeInquiryResponseRetail")||"{}");return h&&h.serviceOptions&&g.serviceOptions.serviceOption.WEB.AG.push(h.serviceOptions.serviceOption.RETAIL_MOBILE.AG[0]),g}getPriceQuotePaymentDetails(s,a){const c={destination:{},origination:{}};c.destination.countryIsoCode=this.corridor.receiverCountry.isoCode,c.destination.currencyIsoCode=this.corridor.receiverCurrency,c.origination.countryIsoCode=this.corridor.senderCountry.isoCode,c.origination.currencyIsoCode=this.corridor.senderCurrency,c.paymentType=this.getPaymentType(s),c.promotion={};let r=0,g=0,p=0,h=0,l=0;for(let v=0;v<this.products.length;v++)this.products[v].payIn===c.paymentType&&this.products[v].payOut===a&&(r=100*this.products[v].fees,g=Number(this.products[v].exchangeRate),p=P.get(this.products[v],"destination.expectedPayoutAmount"),h=P.get(this.products[v],"origination.principalAmount"),l=P.get(this.products[v],"origination.grossAmount"));return c.destination.expectedPayoutAmount=p,c.origination.principalAmount=h,c.origination.grossAmount=l,c.exchangeRate=g.toFixed(4),c.displayExchangeRate=g.toFixed(4),c.fullExchangeRate=g,c.fees={},c.fees.accuracy="EXACT",c.fees.charges=r,c.destination&&c.destination.splitPayOut&&(c.destination.split_payout=c.destination.splitPayOut),c}getPaymentType(s){let a=s.paymentType.toUpperCase();return a="CC"===a||"CA"===a?"CreditCard":"SF"===a?"Sofort":"EB"===a?"WUPay":"AC"===a?"ACH":"FP"===a?"FPX":"MW"===a?"IBP":"PF"===a?"PartnerFunds":"BA"===a?"BankAccount":"PA"===a?"Plaid":"BN"===a?"BanContact":"C3"===a?"C3":"TK"===a?"TK":s.paymentTypeDescription,a}getCorridorList(s,a){let c={};for(c of s.countries)if(c.country.isoCode.toUpperCase()===a.toUpperCase())return c.country}updateCookieStore(){const s=JSON.parse(sessionStorage.getItem("cookiestore")||"{}");if(sessionStorage.getItem("cookiestore")&&s){const a=s;return a.lastCountry=this.getReceivingCountry(),a.lastSendAmount=this.sessionFromStore.senderAmount,a.lastReceiveAmount=this.sessionFromStore.receiverAmount,a.lastPreferredAmount="send_amount",a.lastCurrency=this.getReceiverCurrency(),a.lastFundsOut=this.getPayOut(),a.lastFundsIn=this.selectedProduct.payIn,JSON.stringify(a)}return null}updateNotificationInStore(){const s=JSON.parse(JSON.stringify(this.notification));sessionStorage.getItem("RecentlyVerified")&&(s.userVerifiedRecently=!0,sessionStorage.removeItem("RecentlyVerified")),"true"===sessionStorage.getItem("fpxRepeatError")&&(s.fpxRepeatError=!0,sessionStorage.removeItem("fpxRepeatError")),sessionStorage.getItem("cancelIBPTransfer")?(s.cancelIBPTransfer=!0,sessionStorage.removeItem("cancelIBPTransfer")):s.cancelIBPTransfer=!1,"PPS"===sessionStorage.getItem("applicationName")&&(s.isNotPPS=!1),"true"===sessionStorage.getItem("DUOTSucess")&&(s.DUOTSucess=!0),"true"===sessionStorage.getItem("RegMessageFlag")?(s.regMessageFlag1=!0,sessionStorage.setItem("RegMessageFlag","false")):s.regMessageFlag1=!1,"true"===sessionStorage.getItem("showAbandonedTransactionDetails")&&(s.isAbandonedTransactionDetails=!0),this.updateStore.updateNotifications(s)}updateClientIp(){if(sessionStorage.getItem("ClientIp")){const s=sessionStorage.getItem("ClientIp");this.updateStore.updateClientIp(s)}}updateSessionId(){if(sessionStorage.getItem("cookiestore")){const s=JSON.parse(sessionStorage.getItem("cookiestore")||"{}");s.SessionId&&this.updateStore.updateSessionId(s.SessionId)}}getPostalCode(){let s="";const a=this.getAKZipCodes();return this.sender&&this.sender.address&&this.sender.address.postalCode?s=this.sender.address.postalCode:a&&a.length>0?s=a[0]:this.corridor&&this.corridor.senderCountry&&"US"===this.corridor.senderCountry.isoCode&&(s="94107"),s}getAKZipCodes(){const s=this.cookieService.get("AKZip");let a=[];return s&&(a=s.split(/[^0-9a-zA-Z]/)),a}getSendAgainTransactionDetails(){return this.selectedReceiver&&this.sendAgainTxnData?JSON.stringify(this.sendAgainTxnData):null}updateSendAgainTransactionDetails(){const s=JSON.parse(sessionStorage.getItem("SendAgainTxnDetails")||"null");s&&s.receiver&&!this.selectedReceiver&&this.updateStore.updateSelectedReceiver(s.receiver)}updateSelectedReceiver(){const s=this.getUserJourney(),a=JSON.parse(sessionStorage.getItem("SummaryObjects")||"null");s===e.Y.userJourneyInmatePay&&a&&a.first_name&&this.updateStore.updateSelectedReceiver({name:{firstName:a.first_name,middleName:a.middle_name,lastName:a.last_name}})}updateSelectedReceiverClear(){sessionStorage.getItem("clearSelectedReceiveData")&&(this.updateStore.updateSelectedReceiver(null),sessionStorage.removeItem("clearSelectedReceiveData"))}updateCreditDebitCard(s){const a=s.paymentDetails.creditDebitCard,c={paymentInstrumentId:a.paymentInstrumentId,customerName:{firstName:P.get(a,"customerName.firstName")?P.get(a,"customerName.firstName"):P.get(s,"sender.name.firstName"),lastName:P.get(a,"customerName.lastName")?P.get(a,"customerName.lastName"):P.get(s,"sender.name.lastName")},address:{addrLine1:a.address.addrLine1,city:a.address.city,countryIsoCode:a.address.countryIsoCode,postalCode:a.address.postalCode,state:a.address.state},cardNumber:a.cardNumber,cardType:a.cardType,expirationDate:a.expirationDate,cardConsentFlag:a.cardConsentFlag,cardCategory:a.cardCategory};return!c.cardType&&(P.get(s,"paymentDetails.paymentMethod.payment_sub_type")===P.get(A.K,"CONST_CARD_TYPES.MIR_CARD")||P.get(s,"paymentDetails.paymentMethod.payment_sub_type")===P.get(A.K,"CONST_CARD_TYPES.ELECTRON_CARD"))&&(c.cardType=P.get(s,"paymentDetails.paymentMethod.payment_sub_type")),a.cvvii_code&&(c.cvvii_code=a.cvvii_code),c}formatReceiverWallet(s){const a={},c={},r={};return Object.keys(s[0]).forEach(p=>{const h=p.replace(/([a-zA-Z])(?=[A-Z])/g,"$1_").toLowerCase(),l={},v=JSON.parse(JSON.stringify(s[0][p]));P.isObject(v)?(Object.keys(v).forEach(S=>{const m=S.replace(/([a-zA-Z])(?=[A-Z])/g,"$1_").toLowerCase(),b=JSON.parse(JSON.stringify(s[0][p][S]));l[m]=b}),r[h]=l):r[h]=v}),c.bank_account=[r],a.bank_accounts=c,a}getQuestion(){return this.selectedReceiver&&this.selectedReceiver.secretQuestion&&this.selectedReceiver.secretQuestion.question?this.selectedReceiver.secretQuestion.question:P.get(this.sessionFromStore,"sendAgainTransactionData.paymentDetails.identificationQuestion.question")}getAnswer(){return this.selectedReceiver&&this.selectedReceiver.secretQuestion&&this.selectedReceiver.secretQuestion.answer?this.selectedReceiver.secretQuestion.answer:P.get(this.sessionFromStore,"sendAgainTransactionData.paymentDetails.identificationQuestion.answer")}getPOTForMY(){let s=null;return"MY"===P.toUpper(P.get(this.corridor,"senderCountry.isoCode"))&&P.get(this.smvResponse,"sender.compliance_details.transaction_purpose")&&(s=P.get(this.smvResponse,"sender.compliance_details.transaction_purpose")),s}getSOFForMY(){let s=null;return"MY"===P.toUpper(P.get(this.corridor,"senderCountry.isoCode"))&&P.get(this.smvResponse,"sender.compliance_details.source_of_funds")&&(s=P.get(this.smvResponse,"sender.compliance_details.source_of_funds")),s}updatePriceContextDataInSession(s){let a=s.pricingContext;return this.selectedProduct&&s.code===this.selectedProduct.code&&s.payIn===this.selectedProduct.payIn&&s.payOut===this.selectedProduct.payOut&&(a=this.selectedProduct.pricingContext),a}getLastTransactionData(){const s={};try{if(this.sessionFromStore?.customerTxnDetails){if(this.sessionFromStore.customerTxnDetails?.lastTransactionDate){const a=new Date(this.sessionFromStore.customerTxnDetails?.lastTransactionDate),c=new Date(a).getTime();s.transactionDatestamp=c}s.transactionCount=this.sessionFromStore.customerTxnDetails?.transactionCount}return JSON.stringify(s)}catch(a){console.error(a)}}getReceivingCountryIsoCode(){let s="";const a=JSON.parse(this.getSummaryObjects());return a&&a.flag_position&&a.flag_position.length>0&&(s=a.flag_position.toLowerCase()),s}getDSRServiceCodesFromPricing(){const s=JSON.parse(sessionStorage.getItem("PriceCatalogRes")||"{}"),a={bankServiceCodes:[],walletServiceCodes:[]};return s&&s.services_groups&&s.services_groups.length&&s.services_groups.length>0&&s.services_groups.forEach(c=>{c.service.startsWith("5")&&"500"!==c.service&&a.bankServiceCodes.push(c.service),c.service.startsWith("8")&&"800"!==c.service&&a.walletServiceCodes.push(c.service)}),a}static#e=this.\u0275fac=function(a){return new(a||O)(_.KVO(M.Ix),_.KVO(o.il),_.KVO(W.k),_.KVO(K.l9),_.KVO(U.O),_.KVO(f.M),_.KVO(K.qd),_.KVO(C.y),_.KVO(E.m))};static#t=this.\u0275prov=_.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},32497:(n,d,t)=>{"use strict";t.d(d,{D:()=>x});var o=t(45286),e=t(54438);let x=(()=>{class ${constructor(){this._spinnerSubject=new o.B7,this._inlineSpinnerSubject=new o.B7,this.callStack=[],this.spinnerState=this._spinnerSubject.asObservable(),this.inlineSpinnerState=this._inlineSpinnerSubject.asObservable(),this.isPOAFlowEnabled=!1}show(){this._spinnerSubject.next({show:!0})}hide(){this._spinnerSubject.next({show:!1})}hideInlineSpinner(){this._inlineSpinnerSubject.next({show:!1})}startCall(){this.show(),this.callStack.push(1),this.isPOAFlowEnabled=!1,"TRUE"===(sessionStorage.getItem("isLoadertext")||"false")&&(this.isPOAFlowEnabled=!0),sessionStorage.removeItem("isLoadertext")}endCall(){this.callStack.pop(),0===this.callStack.length&&this.hide()}static#e=this.\u0275fac=function(V){return new(V||$)};static#t=this.\u0275prov=e.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},79817:(n,d,t)=>{"use strict";t.d(d,{G:()=>$});var o=t(14421),e=t(8841),x=t(54438);let $=(()=>{class W{constructor(V){this.transferState=V}fetch(V,P){const D=this.transferState.get(V,null);return D?(0,o.of)(D):P.pipe((0,e.M)(f=>{this.transferState.set(V,f)}))}static#e=this.\u0275fac=function(P){return new(P||W)(x.KVO(x.pJN))};static#t=this.\u0275prov=x.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},90720:(n,d,t)=>{"use strict";t.d(d,{b:()=>M});var o=t(78863),e=t(14421),x=t(84787),$=t(90696),W=t(54438),K=t(60177),V=t(49090),P=t(8841);const D="forgot-password-step1",f="register-step1",C="dut-lbp-lookup",A="dut-lbp-docupload",E=[{pageUrl:"send-money/start",keys:["sendmoneyoption","globaldisclaimerwidget","summarwidget"]},{pageUrl:"send-money/static-estimate",keys:["static-estimate"]},{pageUrl:"user/login",keys:["login","sm-login","stickynotification"]},{pageUrl:"user/sm-login",keys:["login","sm-login","stickynotification"]},{pageUrl:"user/session-expired",keys:["login","sm-login","stickynotification"]},{pageUrl:"user/forgot-password",keys:[D]},{pageUrl:"user/reset-password",keys:[f,"change-password","security-question"]},{pageUrl:"user/register-verify-email",keys:["emailpin"]},{pageUrl:"user/emailpin",keys:["emailpin"]},{pageUrl:"user/phone-verification",keys:["login","phoneverification"]},{pageUrl:"user/cruise",keys:["cruise"]},{pageUrl:"user/register-cruise-init",keys:["register-cruise-init"]},{pageUrl:"user/register",keys:[D,f,"sendmoneyoption","phoneverification"]},{pageUrl:"user/verification-instructions",keys:["verificationInstructions","stickynotification"]},{pageUrl:"user/onboarding",keys:["onboarding-sdq","stickynotification"]},{pageUrl:"user/credit-builder",keys:["stickynotification"]},{pageUrl:"account/history",keys:["history","stickynotification"]},{pageUrl:"account/manage-reminders",keys:["manage-reminders","myreceivers","kyc-confirm-txn","globalcollectid"]},{pageUrl:"/receiver",keys:["opt-receiver","receiverinfo","stickynotification","profile","summarwidget","globaldisclaimerwidget","sendmoneyoption","fraud-warning"]},{pageUrl:"/payment",keys:["paymentinfo-bank","paymentinfo-card","summarwidget","globaldisclaimerwidget"]},{pageUrl:"enable-service",keys:["enable-service"]},{pageUrl:"lbp/home",keys:[f,"lbp-home"]},{pageUrl:"lbp/login",keys:["login","sm-login","stickynotification"]},{pageUrl:"lbp/register",keys:[D,f]},{pageUrl:"lbp/lookup",keys:[C,f]},{pageUrl:"lbp/sdq",keys:[f,"dut-lbp-sdq",C]},{pageUrl:"lbp/finish",keys:["dut-lbp-finish",C]},{pageUrl:"lbp/doc-upload-verify",keys:[A]},{pageUrl:"lbp/doc-upload",keys:[A,"kycoption-duc"]},{pageUrl:"lbp/doc-upload-primary",keys:[A]},{pageUrl:"lbp/doc-upload-secondary",keys:[A]},{pageUrl:"lbp/forgot-password",keys:[D]},{pageUrl:"global-service",keys:["track-transfer","track-success","stickynotification"]}],_="wucom";let M=(()=>{class U{constructor(O,G,s){this.readURL=O,this.httpService=s,this.isServerRender=!1,this.isUSSender=!1,this.maxPartialKeys=E.reduce((a,c)=>Math.max(a,c.keys.length),0),this.isServerRender=(0,K.Vy)(G),this.isUSSender="us"===O.getCountryFromURL()}getPageLevelTranslations(O){const G=this.readURL.getCurrentUrl(),s=E.find(r=>G.indexOf(r.pageUrl)>-1);this.isGlobal="global"===O;const a=this.isGlobal?null:this.getCached();return a&&Object.keys(a).length>this.maxPartialKeys?(0,e.of)(a):s?(0,x.H)(this.getPageLevelContent(s)).pipe((0,V.n)(r=>{const g={};return s.keys.map(p=>g[p]=(0,e.of)(r[p])),(0,$.p)(g)})):(this.getFullTranslations().subscribe(),this.getFullTranslations())}getPageLevelContent(O){const G=this.getURLParams(null,this.isGlobal,null);return G.translationKey=this.getTranslationApiKey(O),this.httpService.get("pageTranslationsV4",G)}getTranslationApiKey(O){const G=this.getPartnerName()?this.getPartnerName():sessionStorage.getItem("siteContentPartnerID");if(this.isESTranslationEnabled()&&!G)return O.keys.join(",");{let a=O.pageUrl.split("/").join("1").split("-").join(" ");return a=a.toLowerCase().replace(/[^A-Za-z0-9]/g," ").split(" ").reduce((c,r)=>c+(r.charAt(0).toUpperCase()+r.toLowerCase().slice(1))),a=a.charAt(0).toLowerCase()+a.slice(1),"1"===a.charAt(0)&&(a=a.substring(1)),a.replace("1","_")}}getObservableMap(O,G){const s={};"googlespot"===G.partner&&(G.partner=_);for(const a of O.keys)G.translationKey=a,s[a]=this.httpService.get("pageTranslations",G);return s}getFullTranslations(){const O=this.getCached();return O&&Object.keys(O).length>1?(0,e.of)(O):this.getOptimusV2Value(this.getURLParams(null,!1,""),"translationsV4")}getURLParams(O,G=!1,s){const a=this.readURL.getCountryFromURL(),c=s||this.readURL.getLanguageFromURL(),r=sessionStorage.getItem("siteContentChannelID"),g=this.getPartnerName()?this.getPartnerName():sessionStorage.getItem("siteContentPartnerID"),p=window.ACTIVE_VERSION?.contentV2Version||sessionStorage.getItem("contentV2Version")||this.readURL.dtmGetCookie("contentV2Version")||"1.0.0",h=window.ACTIVE_VERSION?.dcaasVersion||sessionStorage.getItem("dcaasVersion")||this.readURL.dtmGetCookie("dcaasVersion")||"default",l={channel:r&&""!==r?r:"web",partner:O||g||_,countryCode:!this.isESTranslationEnabled()&&G?"global":a,languageCode:c},v=this.isESTranslationEnabled();return v&&!g?(l.isEsEnabled=v,l.contentV2Version=p):(l.dcaasversion=h,l.dcaas=!0,g&&(l.countryCode=l.countryCode+"-"+g.toLowerCase())),l.channel="web",delete l.partner,l}getPartnerName(){try{const O=this.getPartnerCookie(),G=this.getAllURLParams(),s=G&&G.split("?")[1].split("&").find(a=>a.indexOf("partnerName")>-1);return s?decodeURIComponent(s.split("=")[1]):O||this.getFromCookieStore("partnerName")}catch(O){throw new Error(`getPartnerName error: ${O}`)}}getPartnerCookie(){if(this.isServerRender)return this.readURL.getSSRRequestCookie("partnerName");const O=document.cookie&&document.cookie.split(";").find(G=>G.indexOf("partnerName=")>=0);return O?O.split("=")[1]:null}getAllURLParams(){return this.readURL.getURLParams()}getCached(){const O=this.getPartnerName();let G=this.getTranslationKey(_);return O?.length&&(G=this.getTranslationKey(O)),JSON.parse(sessionStorage.getItem(G)||"null")}storeInSession(O){const G=this.getPartnerName();for(let s=0;s<sessionStorage.length;s++){const a=sessionStorage.key(s);a.includes("translate_")&&(a.includes(this.getTranslationKey(_))||!a.includes(this.getTranslationKey(G)))&&sessionStorage.removeItem(a)}G?.length>0?sessionStorage.setItem(this.getTranslationKey(G),JSON.stringify(O)):sessionStorage.setItem(this.getTranslationKey(_),JSON.stringify(O))}getTranslationKey(O){const G={country:this.readURL.getCountryFromURL(),language:this.readURL.getLanguageFromURL()},s=sessionStorage.getItem("siteContentChannelID"),a={channel:s&&""!==s?s:"web",partner:O,countryCode:G?G.country:"",languageCode:G?G.language:""};return["translate",a.channel,a.partner,a.countryCode,a.languageCode].filter(c=>null!==c).join("_")}getFromCookieStore(O){let G=null;const s=sessionStorage.getItem("cookiestore");return s&&JSON.parse(s)&&JSON.parse(s)[O]&&(G=JSON.parse(s)[O]),G}getOptimusV2Value(O,G){return this.httpService.get(G,O).pipe((0,P.M)(s=>{this.isServerRender||this.storeInSession(s)}))}isDcaasTranslationEnabled(O){let G="";return G=window.FEATURE_FLAG&&window.FEATURE_FLAG[O]?window.FEATURE_FLAG[O].countries:void 0===this.readURL.dtmGetCookie("ENABLE_DCAAS_WEB_TRANSLATION")||null===this.readURL.dtmGetCookie("ENABLE_DCAAS_WEB_TRANSLATION")?"ALL":this.readURL.dtmGetCookie("ENABLE_DCAAS_WEB_TRANSLATION"),!!G&&("ALL"===G||G.indexOf(this.readURL.getCountryFromURL())>-1)}isESTranslationEnabled(){let O="";return O=window.FEATURE_FLAG&&window.FEATURE_FLAG.ENABLE_ES_WEB_TRANSLATION?window.FEATURE_FLAG.ENABLE_ES_WEB_TRANSLATION?.countries:void 0===this.readURL.dtmGetCookie("ENABLE_ES_WEB_TRANSLATION")||null===this.readURL.dtmGetCookie("ENABLE_ES_WEB_TRANSLATION")?"":this.readURL.dtmGetCookie("ENABLE_ES_WEB_TRANSLATION"),!!O&&("ALL"===O||O.toLowerCase().indexOf(this.readURL.getCountryFromURL())>-1)}static#e=this.\u0275fac=function(G){return new(G||U)(W.KVO(o.Fq),W.KVO(W.Agw),W.KVO(o.kl))};static#t=this.\u0275prov=W.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},1013:(n,d,t)=>{"use strict";t.d(d,{a:()=>R});var o=t(54438),e=t(64646),x=t(47058),$=t(66726),W=t(7605),K=t(45286),V=t(77202),P=t(34781),D=t(64932),f=t(67376),C=t(95006),A=t(83921),E=t(77312),N=t(21626),_=t(74526),M=t(40328),U=t(35900);let w=(()=>{class k{constructor(y,I){this.logger=y,this.httpService=I,this.sendToHadoopAnalytic=T=>this.httpService.post("eventPush",T,this.setupHttpHeaderOptions()).pipe((0,C.T)(Z=>Z),(0,A.W)(Z=>(0,_.$)(Z.message||Z)),(0,E.j)(()=>this.logger.log("Hadoop Analytic api post done...")))}setupHttpHeaderOptions(){let y={};const I={"Content-Type":"application/vnd.kafka.json.v2+json",Accept:"application/vnd.kafka.v2+json"};return Object.keys(I).length>0&&I.constructor===Object&&(y={headers:new N.Lr(I)}),y}static#e=this.\u0275fac=function(I){return new(I||k)(o.KVO(U.so),o.KVO(M.k))};static#t=this.\u0275prov=o.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})();var O=t(93885),G=t(31457),s=t(37486),a=t(59073),c=t(3902),r=t(8788),g=t(60177),p=t(89377),h=t(51347),l=t(28626),v=t(4858),S=t(9325),m=t(85717);const b=window.amplitude;function Y(){return window}let R=(()=>{class k{constructor(y,I,T,te,Z,de,oe,ae,he,B,z,ie,re,Ce){this.utilService=y,this._store=I,this.router=T,this.smoConfig=te,this.route=Z,this.updateStore=de,this.hadoopAnalyticService=oe,this.fundsInUtilService=ae,this.logger=he,this.cloudRestService=B,this.featureFlagService=z,this.readURLService=ie,this.mParticlePartnerizeService=re,this.platformId=Ce,this.datahub_config={amplitude:!0},this.wuSessionStorage=window.sessionStorage,this.hadoopAnalyticsConditionalAttr={customer_id:"",subscription_id:"",subscription_expiry_date:""},this.logEventArr=[],this.isChooseOcrTileEnable=this.utilService.isChooseOcrTileEnable(),this.pageNameMappingObj=[{rawPageName:"start",cookedPageName:"send-money-option"},{rawPageName:"single-upload",cookedPageName:"kyc-option-duc"},{rawPageName:"kycoption-duc",cookedPageName:"kyc-option-duc"},{rawPageName:"send-money",cookedPageName:"send-money-option"},{rawPageName:"sendmoneyoption",cookedPageName:"send-money-option"},{rawPageName:"verification-instructions",cookedPageName:"kyc-instructions"},{rawPageName:"onboarding",cookedPageName:"onboarding_sdq"},{rawPageName:"remittance-statement",cookedPageName:"statement"},{rawPageName:"primary-account-update",cookedPageName:"multi-credentials-info"},{rawPageName:"choose",cookedPageName:this.isChooseOcrTileEnable?"select-kyc-options":"eid-verification-options"},{rawPageName:"collect",cookedPageName:"eid-verification-confirm"},{rawPageName:"complete-profile",cookedPageName:"complete-your-profile"},{rawPageName:"preview-profile-data",cookedPageName:"review-your-profile"},{rawPageName:"add-new-receiver",cookedPageName:"add-new-receiver"}],this.src_parameter=sessionStorage.getItem("src_code")?sessionStorage.getItem("src_code"):this.getUrlParameter("src"),this.ampUTMObj=this.getAmplitudeUTMParameterCapture(),this.ampReferrerObj=this.getAmplitudeReferrer(),this.destroyed$=new K.B7,this._store.pipe((0,e.Lt)($.rb)).subscribe(X=>{this.selectedProduct=X,this.fundsInOutTileEvent()}),this._store.pipe((0,e.Lt)($.BY)).subscribe(X=>{this.setUserMediumValue(X)}),this._store.pipe((0,e.Lt)("app")).subscribe(X=>{this.sessionFromStore=X,this.flowType=f.get(this.sessionFromStore,"flowType")}),this.subscription=this.cloudRestService.events.subscribe(X=>{this.logAPIEvent(X.method,X.body,X.response,X.channel)}),this._store.pipe((0,e.Lt)($.DE)).subscribe(X=>{this.ampQuickResendStatus=X}),this._store.pipe((0,e.Lt)($.yx)).subscribe(X=>{this.dssLookupResponse=X}),this._store.pipe((0,e.Lt)($.vk)).subscribe(X=>{this.receiverWalletList=X}),Y().logEvergageExperienceAmplitudeEvent=this.logEvergageExperienceAmplitudeEvent.bind(this),!(0,g.Vy)(this.platformId)&&!window.isPlatformTesting&&(this.interval=setInterval(()=>{this.repeatLogEventCheck()},1e3)),this.setCustomizeCookedPage()}setUserMediumValue(y){this.userMediumValue=y&&null!==y?y.amplitudeId:""}setCustomizeCookedPage(){this.utilService.isFxRateAlertsEnabled()&&this.pageNameMappingObj.push({rawPageName:"manage-reminders",cookedPageName:"manage-fx-alert"})}fundsInOutTileEvent(){this.currentPageName||(this.currentPageName=this.getCurrentPageName()),this.selectedProduct&&this.selectedProduct.payIn&&this.currentPageName&&-1===O.Y.PAGES_NAME.indexOf(this.currentPageName)&&this.updateFundsIn(this.selectedProduct.payIn),this.selectedProduct&&this.selectedProduct.payOut&&this.currentPageName&&-1===O.Y.PAGES_NAME.indexOf(this.currentPageName)&&this.updateFundsOut(this.selectedProduct.payOut)}getWindow(){return window}invokeAmplitudeSDK(){return Y().amplitude}invokeMd5(y){return p.V.hashStr(y)}logEvent(y,I){(0,g.Vy)(this.platformId)||(this.utilService.inFrame()&&sessionStorage.setItem("overlay_EventInfo",JSON.stringify(I)),this.datahub_config.amplitude&&this.invokeAmplitudeSDK()&&this.invokeAmplitudeSDK().getInstance().__VERSION__?(this.repeatLogEventCheck(),this.logEventArr=[],clearInterval(this.interval),this.invokeAmplitudeSDK().getInstance().logEvent(y,I)):this.logEventArr.push({eventType:y,eventInfo:I,logged:!1}))}repeatLogEventCheck(){if(this.logEventArr.length>0&&this.datahub_config.amplitude&&this.invokeAmplitudeSDK())for(let y=0;y<this.logEventArr.length;y++)this.logEventArr[y].logged||(this.invokeAmplitudeSDK().getInstance().logEvent(this.logEventArr[y].eventType,this.logEventArr[y].eventInfo),this.logEventArr[y].logged=!0)}logJSErrors(y){const I={},T={previous_page:this.previous_page},te={...this.mandatoryAttributes(),...this.optionalAttributes(),...T};y.error&&this.datahub_config.amplitude&&this.invokeAmplitudeSDK()&&(I.event_attr=te,I.error_message=y.message,I.location=y.location,this.logEvent("js_error",I))}setUserId(y){this.datahub_config.amplitude&&this.invokeAmplitudeSDK()&&this.invokeAmplitudeSDK().getInstance().setUserId(y)}setUserProperties(y){this.datahub_config.amplitude&&this.invokeAmplitudeSDK()&&this.invokeAmplitudeSDK().getInstance().setUserProperties(y)}setIntialUserIdentify(y){const I=this.getWindow();if(this.datahub_config.amplitude&&this.invokeAmplitudeSDK()&&I.amplitude){const T=(new I.amplitude.Identify).setOnce("initial_utm_source",y.utm_source).setOnce("initial_utm_medium",y.utm_medium).setOnce("initial_utm_campaign",y.utm_campaign);this.invokeAmplitudeSDK().getInstance().identify(T)}}prepareRegsCusIdent(y,I){const T=f.get(I,"gatewayCustomer.preferredCustomer.accountNbr");if(T){const te=this.invokeMd5(T);this.setUserId(te),this.setRegisterCustomerIdentify(y),this.utilService.setCookieItem("wu_analytics_id",te,30,null,null,!1)}this.hadoopAnalyticsConditionalAttr.customer_id=T||""}setRegisterCustomerIdentify(y){const I=this.getWindow();if(this.datahub_config.amplitude&&this.invokeAmplitudeSDK()&&I.amplitude){const T=(new I.amplitude.Identify).setOnce("wu_country",this.getCountry(y)).setOnce("wu_language",this.utilService.getCookieItem("WULanguageCookie_")?this.utilService.getCookieItem("WULanguageCookie_"):null).setOnce("registration_date",this.getTodayDate()).setOnce("age",this.getAge(y)).setOnce("gender",this.getGender(y)).setOnce("nationality",this.getNationality(y)).setOnce("lifetime_trxn_count",0).setOnce("lifetime_amount_sent",0).setOnce("lifetime_fee_paid",0).setOnce("mywu_points",0).setOnce("register_flag",this.getRegisterFlag(y));this.invokeAmplitudeSDK().getInstance().identify(T)}}getCountry(y){let I="wu_country is not available";return I=f.get(y,"gateway_customer.address.country_iso_code")||this.smoConfig._getCountryIsoFromURL().toLowerCase(),I}getTodayDate(){const y=T=>T<10?"0"+T:T;return Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+y(this.getUTCMonth()+1)+"-"+y(this.getUTCDate())+"T"+y(this.getUTCHours())+":"+y(this.getUTCMinutes())+":"+y(this.getUTCSeconds())},(new Date).toISOString()}getAge(y){let I="age is not available";if(y.gateway_customer&&y.gateway_customer.date_of_birth){const T=y.gateway_customer.date_of_birth.split("-"),te=new Date,Z=te.getFullYear(),de=te.getMonth(),oe=te.getDate(),he=T[1];I=Z-T[0],de<he-1&&I--,he-1===de&&oe<T[2]&&I--}return I}getGender(y){let I=null;return y.gateway_customer&&y.gateway_customer.gender&&(I=y.gateway_customer.gender),I}getNationality(y){let I=null;return y.gateway_customer&&y.gateway_customer.nationality&&(I=y.gateway_customer.nationality),I}getRegisterFlag(y){return"true"===y.progressive_registration?"P":"F"}updateFundsIn(y){this.currentFundsIn||"true"===sessionStorage.getItem("hidePayinPayoutAmplitudeEvents")?this.currentFundsIn=y.replace(/\s/g,"").toLowerCase():(this.currentFundsIn=y.replace(/\s/g,"").toLowerCase(),this.getDefFundsIn(y.replace(/\s/g,"").toLowerCase()))}updateFundsOut(y){this.currentFundsOut||"true"===sessionStorage.getItem("hidePayinPayoutAmplitudeEvents")?(this.currentFundsOut=y.replace(/\s/g,"").toLowerCase(),sessionStorage.removeItem("hidePayinPayoutAmplitudeEvents")):(this.currentFundsOut=y.replace(/\s/g,"").toLowerCase(),this.getDefFundsOut(y.replace(/\s/g,"").toLowerCase()))}mandatoryAttributes(){const y={sender_country:this.smoConfig._getCountryIsoFromURL().toLowerCase(),session_id:this.utilService.getCookieItem("SessionId"),device_id:this.utilService.getCookieItem("wu_device_id"),wu_platform:"r3_responsive_web",page_name:this.getCurrentPageName(),current_url:this.readURLService.getCurrentUrl(),logged_in:this.getLoggedInStatue(),identity_verification_status:this.getIdentityVerificationStatus(),app_version:this.getAppVersion(),campaign_name:this.getCampaignName(),previous_event:this.getPreviousEvent(),user_path:"client"===sessionStorage.getItem("initiator")?"ng6":"ssr",ab_test:this.getAbTest(),ab_test_variant:this.getAbTestVariant(),email_verification_status:this.getEmailVerificationStatus()};return Object.keys(y).forEach(I=>{(""===y[I]||null===y[I])&&delete y[I]}),y}getIdentityVerificationStatus(){return this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender.identityVerificationStatus?this.sessionFromStore.sender.identityVerificationStatus.toLowerCase():null}getEmailVerificationStatus(){return this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender.verificationStatusActualVal?this.sessionFromStore.sender.verificationStatusActualVal.toLowerCase():null}getLoggedInStatue(){return this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender.isLoggedIn?"true":"false"}getAppVersion(){return sessionStorage.getItem("assetVersion")||"main0.js"}getCampaignName(){const y=this.getUrlParameter("campaign_name");return sessionStorage.getItem("campaign_name")||(y?(sessionStorage.setItem("campaign_name",y),y):null)}getUrlParameter(y){const I=location.search||location.hash;let T;const te=(new RegExp("[?|&]"+y+"=([^&;]+?)(&|#|;|$)").exec(I)||[,""])[1];return te&&(T=decodeURIComponent(te.replace(/\+/g,"%20"))||null),T?.trim(),T}getPreviousEvent(){return this.previous_event?this.previous_event:this.wuSessionStorage.wuAmplitude_previousEvent?this.wuSessionStorage.wuAmplitude_previousEvent:null}getAbTest(){const y=sessionStorage.getItem("ab_test");return y?y.toLowerCase():null}getAbTestVariant(){const y=sessionStorage.getItem("ab_test_variant");return y?y.toLowerCase():null}getCurrentPageName(){return this.currentPageName?this.currentPageName:this.mapPageName(this.router.url)}optionalAttributes(y){const I=this.smoConfig._getCountryIsoFromURL().toUpperCase();if(!this.checkIfSMOInfoAva()&&!this.utilService.isHostedPartnerType())return this.getNonSmoAttr();const te={sender_account_number:"",send_amount:f.get(this.sessionFromStore,"senderAmount"),send_currency:this.getSenderCurrency(),receiver_account_number:"",receiver_country:"",receive_currency:this.getReceiverCurrency(),receive_amount:f.get(this.sessionFromStore,"receiverAmount"),exchange_rate:this.selectedProduct?.exchangeRate,funds_in:this.currentFundsIn?this.currentFundsIn:"",funds_out:this.currentFundsOut?this.currentFundsOut:"",agent_network:"",transfer_fee:this.selectedProduct?.fees,send_receive_lock:"",user_journey:"",provider_id:this.getUrlParameter("providerid")||"",wu_source:this.getUrlParameter("src")||"",partner_name:"",product_code:"",biller:"",efl_state:"",city:"",state:"",directed_services:"",user_flow:"",kyc_duc:"",paSubType:"",kyc_ducDocs:"",kyc_dur:"",kyc_durDocs:"",receipt_status:"",banner_type:"",user_medium:this.userMediumValue,user_pricing_session:"",quick_resend_SMO:this.ampQuickResendStatus||"",flow:"",loyalty_consent:"",POT_field:"",payment_type:this.fundsInUtilService.isKlarnaFundsInEnabled(I)?"Sofort":"",payment_sub_type:this.fundsInUtilService.isKlarnaFundsInEnabled(I)?"KLARNA":"",umn_id:""};"Y"===this.selectedProduct?.isDirected&&this.selectedProduct?.location&&(te.directed_agent=this.selectedProduct.location.trim());const Z=this.utilService.getCookieItem("userIdentity")?this.utilService.getCookieItem("userIdentity"):"";Z&&(te.user_pricing_session=Z),this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender.myWuNumber&&(te.sender_account_number=this.invokeMd5(this.sessionFromStore.sender.myWuNumber)),this.sessionFromStore&&this.sessionFromStore.corridor&&this.sessionFromStore.corridor.receiverCountry&&this.sessionFromStore.corridor.receiverCountry.isoCode&&(te.receiver_country=this.sessionFromStore.corridor.receiverCountry.isoCode.toLowerCase()),this.sessionFromStore&&this.sessionFromStore.selectedReceiver&&this.sessionFromStore.selectedReceiver.generalInformation&&this.sessionFromStore.selectedReceiver.generalInformation.uid&&(te.receiver_account_number=this.invokeMd5(this.sessionFromStore.selectedReceiver.generalInformation.uid)),"cash"===te.funds_out&&(te.agent_network="all"),sessionStorage.getItem("wuAmplitudeSMO_sendReceiveLock")&&(te.send_receive_lock=sessionStorage.getItem("wuAmplitudeSMO_sendReceiveLock")||""),sessionStorage.getItem("wuAmplitude_biller")&&(te.biller=sessionStorage.getItem("wuAmplitude_biller")||""),sessionStorage.getItem("bannerType")&&(te.banner_type=sessionStorage.getItem("bannerType")||""),sessionStorage.getItem("ocr_sdk_load_error")&&(te.ocr_sdk_load_error=sessionStorage.getItem("ocr_sdk_load_error")||""),sessionStorage.getItem("ocr_extraction_error")&&(te.ocr_extraction_error=sessionStorage.getItem("ocr_extraction_error")||"");const de=this.route.snapshot.paramMap.get("partnerName")?this.route.snapshot.paramMap.get("partnerName"):this.getUrlParameter("partnerName")?this.getUrlParameter("partnerName"):this.utilService.getCookieItem("partnerName");if(te.partner_name=de?de.toLowerCase():sessionStorage.getItem("partnerID")||"",y?.target){const he=this.getAmplitudeId(y?.target);sessionStorage.getItem("wuDiscount")&&("button-wu-rewards"===he||"button-popup-wu-discount"===he)&&(te["discount_applied "]=sessionStorage.getItem("wuDiscount"),te.loyalty_enrolled="1"===this.sessionFromStore?.sender?.termsConditionFlag?"yes":"no"),"popup-tab-discount"===he&&(te.discount_type=y?.target?.id),"button-popup-expand-reward"===he&&(te.reward_details=y?.target?.id),"accordian-discount"===he&&(te.discount_accordian=y?.target?.id)}"AG"===te.funds_in.toUpperCase()&&!f.isEmpty(f.get(this.sessionFromStore,"efl"))&&(te.efl_state=f.get(this.sessionFromStore,"efl.address.state")),sessionStorage.getItem("amp_verification_source")&&(te.verification_source=sessionStorage.getItem("amp_verification_source")||"");const oe=JSON.parse(sessionStorage.getItem("requestMoneyFlow")||"{}");oe&&!0===oe.acrossRMFlow?(te.rm_transfer="Yes",te.rm_receive_amount=oe.rm_receive_amount,te.rm_receive_currency=oe.rm_receive_currency,te.rm_funds_out=oe.rm_funds_out):te.rm_transfer=sessionStorage.getItem("requestMoneyFlow")?"Yes":"No",this.setStrikeTrhoughPricingAttr(te,this.selectedProduct),this.setFundsOutForWUbankTile(te),this.setFundsOutForDSR(te),this.setServiceCodeForDSR(te),this.setLeanRegAttr(te),Object.keys(te).forEach(he=>{(""===te[he]||null===te[he])&&delete te[he]}),this.featureFlagService.isFeatureEnabled("HIDE_CHANGE_PAYMENT_METHOD_C1974")&&(te.offered_change_payment_method="true"===sessionStorage.getItem("offered_change_payment_method"));const ae=f.get(this.sessionFromStore,"sender.encryptedUmnId",null);return null!==ae&&(te.umn_id=ae),te}setLeanRegAttr(y){y.is_lean_registered_user="true"===this.getLoggedInStatue()&&this.utilService.isLeanRegistrationEnabled()?"true"===sessionStorage.getItem("leanRegdUser")?"true":"false":null}setStrikeTrhoughPricingAttr(y,I){return I.strikeThrough&&this.utilService.isStrikethroughEnabled()&&(f.isUndefined(I.strikeThrough.strike_gross_fee)||!f.isUndefined(I.strikeThrough.fee_percentage)&&I.strikeThrough.fee_percentage>=10&&(y.strike_gross_fee=I.strikeThrough.strike_gross_fee),f.isUndefined(I.strikeThrough.strike_fx_rate)||!f.isUndefined(I.strikeThrough.fx_rate_percentage)&&I.strikeThrough.fx_rate_percentage>0&&(y.strike_fx_rate=I.strikeThrough.strike_fx_rate),f.isUndefined(I.strikeThrough.fx_rate_percentage)||(y.fx_rate_percentage=I.strikeThrough.fx_rate_percentage),f.isUndefined(I.strikeThrough.fee_percentage)||(y.fee_percentage=I.strikeThrough.fee_percentage)),y}setFundsOutForWUbankTile(y){const I="true"===sessionStorage.getItem("isWUPlusTileSelected"),T=this.featureFlagService.isFeatureEnabledForReceiver("WU_BANK_TILE_ENABLED_RECEIVER",f.get(this.sessionFromStore?.corridor,"receiverCountry.isoCode"));I&&T&&y.funds_out&&(y.funds_out="wu+")}setFundsOutForDSR(y){this.selectedProduct&&this.selectedProduct.payOut&&this.currentPageName&&-1===O.Y.PAGES_NAME.indexOf(this.currentPageName)&&"BA"===this.selectedProduct.payOut&&["D00","D01"].includes(this.selectedProduct.code)&&(y.funds_out=this.selectedProduct.code)}setServiceCodeForDSR(y){this.selectedProduct&&this.selectedProduct.payOut&&this.currentPageName&&-1===O.Y.PAGES_NAME.indexOf(this.currentPageName)&&(this.utilService.isReceiverDSREnabledCorridor()&&this.utilService.isReceiverDSREnabledCorridor().DSR_PAYOUT_CODES.includes(s.Oi.BA)&&this.utilService.getDSRServiceCodesFromPricing().bankServiceCodes.includes(this.selectedProduct.code)&&(y.dsr_service=this.selectedProduct.code),this.utilService.isReceiverDSREnabledCorridor()&&this.utilService.isReceiverDSREnabledCorridor().DSR_PAYOUT_CODES.includes(s.Oi.WA)&&this.utilService.getDSRServiceCodesFromPricing().walletServiceCodes.includes(this.selectedProduct.code)&&(y.dsr_service=this.selectedProduct.code))}checkIfSMOInfoAva(){return!(!this.selectedProduct?.payIn&&!this.selectedProduct?.payOut)}getNonSmoAttr(){const y={};return this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender.myWuNumber&&(y.sender_account_number=this.invokeMd5(this.sessionFromStore.sender.myWuNumber)),this.featureFlagService.isFeatureEnabled("MARKETING_TRACKING_PARAMS")&&this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender?.encryptedUmnId&&(y.umn_id=this.sessionFromStore.sender.encryptedUmnId),y}getSenderCurrency(){return this.sessionFromStore&&this.sessionFromStore.corridor&&this.sessionFromStore.corridor.senderCurrency?this.sessionFromStore.corridor.senderCurrency.toLowerCase():""}getReceiverCurrency(){return this.sessionFromStore&&this.sessionFromStore.corridor&&this.sessionFromStore.corridor.receiverCurrency?this.sessionFromStore.corridor.receiverCurrency.toLowerCase():""}getAmpGetQueryParams(y){y=y.split("+").join(" ");let I=new Object;const T=new Map(Object.entries(I));let te;const Z=/\butm_([^=]+)=([^&]+)/g;for(;te=Z.exec(y);)T.set(decodeURIComponent(te[1]),decodeURIComponent(te[2]));return I=this.mapToObj(T),I}mapToObj(y){const I={};return y.forEach(function(T,te){I[te]=T}),I}getAmplitudeReferrer(){let y={},I={};const T=sessionStorage.getItem("ampRefParam"),te=["www.westernunion.com","wudispatcher-uatci2.westernunion.com"];if(T&&null!==T)y=JSON.parse(T),I=JSON.parse(T);else{const Z=document.referrer;if(Z){const de=new URL(String(Z));-1===te.indexOf(de.hostname)&&(y.referrer=Z,y.referring_domain=de.hostname,I.last_referrer=Z,I.last_referring_domain=de.hostname)}0!==Object.getOwnPropertyNames(y).length&&sessionStorage.setItem("ampRefParam",JSON.stringify(y))}return this.setUserProperties(I),y}getAmplitudeUTMParameterCapture(){let T,te,y={},I={};const Z=this.getUrlParameter("src"),de=sessionStorage.getItem("ampUTMParam"),oe=sessionStorage.getItem("ampUserUTMParam");let ae=sessionStorage.getItem("UTMSourcesList");const he=document.referrer;if(de&&null!==de&&null!==oe)y=JSON.parse(de),I=JSON.parse(oe);else{const B=this.getAmpGetQueryParams(document.location.search);if(B.hasOwnProperty("source")&&B.hasOwnProperty("medium")&&B.hasOwnProperty("campaign"))for(const z in B)B.hasOwnProperty(z)&&(y["utm_"+z]=B[z],I["last_utm_"+z]=B[z]);else if(Z){if(null!==ae&&he){ae=ae.replace(/'/g,'"'),T=JSON.parse(ae);let ie=new URL(he).hostname.split(".");ie=ie[1],Object.keys(T).forEach(Ce=>{if(T[Ce]){const X=T[Ce].split(",");for(let Ee=0;Ee<X.length;Ee++)if("SOCIALSITES"===Ce||"SEARCHENGINES"===Ce){if(X[Ee]===ie){te=Ce;break}}else if(X[Ee]===Z){te=Ce;break}}});const re=this.setUTMSrcParameters(te,ie,Z);y=re[0],I=re[1]}}else if(!(B.hasOwnProperty("source")||B.hasOwnProperty("medium")||B.hasOwnProperty("campaign")||Z)){const z=this.getUTMForNonPaidTarffic();z&&(y=z[0],I=z[1])}(void 0===Z&&0===Object.keys(B).length&&!he||!he&&"saasquatch"!==B.campaign&&!y.utm_source&&!y.utm_medium&&!y.utm_campaign)&&(y.utm_source="web-bookmark-or-typed",y.utm_medium="e-web-bookmark-or-typed",y.utm_campaign="organic-web-bookmark-or-typed",I.last_utm_source="web-bookmark-or-typed",I.last_utm_medium="e-web-bookmark-or-typed",I.last_utm_campaign="organic-web-bookmark-or-typed"),0!==Object.getOwnPropertyNames(y).length&&(sessionStorage.setItem("ampUTMParam",JSON.stringify(y)),sessionStorage.setItem("ampUserUTMParam",JSON.stringify(I)))}return this.setUserProperties(I),y}getUTMForNonPaidTarffic(){let y,I,T,te=!0;const Z=this.getUrlParameter("src"),de=document.referrer;let oe=sessionStorage.getItem("UTMSourcesList");if(null!==oe&&de){oe=oe.replace(/'/g,'"'),y=JSON.parse(oe);let he=new URL(de).hostname.split(".");he=he[1];for(const B in y)if(y.hasOwnProperty(B)){const z=y[B].split(",");for(const ie of z)if("SOCIALSITES"===B){if(ie===he){I="SS",te=!1;break}}else if("SEARCHENGINES"===B&&ie===he){I="SE",te=!1;break}if(!1===te)break}return"SS"!==I&&"SE"!==I&&(I="NA"),T=this.setUTMSrcParameters(I,he,Z),T}}setUTMSrcParameters(y,I,T){const Z={};let de={};switch(y){case"AFFILIATES":Z.utm_source=I,Z.utm_medium="p-affiliates",Z.utm_campaign=T;break;case"DISPLAY":Z.utm_source=I,Z.utm_medium="p-web-display",Z.utm_campaign=T;break;case"EMAIL":Z.utm_source="email",Z.utm_medium="e-email",Z.utm_campaign=T;break;case"INTERNAL":Z.utm_source="web",Z.utm_medium="e-internal",Z.utm_campaign=T;break;case"MOBILE":Z.utm_source="app",Z.utm_medium="e-app",Z.utm_campaign=T;break;case"RETAIL":Z.utm_source="retail",Z.utm_medium="e-retail",Z.utm_campaign=T;break;case"SEARCHENGINES":Z.utm_source=I,Z.utm_medium="p-web-serp",Z.utm_campaign=T;break;case"SOCIALSITES":Z.utm_source=I,Z.utm_medium="p-social",Z.utm_campaign=T;break;case"SS":Z.utm_source=I,Z.utm_medium="e-social",Z.utm_campaign="organic-social";break;case"SE":Z.utm_source=I,Z.utm_medium="e-web-serp",Z.utm_campaign="organic-search";break;case"NA":Z.utm_source=I,Z.utm_medium="e-web",Z.utm_campaign="organic-web";break;default:Z.utm_source="other",Z.utm_medium="e-other",Z.utm_campaign=T}return de={...Z},Object.keys(de).forEach(function(oe){de["last_"+oe]=de[oe],delete de[oe]}),0!==Object.getOwnPropertyNames(de).length&&(sessionStorage.setItem("ampUTMParam",JSON.stringify(Z)),sessionStorage.setItem("ampUserUTMParam",JSON.stringify(de))),this.setIntialUserIdentify(Z),[Z,de]}setUtmSrcParameter(y){if(this.ampUTMObj)for(const I in this.ampUTMObj)this.ampUTMObj.hasOwnProperty(I)&&(y[I]=this.ampUTMObj[I],this.utilService.getCookieItem(I)||this.utilService.setCookieItem(I,this.ampUTMObj[I],30,null,null,!1));this.src_parameter&&(this.setUserProperties(this.src_parameter),y.src_parameter=this.src_parameter)}setReferrerParameter(y){if(this.ampReferrerObj)for(const I in this.ampReferrerObj)this.ampReferrerObj.hasOwnProperty(I)&&(y[I]=this.ampReferrerObj[I])}logPageEvent(y){const I=this.updateStore.getState(),T=sessionStorage.getItem("amplitudeValueToLowerCase");if((this.utilService.inFrame()||(0,g.Vy)(this.platformId))&&!this.utilService.isHostedPartner())return;this.currentPageName=this.mapPageName(y),this.fundsInOutTileEvent(),"login"===this.currentPageName&&"true"===sessionStorage.getItem("isRedirectedToSocialLoginOrReg")?this.currentPageName="social-email-linking":"register"===this.currentPageName&&"true"===sessionStorage.getItem("isRedirectedToSocialLoginOrReg")?this.currentPageName="complete-registration":"verify-receiver-name-change"===this.currentPageName&&sessionStorage.getItem("receiver-name-change-screen")?this.currentPageName="edit-receiver-name-"+sessionStorage.getItem("receiver-name-change-screen"):this.utilService.isTabularDesignEnabled()&&("login"===this.currentPageName&&(this.currentPageName="tabular-log-reg",this.activeTabularTab="tab-login"),"register"===this.currentPageName&&(this.currentPageName="tabular-log-reg",this.activeTabularTab="tab-register"),"sm-login"===this.currentPageName&&(this.currentPageName="tabular-sm-log-reg",this.activeTabularTab="tab-login"));const te={previous_page:this.previous_page};if("MY"===this.smoConfig._getCountryIsoFromURL().toUpperCase()&&("send-money-option"===this.currentPageName||"receiver"===this.currentPageName)&&this.selectedProduct?.payIn?.toUpperCase()===s.mt.FPX&&(te.ibp_fund_source=f.get(this.sessionFromStore,"FPXBankInfo.name")),"MY"===this.smoConfig._getCountryIsoFromURL().toUpperCase()&&("send-money-option"===this.currentPageName||"receiver"===this.currentPageName)&&this.selectedProduct?.payIn?.toUpperCase()===s.mt.MW&&(te.ibp_fund_source=f.get(this.sessionFromStore,"WalletBankInfo.name")),("kyc-instructions"===this.currentPageName||"credit-builder"===this.currentPageName)&&(te.register_flag=f.get(this.sessionFromStore,"sender.registrationStatus")),"credit-builder"===this.currentPageName&&(te.green_state_user=this.utilService.isGreenStateUser()),this.utilService.isAccountBasedRelationshipEnabled()){const ie=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}");"onboarding_sdq"===this.currentPageName&&(te.identity_verification_status=f.get(this.sessionFromStore,"sender.verificationStatus"),te.sdq_required=f.get(ie,"verificationFlag.sdqRequired"),te.reaccreditation_past_due=f.get(ie,"verificationFlag.reaccreditation.pastDue"),te.id_expired=f.get(ie,"verificationFlag.idExpired")),("send-money-option"===this.currentPageName||"history"===this.currentPageName)&&(te.reaccreditation_past_due=f.get(ie,"verificationFlag.reaccreditation.pastDue"),te.id_expired=f.get(ie,"verificationFlag.idExpired"))}this.setProcessorAttribute(te),-1!==y.indexOf("manage-reminders")&&this.utilService.isFxRateAlertsEnabled()&&(te.src="FX"===this.getUrlParameter("type")&&this.getUrlParameter("token")?"link":"menu"),this.getUrlParameter("promocampaign")&&(te.user_pricing_campaign=this.getUrlParameter("user")?this.getUrlParameter("user"):"",te.pricing_campaign_link=this.getUrlParameter("promocampaign")),this.getUrlParameter("SrcCode")&&(te.SrcCode=this.getUrlParameter("SrcCode"));const Z={P:"Pending",B:"Blocked",Y:"Yes",N:"No"};if(y.indexOf("dss")>-1&&this.dssLookupResponse){te.dss_source=this.dssLookupResponse.source?this.dssLookupResponse.source:"NA";const ie=this.dssLookupResponse.customerVerificationStatus;te.dss_ecdd_status=""===ie?"NA":ie&&""!==ie?Z[ie]:"NA";const re=this.dssLookupResponse.questionnaire?this.dssLookupResponse.questionnaire.questionnaire_status:null;""===re||"P"===re||"Y"===re&&!f.isEmpty(this.dssLookupResponse.questionnaire&&this.dssLookupResponse.questionnaire.counter_parties?this.dssLookupResponse.questionnaire.counter_parties:{})?te.dss_questionnaire_required="Yes":"Y"===re&&(te.dss_questionnaire_required="No")}const de=this.utilService.getCookieItem("userIdentity")?this.utilService.getCookieItem("userIdentity"):"";if(de&&(te.user_pricing_session=de),"singpass"===sessionStorage.getItem("vendorType")?.toLowerCase()){const ie=this.route.snapshot.queryParams.error?this.route.snapshot.queryParams.error:null,re=this.route.snapshot.queryParams["error-description"]?this.route.snapshot.queryParams["error-description"]:null;ie&&(te.response_code=ie,te.error_source="myinfo"),re&&(te.error_message=re)}let oe;this.currentPageName&&(oe="page_"+this.currentPageName);const ae=this.utilService.isLoginMfaEnabled()||this.utilService.isRegisterMfaEnabled();if(ae&&this.getSenderStore(),ae&&(this.currentPageName.indexOf("mfa")>-1||this.currentPageName.indexOf("otp")>-1)){const ie=this.otpSourceMobile?"mobile":"email",re=this.utilService.isPhoneLoginEnabled();let Ce="-mfa-with-"+ie;const X="lookup_flow"===this.updateStore.getState()?.userJourney;"register"===this.mfaCheckPage&&!X&&!re&&"mobile"===ie&&(Ce="-mfa-mobile-capture"),oe="page_"+(this.currentPageName.indexOf("otp")>-1?this.mfaCheckPage+"-mfa-"+ie+"-otp-input":this.mfaCheckPage+Ce)}const he="edit-receiver-name"===this.updateStore.getState()?.userJourney;if(this.currentPageName?.indexOf("mfa-otp")>-1&&!O.Y.skipRNCevent.includes(this.previous_page)&&he&&(this.currentPageName="edit-receiver-name-otp",oe="page_"+this.currentPageName),this.currentPageName&&T&&(oe="page_"+this.currentPageName?.toLowerCase()),(y.indexOf("/dss/")>-1||y.indexOf("dss/")>-1)&&"dss-home"!==this.currentPageName&&(oe="page_dss-"+this.currentPageName),oe===this.previous_page&&(y.includes(a.LC.ducLandingPageRoute)||y.includes(a.LC.ducSingleUploadPageRoute)))return;const B={...this.mandatoryAttributes(),...this.optionalAttributes(),...te};this.previous_event=oe,sessionStorage.setItem("wuAmplitude_previousEvent",oe),this.previous_page=oe,this.handleHadoopAnalytisEvents(oe),this.setUtmSrcParameter(B),this.setReferrerParameter(B),document.location.search.match(/\bprz_([^=]+)=([^&]+)/g)&&this.getPartnerizeParameterCapture(B),"register"===this.currentPageName&&(B.raf_registration_page="saasquatch"===f.get(B,"utm_campaign")?"yes":"no",this.setPRAttribute(B)),this.getUrlParameter("flow")&&"EmailVerification"===this.getUrlParameter("flow")&&(B.emailVerificationReminder=!0),"history"===this.currentPageName&&this.utilService.isResumeTransferEnabled()&&(B.resume_transfer_widget=f.isEmpty(f.get(this.sessionFromStore,"abandonedCartToken"))?"false":"true"),this.utilService.getCookieItem("visit-logged-amp")||this.logAmplitudeVisitEvent(B),window.QuantumMetricAPI&&window.QuantumMetricAPI.getReplay()&&(B.qm_url=window.QuantumMetricAPI.getReplay());const z=JSON.parse(sessionStorage.getItem("requestMoneyRes"));if("send-money-option"===this.currentPageName&&z&&z.data&&"MT_REQUEST"===z.data.type&&(B.rm_transfer="Yes",!sessionStorage.getItem("requestMoneyFlow"))){const ie={rm_transfer:"Yes"};ie.rm_receive_amount=(Number(JSON.parse(sessionStorage.getItem("requestMoneyRes")).data.json.payment_details.destination.expected_payout_amount)/100).toFixed(2),ie.rm_receive_currency=z.data.json.payment_details.destination.currency_iso_code,ie.rm_funds_out=z.data.json.wu_product.name,sessionStorage.setItem("requestMoneyFlow",JSON.stringify(ie))}return this.flowType===D.do.DSS2&&("complete-your-profile"!==this.currentPageName||"Y"!==f.get(I.dss2Details.lookupResponse.customer,"recertificationFlag")&&"F"!==f.get(I.dss2Details.lookupResponse.customer,"recertificationFlag")?"complete-your-profile"===this.currentPageName&&!("Y"===f.get(I.dss2Details.lookupResponse.customer,"recertificationFlag")||"F"===f.get(I.dss2Details.lookupResponse.customer,"recertificationFlag"))&&(this.currentPageName="",this.currentPageName="complete-profile"):(this.currentPageName="",this.currentPageName="recertification"),oe="page_dss-"+this.currentPageName,this.dssPageName=oe,sessionStorage.removeItem("dssPopUpName")),(this.utilService.isDssNewdocUploadEnabled()||this.utilService.isNewDocHubEnabledForDSS())&&this.flowType===D.do.DSS&&!this.currentPageName?.includes("dss-")&&"dss-home"!==this.currentPageName&&!T&&(oe="page_dss-"+this.currentPageName),oe&&this.logEventsInSessionStorage(oe),this.logEvent(oe,B)}setProcessorAttribute(y){this.utilService.isGMOPaymentGatewayEnabled()&&("send-money-option"===this.currentPageName||"receiver"===this.currentPageName)&&(y.processor=this.utilService.isGMOPaymentGatewayEnabledViaEvergage()?"gmo":s.mt.WUPay,y.payment_sub_type=this.utilService.isGMOPaymentGatewayEnabledViaEvergage()?"gmo":s.mt.WUPay)}getSenderStore(){this._store.pipe((0,e.Lt)($.w8),(0,W.Q)(this.destroyed$)).subscribe(y=>{this.otpSourceMobile=y?.otpSourceVerification,this.mfaCheckPage=y?.verifyMfaFlow,("lookup_flow"===this.updateStore.getState()?.userJourney||y?.verifyMfaFlow===O.Y.mfaConstant.myWu)&&(this.mfaCheckPage="register")})}mapPageName(y){const T=(y&&y?.split("?")[0])?.split("/");let te;T&&(te=T.length<3?T[1]:4===T.length?T[3]:T[2],1===T.length&&!te&&(te=T[T.length-1]));let Z=te;const de=this.pageNameMappingObj.find(oe=>oe.rawPageName===te);return de&&de.cookedPageName&&(Z=de.cookedPageName),Z}logEvergageExperienceAmplitudeEvent(y){try{this.logEvergageExperienceInAmplitude(y)}catch(I){console.error("Error logging amplitude event: ",I)}}logEvergageExperienceInAmplitude(y){let I=[];I=f.get(this.sessionFromStore,"evergageExperiences")?[...f.get(this.sessionFromStore,"evergageExperiences")]:f.get(this.sessionFromStore,"evergageExperiences");let T=!1;for(let te=0;te<I.length;te++)I[te].ab_test===y.ab_test&&I[te].ab_test_variant===y.ab_test_variant&&(T=!0);if(!T){sessionStorage.setItem("ab_test",y.ab_test),sessionStorage.setItem("ab_test_variant",y.ab_test_variant);const te="ab_test_experience";I.push({ab_test:y.ab_test,ab_test_variant:y.ab_test_variant}),this.updateStore.updateEvergageExperiences(I),sessionStorage.setItem("evergageExperiences",JSON.stringify(I));const Z={ab_test:y.ab_test,ab_test_variant:y.ab_test_variant,...this.mandatoryAttributes(),...this.optionalAttributes()};y&&y.receiver_country&&(Z.receiver_country=y.receiver_country);const de=this.utilService.getCookieItem("userIdentity")?this.utilService.getCookieItem("userIdentity"):"";de&&(Z.user_pricing_session=de),this.previous_event=te,sessionStorage.setItem("wuAmplitude_previousEvent",te),this.logEvent(te,Z)}}logPopupEvent(y,I,T){let te=T?"actionsheet_["+y+"]":"pop-up_["+y+"]";const Z=this.smoConfig._getCountryIsoFromURL().toUpperCase(),de={...this.mandatoryAttributes(),...this.optionalAttributes()};de.funds_in=y,de.payment_type=this.fundsInUtilService.isKlarnaFundsInEnabled(Z)?"Sofort":"",de.payment_sub__type=this.fundsInUtilService.isKlarnaFundsInEnabled(Z)?"KLARNA":"";const oe={previous_page:this.previous_page},ae={...this.mandatoryAttributes(),...this.optionalAttributes(),...oe};if(this.setUtmSrcParameter(ae),this.setReferrerParameter(ae),this.previous_event=te,sessionStorage.setItem("wuAmplitude_previousEvent",te),te="send-money"!==this.currentPageName&&"send-money-option"!==this.currentPageName||!I||T?"send-money"!==this.currentPageName&&"send-money-option"!==this.currentPageName||"show-receiver-city-tooltip"!=y?T?te:"pop-up_["+y+"]":"pop-up_[send-money-option]_["+y+"]":"pop-up_[smo-fundsin-instructions]",this.utilService.inFrame())return sessionStorage.setItem("overlay_Event",te),void sessionStorage.setItem("overlay_EventInfo",JSON.stringify(ae));if("pop-up_[verification_unsuccessful]"===te&&(ae.ocr_failure_reason=f.get(this.getOcrErrorResponse,"error.reasons.reason[0].code")),this.utilService.isAccountBasedRelationshipEnabled()){const he=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}");("pop-up_[id-expired]"===te||"pop-up_[reaccreditation-passed]"===te)&&(ae.id_expired=f.get(he,"verificationFlag.idExpired"),ae.reaccreditation_past_due=f.get(he,"verificationFlag.reaccreditation.pastDue"))}return this.logEvent(te,ae)}logCookieNotificationEvent(){const y={...this.mandatoryAttributes(),...this.optionalAttributes()};y.wu_cookie_preference=this.getCookiePreferenceSelected()?this.getCookiePreferenceSelected():"m",this.logEvent("message_cookiesettings",y),sessionStorage.setItem("wuAmplitude_previousEvent","message_cookiesettings")}logOtherEventWithProperty(y,I){const T={...this.mandatoryAttributes(),...this.optionalAttributes(),...I};this.logEvent(y,T),sessionStorage.setItem("wuAmplitude_previousEvent",y)}logCookiePopupClickEvents(y){const I=window.event?window.event.srcElement:y.target,T=this.getAmplitudeId(I),te={...this.mandatoryAttributes(),...this.optionalAttributes()};let Z="";return"link-managecookies"===T?Z="clicked_[cookiesettings]_["+T+"]":"footer-changecookiesettings"===T?Z="clicked_["+T+"]":"radio-marketing"===T||"radio-performance"===T||"radio-transactional"===T?Z="clicked_[managecookies]_["+T+"]":("icon-cookie-popup-close"===T||"button-cookie-popup-close"===T)&&(Z="clicked_[managecookies]_["+T+"]",te.wu_cookie_preference=this.getCookiePreferenceSelected()?this.getCookiePreferenceSelected():"m"),{click_event:Z,clickEventAttr:te}}getOptCookieInputVal(){return this.getCookie("cookieOptIn")}getCookie(y){const T=document.cookie.match(new RegExp(`(^| )${y}=([^;]+)`));return T&&T[2]?T[2]:null}getCookiePreferenceSelected(){const y=this.getOptCookieInputVal();let I;return"CKTXNL+CKPERF+CKMKTG"===y?I="m":"CKTXNL+CKPERF"===y?I="p":"CKTXNL"===y&&(I="t"),I}manageCookiePopupEvent(){const y={...this.mandatoryAttributes(),...this.optionalAttributes()};y.wu_cookie_preference=this.getCookiePreferenceSelected()?this.getCookiePreferenceSelected():"m",this.logEvent("pop-up_[managecookies]",y),sessionStorage.setItem("wuAmplitude_previousEvent","pop-up_[managecookies]")}getAnalyticsData(){return{...this.mandatoryAttributes(),...this.optionalAttributes()}}renameGwpApi(y){for(const I in O.Y.PSCSAPIMappping)if(O.Y.PSCSAPIMappping.hasOwnProperty(I)&&y===O.Y.PSCSAPIMappping[I]){y=I;break}return y}logAPIEvent(y,I,T,te){if((0,g.Vy)(this.platformId))return;y.indexOf("Gwp")>-1&&(y=this.renameGwpApi(y));let de="";const oe=y?this.getFetchName(y):"";if(de="retail"===te?"api_Retail"+oe:"api_"+oe,-1===["GetDatabase","AddRewardsToCustomerWallet","AuthenticateCustomer","AvailableKYCOptions","GetPaymentInstruments","Languages","PayoutCommit","RetailCustomerLookUp","SendMobileAppMail","VerifyPhone"].indexOf(oe)){const ae={api_name:oe,api_response_code:f.get(T,"error.code",0),api_response_message:null};if(0!==ae.api_response_code&&(ae.api_response_message=f.get(T,"error.message","Response message is not available")),"VerifyKYCData"===oe&&(de="api_GwpVerifyKYCData",ae.cs_docnumbermatch=f.has(T,"customer_data.document_details.document_detail[0].doc_number_match")?T.customer_data.document_details.document_detail[0].doc_number_match:null,ae.cs_namematch=f.has(T,"customer_data.document_details.document_detail[0].name_match")?T.customer_data.document_details.document_detail[0].name_match:null,ae.cs_doc_verification_status=f.has(T,"customer_data.document_details.document_detail[0].doc_verification_status")?T.customer_data.document_details.document_detail[0].doc_verification_status:null,ae.doc_type=f.has(T,"customer_data.document_details.document_detail[0].id_type")?T.customer_data.document_details.document_detail[0].id_type:null,ae.kyc_doc_type=f.has(T,"customer_data.document_details.document_detail[0].doc_type")?T.customer_data.document_details.document_detail[0].doc_type:null),"FeeInquiryEstimated"===oe&&"digital"===te&&(sessionStorage.removeItem("wuAmplitudeSMO_sendReceiveLock"),this.getSendReceiveLock(I),this.getBiller(I)),"GetTransactionDetails"===oe&&(ae.execution_time=T.execution_time/1e3,ae.total_transactions=f.has(T,"transactions.transaction")?T.transactions.transaction.length:0,ae.api_version="v"+I.security.version,f.has(T,"savings")&&this.utilService.islifeTimeSavingsEnabled()&&(ae.savings_value=T.savings.total,ae.savings_transfers_number=T.savings.no_of_transfers),"MY"===this.smoConfig._getCountryIsoFromURL().toUpperCase())){const z=T.transactions.transaction;"Y"===(z&&z[0].payment_details&&z[0].payment_details.payment_method&&z[0].payment_details.payment_method.params&&z[0].payment_details.payment_method.params.param[1]&&z[0].payment_details.payment_method.params.param[1].Value)&&(ae.transaction_type="penny_drop")}if("TransactionInquiry"===oe&&(ae["redirectable-flag"]=f.get(T,"statusDetails.isSenderRedirectable"),ae.transaction_message_id=f.get(T,"statusDetails.messageId"),ae.user_type=f.has(T,"status_details.is_transaction_identifier")?T.status_details.is_transaction_identifier.toLowerCase():f.get(T,"statusDetails.isTransactionIdentifier")?.toLowerCase()),"get_promo_discount"===oe){const z=sessionStorage?.getItem("wuDiscount");(z?.includes("apply")||"non-loyalty"===z)&&(ae.discount_applied=z,ae.loyalty_enrolled="1"===this.sessionFromStore?.sender?.termsConditionFlag?"yes":"no")}if("GwpGetPromoDiscount"===oe){ae.baseFeeDiscount=f.get(T,"baseFeeDiscount");const z=f.get(T,"promoDetails.promoCode"),ie=f.get(this.sessionFromStore,"promoCodeList");let re={};for(let Ce=0;Ce<ie.length;Ce++)if(ie[Ce].promo_code===z){re=ie[Ce];break}ae.status=f.get(re,"status"),ae.discount=f.get(re,"discount"),ae.identifier=f.get(re,"identifier"),ae.expiry_date=f.get(re,"expiry_date"),ae.activate_on=f.get(re,"activate_on"),ae.active=f.get(re,"active")}if("GetVendorPersonData"===oe&&f.get(I,"flow")&&(ae.flow=I.flow),this.utilService.isAccountBasedRelationshipEnabled()&&"GetCustomerVerificationStatus"===oe&&(ae.sdq_required=f.get(T,"verificationFlag.sdqRequired"),ae.id_expired=f.get(T,"verificationFlag.idExpired"),f.get(T,"verificationFlag.reaccreditation.pastDue")&&(ae.reaccreditation_past_due=f.get(T,"verificationFlag.reaccreditation.pastDue")),f.get(T,"verificationFlag.reaccreditation.date")&&(ae.reaccreditation_due_date=this.utilService.iSODateToDispDate(f.get(T,"verificationFlag.reaccreditation.date")))),this.utilService.isReceiverMobileNumberMandatoryEnabled()&&("AddReceivers"===oe||"UpdateReceivers"===oe)&&(ae.receiver_phone_status=f.get(T,"receivers.receiver[0].mobile_phone.phone_number.vv_status")),"GetCustomerVerificationStatus"===oe&&f.has(T,"wACH")&&(ae.wACH=T.wACH),"GetVendorPersonData"===oe&&(ae.eid_verification_status=f.get(T,"enabled.identity_verification_status"),ae.identity_verification_status=f.get(T,"enabled.identity_verification_status")),"data"===oe&&(ae.type=f.get(T,"data.type")),"ValidateToken"===oe&&this.getUrlParameter("flow")&&"EmailVerification"===this.getUrlParameter("flow")&&(ae.emailVerificationReminder=!0),"RegisterCustomer"===oe||"UpdateCustomerProfile"===oe){this.utilService.isLoyaltyProgramEnabled()&&"RegisterCustomer"===oe&&(ae.wurewards_login=this.utilService.checkIfUserIsFromMyWuSite()?"mywu":"wu");const z=sessionStorage.getItem("myWUConsentSubmittedNow");z&&this.utilService.isLoyaltyProgramEnabled()&&(ae.loyalty_consent=z,sessionStorage.removeItem("myWUConsentSubmittedNow"))}if("CustomerSignOn"===oe){this.utilService.isSybaseEnabled(y)&&(T=this.utilService.mapCustSignonRespPs2Cs(T));const z=f.get(T,"gatewayCustomer.preferredCustomer.accountNbr",null),ie=z?this.invokeMd5(z):null,re=f.get(T,"gatewayCustomer.verificationStatus",null)||f.get(T,"gateway_customer.verification_status",null);0===ae.api_response_code&&T.security&&T.security.requestHeader&&T.security.requestHeader.dc?ae.dc=T.security.requestHeader.dc:(ae.dc="NA",ae.login_ext_eligible="NA",ae.login_ext_attempt="NA",ae.login_ext_success="NA"),null!==ie&&(this.setUserId(ie),this.utilService.setCookieItem("wu_analytics_id",ie,30,null,null,!1),ae.sender_account_number=ie,this.featureFlagService.isFeatureEnabled("MARKETING_TRACKING_PARAMS")&&(ae.umn_id=ie)),I.gateway_customer&&I.gateway_customer.identities&&I.gateway_customer.identities.identity&&I.gateway_customer.identities.identity[0]&&""!==I.gateway_customer.identities.identity[0].data&&I.gateway_customer.identities.identity[1]&&""!==I.gateway_customer.identities.identity[1].data&&0===ae.api_response_code&&T.security&&T.security.requestHeader&&T.security.requestHeader.user_session_token&&(ae.login_ext_eligible=O.Y.MANUAL_LOGIN_DC_VAL[1].eligible,ae.login_ext_attempt=O.Y.MANUAL_LOGIN_DC_VAL[1].attempt,ae.login_ext_success=O.Y.MANUAL_LOGIN_DC_VAL[1].success),I.gateway_customer&&I.gateway_customer.identities&&I.gateway_customer.identities.identity&&I.gateway_customer.identities.identity[0]&&""!==I.gateway_customer.identities.identity[0].data&&I.gateway_customer.identities.identity[1]&&""!==I.gateway_customer.identities.identity[1].data&&0===ae.api_response_code&&T.security&&T.security.requestHeader&&!T.security.requestHeader.user_session_token&&(ae.login_ext_eligible=O.Y.MANUAL_LOGIN_DC_VAL[0].eligible,ae.login_ext_attempt=O.Y.MANUAL_LOGIN_DC_VAL[0].attempt,ae.login_ext_success=O.Y.MANUAL_LOGIN_DC_VAL[0].success),I.gateway_customer&&I.gateway_customer.identities&&I.gateway_customer.identities.identity&&I.gateway_customer.identities.identity[0]&&""===I.gateway_customer.identities.identity[0].data&&I.gateway_customer.identities.identity[1]&&""===I.gateway_customer.identities.identity[1].data&&0===ae.api_response_code&&(ae.login_ext_eligible=O.Y.AUTO_LOGIN_DC_VAL[1].eligible,ae.login_ext_attempt=O.Y.AUTO_LOGIN_DC_VAL[1].attempt,ae.login_ext_success=O.Y.AUTO_LOGIN_DC_VAL[1].success),I.gateway_customer&&I.gateway_customer.identities&&I.gateway_customer.identities.identity&&I.gateway_customer.identities.identity[0]&&""===I.gateway_customer.identities.identity[0].data&&I.gateway_customer.identities.identity[1]&&""===I.gateway_customer.identities.identity[1].data&&0!==ae.api_response_code&&(ae.dc="NA",ae.login_ext_eligible=O.Y.AUTO_LOGIN_DC_VAL[0].eligible,ae.login_ext_attempt=O.Y.AUTO_LOGIN_DC_VAL[0].attempt,ae.login_ext_success=O.Y.AUTO_LOGIN_DC_VAL[0].success),this.hadoopAnalyticsConditionalAttr.customer_id=z||"",this.manageHadoopApiEvents(T,de),re&&(ae.email_verification_status=re.toLowerCase());const Ce=f.get(T,"gatewayCustomer.transactionCount"),X=f.get(T,"gatewayCustomer.lastTransactionDate"),Ee=f.get(T,"gatewayCustomer.registrationDate");if(Ce&&(ae.total_transactions=Ce),X){ae.last_transaction_date=X;const Ue=((new Date).getTime()-new Date(X).getTime())/864e5;ae.days_since_last_transaction=Math.floor(Ue)}Ee&&(ae.registration_date=Ee),this.utilService.isPhoneLoginWithEvergageEnabled()&&(ae.login_type=I.login_type.toLowerCase()),f.get(T,"gatewayCustomer.accountPreferences.email")&&(ae.email_opt_in=f.lowerCase(f.get(T,"gatewayCustomer.accountPreferences.email","")));const De=f.get(T,"gatewayCustomer.name",null);this.utilService.isLeanRegistrationEnabled()&&f.isEmpty(De)&&(ae.is_lean_registered_user="true",sessionStorage.setItem("leanRegdUser","true"))}if(this.utilService.isScvProxyEnabled()&&("CustomerSignOn"===oe||"EmailValidation"===oe||"GwpCustomerLookup"===oe)&&(ae.channelSource=O.Y.requestBodySCV),"CustomerSignOn"===oe&&this.utilService.isScvProxyEnabled()&&(ae.nbrStatus=f.get(T,"gatewayCustomer.nbrStatus")),"GetSupportedWYHFactors"===oe&&this.utilService.isloginOtpOptionEnabled()&&T?.validateOptions?.validateOption?.length>0&&(ae.option_type=1===T.validateOptions.validateOption.length?"email":"both"),this.utilService.isResetPasswordWithOTPEvergageEnabled()&&("ValidateWYHFactors"===oe||"GetVerifyWYHFactors"===oe||"GetSupportedWYKFactors"===oe||"ValidateWYKFactors"===oe||"SavePassword"===oe)&&(ae.reset_type=f.get(this.sessionFromStore,"resetPwdInfo.phoneNumber")?"phone":"email"),"BankLists"===oe&&f.get(I,"payIn")&&(ae.payment_type=I.payIn,ae.payment_sub_type=I.list_type===s.mt.IPAY88?s.mt.IPAY88:"IPAY88W"===I.list_type?"IPAY88W":"FPX"),("SendMoneyValidation"===oe||"SendMoneyStore"===oe)&&f.get(I,"payment_details.payment_method.payment_type")&&(ae.payment_type=I.payment_details.payment_method.payment_type,"MY"===this.smoConfig._getCountryIsoFromURL().toUpperCase()&&f.get(I,"payment_details.payment_method.payment_sub_type")===s.mt.IPAY88&&(ae.ibp_fund_source=f.get(this.sessionFromStore,"FPXBankInfo.name")),"MY"===this.smoConfig._getCountryIsoFromURL().toUpperCase()&&f.get(I,"payment_details.payment_method.payment_sub_type")===s.mt.IPAY88W&&(ae.ibp_fund_source=f.get(this.sessionFromStore,"WalletBankInfo.name")),f.get(I,"payment_details.payment_method.payment_sub_type")&&(ae.payment_sub_type=I.payment_details.payment_method.payment_sub_type),f.get(I,"sender.compliance_details.nationality")&&(ae.nationality=I.sender.compliance_details.nationality),f.has(I,"sender.wallet.bank_accounts.bank_account[0].bank.name")&&f.get(I,"payment_details.payment_method.payment_sub_type")===s.mt.Plaid&&(ae.selected_bank_name=I.sender.wallet.bank_accounts.bank_account[0].bank_name),f.has(I,"payment_details.payment_method.params.param[1].Key")&&"FPX"===f.get(I,"payment_details.payment_method.payment_type")&&(ae.transaction_type=I.payment_details.payment_method.params.param[1].Key),f.get(I,"payment_details.payment_method.payment_sub_type")&&"JP"===this.smoConfig._getCountryIsoFromURL().toUpperCase()&&(ae.payment_sub_type=this.utilService.isGMOPaymentGatewayEnabledViaEvergage()?"gmo":s.mt.WUPay,ae.processor=this.utilService.isGMOPaymentGatewayEnabledViaEvergage()?"gmo":s.mt.WUPay)),("SendMoneyValidation"===oe||"SendMoneyStore"===oe)&&f.get(I,"sender.subscription_id")&&(ae.subscription_id=f.get(I,"sender.subscription_id")),("SendMoneyValidation"===oe||"SendMoneyStore"===oe)&&f.get(I,"payment_details.credit_debit_card.cardinal_info.wu_3ds_version")&&(ae.wu3ds_request=I.payment_details.credit_debit_card.cardinal_info.wu_3ds_version,ae.cc3ds_request=I.payment_details.credit_debit_card.cardinal_info.cc_3ds_version),("SendMoneyValidation"===oe||"SendMoneyStore"===oe)&&f.get(T,"payment_details.credit_debit_card.cardinal_info.wu_3ds_version")&&(ae.wu3ds_response=T.payment_details.credit_debit_card.cardinal_info.wu_3ds_version,ae.cc3ds_response=T.payment_details.credit_debit_card.cardinal_info.cc_3ds_version),("SendMoneyValidation"===oe||"SendMoneyStore"===oe)&&f.get(T,"paymentDetails.creditDebitCard.cardinalInfo.wu_3ds_version")&&(ae.wu3ds_response=T.paymentDetails.creditDebitCard.cardinalInfo.wu_3ds_version,ae.cc3ds_response=T.paymentDetails.creditDebitCard.cardinalInfo.cc_3ds_version),"SendMoneyValidation"===oe&&sessionStorage.getItem("CPRoadRunnerUpdates")){const z=JSON.parse(sessionStorage.getItem("CPRoadRunnerUpdates")||"false"),ie=T?.payment_details?.payment_type;ae.payment_mismatch_flag=z&&z.payInChangeFlag?ie:""}if("SendMoneyValidation"===oe&&f.get(T,"zumigo_session_id")&&(ae.zumigo_session_id=f.get(T,"zumigo_session_id")),"GetVendorData"===oe&&(ae.vendor_list=[],I.vendorData.forEach(z=>ae.vendor_list.push(z.name.toLowerCase()))),"SendMoneyValidation"===oe&&f.get(T,"payment_details.identification_question")&&(ae.emergency_transfer=!0),"RegisterCustomer"===oe&&T&&!V.a.isProduction()&&0===T.Status?.code){const z={...this.mandatoryAttributes(),...this.optionalAttributes()};this.logEvent("CompleteRegistration",z)}if("RegisterCustomer"===oe){sessionStorage.getItem("crossCountryRedirectionError")&&(ae.multipleProfile=!0),this.setUserProperties({user_type:"wu-profile"});const z=this.featureFlagService.isFeatureEnabled("MARKETING_ON_PR"),ie=this.featureFlagService.isFeatureEnabled("THIRD_PARTY_DATASHARING_CONSENT");if(this.prepareRegsCusIdent(I,T),f.has(I,"gateway_customer.address.raw_address")&&(ae.suggested_address=!0),z){const Ce=this.featureFlagService.isFeatureEnabled("EXPLICIT_MARKETING_CHKBOX_ON_PR"),X=this.featureFlagService.isFeatureEnabled("PHONE_MARKETING_ON_PR");ae.mywu_consent=!1;const Ee={};I.gateway_customer.terms_condition_flag&&(ae.mywu_consent=!0),I.gateway_customer.account_preferences.email?(Ee.marketing_consent=!0,Ce&&X?(Ee.preferences_email=!0,Ee.preferences_sms_message=!0,Ee.preferences_telephone_call=!0):Ee.preferences_email=!0):(Ee.marketing_consent=!1,Ce&&X?(Ee.preferences_email=!1,Ee.preferences_sms_message=!1,Ee.preferences_telephone_call=!1):Ee.preferences_email=!1);for(const De in Ee)f.isEmpty(De)||(ae[De]=Ee[De]);this.setUserProperties(Ee)}ie&&f.has(I,"gateway_customer.account_preferences.thirdparty_datasharing_consent")&&(ae["3rd_party_data_sharing"]=I.gateway_customer.account_preferences.thirdparty_datasharing_consent);const re=this.utilService.getCookieItem("partnerizeParamsAmp")&&JSON.parse(JSON.stringify(this.utilService.getCookieItem("partnerizeParamsAmp")||"{}"));re&&0!==Object.getOwnPropertyNames(re).length&&(re.prz_partnerName&&(ae.partner_name=re.prz_partnerName,delete re.prz_partnerName),this.setUserProperties(re),ae.marketing_partner_name="partnerize"),this.manageHadoopApiEvents(T,de)}if(("CustomerSignOn"===oe||"RegisterCustomer"===oe)&&(ae.pricing_campaign=I&&I.campaign&&I.campaign.campaign_name?I.campaign.campaign_name:"",ae.subscription_id=I&&I.campaign&&I.campaign.subscription_id?I.campaign.subscription_id:"",ae.pricing_campaign_response=T&&T.subscription&&T.subscription.campaign_name?T.subscription.campaign_name:"",ae.subscription_id_response=T&&T.subscription&&T.subscription.subscription_id?T.subscription.subscription_id:"",ae.subscription_expiry_date=T&&T.subscription&&T.subscription.end_date?new Date(T.subscription.end_date).toISOString():"",this.utilService.isLoyaltyProgramEnabled())){const z=f.get(T,"gatewayCustomer.termsConditionFlag",null)||f.get(T,"gateway_customer.terms_condition_flag",null);ae.loyalty_consent="1"===z?"yes":"no",ae.wurewards_login=this.utilService.checkIfUserIsFromMyWuSite()?"mywu":"wu"}if("catalog"===oe){ae.receiver_country=I&&I.receiver&&I.receiver.cty_iso2?I.receiver.cty_iso2.toLowerCase():"",ae.pricing_campaign=I&&I.campaign&&I.campaign.campaign_name?I.campaign.campaign_name:"",ae.subscription_id=I&&I.campaign&&I.campaign.subscription_id?I.campaign.subscription_id:"",ae.pricing_segment=T&&T.sender&&T.sender.segment?T.sender.segment:"",ae.subscription_expiry_date=this.utilService.getCookieItem("promoCampaignSubscriptionEndDate"),this.getUrlParameter("promocampaign")&&(ae.user_pricing_campaign=this.getUrlParameter("user")?this.getUrlParameter("user"):"",ae.pricing_campaign_link=this.getUrlParameter("promocampaign"));const z=this.utilService.getCookieItem("userIdentity")?this.utilService.getCookieItem("userIdentity"):"";z&&(ae.user_pricing_session=z),-1===f.get(T,"response_status.status")&&(ae.api_response_code=f.get(T,"response_status.code"),ae.api_response_message=f.get(T,"response_status.message")),f.get(T,"campaign.experience")&&this.logServerSideCampaignEvent(I,T)}if("promo"===oe){f.get(T,"status.error.code")&&(ae.api_response_code=f.get(T,"status.error.code"));const z=this.utilService.getCookieItem("userIdentity")?this.utilService.getCookieItem("userIdentity"):"";z&&(ae.user_pricing_session=z),f.get(T,"campaign.campaign_name")&&(ae.pricing_campaign=f.get(T,"campaign.campaign_name")?f.get(T,"campaign.campaign_name"):void 0)}if("SendMoneyValidation"===oe&&(ae.pricing_campaign=f.get(I,"sender.campaign_name")?f.get(I,"sender.campaign_name"):void 0,ae.subscription_id=f.get(I,"sender.subscription_id")?f.get(I,"sender.subscription_id"):void 0,ae.pricing_campaign_response=f.get(T,"sender.campaign_name")?f.get(T,"sender.campaign_name"):void 0,ae.subscription_id_response=f.get(T,"sender.subscription_id")?f.get(T,"sender.subscription_id"):void 0,ae.subscription_expiry_date=f.get(T,"sender.end_date")?f.get(T,"sender.end_date"):void 0,this.addReceiverAccountTypeForMexico(I.receiver,ae),this.setFundsOutUpiAmplitudeData(I.receiver,ae),this.setFundsOutPixAmplitudeData(I.receiver,ae),this.setFundsOutSplitTileAmplitudeData(I.receiver,ae),this.setFundsOutC2BAmplitudeData(I.receiver,ae)),"get_promo_discount"===oe){f.get(T,"status.error.code")&&(ae.api_response_code=f.get(T,"status.error.code"),ae.api_response_message=f.get(T,"status.error.message"));const z=this.utilService.getCookieItem("userIdentity")?this.utilService.getCookieItem("userIdentity"):"";z&&(ae.user_pricing_session=z)}if("pricing"===oe&&this.subscription.unsubscribe(),("UpdateReceivers"===oe||"AddReceivers"===oe)&&I.receivers&&I.receivers.receiver&&I.receivers.receiver[0]&&(this.addReceiverAccountTypeForMexico(I.receivers.receiver[0],ae),this.setFundsOutUpiAmplitudeData(I.receivers.receiver[0],ae),this.setFundsOutPixAmplitudeData(I.receivers.receiver[0],ae),this.setFundsOutSplitTileAmplitudeData(I.receiver,ae),this.setFundsOutC2BAmplitudeData(I.receivers.receiver[0],ae)),"SendMoneyStore"===oe&&(this.addReceiverAccountTypeForMexico(I.receiver,ae),this.setFundsOutUpiAmplitudeData(I.receiver,ae),this.setFundsOutPixAmplitudeData(I.receiver,ae),this.setFundsOutSplitTileAmplitudeData(I.receiver,ae),this.setFundsOutC2BAmplitudeData(I.receiver,ae)),"GetLoyaltyCards"===oe&&this.utilService.isLoyaltyProgramEnabled()){const z=this.getWindow(),re=(JSON.parse(sessionStorage.getItem("resLoyalityCard"))||{})?.gatewayCustomer?.additionalPreferredCustomers?.preferredCustomer?.totalPointsEarned;if(this.datahub_config.amplitude&&this.invokeAmplitudeSDK()&&z.amplitude){const Ce=(new z.amplitude.Identify).set("wu_rewards",re);this.invokeAmplitudeSDK().getInstance().identify(Ce)}}if("completeyourprofile"===this.currentPageName&&I&&I.gateway_customer&&I.gateway_customer.gender){const z=(new b.Identify).setOnce("gender",I.gateway_customer.gender);b.getInstance().identify(z)}if("GetScheduleReminders"===oe&&T&&!T.error&&(ae.reminder_count=f.get(T,"reminders.reminder")?T.reminders.reminder.length:0),Object.keys(ae).forEach(z=>{(""===ae[z]||null===ae[z])&&delete ae[z]}),this.flowType!==D.do.DSS2&&"UpdateCustomerProfile"===oe){const z=this.featureFlagService.isFeatureEnabled("MARKETING_ON_PR"),ie=this.featureFlagService.isFeatureEnabled("PHONE_MARKETING_ON_PR");f.has(I,"gateway_customer.address.raw_address")&&(ae.suggested_address=!0);const re=this.wuSessionStorage.isZipCodeService?JSON.parse(this.wuSessionStorage.isZipCodeService):null,Ce=JSON.parse(this.wuSessionStorage.GatewayCustomer);if("BR"===this.utilService.getCookieItem("WUCountryCookie_")&&(re||"Y"===f.get(Ce,"address.advvStatus"))&&(ae.address_verification_status=!0,delete this.wuSessionStorage.isZipCodeService),"completeyourprofile"===ae.page_name&&f.get(I,"gateway_customer.gender")){const X=(new b.Identify).setOnce("gender",f.get(I,"gateway_customer.gender"));this.invokeAmplitudeSDK().getInstance().identify(X)}if(f.has(T,"gateway_customer.verification_source")&&(sessionStorage.setItem("amp_verification_source",f.get(T,"gateway_customer.verification_source")),ae.verification_source=f.get(T,"gateway_customer.verification_source")),z&&"complete-your-profile"===this.currentPageName){const X=JSON.parse(sessionStorage.getItem("PrAccountPreferences")||"false");if(!f.isEmpty(X)&&"false"!==X){const Ee={},De=X.directMail!==f.get(I,"gateway_customer.account_preferences.direct_mail");ie&&X.email?(Ee.marketing_consent=!0,Ee.preferences_direct_mail=De):X.email?(Ee.marketing_consent=!0,Ee.preferences_telephone_call=De,Ee.preferences_sms_message=De,Ee.preferences_direct_mail=De):(Ee.marketing_consent=De,Ee.preferences_email=De,Ee.preferences_telephone_call=De,Ee.preferences_sms_message=De,Ee.preferences_direct_mail=De);for(const fe in Ee)f.isEmpty(fe)||(ae[fe]=Ee[fe]);this.setUserProperties(Ee)}}if(!f.isNil(sessionStorage.getItem("popUpThirdPartyConsent"))&&"share-consent-for-data-sharing"===sessionStorage.getItem("popUpThirdPartyConsent")){const X=f.get(I,"gateway_customer.account_preferences.thirdparty_datasharing_consent");ae["3rd_party_data_sharing"]=X,sessionStorage.removeItem("popUpThirdPartyConsent")}}if("VerifyEID"===oe&&T&&!T.error){const z={...this.mandatoryAttributes(),...this.optionalAttributes()};"Y"===T.verification_status&&this.logEvent("page_Profile_NemID_Verification_Success",z),T.verification_status&&(ae.identity_verification_status=T.verification_status?T.verification_status.toLowerCase():"n",ae.eid_verification_status=T.verification_status?T.verification_status.toLowerCase():"n",sessionStorage.setItem("_wuAnalyticIVS",T.verification_status)),T.nameMatched&&(ae.name_match_status=T.nameMatched),T.dobMatched&&(ae.dob_match_status=T.dobMatched),T.verificationSource&&(ae.verification_source=T.verificationSource,sessionStorage.setItem("_wuAnalyticIVSource",T.verificationSource))}if("GwpRuleCount"===oe&&T&&!T.error){const z={...this.mandatoryAttributes(),...this.optionalAttributes()};if(this.logEvent("RuleCountEvents",z),T.id&&(ae.MTCN=T.id),T.id_type&&(ae.ID_type=T.id_type),T.rule){const ie=[];(T.rule.emailSendCount>-1||T.rule.emailVerifyCount>-1)&&(ae.verification_type=ie.push("EMAIL"),ae.email_send_count=T.rule.emailSendCount,ae.email_verify_count=T.rule.emailVerifyCount),(T.rule.smsSendCount>-1||T.rule.smsVerifyCount>-1)&&(ae.verification_type=ie.push("SMS"),ae.sms_send_count=T.rule.smsSendCount,ae.sms_verify_count=T.rule.smsVerifyCount),T.rule.idVerificationCount>-1&&(ae.verification_type=ie.push("ID"),ae.id_verification_count=T.rule.idVerificationCount)}}if("Authorize"===oe&&T&&(sessionStorage.getItem("vendorType")&&(ae.error_source="myinfo"),T.error&&(delete ae.api_response_code,ae.response_code=T.error),T.errorDescription&&(ae.error_message=T.errorDescription)),"GetCustomerProfile"===oe&&T&&!T.error&&(ae.identity_verification_status=f.get(T,"gateway_customer.identity_verification_status")?f.get(T,"gateway_customer.identity_verification_status").toLowerCase():"n",sessionStorage.getItem("vendorType")&&(ae.verification_source="myinfo"),T&&T.gateway_customer&&"MY"===T.gateway_customer.address.country_iso_code&&(ae.profilename_verification_status=f.get(T,"gateway_customer.verification_source")?"true":"false")),"GetSupportedWYKFactors"===oe&&T&&!T.error&&(ae.security_ques_count=f.get(T,"gateway_customer")?f.get(T,"gateway_customer.security_details.question_answers.question_answer")?f.size(T.gateway_customer.security_details.question_answers.question_answer):0:f.get(T,"gatewayCustomer.security.questionAnswers")?f.size(T.gatewayCustomer.security.questionAnswers):0),"ValidateWYKFactors"===oe&&T&&!T.error&&(ae.security_ques=f.get(I,"security_challenge")),("CreateFXAlerts"===oe||"UpdateFXAlerts"===oe)&&T&&!T.error){let z="";if("manage-fx-alert"!==this.currentPageName){if(f.get(I,"fx_frequency")&&(z="daily"),f.get(I,"fx_threshold")){z=z?"daily,threshold":"threshold";const ie=f.get(I,"fx_threshold");ae.threshold_value=`${ie.slice(0,-2)}.${ie.slice(-2)}`}ae.Fx_widget_type="CreateFXAlerts"===oe?"create":"update"}"manage-fx-alert"===this.currentPageName&&"UpdateFXAlerts"===oe&&(!f.get(I,"fx_id")||f.get(I,"fx_threshold")||f.get(I,"fx_frequency")?f.get(I,"fx_threshold")?z="daily":f.get(I,"fx_frequency")&&(z="threshold"):z="both"),ae.fx_alert_type=z,ae.fx_widget_page="send-money-option"===this.currentPageName?"smo":"history"===this.currentPageName?"history":"manage-fx-alert"}if("GetSupportedWYHFactors"===oe&&T&&!T.error&&(ae.reset_option_count=f.get(T,"validateOptions.validateOption")?f.size(T.validateOptions.validateOption):0),("UploadDMSDoc"===oe&&T||"GetCustomerVerificationStatus"===oe&&f.get(T,"sender.kyc_details.duc.ducDelivery.ducDocuments.ducDocument"))&&this.addDocCountAndDocType(T,ae),"VerifyCustomer"===oe&&T&&sessionStorage.getItem("wuAmplitude_kycDocTypes")&&sessionStorage.removeItem("wuAmplitude_kycDocTypes"),"SignUpAsLead"===oe&&T&&!T.error){const z={user_type:"lead","opt-in-as-lead-status":"true"};T.leadAccountResponse===O.Y.LEAD_ACCOUNT_RESPONSE.NEW&&(ae.already_a_lead="false",ae.already_a_wu_profile="false"),T.leadAccountResponse===O.Y.LEAD_ACCOUNT_RESPONSE.DUPLICATE&&(ae.already_a_wu_profile="false",ae.already_a_lead="true"),T.leadAccountResponse===O.Y.LEAD_ACCOUNT_RESPONSE.DIGITALCUSTOMER&&(ae.already_a_wu_profile="true",ae.already_a_lead="false",z["opt-in-as-lead-status"]="false"),T.leadId&&this.invokeAmplitudeSDK().getInstance().setDeviceId(T.leadId),this.setUserProperties(z)}sessionStorage.getItem("currentFlow")&&(ae.user_action=sessionStorage.getItem("currentFlow"));const he={...this.mandatoryAttributes(),...this.optionalAttributes(),...ae};if(this.setUtmSrcParameter(he),this.setReferrerParameter(he),"RegisterCustomer"===oe&&(this.setRAFAttribute(he),sessionStorage.removeItem("RAFTnCAccept")),"catalog"===oe&&(he.transfer_fee=this.getTranferFee(T)),"register"===this.currentPageName&&this.setPRAttribute(he),"GetReceivers"===oe){const z=this.getWindow();if(T&&!T.error&&this.invokeAmplitudeSDK()&&z.amplitude){const ie=f.get(T,"receivers.receiver")?T.receivers.receiver.length:0,re=(new z.amplitude.Identify).set("receivers_count",ie);this.invokeAmplitudeSDK().getInstance().identify(re)}}if("AddCreditCards"===oe&&(T&&!T.error&&T.gatewayCustomer?he.card_type=f.get(T,"gatewayCustomer.wallet.creditDebitCards.creditDebitCard[0].cardType"):T&&T.error&&I&&I.gateway_customer&&(he.card_type=f.get(I,"gateway_customer.wallet.credit_debit_cards.credit_debit_card[0].card_type"))),"UpdateCreditCards"===oe&&I&&I.gateway_customer&&(he.card_type=f.get(I,"gateway_customer.wallet.credit_debit_cards.credit_debit_card[0].card_type")),"SendMoneyValidation"===oe&&(T&&!T.error&&T.payment_details&&T.payment_details.credit_debit_card?he.card_type=f.get(T,"payment_details.credit_debit_card.card_type"):T&&T.error&&I&&I.payment_details&&I.payment_details.credit_debit_card&&(he.card_type=f.get(I,"payment_details.credit_debit_card.card_type"))),"SendMoneyValidation"===oe&&"C9781"===T?.error?.code?he.POT_field="y":he.POT_field&&delete he.POT_field,("SendMoneyValidation"===oe||"SendMoneyStore"===oe)&&f.get(I,"receiver.wallet.wu_d2c.card_type")&&(he.receiver_card_type=I.receiver.wallet.wu_d2c.card_type),"SendMoneyValidation"===oe&&(f.has(T,"wACH")&&(he.wACH=T.wACH),f.has(T,"payment_details.is_apn_allow_instance")&&(he.is_apn_allow_instance=T.payment_details.is_apn_allow_instance),f.has(T,"payment_details.achSpeed")&&(he.achSpeed=T.payment_details.achSpeed),f.has(T,"wu_product.speed_indicator")&&this.utilService.isReduceDeliveryEnabled()&&!f.get(I,"payment_details.is_apn_allow_instance")&&!f.get(T,"error"))){const z=this.shouldShowRegretMSGReducedSpeed(T);he.is_reduced_delivery=!z}if("CreateScheduleReminders"===oe&&(he.reminder_enrol=!0,he.reminder_frequency=f.lowerCase(I.frequency_type),he.reminder_page=this.getCurrentPageName()),"ExtractOCR"===oe){this.getOcrErrorResponse=T,he.doc_type=f.has(T,"customer_data.document_details.document_detail[0].doc_type")?T.customer_data.document_details.document_detail[0].doc_type:null;const z=sessionStorage.getItem("ocrErrorIdType"),ie=this.utilService.isOCRErrorSecondAttemptEnabled(z),re=sessionStorage.getItem("isPvRetryCount");ie&&(he.ocr_retry_attempt=re,he.ocr_failure_reason=f.get(this.getOcrErrorResponse,"error.reasons.reason[0].code"))}if(this.flowType===D.do.DSS2){if("GwpCustomerLookup"===oe){let z;T?.error?.code===l.u.MULTI_FIND_ERROR?z="multi_find":T?.error?.code===l.u.NO_FIND_ERROR?z="no_find":(T?.error?.code===l.u.SINGLE_FIND_ERROR||T?.gateway_customer?.name?.first_name)&&(z="single_find"),he.action_type="dss-lookup-ID-validation"===this.dssPopUpName?"verify_id":"lookup",he.customer_find=z;const ie=sessionStorage.getItem("challengeAttemptCount")||"";"dss-lookup-ID-validation"===this.dssPopUpName&&ie&&(he.verify_attempt_number=ie)}if("/GwpVerifyPhone"===y){const z=sessionStorage.getItem("dssPopUpName")||"",ie=sessionStorage.getItem("verifyOtpCount")||"",re=sessionStorage.getItem("sendOtpCount")||"";""!==z&&(T&&T?.otp_status===l.u.OTP_SENT_SUCCESS&&re?(he.action_type="send_otp",he.resend_attempt_number=re):T&&(T?.otp_status===l.u.OTP_VALIDATE_SUCCESS||T?.otp_status===l.u.OTP_VALIDATE_FAILED)&&ie&&(he.action_type="verify_otp",he.verify_attempt_number=ie))}"/GetIdVerificationStatus"===y&&(he.DSS_IDVV_Status=T?.replyStatus?.idvvStatus)}this.previous_event=de,sessionStorage.setItem("wuAmplitude_previousEvent",de),de&&this.logEventsInSessionStorage(de);const B=this.featureFlagService.isFeatureEnabled("OPTIMIZEY_CUSTOM_EVENT_ENABLED")||"true"==sessionStorage.getItem("isOptimizelyCustomEvent");if(window&&window.optimizely&&de&&B){const z=de.replaceAll("/","");window.optimizely.push({type:"event",eventName:z,tags:{responseCode:f.get(T,"status.error.code","0")}})}this.logEvent(de,he),this.logHadoopApiEvents(I,T,de,oe)}}logServerSideCampaignEvent(y,I){const T=y&&y.sender&&y.sender.cty_iso2_ext?y.sender.cty_iso2_ext.toLowerCase():"",te=y&&y.receiver&&y.receiver.cty_iso2?y.receiver.cty_iso2.toLowerCase():"",Z=f.get(I,"campaign.experience")?f.get(I,"campaign.experience"):"";this.logEvergageExperienceAmplitudeEvent({ab_test:T+"_"+te+"_promo_ssc_campaign",ab_test_variant:T+"_"+te+"_promo_ssc_campaign_"+Z})}getTranferFee(y){if(y&&y.services_groups&&this.currentFundsIn&&this.currentFundsOut){const I=y.services_groups.filter(te=>te.service===s.Oi[this.currentFundsOut.toUpperCase()]),T=I[0]&&I[0].pay_groups?I[0].pay_groups.filter(te=>s.bw[te.fund_in]?.toUpperCase()===this.currentFundsIn?.toUpperCase()):[];return T[0]&&T[0].gross_fee?T[0].gross_fee:""}return""}manageHadoopApiEvents(y,I){(!y.error&&y.gatewayCustomer||y.gatewayCustomer&&"api_RegisterCustomer"===I)&&(sessionStorage.setItem("GatewayCustomer",JSON.stringify(y.gatewayCustomer)),y.subscription&&y.subscription.subscription_id?(this.hadoopAnalyticsConditionalAttr.subscription_id=y.subscription.subscription_id,this.hadoopAnalyticsConditionalAttr.subscription_expiry_date=y.subscription.end_date?y.subscription.end_date:""):(this.hadoopAnalyticsConditionalAttr.subscription_id="",this.hadoopAnalyticsConditionalAttr.subscription_expiry_date=""),this.handleHadoopAnalytisEvents(I))}logHadoopApiEvents(y,I,T,te){const Z=this.featureFlagService.isFeatureEnabled("POST_LOGIN_PROMO_CAMPAIGN");"SendMoneyValidation"===te&&Z&&(y&&(this.hadoopAnalyticsConditionalAttr.eventName="Send money validation attempted",this.hadoopAnalyticsConditionalAttr.customer_id=y.sender&&y.sender.preferred_customer&&y.sender.preferred_customer.account_nbr?y.sender.preferred_customer.account_nbr:void 0,this.hadoopAnalyticsConditionalAttr.campaign_name=y.sender.campaign_name?y.sender.campaign_name:void 0,this.hadoopAnalyticsConditionalAttr.subscription_id=y.sender.subscription_id?y.sender.subscription_id:void 0,this.handleHadoopAnalytisEvents(T)),I&&!I.error&&(this.hadoopAnalyticsConditionalAttr.eventName="Send money validation completed",this.hadoopAnalyticsConditionalAttr.campaign_name=I.sender.campaign_name?I.sender.campaign_name:void 0,this.hadoopAnalyticsConditionalAttr.subscription_id=I.sender.subscription_id?I.sender.subscription_id:void 0,this.hadoopAnalyticsConditionalAttr.subscription_expiry_date=I.sender.end_date?new Date(I.sender.end_date).getTime():void 0,this.handleHadoopAnalytisEvents(T)))}handleHadoopAnalytisEvents(y){const I=O.Y.hadoopAnalyticsEvents;this.utilService.isPromoPricingEnabled()&&this.checkEventsAvailableByKey(I,y)&&this.hadoopAnalyticsLogsEvent(I[y])}getSendReceiveLock(y){y.payment_details&&y.payment_details.destination&&y.payment_details.destination.expected_payout_amount?sessionStorage.setItem("wuAmplitudeSMO_sendReceiveLock","receive_locked"):y.payment_details&&y.payment_details.origination&&y.payment_details.origination.principal_amount&&sessionStorage.setItem("wuAmplitudeSMO_sendReceiveLock","send_locked")}getBiller(y){y.biller&&y.biller.code&&sessionStorage.setItem("wuAmplitude_biller",y.biller.code)}addDocCountAndDocType(y,I){const T=f.get(y,"sender.kyc_details.duc.ducDelivery.ducDocuments.ducDocument"),te=sessionStorage.getItem("wuAmplitude_kycDocTypes")||"",Z=f.get(y,"dms_doc"),de=JSON.parse(sessionStorage.getItem("StoreResponse")||"false"),oe=sessionStorage.getItem("wuAmplitude_ducKycDocTypes")||"",ae=sessionStorage.getItem("wuAmplitude_ducDocTypes")||"";if(T){const he=T.map(B=>"ID"===B.docType?B.docType+"-"+B.type:B.docType);0!==he.length&&(sessionStorage.setItem("wuAmplitude_kycDocTypes",he),I.kyc_doc_count=he.length,I.kyc_doc_type=he)}if(te){const he=te.split(",");he&&0!==he.length&&(I.kyc_doc_count=he.length,I.kyc_doc_type=he)}if(Z&&de){let B=f.get(de,"sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument").map(ie=>"ID"===ie.docType?ie.type:"");B=B.filter(ie=>ie),0!==B.length&&(sessionStorage.setItem("wuAmplitude_ducKycDocTypes",B),I.kyc_doc_count=B.length,I.kyc_doc_type=B);const z=Z.map(ie=>ie.doc_type);0!==z.length&&(sessionStorage.setItem("wuAmplitude_ducDocTypes",z),I.doc_count=z.length,I.doc_type=z)}if(oe){const he=oe.split(",");he&&0!==he.length&&(I.kyc_doc_count=he.length,I.kyc_doc_type=he)}if(ae){const he=ae.split(",");he&&0!==he.length&&(I.doc_count=he.length,I.doc_type=he)}}addReceiverAccountTypeForMexico(y,I){if(this.updateStore.getState()&&this.updateStore.getState().corridor&&this.updateStore.getState().corridor.receiverCountry&&"MX"===this.updateStore.getState().corridor.receiverCountry.isoCode&&this.updateStore.getState().selectedProduct&&this.updateStore.getState().selectedProduct.payOut===s.Zr.BA&&"MX"===y.address.country_iso_code&&y.wallet&&y.wallet.bank_accounts&&y.wallet.bank_accounts.bank_account[0]){const T=y.wallet.bank_accounts.bank_account[0]?.account_type?.toUpperCase();let te;te=T===O.Y.mexicoAccountType.BANK?O.Y.MXACCOUNTTYPEAMPLITUDETYPE.bank:T===O.Y.mexicoAccountType.CARD?O.Y.MXACCOUNTTYPEAMPLITUDETYPE.debit:O.Y.MXACCOUNTTYPEAMPLITUDETYPE.clabe,I.receiver_account_type=te}}setFundsOutUpiAmplitudeData(y,I){if(this.updateStore.getState()&&this.updateStore.getState().corridor&&this.updateStore.getState().corridor.receiverCountry&&"IN"===this.updateStore.getState().corridor.receiverCountry.isoCode&&this.updateStore.getState().selectedProduct&&this.updateStore.getState().selectedProduct.payOut===s.Zr.BA){const T=y.wallet.bank_accounts.bank_account[0]?.account_selected_type?.toLowerCase();I.funds_out=T===O.Y.FUNDSOUT_UPI?T:O.Y.BA}}setFundsOutPixAmplitudeData(y,I){if(this.updateStore.getState()&&this.updateStore.getState().corridor&&this.updateStore.getState().corridor.receiverCountry&&"BR"===this.updateStore.getState().corridor.receiverCountry.isoCode&&this.updateStore.getState().selectedProduct&&this.updateStore.getState().selectedProduct.payOut===s.Zr.BA){const T=y.wallet.bank_accounts.bank_account[0]?.account_type?.toLowerCase();I.funds_out=T===O.Y.FUNDSOUT_PIX?T:O.Y.BA}}setFundsOutSplitTileAmplitudeData(y,I){this.updateStore.getState()&&this.utilService.isSplitTileEnabled()&&this.updateStore.getState().selectedProduct&&this.updateStore.getState().selectedProduct.payOut?.split("-")[0]===s.Zr.WA&&(I.selected_wallet=f.get(this.sessionFromStore,"corridor.receiverWallet.value")||f.get(this.sessionFromStore,"selectedReceiver.wallet.wuWallet.service_provider_name"))}setFundsOutC2BAmplitudeData(y,I){"IN"===this.smoConfig._getCountryIsoFromURL().toUpperCase()&&this.updateStore.getState().selectedProduct&&this.updateStore.getState().selectedProduct.payOut===s.Zr.BA&&this.featureFlagService.isFeatureEnabledForReceiver("C2B_RECEIVER_FLAG",this.updateStore.getState().corridor.receiverCountry.isoCode)&&(I.funds_out=y?.consumer_to_business_name?O.Y.FUNDSOUT_C2B:O.Y.BA)}logClickEvent(y,I){let T;const Z=this.getAmplitudeId(y?.target||y?.srcElement||y?.currentTarget),de=sessionStorage.getItem("amplitude_pageName_MYWU"),oe=this.utilService.isPhoneLoginEnabled();this.dssPopUpName=sessionStorage.getItem("dssPopUpName")||"";const ae=sessionStorage.getItem("dssChallengeSuccess"),he=this.utilService.isLoginMfaEnabled()||this.utilService.isRegisterMfaEnabled();if(he&&this.getSenderStore(),"false"===sessionStorage.getItem("FTCFlag")&&"button-accept"===Z){T="clicked_[ftc-fraud-warning]_["+Z+"]";const B={...this.mandatoryAttributes(),...this.optionalAttributes(y)};this.previous_event=T,sessionStorage.setItem("wuAmplitude_previousEvent",T),this.logEvent(T,B)}else if("amplitude-id did not find"!==Z){if(0===Z.indexOf("menu-"))T="clicked_["+Z+"]";else if("menuicon"===Z)T="clicked_[link-menu]";else if("link-apply-reward-promo"===Z||"link-active-reward-promo"===Z||"pop-up_[smo-deliveryspeed-disclaimer]"===Z)T="clicked_["+this.currentPageName+"]_["+Z+"]",sessionStorage.setItem("amplitude_pageName_MYWU","smo-my-wu");else if(!this.utilService.isKycAbandonedPopupEnabled()||"button-close-confirmation-popup"!==Z||"kyc-instructions"!==this.currentPageName&&"onboarding_sdq"!==this.currentPageName)if(this.utilService.isAccountBasedRelationshipEnabled()&&"button-submit-confirmation"===Z)T="clicked_["+this.currentPageName+"]_[button-popup-verify]";else if(this.utilService.isAccountBasedRelationshipEnabled()&&"button-close-confirmation-popup"===Z)T="clicked_["+this.currentPageName+"]_[button-popup-later]";else if(!this.utilService.isRedirectReceiverToBank()||"track-transfer-success"!==this.currentPageName||"button-continue-r2b"!==Z&&"button-got-it-r2b"!==Z)if("continue-button-rtobname"===Z)T="clicked_[name-details]_[button-continue]";else if("continue-login-rtobname"===Z)T="clicked_[name-details]_[button-login]";else if(he&&this.currentPageName.indexOf("mfa")>-1){let se=this.otpSourceMobile?"mobile":"email";Z.indexOf("verify")>-1&&(se=this.otpSourceMobile?"email":"mobile");const le="lookup_flow"===this.updateStore.getState()?.userJourney;let F="-mfa-with-"+se;"register"===this.mfaCheckPage&&!le&&!oe&&"mobile"===se&&(F="-mfa-mobile-capture"),T="clicked_["+(this.currentPageName.indexOf("otp")>-1?this.mfaCheckPage+"-mfa-"+se+"-otp-input":this.mfaCheckPage+F)+"]_["+Z+"]"}else if("track-transfer-success"!==this.currentPageName||"button-dots"!==Z&&"swipeleft"!==Z&&"swiperight"!==Z&&"left-arrow"!==Z&&"right-arrow"!==Z)if("smo-my-wu"===de)T="clicked_[smo-my-wu]_["+Z+"]";else if("lookup"===this.currentPageName&&"button-register"===Z&&(this.utilService.isUsScvEnabled()||this.utilService.isScvProxyEnabled())){const se=JSON.parse(sessionStorage.getItem("app")||"{}");("C6352"===se?.dss2Details?.lookupResponse?.errorCode||"C6353"===se?.dss2Details?.lookupResponse?.errorCode)&&(T="clicked_[mobile-dob]_[button-lookup-failed-register]")}else if("lookup"===this.currentPageName&&this.utilService.isScvProxyEnabled()&&"link-use-id-info"===Z){const se=JSON.parse(sessionStorage.getItem("app")||"{}"),le=sessionStorage.getItem("sendOtpCount"),F=3;"C6609"===se?.dss2Details?.lookupResponse?.errorCode&&(T="clicked_[mobile-dob]_[button-register]"),Number.parseInt(le)===F&&(T="clicked_[mobile-dob]_[button-last-attempt-register]")}else if("link-get-verified-using-your-govt-issued-id"===Z)this.currentPageName="eid-verification-confirm",T="clicked_["+this.currentPageName+"]_["+Z+"]";else if(0===Z.indexOf("tile-eid-"))this.currentPageName="eid-verification-options",T="clicked_["+this.currentPageName+"]_["+Z+"]";else if("lookup"===this.currentPageName&&"button-identity-use-mobile"===Z)T="clicked_[mobile-dob]_["+Z+"]";else if(this.router.url.includes("user/lookup"))T=("lookup"!==this.currentPageName||"button-continue"!==Z)&&"button-login"!==Z&&"button-register"!==Z||this.dssPopUpName?"dss-lookup-otp-validation"===this.dssPopUpName&&"button-continue"===Z?"clicked_[mobile-dob]_[button-otp-continue]":"dss-lookup-otp-validation"===this.dssPopUpName&&"link-resend-code"===Z?"clicked_[mobile-dob]_[button-otp-resend]":"dss-lookup-otp-validation"===this.dssPopUpName&&"icon-close"===Z?"clicked_[mobile-dob]_[button-otp-cancel]":"dss-lookup-ID-validation"===this.dssPopUpName&&"link-use-id-info"===Z?"clicked_[mobile-dob]_[button-otp-use-identity-verification]":"dss-lookup-ID-validation"===this.dssPopUpName&&"button-continue"===Z?"clicked_[mobile-dob]_[button-identity-continue]":"dss-lookup-ID-validation"===this.dssPopUpName&&"icon-close"===Z?"clicked_[mobile-dob]_[button-identity-cancel]":"dss-lookup-all-attempts-exhausted"===this.dssPopUpName&&"button-OK"===Z?"clicked_[mobile-dob]_[button-verification-failure-register]":"dss-lookup-all-attempts-exhausted"===this.dssPopUpName&&"icon-close"===Z?"clicked_[mobile-dob]_[button-verification-failure-cancel]":"dss-lookup-email-validation"===this.dssPopUpName&&"button-email-cancel"===Z||"dss-lookup-email-validation"===this.dssPopUpName&&"button-email-continue"===Z?"clicked_[mobile-dob]_["+Z+"]":"dss-lookup-otp-validation"===this.dssPopUpName&&"link-use-otp-info"===Z?"clicked_[mobile-dob]_[button-otp-use-mobile-verification]":"dss-lookup-email-validation"===this.dssPopUpName&&"link-use-email-info"===Z?"clicked_[mobile-dob]_[button-otp-use-email-verification]":"dss-lookup-email-validation"===this.dssPopUpName&&"button-email-resend"===Z?"clicked_[mobile-dob]_[button-otp-resend]":"dss-lookup-otp-validation"===this.dssPopUpName&&"button-last-attempt-register"===Z||"dss-lookup-ID-validation"===this.dssPopUpName&&"button-last-attempt-register"===Z||"dss-lookup-email-validation"===this.dssPopUpName&&"button-last-attempt-register"===Z?"clicked_[mobile-dob]_["+Z+"]":"clicked_["+this.currentPageName+"]_["+Z+"]":"clicked_[mobile-dob]_["+Z+"]";else if("lookup"===this.currentPageName&&"button-login"===Z)T="clicked_[mobile-dob]_["+Z+"]";else if("upload-doc"===this.currentPageName&&"button-upload"===Z)T="clicked_[upload-doc]_["+Z+"]";else if("retail-id-collect"!==this.currentPageName||"button-continue"!==Z&&"button-register"!==Z)if("digital-registration"===this.currentPageName&&"button-register"===Z)T="clicked_[new-registration]_["+Z+"]";else if("track-transfer-success"===this.currentPageName&&"button-continue-customer-lookup"===Z)T="clicked_[track-transfer]_["+Z+"]";else if(this.utilService.isAccountBasedRelationshipEnabled()&&"button-submit-confirmation"===Z)T="clicked_["+this.currentPageName+"]_[button-popup-verify]";else if(this.utilService.isAccountBasedRelationshipEnabled()&&"button-close-confirmation-popup"===Z)T="clicked_["+this.currentPageName+"]_[button-popup-later]";else if("collect-button-continue"===Z)this.currentPageName="eid-verification-confirm",T="clicked_["+this.currentPageName+"]_[button-continue]";else if(this.utilService.isChooseOcrTileEnable()&&"button-back"===Z)this.currentPageName="select-kyc-options",T="clicked_["+this.currentPageName+"]_["+Z+"]";else if("button-multiple_profile-login"===Z)T="clicked_[cross-country-popup]_["+Z+"]";else if("button-multiple_profile-register"===Z)T="clicked_[cross-country-popup]_["+Z+"]";else if("link-goto-create-new-profile"===Z)T="clicked_[pop-up-cross-country-login]_["+Z+"]";else if("button-goto-registered-country"===Z)T="clicked_[pop-up-cross-country-login]_["+Z+"]";else if(this.utilService.inFrame()&&"button-continue"===Z||"button-close-overlay"===Z)T="clicked_["+this.fetchPopUpName()+"]_["+Z+"]";else if("button-allow-3rd-party-data-sharing"===Z||"button-deny-3rd-party-data-sharing"===Z){const se="share-consent-for-data-sharing";T="clicked_["+se+"]_["+Z+"]",sessionStorage.setItem("popUpThirdPartyConsent",se)}else if("button-popup-refer-friend"===Z||"button-popup-close"===Z)T="clicked_["+this.currentPageName+"]_["+Z+"]";else if("payinchnage-button-next"===Z)this.currentPageName="complete-your-transfer",T="clicked_["+this.currentPageName+"]_[button_next]";else if("true"===sessionStorage.getItem("isSignUpasLeadPopup")&&"textbox-email"===Z||"lead-submit"===Z)T="clicked_[leads-widget-overlay]_["+Z+"]";else if("button-okay"===Z)T="clicked_[verification_unsuccessful]_["+Z+"]";else if("button-ok"===Z)T="clicked_[receiver-account-blocked]_["+Z+"]";else if("payment"!==this.currentPageName||"link-terms"!==Z&&"icon-close"!==Z&&"button-continue"!==Z)if("payment"===this.currentPageName&&"list-bank-selection"===Z)T="clicked_[choose-your-bank]_["+Z+"]";else if("checkbox-dont-show-again"===Z||"button-home-delivery-info-OK"===Z)T="clicked_[home-delivery-info]_["+Z+"]";else if("r2b-receiver-details-continue"===Z)T="clicked_[bank-redirect-receiver-details]_[button-continue]";else if("button-find-agent-locations"===Z&&"recvredirect-info"===this.currentPageName)T="clicked_[popup-fund-redirect]_[button-find-agent-locations]";else if(this.flowType||"button-google"!==Z&&"button-apple"!==Z&&"button-facebook"!==Z&&"checkbox-dont-show-me-again"!==Z&&"icon-close"!==Z)if(Z.indexOf("button-change-country")>-1&&"global-country-selection"===this.currentPageName)T="clicked_["+this.currentPageName+"]_[button-change-country]";else if("dss-lookup-otp-validation"!==this.dssPopUpName||"button-continue"!==Z&&"link-resend-code"!==Z&&"icon-close"!==Z)if("link-use-id-info"===Z)T="clicked_[dss-lookup-otp-validation]_["+Z+"]";else if("dss-lookup-ID-validation"!==this.dssPopUpName||"button-continue"!==Z&&"link-use-mobile-number"!==Z&&"icon-close"!==Z)if("dss-lookup-all-attempts-exhausted"!==this.dssPopUpName||"button-OK"!==Z&&"icon-close"!==Z)if(this.flowType!==D.do.DSS2||"button-continue"!==Z&&"button-update"!==Z&&"icon-profile-stepper"!==Z&&"icon-select-doc-stepper"!==Z&&"icon-upload-doc-stepper"!==Z&&"button-doc-type"!==Z&&"checkbox-consent"!==Z)if(this.flowType===D.do.DSS2&&""===this.dssPopUpName&&"link-use-mobile-number"===Z)T="clicked_[dss_"+this.currentPageName+"]_["+Z+"]";else if("link-use-email"===Z)T="clicked_[dss_"+this.currentPageName+"]_["+Z+"]";else if(ae&&"button-continue"===Z)T="clicked_[dss_challenge-success]_["+Z+"]",sessionStorage.removeItem("dssChallengeSuccess");else if(ae||"doc-upload-id"!==this.currentPageName||"button-continue"!==Z&&"link-upload-later"!==Z&&"button-upload-now"!==Z&&"button-upload-later"!==Z&&"icon-frontside"!==Z&&"icon-backside"!==Z&&"dropdown-id-type"!==Z&&"button-upload"!==Z&&"link-back-to-pending-documents"!==Z)if(this.utilService.isRegisterModalEnabled()&&"track-transfer-success"===this.currentPageName&&["button-register","link-login","textbox-password","textbox-email"].indexOf(Z)>-1)T=`clicked_[pop_up_registration]_[${Z}]`;else if(this.utilService.isNewAirModalEnabled()&&"send-money-option"===this.currentPageName&&["button-continue-air","button-switch-digital"].indexOf(Z)>-1)T=`clicked_[actionsheet-send-money-option]_[${Z}]`;else if(this.selectedProduct?.payIn===s.mt.C3&&"tile-fundsin-cs"===Z)T="clicked_[send-money-option]_[tile-fundsin-cs]";else if("edit-receiver-name-otp"===this.currentPageName){let se=Z;"button-submit"===se?se="button-verify":"link-skip-and-continue"===se&&(se="cancel"),T="clicked_["+this.currentPageName+"]_["+se+"]"}else if("login"!==this.currentPageName&&"register"!==this.currentPageName&&"sm-login"!==this.currentPageName||"change-country"!==Z)if(this.utilService.isTabularDesignEnabled()){const se=this.getCurrentPageName();let le=Z;this.currentPageName="sm-login"===se||"tabular-sm-log-reg"===se?"tabular-sm-log-reg":"tabular-log-reg",this.activeTabularTab="tab-login"===le?"tab-login":"tab-register"===le?"tab-register":this.activeTabularTab,"change-country"===le&&(le=le+"-"+this.activeTabularTab),"button-continue"===le&&"tab-register"===this.activeTabularTab&&(le="button-register"),T="clicked_["+this.currentPageName+"]_["+le+"]"}else{const se=sessionStorage.getItem("amplitudeValueToLowerCase");if("link-i-accept"===Z||"link-i-do-not-accept"===Z){const le=y.target.id;this.currentPageName="sender_raf_no"===le||"sender_raf_yes"===le?"refer-friend-sender-opt-in":"refer-friend-receiver-opt-in"}else if(this.utilService.inFrame())this.currentPageName=this.fetchPopUpName();else if(!this.utilService.isDssNewdocUploadEnabled()&&!this.utilService.isNewDocHubEnabledForDSS()||this.flowType!==D.do.DSS||this.currentPageName?.includes("dss-")||se)if((this.utilService.isDssNewdocUploadEnabled()||this.utilService.isNewDocHubEnabledForDSS())&&this.flowType===D.do.DSS&&se){const le=this.currentPageName;this.currentPageName="",this.currentPageName=le?.toLowerCase()}else"icon-close"===Z&&(T="clicked_["+this.currentPageName+"]_["+Z+"]");else{const le=this.currentPageName;this.currentPageName="",this.currentPageName="dss-"+le}T="clicked_["+this.currentPageName+"]_["+Z+"]"}else T="clicked_["+this.currentPageName+"]_["+Z+"]";else T="clicked_[dss_"+this.currentPageName+"]_["+Z+"]";else T="clicked_[dss_"+this.currentPageName+"]_["+Z+"]";else T="clicked_[dss-lookup-all-attempts-exhausted]_["+Z+"]";else T="clicked_[dss-lookup-ID-validation]_["+Z+"]";else T="clicked_[dss-lookup-otp-validation]_["+Z+"]";else"send-money-option"===this.currentPageName||"history"===this.currentPageName?T="clicked_["+this.checkPopupNameForNQA()+"]_["+Z+"]":"login"===this.currentPageName||"register"===this.currentPageName?T="clicked_["+this.currentPageName+"]_["+Z+"]":this.utilService.isRegisterModalEnabled()&&"track-transfer-success"===this.currentPageName&&"icon-close"===Z&&(T=`clicked_[pop_up_registration]_[${Z}]`);else T="clicked_[plaid-data-consent]_["+Z+"]";else T="clicked_[id-verification]_["+Z+"]";else T="clicked_[sovrn-offers]_["+Z+"]";else{const se="fund-redirect-instructions";T="button-continue-r2b"===Z?"clicked_["+se+"]_[button-continue]":"clicked_["+se+"]_[button-info]"}else T="clicked_["+this.currentPageName+"]_[icon-close-abandoned-kyc-pop-up]";let B={...this.mandatoryAttributes(),...this.optionalAttributes(y)};("button-login"===Z||"button-continue"===Z)&&(B.wurewards_login=this.utilService.checkIfUserIsFromMyWuSite()?"mywu":"wu"),"dropdown-filter-duration-selected"===Z&&(B.filter_period_selected=y?.target?.attributes.filter_period_selected),"checkbox-nolastname"===Z&&(B.checked=y?.target?.checked?"Y":"N"),this.previous_event=T,sessionStorage.setItem("wuAmplitude_previousEvent",T);const z=this.logCookiePopupClickEvents(y);if("toggle-loyalty"===Z&&this.utilService.isLoyaltyProgramEnabled()&&(B.loyalty_consent=y.target.id),z.click_event&&(T=z.click_event,B=z.clickEventAttr),this.utilService.isAccountBasedRelationshipEnabled()&&"link-banner-verify"===Z){const se=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}");B.reaccreditation_past_due=f.get(se,"verificationFlag.reaccreditation.pastDue"),B.id_expired=f.get(se,"verificationFlag.idExpired")}if(this.utilService.isReceiverMobileNumberMandatoryEnabled()&&"clicked_[receiver]_[button-update-existing-receiver]"===T&&"receiver"===this.currentPageName){const se=JSON.parse(sessionStorage.getItem("app")||"{}");B.receiver_phone_status=f.get(se,"receiverList.receivers[0].contactDetails.vv_status")}const ie=[{popupName:"session-expiry",amplitudeId:"button-session-expiry-pop-up-continue-extend"},{popupName:"session-expiry",amplitudeId:"button-session-expiry-pop-up-close"}];for(let se=0;se<ie.length;se++)ie[se].amplitudeId===Z&&(T="clicked_["+ie[se].popupName+"]_["+Z+"]");const re=this.utilService.getMerchantData();re&&("button-shop-now"===Z||"tile"===Z)&&(T="clicked_[sovrn-offers]_["+Z+"]",B.merchant_name=re.merchantName?re.merchantName:"",B.merchant_coupon_id=re.couponId?re.couponId:"",B.merchant_position_within_the_carousel=re.index?Number(re.index)+1:"",B.merchant_category=re.category?re.category:"",B.merchant_rating=re.rating?re.rating:""),this.setUtmSrcParameter(B),this.setReferrerParameter(B);const Ce=this.featureFlagService.isFeatureEnabled("AMPLITUDE_FORM_VALIDATIONS_LOG");"register"===this.currentPageName&&"clicked_[register]_[button-continue]"===T&&(this.setRAFAttribute(B),this.setDeeplinkParamsAttr(B),Ce&&this.setFormValidationAttributes(B,I)),"register"===this.currentPageName&&"clicked_[register]_[button-login]"===T&&this.setDeeplinkParamsAttr(B);const X=["clicked_[receiver]_[button-start-new-receiver]","clicked_[receiver]_[button-update-existing-receiver]","clicked_[receiver]_[button-start-my-self]"];if(Ce&&"receiver"===this.currentPageName&&X.indexOf(T)>-1&&this.setFormValidationAttributes(B,I),"receiver"===this.currentPageName&&X.indexOf(T)>-1){const se=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus"));f.has(se,"wACH")&&(B.wACH=se.wACH);const le=this.updateStore.getState().apnAllowInstance;B.is_apn_allow_instance=le}if("register"===this.currentPageName&&this.setPRAttribute(B),"kyc-option-duc"===this.currentPageName&&"clicked_[kyc-option-duc]_[button-duc-later]"===T&&this.setUploadedDocsAttribute(y,B),"history"===this.currentPageName&&"clicked_[history]_[button-continue]"===T&&(B.resume_transfer_cta=sessionStorage.getItem("resume_transfer_cta")),"payment"===this.currentPageName&&this.selectedProduct?.payIn===s.mt.Plaid&&("clicked_[choose-your-bank]_[list-bank-selection]"===T||"clicked_[plaid-data-consent]_[button-continue]"===T||"clicked_[payment]_[tab-select-bank-account]"===T)&&(B.selected_bank_name=sessionStorage.getItem("selected_bank_name")),"eid-verification-options"===this.currentPageName&&("tile-nemid"===Z||"tile-mitid"===Z)&&(B.flow="inline"),this.getPaymentAttributes(T,B),"clicked_[send-money-option]_[tile-favorite-transfers]"===T){const se=this.updateStore.getState().viewAllFav;B.Tile_number=!0===se?"view-all":se+1,this.updateStore.viewAllFav(!1)}const Ee=f.get(this.sessionFromStore,"isFavFilterSelected");"dropdown-filter-duration"===Z&&Ee&&(B.filter_value="favorite",this.updateStore.isFavFilterSelected(!1));const De=f.get(this.sessionFromStore,"clickResendIsFav");"history"===this.currentPageName&&void 0!==De&&("clicked_[history]_[icon-resend]"===T||"clicked_[history]_[button-edit-resend-continue-to-review]"===T)&&(B.txn_type=De?"favorite":"unfavourite");const fe=f.get(this.sessionFromStore,"kycVerificationModel");"select-doc"===this.currentPageName&&void 0!==fe&&"clicked_[select-doc]_[button-doc-type]"===T&&(B.doc_type=f.get(fe,"selectedDocType.docSubType.value"));const Ue=this.sessionFromStore?.sendMoneyObjects?JSON.parse(this.sessionFromStore?.sendMoneyObjects):null;this.flowType===D.do.DSS2&&"select-document"===this.currentPageName&&Ue&&"clicked_[dss_select-document]_[button-doc-type]"===T&&(B.ID_type=Ue?.sender?.kycDetails?.duc?.ducDelivery?.ducDocuments?.ducDocument[0]?.type);const ee=sessionStorage.getItem("selectedIdSubType")||"";if("doc-upload-id"===this.currentPageName&&"clicked_[dss_doc-upload-id]_[button-upload]"===T&&ee&&(B.ID_type=sessionStorage.getItem("selectedIdSubType"),sessionStorage.removeItem("selectedIdSubType")),"send-money-option"===this.currentPageName&&"clicked_[send-money-option]_[button-smo-continue]"===T){const se=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus"));f.has(se,"wACH")&&(B.wACH=se.wACH),this.setSocialPoofingMsgAttribute(B),"MY"===this.smoConfig._getCountryIsoFromURL().toUpperCase()&&this.selectedProduct?.payIn?.toUpperCase()===s.mt.FPX&&(B.ibp_fund_source=f.get(this.sessionFromStore,"FPXBankInfo.name")),"MY"===this.smoConfig._getCountryIsoFromURL().toUpperCase()&&this.selectedProduct?.payIn?.toUpperCase()===s.mt.MW&&(B.ibp_fund_source=f.get(this.sessionFromStore,"WalletBankInfo.name"));const le=JSON.parse(sessionStorage.getItem("requestMoneyFlow")||"{}");le&&"Yes"===le.rm_transfer?(B.rm_transfer="Yes",B.rm_receive_amount=le.rm_receive_amount,B.rm_receive_currency=le.rm_receive_currency,B.rm_funds_out=le.rm_funds_out,le.acrossRMFlow=!0,sessionStorage.setItem("requestMoneyFlow",JSON.stringify(le))):B.rm_transfer="No"}if("global-country-selection"===this.currentPageName&&T.indexOf("button-change-country")>-1){B.old_country_code=this.readURLService.getCountryLanguage().country;const se=Z.split("_");B.wu_country_code=se.length>1?se[1].toLowerCase():null}if((T.indexOf("lang-selector-button-continue")>-1||T.indexOf("list-language-selection")>-1)&&(B.old_language=this.readURLService.getCountryLanguage().language,B.wu_language=localStorage.getItem("wuLanguagePreference")),this.utilService.isGMOPaymentGatewayEnabled()&&"send-money-option"===this.currentPageName&&"clicked_[send-money-option]_[tile-fundsin-wupay]"===T&&(B.processor=this.utilService.isGMOPaymentGatewayEnabledViaEvergage()?"gmo":s.mt.WUPay,B.disable_status="true"===sessionStorage.getItem("isGMOMaintenanceActive")?"true":"false"),this.utilService.isGMOPaymentGatewayEnabled()&&"history"===this.currentPageName&&("clicked_[history]_[icon-resend]"===T||"clicked_[history]_[link-payment-instructions]"===T)){const se=f.get(this.sessionFromStore,"selectedTransactionDetails");B.processor=f.isEmpty(f.get(se,"transaction.gmoBranchCode",null))?s.mt.WUPay:"gmo","clicked_[history]_[icon-resend]"===T&&(B.disable_status="true"===sessionStorage.getItem("isGMOMaintenanceActive")?"true":"false")}if("clicked_[history]_[link-payment-instructions]"===T)try{let se=2;se=parseInt(se,10),B.wupay_expiry_day=se&&!isNaN(se)?2:14}catch{}if("clicked_[send-money-option]_[wallet-selected]"===T)try{T="clicked_[wallet-overlay]_[wallet-selected]",B.selected_wallet=f.get(this.sessionFromStore,"corridor.receiverWallet.value")}catch(se){console.error("not logged event"+se)}if("clicked_[send-money-option]_[bank-selected]"===T)try{T="clicked_[smo-bank-selection]_[bank-selected]",B.selected_bank=f.get(this.sessionFromStore,"corridor.receiverBank.value")}catch(se){console.error("not logged event"+se)}if("clicked_[receiver]_[bank-selected]"===T)try{T="clicked_[receiver-bank-selection]_[bank-selected]",B.selected_bank=f.get(this.sessionFromStore,"corridor.receiverBank.value")}catch(se){console.error("not logged event"+se)}if(("clicked_[send-money-option]_[tooltip-close]"===T||"clicked_[send-money-option]_[tooltip-yes]"===T)&&(T="clicked_["+this.currentPageName+"]_[receiver-city-tooltip]_[button-"+Z+"]"),"clicked_[send-money-option]_[tile-fundsout-wa]"===T)try{B.multi_wallet=Object.keys(this.receiverWalletList||{}).length>1?"true":"false"}catch{}T&&this.logEventsInSessionStorage(T),this.logEvent(T,B),"button-apply-ucpromo"===Z&&sessionStorage.removeItem("amplitude_pageName_MYWU"),this.handleHadoopAnalytisEvents(T)}}checkPopupNameForNQA(){return this.utilService.isNoQuestionsAskedEnabled()?"history":this.utilService.isNewAirModalEnabled()&&"send-money-option"===this.currentPageName?"actionsheet-send-money-option":"social-linking-overlay"}setFormValidationAttributes(y,I){!f.isEmpty(I)&&Array.isArray(I)&&I.map(T=>{f.merge(y,T)})}fetchPopUpName(){let y=sessionStorage.getItem("popUpName");return y=y||"",y}setUploadedDocsAttribute(y,I){I.docs_uploaded=y.data}setRAFAttribute(y){const I=!!JSON.parse(sessionStorage.getItem("RAFTnCAccept")||"false");y.raf_registration_page="saasquatch"===f.get(y,"utm_campaign")&&I?"yes":"no"}setDeeplinkParamsAttr(y){const I=this.readURLService.getURLParam(v.a.RECEIVE_COUNTRY);y.receiver_country=f.isEmpty(I)?"none":I?.toLowerCase()}setPRAttribute(y){const I=!!JSON.parse(sessionStorage.getItem("progressiveRegLoaded")||"false");y.progressive_registration=I}setSocialPoofingMsgAttribute(y){const I=JSON.parse(sessionStorage.getItem("loggedSMOSPmsgMap")||"false");f.isEmpty(I)||(I.countryAmountSPmsg&&(y.sp_corridor_message=I.countryAmountSPmsg),I.fundsOutSPmsg&&(y["sp_funds-out_message"]=I.fundsOutSPmsg),I.fundsInSPmsg&&(y["sp_funds-in-cta_message"]=I.fundsInSPmsg))}hadoopAnalyticsLogsEvent(y){if((0,g.Vy)(this.platformId))return;const I=this.prepareHadoopAnalyticRequest(y);this.fingerprintHash?this.hadoopAnalyticService.sendToHadoopAnalytic(I).subscribe(T=>{this.logger.log("hadoopAnalyticService Response-",T)}):this.utilService.getFingerprintHash().then(T=>{this.fingerprintHash=T,f.get(I,"records[0].value.user")&&!f.get(I,"records[0].value.user.fingerprint_id")&&(I.records[0].value.user.fingerprint_id=T),this.hadoopAnalyticService.sendToHadoopAnalytic(I).subscribe(te=>{this.logger.log("hadoopAnalyticService Response-",te)})})}checkEventsAvailableByKey(y,I){return!!Object.keys(y).filter(te=>te===I).length}checkEventsAvailableByVal(y,I){return!!Object.keys(y).filter(te=>y[te]===I).length}prepareHadoopAnalyticRequest(y){const I=this.getPreparedHadoopAnalyticRequest(y);return{records:[{key:I.user.session_id,value:I}]}}getChannel(){const y=this.updateStore.getState().isPPSprofile,I={name:"",type:"",version:"",device_identifier:this.utilService.isMobileDevice()?"RESPONSIVE_MOB":"RESPONSIVE_WEB"};return y?(I.name="Cruise",I.type="PPS",I.version="9740"):(I.name="Western Union",I.type="WEB",I.version="9Z00"),I}getPreparedHadoopAnalyticRequest(y){const I=this.getChannel();let T,te,Z,de;const oe=this.utilService.getCookieItem("SessionId")?this.utilService.getCookieItem("SessionId"):this.utilService.getCookieItem("wu_device_id")?this.utilService.getCookieItem("wu_device_id"):"";this.checkEventsAvailableByVal(O.Y.hadoopAnalyticsApiEvents,y)?(T=this.hadoopAnalyticsConditionalAttr.subscription_id,Z=this.hadoopAnalyticsConditionalAttr.subscription_expiry_date,te=this.hadoopAnalyticsConditionalAttr.customer_id?this.hadoopAnalyticsConditionalAttr.customer_id:""):(T=this.utilService.getCookieItem("promoCampaignSubscriptionId"),Z=this.utilService.getCookieItem("promoCampaignSubscriptionEndDate")),"Send money validation"===y?(y=this.hadoopAnalyticsConditionalAttr.eventName?this.hadoopAnalyticsConditionalAttr.eventName:y,de=this.hadoopAnalyticsConditionalAttr.campaign_name):de=this.utilService.promoPricingWebCampaign().promoPricingCampaign;const he={event:y,timestamp:Date.now(),timezone:(new Date).getTimezoneOffset(),channel:{name:this.selectedProduct.pricingContext?this.selectedProduct.pricingContext.split("/")[1]:"WWEB",client:this.selectedProduct.pricingContext?this.selectedProduct.pricingContext.split("/")[2]:"WUCOM",version:I.version?I.version:""},user:{device_id:this.utilService.getCookieItem("wu_device_id"),session_id:oe,logged_in:this.getLoggedInStatue(),customer_id:te||"",identity:this.utilService.getCookieItem("userIdentity"),fingerprint_id:this.fingerprintHash},page:{name:this.getCurrentPageName(),exchange_rate:this.selectedProduct.exchangeRate,funds_in:this.currentFundsIn?this.currentFundsIn:"",funds_out:this.currentFundsOut?this.currentFundsOut:"",receiving_amount:f.get(this.sessionFromStore,"receiverAmount"),receiving_currency:this.getReceiverCurrency(),receiving_country:"",sending_amount:f.get(this.sessionFromStore,"senderAmount"),sending_country:this.smoConfig._getCountryIsoFromURL().toLowerCase(),sending_currency:this.getSenderCurrency(),transfer_fee:this.selectedProduct.fees,sending_state:f.get(this.sessionFromStore,"sender.address.state")||(this.selectedProduct.pricingContext?this.selectedProduct.pricingContext.split("/")[4]:void 0),receiving_state:f.get(this.sessionFromStore,"selectedReceiver.address.state"),referral:document.referrer}};"Login completed"===y&&(he.user.logged_in="true"),de&&(he.user.campaign_name=de),T&&(he.user.subscription_id=T),Z&&(he.user.subscription_expiry_date=Z);const B=this.getTransactionCount();return B&&(he.user.transaction_count=B),this.sessionFromStore&&this.sessionFromStore.corridor&&this.sessionFromStore.corridor.receiverCountry&&this.sessionFromStore.corridor.receiverCountry.isoCode&&(he.page.receiving_country=this.sessionFromStore.corridor.receiverCountry.isoCode.toLowerCase()),this.sessionFromStore&&this.sessionFromStore.sender&&this.sessionFromStore.sender.myWuNumber&&(he.user.customer_id=this.sessionFromStore.sender.myWuNumber),he}getTransactionCount(){const y=this.utilService.getSessionStorageItem("transactionHistoryResp");return y&&JSON.parse(y)instanceof Array?JSON.parse(y).length:0}getAncestorElement(y){for(;(y=y?.parentElement)&&!y.hasAttribute("amplitude-id"););return null!==y&&y?.hasAttribute("amplitude-id")?y?.getAttribute("amplitude-id"):"amplitude-id did not find"}getAmplitudeId(y){return y?.attributes["amplitude-id"]?y?.attributes["amplitude-id"].nodeValue:this.getAncestorElement(y)}getDefFundsOut(y){const I="clicked_[send-money-option]_[tile-fundsout-"+y.toLowerCase()+"]",T={...this.mandatoryAttributes(),...this.optionalAttributes()};this.previous_event=I,sessionStorage.setItem("wuAmplitude_previousEvent",I),this.logEvent(I,T)}getPaymentAttributes(y,I){return y.startsWith("clicked_[send-money-option]_[tile-fundsin-")&&(I.payment_type=this.selectedProduct.payIn),"clicked_[send-money-option]_[tile-fundsin-fpx]"===y&&(I.payment_sub_type=s.mt.IPAY88),"clicked_[send-money-option]_[tile-fundsin-mw]"===y&&(I.payment_sub_type="IPAY88W"),"clicked_[send-money-option]_[tile-fundsin-wupay]"===y&&(I.payment_sub_type=this.utilService.isGMOPaymentGatewayEnabledViaEvergage()?"gmo":s.mt.WUPay,I.processor=this.utilService.isGMOPaymentGatewayEnabledViaEvergage()?"gmo":s.mt.WUPay,I.disable_status="true"===sessionStorage.getItem("isGMOMaintenanceActive")?"true":"false"),I}getDefFundsIn(y){const I="clicked_[send-money-option]_[tile-fundsin-"+y.toLowerCase()+"]",te={...this.mandatoryAttributes(),...this.optionalAttributes(),...this.getPaymentAttributes(I,[])};this.previous_event=I,sessionStorage.setItem("wuAmplitude_previousEvent",I),this.logEvent(I,te)}logTabEvent(y){if(9===y.keyCode){const I=this.currentPageName;if("register"===I||"new-payment"===I){const T=this.getClickedElement(y),te=this.getAmplitudeId(T);if("property is not available"!==te&&"button-continue"!==te){const Z="clicked_["+I+"]_["+te+"]",de={...this.mandatoryAttributes(),...this.optionalAttributes()};this.updateWULanguage(),this.previous_event=Z,sessionStorage.setItem("wuAmplitude_previousEvent",Z),this.logEvent(Z,de)}}}}getClickedElement(y){const I=this.getWindow();return I.event&&I.event.srcElement&&I.event.srcElement.attributes?I.event.srcElement:y.target}updateWULanguage(){const y=this.getWindow();if(this.datahub_config.amplitude&&this.invokeAmplitudeSDK()&&y.amplitude&&this.utilService.getCookieItem("WULanguageCookie_")){const I=this.utilService.getCookieItem("WULanguageCookie_"),T=(new y.amplitude.Identify).set("wu_language",I);this.invokeAmplitudeSDK().getInstance().identify(T)}}getFetchName(y){return y===O.Y.cloudPricingAPI||y===O.Y.cloudPromoPricingAPI||y===O.Y.lookupAPI?y.split("/")[2]:-1!==y.indexOf("/v1/authorize")||-1!==y.indexOf("/v1/token")?y.split("/")[2].split("?")[0]:y.split("/")[1]}getPartnerizeParameterCapture(y){let I={};if(I=this.mParticlePartnerizeService.getPartnerizeQueryParams(I,document.location.search,y),0!==Object.getOwnPropertyNames(I).length){const T=this.smoConfig.getGlobalConfig("switches","partnerizeCookieExpiry");this.utilService.setCookieItem("partnerizeParamsAmp",JSON.stringify(I),T||7,null,null,!0),I.prz_partnerName&&delete I.prz_partnerName,this.setUserProperties(I),y.marketing_partner_name="partnerize"}}logAmplitudeVisitEvent(y){const I={};if(0!==Object.getOwnPropertyNames(y).length)for(const T in y)-1!==O.Y.VISIT_EVENT_PROPS.indexOf(T)&&"wu_device_id"!==T&&(I[T]=y[T]);this.logEvent("customer_visit",I),document.cookie="visit-logged-amp=true;path=/;domain="+window.location.hostname}logEventsInSessionStorage(y){try{const I=this.updateStore?.getState()?.countryDynamicParams;if(I&&I?.isQmPerformanceMetricsEnabled){const T=[];if(y&&(y.match("/[[]]/")||y.match("([-])"))){const oe=y.split("_");oe&&oe.length&&(oe.forEach(ae=>{T.push(ae.replace(/[\[\]']+/g,"").replace(/-/g,"_"))}),y=T.join("_"))}let te={};const Z={};Z[y]=(new Date).valueOf();const de=sessionStorage.getItem("web_metrics")||"";de?(te=JSON.parse(de)||{},Object.assign(te,Z),sessionStorage.setItem("web_metrics",JSON.stringify(te))):sessionStorage.setItem("web_metrics",JSON.stringify(Z))}}catch(I){sessionStorage.setItem("error_for_web_metrics","true"),console.error("not logged event"+I)}}shouldShowRegretMSGReducedSpeed(y){let I="";const T=f.get(y,"wu_product.speed_indicator"),te=JSON.parse(sessionStorage.getItem("reducedDeliveryTimeObj")||null);I=te.reducedDeliveyTime===O.Y.REVIEW_CONST.ZERO?O.Y.REVIEW_CONST.ZERO_RANGE:te.reducedDeliveyTime;const Z=this.parseDayRange(I),de=this.parseDayRange(T);return de[0]>Z[0]||de[1]>Z[1]}parseDayRange(y){const I=y?y.split("-"):[];return 1===I.length?[parseInt(I[0],10),parseInt(I[0],10)]:[parseInt(I[0],10),parseInt(I[1],10)]}static#e=this.\u0275fac=function(I){return new(I||k)(o.KVO(V.a),o.KVO(e.il),o.KVO(m.Ix),o.KVO(x.l9),o.KVO(m.nX),o.KVO(P.k),o.KVO(w),o.KVO(S.B),o.KVO(U.so),o.KVO(G.p),o.KVO(c.y),o.KVO(r.F),o.KVO(h.D),o.KVO(o.Agw))};static#t=this.\u0275prov=o.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},64215:(n,d,t)=>{"use strict";t.d(d,{$e:()=>K,MB:()=>x,Sb:()=>$,ai:()=>V,jo:()=>o,wI:()=>W});var o=function(P){return P.LoadGCIFromKycService="[KYC Service] Load Collect Id Configuration",P.LoadGCITemplate="[GCI Template] Load global collect id template",P.GCIFromKycServiceSuccess="[KYC Service] Load Collect Id Configuration Success",P.GCIApiFail="[Collect Id Service] Service failed with error",P.GobalCollectIdTemplateSuccess="[GCI Template] TemplateLoad is success",P.EidChoosenMethod="[Eid] Choosen Eid method",P.OnfidoChoosenMethod="[Onfido] Choosen Onfido method",P}(o||{});class x{constructor(){this.type=o.LoadGCITemplate}}class ${constructor(D){this.payload=D,this.type=o.GobalCollectIdTemplateSuccess}}class W{constructor(D){this.payload=D,this.type=o.GCIApiFail}}class K{constructor(D){this.payload=D,this.type=o.EidChoosenMethod}}class V{constructor(D){this.payload=D,this.type=o.OnfidoChoosenMethod}}},9385:(n,d,t)=>{"use strict";t.d(d,{Ht:()=>W,Iu:()=>e,L7:()=>x,NS:()=>o,kz:()=>$});var o=function(K){return K.UpdateCompleteYourProfile="Update Complete Your Profile",K.CompleteYourProfileError="Complete Your Profile Error",K.CompleteYourProfileSuccess="Complete Your Profile Success",K.PreviewProfileError="Preview Profile Error",K}(o||{});class e{constructor(V){this.payload=V,this.type=o.PreviewProfileError}}class x{constructor(V){this.payload=V,this.type=o.UpdateCompleteYourProfile}}class ${constructor(V){this.payload=V,this.type=o.CompleteYourProfileError}}class W{constructor(V){this.payload=V,this.type=o.CompleteYourProfileSuccess}}},28269:(n,d,t)=>{"use strict";t.d(d,{$i:()=>U,Bd:()=>x,GK:()=>E,Gc:()=>e,H2:()=>D,KK:()=>C,Rk:()=>K,TW:()=>A,Wy:()=>f,mw:()=>$,rP:()=>o});var o=function(w){return w.DocUploadDMS="Doc Upload DMS",w.DocUploadDMSSuccess="Doc Upload DMS Success",w.DocUploadDMSApiFail="Doc Upload DMS Api Fail",w.DucDocTypeDetailsUpdate="Update DUC Doc Type Model",w.GetKycConfigData="Get Kyc Config Data",w.GetKycConfigDataSuccess="Get Kyc Config Data Success",w.GetKycConfigDataFail="Get Kyc Config Data Fail",w.VerifyCustomerData="Verify Customer Data",w.VerifyCustomerDataSuccess="Verify Customer Data Success",w.VerifyCustomerDataFail="Verify Customer Data Fail",w.CustomerVerificationStatusData="Customer Verification Status Data",w.CustomerVerificationStatusDataSuccess="Customer Verification Status Data Success",w.CustomerVerificationStatusDataFail="Customer Verification Status Data Fail",w.ICVResponse="ICV Response",w.SendMoneyObjects="SMS response",w.DocUplaodPageError="Doc upload error data",w}(o||{});class e{constructor(O){this.upload=O,this.type=o.DocUploadDMS}}class x{constructor(O){this.upload=O,this.type=o.DocUploadDMSSuccess}}class ${constructor(O){this.upload=O,this.type=o.DocUploadDMSApiFail}}class K{constructor(O){this.upload=O,this.type=o.GetKycConfigDataSuccess}}class D{constructor(O){this.upload=O,this.type=o.VerifyCustomerDataSuccess}}class f{constructor(O){this.upload=O,this.type=o.VerifyCustomerDataFail}}class C{constructor(O){this.upload=O,this.type=o.CustomerVerificationStatusData}}class A{constructor(O){this.upload=O,this.type=o.CustomerVerificationStatusDataSuccess}}class E{constructor(O){this.upload=O,this.type=o.CustomerVerificationStatusDataFail}}class U{constructor(O){this.upload=O,this.type=o.DocUplaodPageError}}},70297:(n,d,t)=>{"use strict";t.d(d,{DE:()=>K,Hk:()=>G,J1:()=>$,UU:()=>O,VN:()=>x,X8:()=>A,cz:()=>N,hy:()=>U,lP:()=>w,ox:()=>e,rg:()=>V,rq:()=>_,wZ:()=>o});var o=function(s){return s.LoadCards="Load Credit Cards",s.LoadCardsSuccess="Load Cards Success",s.PaymentApiFail="Payment Api Fail",s.AddNewCard="Add New Card",s.AddNewCardSuccess="Add New Card Success",s.DeleteCard="Delete Card",s.UpdateCard="Update Card",s.UpdateCardSuccess="Update Card Success",s.LoadBanks="Load Banks",s.LoadBanksSuccess="Load Banks Success",s.DeleteCardSuccess="Delete Card Success",s.AddNewBank="Add New Bank",s.AddNewBankSuccess="Add New Bank Success",s.GetParamountBankList="Get Paramount Bank List",s.GetParamountBankListSuccess="Get Paramount Bank List Success",s.SendMoneyValidation="Send Money Validation",s.SendMoneyValidationSuccess="Send Money Validation Success",s.PwmbSignature="PWMB signature call",s.PwmbSignatureSuccess="PWMB signature call success",s}(o||{});class e{constructor(a){this.payload=a,this.type=o.LoadCards}}class x{constructor(a){this.payload=a,this.type=o.DeleteCardSuccess}}class ${constructor(a){this.payload=a,this.type=o.LoadCardsSuccess}}class K{constructor(a){this.payload=a,this.type=o.AddNewCardSuccess}}class V{constructor(a){this.payload=a,this.type=o.PaymentApiFail}}class A{constructor(a){this.payload=a,this.type=o.LoadBanksSuccess}}class N{constructor(a){this.payload=a,this.type=o.GetParamountBankList}}class _{constructor(a){this.payload=a,this.type=o.GetParamountBankListSuccess}}class U{constructor(a){this.payload=a,this.type=o.SendMoneyValidationSuccess}}class w{constructor(){this.type=o.PwmbSignature}}class O{constructor(a){this.payload=a,this.type=o.PwmbSignatureSuccess}}class G{constructor(a){this.payload=a,this.type=o.AddNewBankSuccess}}},40967:(n,d,t)=>{"use strict";t.d(d,{Y:()=>o});const o=(e,x,$,W,K)=>{const V=[],P=[],D=[];for(let E=0;E<e.length;E++){const N={payOut:"",minAmount:0,maxAmount:0,isEnabled:!1};if(x.hasOwnProperty(e[E].payOut)&&"Y"===x[e[E].payOut]){N.payOut=e[E].payOut,N.minAmount=e[E].minAmount,N.maxAmount=e[E].maxAmount,N.isEnabled=!0,N.FOOptions=e[E];let _=V.some(function(M){return M.payOut===N.payOut&&(M.maxAmount<N.maxAmount&&(M.maxAmount=N.maxAmount),!0)});$&&$.length>0&&$.includes(N.FOOptions.fundsOut)&&!D.includes(N.FOOptions.code)&&(_=!1),_||(D.push(N.FOOptions.code),P.push(N.payOut),V.push(N))}}const f=Object.keys(x);for(let E=0;E<f.length;E++)if(-1===P.indexOf(f[E])&&"Y"===x[f[E]]){const N={payOut:f[E],minAmount:0,maxAmount:0,isEnabled:!1},_=W?W.filter(M=>M.payOut===f[E]):[];if(K&&_&&0!==_.length)for(let M=0;M<_.length;M++)x.hasOwnProperty(_[M].payOut)&&"Y"===x[_[M].payOut]&&(N.maxAmount=_[M].maxAmount,V.some(function(w){return w.payOut===N.payOut&&(w.maxAmount<N.maxAmount&&(w.maxAmount=N.maxAmount),!0)})||V.push(N));else V.push(N)}let C=-1;if(V.forEach((E,N)=>{"D2C"===E.payOut&&(C=N)}),-1!==C){const E=V.splice(C,1);V.push(E[0])}if(!JSON.parse(sessionStorage.getItem("paysendD2CPayoutEnabled")||"null")){let E=-1;V.forEach((N,_)=>{"D2C_PS"===N.payOut&&(E=_)}),-1!==E&&V.splice(E,1)}return $&&$.length?V.reverse():V}},76205:(n,d,t)=>{"use strict";t.d(d,{P:()=>K});var o=t(67376),x=t(34781),$=t(93885),W=t(54438);let K=(()=>{class V{constructor(D){this.updateStoreUsingActionService=D,this.receiverCurrencyRF="0",this.updateRf(),this.partnerName=sessionStorage.getItem("partnerName")}getExpectedPayoutAmount(D,f){this.partnerName&&-1!==$.Y.HOSTED_PARTNERS.indexOf(this.partnerName.toLowerCase())&&this.updateRf();const C=100*parseFloat(D),A=Math.round(C*f);return"0"!==this.receiverCurrencyRF&&this.receiverCurrencyRF?100*this.applyRoundingFactor(A/100,this.receiverCurrencyRF):+A}applyRoundingFactor(D,f){if(isNaN(D)||isNaN(f))return-1;let C=D;if(f%10==0)C=Math.ceil(D/f)*f;else if("0"===f)C=Number(D);else{const A=100*f,E=Math.floor(D),N=Math.round(100*(D-E)),_=N%A;C=(100*E+(_>0?N+A-_:N))/100}return Number(C)}getExchangeRate(D,f){let C;for(let A=0;A<f.length;A++)if(parseInt(D,10)<=f[A].key){C=parseFloat(f[A].value);break}return C}getSendAmountFee(D,f){let C="";for(let U=0;U<f.length;U++)if(parseInt(D,10)<=f[U].key){C=f[U].value;break}const A=C.split(",");let E=0,N=0;switch(A.length){case 3:case 2:E=Number((100*parseFloat(A[0])).toFixed()),N=parseFloat(A[1]);break;case 1:E=Number((100*parseFloat(A[0])).toFixed())}isNaN(E)&&(E=0),isNaN(N)&&(N=0);const _=D*N/100*100;return!Number.isInteger(E)&&A[0].length&&5===A[0].length&&(E=parseInt(E.toFixed(),10)),parseInt((E+_).toString(),10)}fxBasedOnReceiveAmount(D){let f="";if(D&&null!=D){const C=D.split(";");for(let A=0;A<C.length;A++){const E=C[A].split(",");E&&null!=E&&0!==E.length&&(E[0]=parseFloat(E[0])*parseFloat(E[1])+""),C[A]=E[0]+","+E[1]}for(let A=0;A<C.length;A++)f=0===A?C[A]+"":f+";"+C[A]}return f}getSendAmount(D,f){const C=100*parseFloat(D),A=Math.round(C/f);return"0"!==this.receiverCurrencyRF&&this.receiverCurrencyRF?this.applyRoundingFactor(A,this.receiverCurrencyRF):+A}sortMeta(D){const f=[];if(D&&""!==D&&null!=D){const C=D.split(";");for(let A=0;A<C.length;A++){const E={},N=C[A].indexOf(","),_=C[A].substring(0,N)+"";E.key=_,E.value=C[A].substr(N+1)+"",f.push(E)}return f.sort(function(A,E){return A.key-E.key}),f}}truncateNumberTo(D,f){let C=D.toString();return C=+C.slice(0,C.indexOf(".")+f+1),C}updateRf(){const D=this.updateStoreUsingActionService.getState();if(D){const f=D.countryCurrencies,C=D.corridor,A=o.get(C,"receiverCountry.isoCode"),E=o.get(C,"receiverCurrency");if(A&&E&&f&&f.length>0){const N=f.find(_=>_.country.isoCode.toUpperCase()===A.toUpperCase());if(N&&N.country&&N.country.currencies&&N.country.currencies.length&&N.country.currencies.length>0){const M=N.country.currencies.find(U=>o.get(U,"currency.isoCode","").toUpperCase()===E.toUpperCase());this.receiverCurrencyRF=o.get(M,"currency.roundingFactor")}}}}static#e=this.\u0275fac=function(f){return new(f||V)(W.KVO(x.k))};static#t=this.\u0275prov=W.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},85468:(n,d,t)=>{"use strict";t.d(d,{t:()=>f});var o=t(64646),e=t(66726),x=t(7605),$=t(45286),W=t(56447),K=t(77202),V=t(93885),P=t(54438),D=t(85717);let f=(()=>{class C{constructor(E,N,_,M){this.router=E,this.routingService=N,this.utilService=_,this.store=M,this.destroyed$=new $.B7,this.store.pipe((0,o.Lt)(e.w8),(0,x.Q)(this.destroyed$)).subscribe(U=>{this.sender=U||{}})}canActivate(){const E=JSON.parse(sessionStorage.getItem("valide_reponse_Obj")||"{}"),N=sessionStorage.getItem("page_name");return"/"!==this.router.url||!this.utilService.isEmpty(E)||"track-transfer-success"===N||(this.sender?.verifyMfaFlow===V.Y.mfaConstant.retail_to_register?this.router.navigate(["/user/digital-registration"]):this.sender?.verifyMfaFlow===V.Y.mfaConstant.register?this.router.navigate(["/user/register"]):this.sender?.verifyMfaFlow===V.Y.mfaConstant.myWu?this.router.navigate(["/user/register/?Route=MYWUSITEREGISTER&RouteType=REDIRECT&requestFrom=mywu"]):this.routingService.navigateToLoginNG8(),!1)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static#e=this.\u0275fac=function(N){return new(N||C)(P.KVO(D.Ix),P.KVO(W.O),P.KVO(K.a),P.KVO(o.il))};static#t=this.\u0275prov=P.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},26692:(n,d,t)=>{"use strict";t.d(d,{M:()=>A});var o=t(45485),e=t(79928),x=t(34781),$=t(1027),W=t(37486),K=t(67376),P=t(3902),D=t(54438),f=t(85717),C=t(2490);let A=(()=>{class E{constructor(_,M,U,w,O){this.updateStoreUsingActionService=_,this.router=M,this.smoConfig=U,this.cookieService=w,this.featureFlagService=O,this.disclaimersObj={},this.disclaimerState=new e.t(null),this.payOnlineSelected=!1,this.isLiberiaSpiltPayoutFeatureEnable=this.featureFlagService.isFeatureEnabled("LR_DISABLE_SPLIT_PAYOUT")}hideAndShowwDisclaimers(_,M){const U={},w=[];_.filter(function(O){-1===w.indexOf(O)&&w.push(O)});for(let O=0;O<w.length;O++){let G="";G=w[O],U["disclaimer"+G]=M}return U}setPayOnLineSelection(_){this.payOnlineSelected=_,this.setDisclaimers()}showDisclaimer37(_){this.showDisclaimer37Value=_}showDisclaimer31(_,M){const w=-1!==["FR","GB","DE","IT","AT","IE","ES","NL"].indexOf(M.toUpperCase());let O=0,G=0;if(_&&_.selectedProduct&&_.products){const s=_.products.find(c=>c.payOut===_.selectedProduct.payOut&&"CreditCard"===c.payIn),a=_.products.find(c=>c.payOut===_.selectedProduct.payOut&&"DebitCard"===c.payIn);if(s&&s.fees&&(O=s.fees),a&&a.fees&&(G=a.fees),w||"US"===M&&O!==G)return!0}return!1}setDisclaimers(){this.sessionFromStore=this.updateStoreUsingActionService.getState();const _={},M=[];this.userJourney=K.get(this.sessionFromStore,"userJourney"),"bill-pay"===this.userJourney||"reload-options"===this.userJourney?_["disclaimer"+o.d.LEGAL_NOTICE_GENERAL]=!1:(_["disclaimer"+o.d.LEGAL_NOTICE_GENERAL]=!0,M.push(o.d.LEGAL_NOTICE_GENERAL));const U=K.get(this.sessionFromStore,"corridor.receiverCountry.isoCode"),w=K.get(this.sessionFromStore,"corridor.senderCountry.isoCode");(U&&w!==U&&"AR"!==w||"US"===w||"AU"===w)&&(_["disclaimer"+o.d.LEGAL_NOTICE_EXCHANGE_RATE]=!0,M.push(o.d.LEGAL_NOTICE_EXCHANGE_RATE)),"reload-options"===this.userJourney&&(_["disclaimer"+o.d.LEGAL_NOTICE_EXCHANGE_RATE]=!0,M.push(o.d.LEGAL_NOTICE_EXCHANGE_RATE)),(this.sessionFromStore?.selectedProduct?.payIn===W.mt.WUPay||this.sessionFromStore?.selectedProduct?.payIn===W.mt.PayNow||this.sessionFromStore?.selectedProduct?.payIn===W.mt.Sofort)&&(_["disclaimer"+o.d.LEGAL_NOTICE_BANK_ACCOUNT]=!0,M.push(o.d.LEGAL_NOTICE_BANK_ACCOUNT)),"US"!==w&&"000"===this.sessionFromStore?.selectedProduct?.code&&(("AR"===w&&this.sessionFromStore.selectedProduct.payIn===W.mt.Cash||"AG"!==this.sessionFromStore.selectedProduct.payIn)&&(_["disclaimer"+o.d.LEGAL_NOTICE_CASH_FEE]=!0,M.push(o.d.LEGAL_NOTICE_CASH_FEE)),"BR"!==w&&-1===this.router.url.indexOf("send-money")&&(_["disclaimer"+o.d.LEGAL_NOTICE_CASH_RECEIVER]=!0,M.push(o.d.LEGAL_NOTICE_CASH_RECEIVER)),(this.sessionFromStore?.selectedProduct?.payIn===W.mt.WUPay||this.sessionFromStore?.selectedProduct?.payIn===W.mt.PayNow)&&("GB"===w?(_["disclaimer"+o.d.LEGAL_NOTICE_US_CREDIT_CARD]=!0,M.push(o.d.LEGAL_NOTICE_US_CREDIT_CARD)):(_["disclaimer"+o.d.LEGAL_NOTICE_CASH_WUPAY]=!0,M.push(o.d.LEGAL_NOTICE_CASH_WUPAY)))),"500"===this.sessionFromStore?.selectedProduct?.code&&(_["disclaimer"+o.d.LEGAL_NOTICE_D2B]=!0,M.push(o.d.LEGAL_NOTICE_D2B),"US"!==w&&"CN"===U&&(_["disclaimer"+o.d.LEGAL_NOTICE_D2B_CN]=!0,M.push(o.d.LEGAL_NOTICE_D2B_CN)),"CN"!==U&&(_["disclaimer"+o.d.LEGAL_NOTICE_D2B_NON_CN]=!0,M.push(o.d.LEGAL_NOTICE_D2B_NON_CN)),(this.sessionFromStore.selectedProduct.payIn===W.mt.WUPay||this.sessionFromStore.selectedProduct.payIn===W.mt.PayNow)&&("GB"===w?(_["disclaimer"+o.d.LEGAL_NOTICE_BANK_FP]=!0,M.push(o.d.LEGAL_NOTICE_BANK_FP)):(_["disclaimer"+o.d.LEGAL_NOTICE_D2B_WUPAY]=!0,M.push(o.d.LEGAL_NOTICE_D2B_WUPAY))),"CN"===U&&(_["disclaimer"+o.d.LEGAL_NOTICE_DEST_CN]=!0,M.push(o.d.LEGAL_NOTICE_DEST_CN)),"PH"===U&&(_["disclaimer"+o.d.LEGAL_NOTICE_DEST_PH]=!0,M.push(o.d.LEGAL_NOTICE_DEST_PH))),("600"===this.sessionFromStore?.selectedProduct?.code||"800"===this.sessionFromStore?.selectedProduct?.fundsOut)&&(_["disclaimer"+o.d.LEGAL_NOTICE_MOBILE_WALLET]=!0,M.push(o.d.LEGAL_NOTICE_MOBILE_WALLET)),"000"===this.sessionFromStore.selectedProduct.code&&"AR"!==w&&"reload-options"!==this.userJourney&&!("bill-pay"===this.sessionFromStore?.selectedProduct?.type)&&(_["disclaimer"+o.d.LEGAL_NOTICE_CASH]=!0,M.push(o.d.LEGAL_NOTICE_CASH),"IN"===U&&(_["disclaimer"+o.d.LEGAL_NOTICE_IN]=!0,M.push(o.d.LEGAL_NOTICE_IN)),"BR"===U&&(_["disclaimer"+o.d.LEGAL_NOTICE_BR]=!0,M.push(o.d.LEGAL_NOTICE_BR)),"NG"===U&&(_["disclaimer"+o.d.LEGAL_NOTICE_NG]=!0,M.push(o.d.LEGAL_NOTICE_NG))),(this.sessionFromStore.selectedProduct.payOut===W.Zr.D2C||this.sessionFromStore.selectedProduct.payOut===W.Zr.D2C_PS)&&(_["disclaimer"+o.d.LEGAL_NOTICE_D2C]=!0,M.push(o.d.LEGAL_NOTICE_D2C)),this.sessionFromStore.selectedProduct.payOut===W.Zr.AG?(_["disclaimer"+o.d.LEGAL_NOTICE_CASH]=!0,M.push(o.d.LEGAL_NOTICE_CASH)):this.sessionFromStore.selectedProduct.payOut===W.Zr.BA&&(_["disclaimer"+o.d.LEGAL_NOTICE_D2B]=!0,M.push(o.d.LEGAL_NOTICE_D2B),"CN"===U?(_["disclaimer"+o.d.LEGAL_NOTICE_DEST_CN]=!0,M.push(o.d.LEGAL_NOTICE_DEST_CN)):(_["disclaimer"+o.d.LEGAL_NOTICE_D2B_NON_CN]=!0,M.push(o.d.LEGAL_NOTICE_D2B_NON_CN))),this.sessionFromStore.isForCountry&&!("CN"===U&&(this.sessionFromStore.selectedProduct.payOut===W.Zr.BA||this.sessionFromStore.selectedProduct.payOut===W.Zr.WA))&&(this.isLiberiaSpiltPayoutFeatureEnable||"LR"!==U&&!this.isLiberiaSpiltPayoutFeatureEnable)&&(_["disclaimer"+o.d.LEGAL_NOTICE_FIXED_ON_RECEIVE]=!0,M.push(o.d.LEGAL_NOTICE_FIXED_ON_RECEIVE)),("bill-pay"===this.userJourney||"reload-options"===this.userJourney)&&(_["disclaimer"+o.d.LEGAL_NOTICE_BILL_PAY]=!0,M.push(o.d.LEGAL_NOTICE_BILL_PAY)),(this.sessionFromStore.selectedProduct.payIn===W.mt.CreditCard||this.sessionFromStore.selectedProduct.payIn===W.mt.GooglePay)&&!1===this.sessionFromStore.isPPSprofile&&(_["disclaimer"+o.d.LEGAL_NOTICE_CREDIT_CARD]=!0,M.push(o.d.LEGAL_NOTICE_CREDIT_CARD)),(!this.smoConfig.getFundsInOptionsTabEnabled(U)||this.payOnlineSelected)&&this.router.url.indexOf("send-money")>-1&&w&&this.showDisclaimer31(this.sessionFromStore,w)&&(_["disclaimer"+o.d.LEGAL_NOTICE_PAYIN_OPTIONS]=!0,M.push(o.d.LEGAL_NOTICE_PAYIN_OPTIONS)),this.smoConfig.isAUHBANDLimitCrossed()&&this.sessionFromStore.selectedProduct.payIn===W.mt.POLI&&(_["disclaimer"+o.d.LEGAL_NOTICE_POLI_AU]=!0,M.push(o.d.LEGAL_NOTICE_POLI_AU)),this.sessionFromStore.selectedProduct.payIn===W.mt.ACH&&this.sessionFromStore.selectedProduct.payOut===W.Zr.BA&&this.router.url.includes("send-money/start")&&(_["disclaimer"+o.d.LEGAL_NOTICE_B2B_DELIVERY_TIME]=!0,M.push(o.d.LEGAL_NOTICE_B2B_DELIVERY_TIME)),this.sessionFromStore.selectedProduct.payIn===W.mt.ACH&&this.sessionFromStore.selectedProduct.payOut===W.Zr.AG&&(_["disclaimer"+o.d.LEGAL_NOTICE_B2C_DELIVERY_TIME]=!0,M.push(o.d.LEGAL_NOTICE_B2C_DELIVERY_TIME)),"AR"===w&&(_["disclaimer"+o.d.LEGAL_NOTICE_TAX_ON_RECEIVE]=!0,M.push(o.d.LEGAL_NOTICE_TAX_ON_RECEIVE)),this.showDisclaimer37Value&&(_["disclaimer"+o.d.LEGAL_NOTICE_IACH_US_REALTIME]=!0,M.push(o.d.LEGAL_NOTICE_IACH_US_REALTIME)),"US"===w&&(_["disclaimer"+o.d.DEFAULT_DISCLOSURE]=!0,_["disclaimer"+o.d.LEGAL_NOTICE_MYWU_AND_AIR]=!0,_["disclaimer"+o.d.LEGAL_NOTICE_TOBACCO]=!0,M.push(o.d.DEFAULT_DISCLOSURE),M.push(o.d.LEGAL_NOTICE_MYWU_AND_AIR),M.push(o.d.LEGAL_NOTICE_TOBACCO));const s=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}"),a=this.cookieService.get("AKRegioncode");s&&s.address&&s.address.state&&("CA"===s.address.state||void 0!==a&&"CA"===a?(_["disclaimer"+o.d.LEGAL_NOTICE_CALIFORNIA_TXN]=!0,M.push(o.d.LEGAL_NOTICE_CALIFORNIA_TXN),this.router.url.indexOf("receipt")>-1&&(_["disclaimer"+o.d.LEGAL_NOTICE_CALIFORNIA_TXN2]=!0,M.push(o.d.LEGAL_NOTICE_CALIFORNIA_TXN2))):this.router.url.indexOf("receipt")>-1&&("TX"===s.address.state||void 0!==a&&"TX"===a)?(_["disclaimer"+o.d.LEGAL_NOTICE_TEXAS_TXN]=!0,M.push(o.d.LEGAL_NOTICE_TEXAS_TXN)):("NY"===s.address.state||"GA"===s.address.state||void 0!==a&&"NY"===a||void 0!==a&&"GA"===a)&&(_["disclaimer"+o.d.LEGAL_NOTICE_Georgia_NewYork]=!0,M.push(o.d.LEGAL_NOTICE_Georgia_NewYork))),"US"==w&&this.router.url.indexOf("receipt")>-1&&(_["disclaimer"+o.d.LEGAL_NOTICE_RECEIPT_DISCLOSURES]=!0,M.push(o.d.LEGAL_NOTICE_RECEIPT_DISCLOSURES)),this.disclaimersObj=JSON.parse(JSON.stringify(_));const c=this.hideAndShowwDisclaimers(M,!0);return this.disclaimerState.next(c)}getDisclaimers(_){this.sessionFromStore=this.updateStoreUsingActionService.getState();const M={},U=[];this.userJourney=K.get(this.sessionFromStore,"userJourney"),"bill-pay"===this.userJourney||"reload-options"===this.userJourney?M["disclaimer"+o.d.LEGAL_NOTICE_GENERAL]=!1:(M["disclaimer"+o.d.LEGAL_NOTICE_GENERAL]=!0,U.push(o.d.LEGAL_NOTICE_GENERAL));const w=K.get(this.sessionFromStore,"corridor.receiverCountry.isoCode"),O=K.get(this.sessionFromStore,"corridor.senderCountry.isoCode");(w&&O!==w&&"AR"!==O||"US"===O||"AU"===O)&&(M["disclaimer"+o.d.LEGAL_NOTICE_EXCHANGE_RATE]=!0,U.push(o.d.LEGAL_NOTICE_EXCHANGE_RATE)),"reload-options"===this.userJourney&&(M["disclaimer"+o.d.LEGAL_NOTICE_EXCHANGE_RATE]=!0,U.push(o.d.LEGAL_NOTICE_EXCHANGE_RATE)),(_.payIn===W.mt.WUPay||_.payIn===W.mt.PayNow||_.payIn===W.mt.Sofort)&&(M["disclaimer"+o.d.LEGAL_NOTICE_BANK_ACCOUNT]=!0,U.push(o.d.LEGAL_NOTICE_BANK_ACCOUNT)),"US"!==O&&"000"===_.code&&(("AR"===O&&_.payIn===W.mt.Cash||"AG"!==_.payIn)&&(M["disclaimer"+o.d.LEGAL_NOTICE_CASH_FEE]=!0,U.push(o.d.LEGAL_NOTICE_CASH_FEE)),"BR"!==O&&-1===this.router.url.indexOf("send-money")&&(M["disclaimer"+o.d.LEGAL_NOTICE_CASH_RECEIVER]=!0,U.push(o.d.LEGAL_NOTICE_CASH_RECEIVER)),(_.payIn===W.mt.WUPay||_.payIn===W.mt.PayNow)&&("GB"===O?(M["disclaimer"+o.d.LEGAL_NOTICE_US_CREDIT_CARD]=!0,U.push(o.d.LEGAL_NOTICE_US_CREDIT_CARD)):(M["disclaimer"+o.d.LEGAL_NOTICE_CASH_WUPAY]=!0,U.push(o.d.LEGAL_NOTICE_CASH_WUPAY)))),"500"===_.code&&(M["disclaimer"+o.d.LEGAL_NOTICE_D2B]=!0,U.push(o.d.LEGAL_NOTICE_D2B),"US"!==O&&"CN"===w&&(M["disclaimer"+o.d.LEGAL_NOTICE_D2B_CN]=!0,U.push(o.d.LEGAL_NOTICE_D2B_CN)),"CN"!==w&&(M["disclaimer"+o.d.LEGAL_NOTICE_D2B_NON_CN]=!0,U.push(o.d.LEGAL_NOTICE_D2B_NON_CN)),(_.payIn===W.mt.WUPay||_.payIn===W.mt.PayNow)&&("GB"===O?(M["disclaimer"+o.d.LEGAL_NOTICE_BANK_FP]=!0,U.push(o.d.LEGAL_NOTICE_BANK_FP)):(M["disclaimer"+o.d.LEGAL_NOTICE_D2B_WUPAY]=!0,U.push(o.d.LEGAL_NOTICE_D2B_WUPAY))),"CN"===w&&(M["disclaimer"+o.d.LEGAL_NOTICE_DEST_CN]=!0,U.push(o.d.LEGAL_NOTICE_DEST_CN)),"PH"===w&&(M["disclaimer"+o.d.LEGAL_NOTICE_DEST_PH]=!0,U.push(o.d.LEGAL_NOTICE_DEST_PH))),("600"===_.code||"800"===_.code)&&(M["disclaimer"+o.d.LEGAL_NOTICE_MOBILE_WALLET]=!0,U.push(o.d.LEGAL_NOTICE_MOBILE_WALLET)),"000"===_&&"AR"!==O&&"reload-options"!==this.userJourney&&!("bill-pay"===this.sessionFromStore.selectedProduct.type)&&(M["disclaimer"+o.d.LEGAL_NOTICE_CASH]=!0,U.push(o.d.LEGAL_NOTICE_CASH),"IN"===w&&(M["disclaimer"+o.d.LEGAL_NOTICE_IN]=!0,U.push(o.d.LEGAL_NOTICE_IN)),"BR"===w&&(M["disclaimer"+o.d.LEGAL_NOTICE_BR]=!0,U.push(o.d.LEGAL_NOTICE_BR)),"NG"===w&&(M["disclaimer"+o.d.LEGAL_NOTICE_NG]=!0,U.push(o.d.LEGAL_NOTICE_NG))),(_.payOut===W.Zr.D2C||_.payOut===W.Zr.D2C_PS)&&(M["disclaimer"+o.d.LEGAL_NOTICE_D2C]=!0,U.push(o.d.LEGAL_NOTICE_D2C)),_.payOut===W.Zr.AG?(M["disclaimer"+o.d.LEGAL_NOTICE_CASH]=!0,U.push(o.d.LEGAL_NOTICE_CASH)):_.payOut===W.Zr.BA&&(M["disclaimer"+o.d.LEGAL_NOTICE_D2B]=!0,U.push(o.d.LEGAL_NOTICE_D2B),"CN"===w?(M["disclaimer"+o.d.LEGAL_NOTICE_DEST_CN]=!0,U.push(o.d.LEGAL_NOTICE_DEST_CN)):(M["disclaimer"+o.d.LEGAL_NOTICE_D2B_NON_CN]=!0,U.push(o.d.LEGAL_NOTICE_D2B_NON_CN))),this.sessionFromStore.isForCountry&&!("CN"===w&&_.payOut===W.Zr.BA)&&(this.isLiberiaSpiltPayoutFeatureEnable||"LR"!==w&&!this.isLiberiaSpiltPayoutFeatureEnable)&&(M["disclaimer"+o.d.LEGAL_NOTICE_FIXED_ON_RECEIVE]=!0,U.push(o.d.LEGAL_NOTICE_FIXED_ON_RECEIVE)),("bill-pay"===this.userJourney||"reload-options"===this.userJourney)&&(M["disclaimer"+o.d.LEGAL_NOTICE_BILL_PAY]=!0,U.push(o.d.LEGAL_NOTICE_BILL_PAY)),(_.payIn===W.mt.CreditCard||_.payIn===W.mt.GooglePay)&&!1===this.sessionFromStore.isPPSprofile&&(M["disclaimer"+o.d.LEGAL_NOTICE_CREDIT_CARD]=!0,U.push(o.d.LEGAL_NOTICE_CREDIT_CARD)),(!this.smoConfig.getFundsInOptionsTabEnabled(w)||this.payOnlineSelected)&&this.router.url.indexOf("send-money")>-1&&O&&this.showDisclaimer31(this.sessionFromStore,O)&&(M["disclaimer"+o.d.LEGAL_NOTICE_PAYIN_OPTIONS]=!0,U.push(o.d.LEGAL_NOTICE_PAYIN_OPTIONS)),this.smoConfig.isAUHBANDLimitCrossed()&&_.payIn===W.mt.POLI&&(M["disclaimer"+o.d.LEGAL_NOTICE_POLI_AU]=!0,U.push(o.d.LEGAL_NOTICE_POLI_AU)),_.payIn===W.mt.ACH&&_.payOut===W.Zr.BA&&this.router.url.includes("send-money/start")&&(M["disclaimer"+o.d.LEGAL_NOTICE_B2B_DELIVERY_TIME]=!0,U.push(o.d.LEGAL_NOTICE_B2B_DELIVERY_TIME)),_.payIn===W.mt.ACH&&_.payOut===W.Zr.AG&&(M["disclaimer"+o.d.LEGAL_NOTICE_B2C_DELIVERY_TIME]=!0,U.push(o.d.LEGAL_NOTICE_B2C_DELIVERY_TIME)),"AR"===O&&(M["disclaimer"+o.d.LEGAL_NOTICE_TAX_ON_RECEIVE]=!0,U.push(o.d.LEGAL_NOTICE_TAX_ON_RECEIVE)),this.showDisclaimer37Value&&(M["disclaimer"+o.d.LEGAL_NOTICE_IACH_US_REALTIME]=!0,U.push(o.d.LEGAL_NOTICE_IACH_US_REALTIME)),"US"===O&&(M["disclaimer"+o.d.DEFAULT_DISCLOSURE]=!0,M["disclaimer"+o.d.LEGAL_NOTICE_MYWU_AND_AIR]=!0,M["disclaimer"+o.d.LEGAL_NOTICE_TOBACCO]=!0,U.push(o.d.DEFAULT_DISCLOSURE),U.push(o.d.LEGAL_NOTICE_MYWU_AND_AIR),U.push(o.d.LEGAL_NOTICE_TOBACCO));const a=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}"),c=this.cookieService.get("AKRegioncode");return a&&a.address&&a.address.state&&("CA"===a.address.state||void 0!==c&&"CA"===c?(M["disclaimer"+o.d.LEGAL_NOTICE_CALIFORNIA_TXN]=!0,U.push(o.d.LEGAL_NOTICE_CALIFORNIA_TXN),this.router.url.indexOf("receipt")>-1&&(M["disclaimer"+o.d.LEGAL_NOTICE_CALIFORNIA_TXN2]=!0,U.push(o.d.LEGAL_NOTICE_CALIFORNIA_TXN2))):this.router.url.indexOf("receipt")>-1&&("TX"===a.address.state||void 0!==c&&"TX"===c)?(M["disclaimer"+o.d.LEGAL_NOTICE_TEXAS_TXN]=!0,U.push(o.d.LEGAL_NOTICE_TEXAS_TXN)):("NY"===a.address.state||"GA"===a.address.state||void 0!==c&&"NY"===c||void 0!==c&&"GA"===c)&&(M["disclaimer"+o.d.LEGAL_NOTICE_Georgia_NewYork]=!0,U.push(o.d.LEGAL_NOTICE_Georgia_NewYork))),"US"==O&&this.router.url.indexOf("receipt")>-1&&(M["disclaimer"+o.d.LEGAL_NOTICE_RECEIPT_DISCLOSURES]=!0,U.push(o.d.LEGAL_NOTICE_RECEIPT_DISCLOSURES)),this.hideAndShowwDisclaimers(U,!0)}static#e=this.\u0275fac=function(M){return new(M||E)(D.KVO(x.k),D.KVO(f.Ix),D.KVO($.l),D.KVO(C.O),D.KVO(P.y))};static#t=this.\u0275prov=D.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},37102:(n,d,t)=>{"use strict";t.d(d,{e:()=>W});var o=t(47058),e=t(93885),x=t(34781),$=t(54438);let W=(()=>{class K{constructor(P,D){this.countryConfig=P,this.updateStoreUsingActionService=D}getNameChangeFlag(P){const D=this.checkAllowedProductCode(P?.wuProduct?.code,"nameChange"),f="2000"===P?.statusCode||"1012"===P?.statusCode||"111"===P?.statusCode||"1021"===P?.statusCode,C=D&&("CreditCard"===P?.paymentDetails.paymentType||"ACH"===P?.paymentDetails?.paymentType||"Paramount"===P?.paymentDetails?.paymentType||"GooglePay"===P?.paymentDetails?.paymentType||"DebitCard"===P?.paymentDetails?.paymentType||"Plaid"===P?.paymentDetails?.paymentType||"BanContact"===P?.paymentDetails?.paymentType||"C3"===P?.paymentDetails?.paymentType||"TK"===P?.paymentDetails?.paymentType||"iACH"===P?.paymentDetails?.paymentType);if(this.countryConfig.matchCountryForNameChange()&&f&&C&&"BILL_PAYMENT"!==P?.wuProduct.name){let A=this.updateStoreUsingActionService.getState().PPSProfileData?.providerId;return A&&null!=A&&(A=A.toUpperCase()),!(A&&e.Y.dssDisabledProviderList.indexOf(A)>-1)}return!1}getCancelTransfer(P){const D=this.checkAllowedProductCode(P?.wuProduct.code,"cancelTransfer"),f="2000"===P?.statusCode||"1012"===P?.statusCode||"111"===P?.statusCode||"1004"===P?.statusCode||"1021"===P?.statusCode||"1001"===P?.statusCode,C=D&&("CreditCard"===P?.paymentDetails?.paymentType||"ACH"===P?.paymentDetails?.paymentType||"Paramount"===P?.paymentDetails?.paymentType||"GooglePay"===P?.paymentDetails?.paymentType||"DebitCard"===P?.paymentDetails?.paymentType||"iACH"===P?.paymentDetails?.paymentType||"Plaid"===P?.paymentDetails?.paymentType||"BanContact"===P?.paymentDetails?.paymentType||"C3"===P?.paymentDetails?.paymentType);if(this.countryConfig.getDigitalCancelTransfer()&&f&&C&&"BILL_PAYMENT"!==P?.wuProduct.name){let A=this.updateStoreUsingActionService.getState().PPSProfileData?.providerId;return A&&null!=A&&(A=A.toUpperCase()),!(A&&e.Y.dssDisabledProviderList.indexOf(A)>-1)}return!1}checkAllowedProductCode(P,D){const C=["000","400","500","302","304","308","316","332","700","M00","M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12","M13","M14","M15","M16","M17","M18"];if(P){if("nameChange"===D)return!!["000","400","302","304","308","316","332","M00","M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12","M13","M14","M15","M16","M17","M18"].includes(P);if("cancelTransfer"===D)return!!C.includes(P)}return!1}getRedirectToBank(P){if(typeof SDConf>"u")return!1;const D=e.Y.redirectableStatusCodes.indexOf(P?.statusCode)>-1,f=e.Y.redirectablePayoutCodes.indexOf(P?.wuProduct?.code)>-1&&"BILL_PAYMENT"!==P?.wuProduct?.name,C=SDConf.senderDirect?SDConf.senderDirect.corridors:[],A=SDConf.senderDirect?SDConf.senderDirect.senderCountries:[],E=P&&P?.receiver&&P?.receiver?.address?P?.receiver?.address?.countryIsoCode:"",N=C.indexOf(E)>-1,_=SDConf.localCurr?SDConf.localCurr.corridors:[],M=this.countryConfig.getCountry(),U=this.updateStoreUsingActionService.getState().hostedPartner;return!(!(A.indexOf(M)>-1&&D&&f&&N)||U||-1!==_.indexOf(E)&&P&&P?.paymentDetails&&P?.paymentDetails?.destination&&"USD"===P?.paymentDetails.destination.currencyIsoCode)}getUpdateBank(P){const f=P.paymentDetails.paymentType;return"JP"===P.paymentDetails.origination.countryIsoCode&&"1004"!==P.statusCode&&-1===["1013","1009","1022"].indexOf(P.statusCode)&&("WUPay"===f||"C3"===f)}static#e=this.\u0275fac=function(D){return new(D||K)($.KVO(o.qd),$.KVO(x.k))};static#t=this.\u0275prov=$.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},98197:(n,d,t)=>{"use strict";t.d(d,{n:()=>D});var o=t(87801),e=t(60177),x=t(15575),$=t(67376),K=t(78863),V=t(54438),P=t(35900);let D=(()=>{class f{constructor(A,E,N){this.document=A,this.logger=E,this.readURLService=N,this._loadedLibraries={},this.domainURL=this.readURLService.getDomainUrl()}updateEnvObj(){const A=this.domainURL;return A.indexOf("localhost")>-1||A.indexOf("dev")>-1||A.indexOf("partners-sandbox")>-1||A.indexOf("qa")>-1||A.indexOf("uat")>-1||A.indexOf("perf")>-1||A.indexOf("www2.westernunion.com")>-1||A.indexOf("www3.westernunion.com")>-1?"staging":"production"}fetchToBeLoadedLibrary(A,E,N){let _;const M=$.find($.filter($.create(o.PK),{name:A}),{params:{env:[E]}});if(void 0!==M)return _=M.src,N&&void 0!==N&&(_=`${_}${N}`),_;throw new SyntaxError("Check the name of the script to embedd.")}loadScript(A,E){const N=this.updateEnvObj();this.logger.info(`Environment selected is: ${N}`);const _=this.fetchToBeLoadedLibrary(A,N,E);if(this._loadedLibraries[_])return this._loadedLibraries[_].asObservable();this._loadedLibraries[_]=new x.m;const M=this.document.createElement("script");return M.type="text/javascript",M.src=_,M.onload=()=>{this._loadedLibraries[_].next(),this._loadedLibraries[_].complete()},this.document.body.appendChild(M),this.logger.log(`Script with name ${A} loaded successfully.`),this._loadedLibraries[_].asObservable()}static#e=this.\u0275fac=function(E){return new(E||f)(V.KVO(e.qQ),V.KVO(P.so),V.KVO(K.Fq))};static#t=this.\u0275prov=V.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},34644:(n,d,t)=>{"use strict";t.d(d,{t:()=>l});var o=t(67376),x=t(58380),$=t(93885),W=t(92079),K=t(47058),V=t(79041),P=t(45817),D=t(90696),f=t(19493),C=t(77312),A=t(95006),E=t(72478),N=t(34781),_=t(59073),M=t(26858),U=t(78863),w=t(1013),O=t(26834),G=t(11205),s=t(14465),a=t(64932),c=t(77202),r=t(28626),g=t(54438),p=t(2490),h=t(41780);let l=(()=>{class v extends W.w{constructor(m,b,Y,R,k,L,y,I,T,te,Z){super(),this.cookieService=m,this.kycListService=b,this.translateService=Y,this.kycApiService=R,this.countryConfigService=k,this.updateStore=L,this.spinnerService=y,this.wuDataAccessService=I,this.urlService=T,this.updateStoreUsingActionService=te,this.utilService=Z,this.sendCountryCode=(this.countryConfigService.getCountry()||"").toUpperCase(),this.idDocsTemplate=[],this.pendingDocuments=[],this.docList=[],this.iconList=["ID","SF"]}getImageObservables(){this.imagesBlob=this.getRequiredImagesPaths();const m=[];for(let b=0;b<this.imagesBlob.length;b++){const Y=new P.c(R=>{const k=new Image;k.src=this.imagesBlob[b].path,k.complete?(this.imagesBlob[b].base64=this.getBase64Image(k),R.next(k),R.complete()):(k.onload=()=>{this.imagesBlob[b].base64=this.getBase64Image(k),R.next(k),R.complete()},k.onerror=L=>{R.error(L)})});m.push(Y)}return m}getBase64Image(m){const b=document.createElement("canvas");b.width=m.width,b.height=m.height;const Y=b.getContext("2d");if(Y)return Y.drawImage(m,0,0),b.toDataURL("image/png")}preloadImages(){try{(0,D.p)(this.getImageObservables()).pipe((0,f.s)(1),(0,C.j)(()=>{this.spinnerService.hide()})).subscribe()}catch{this.spinnerService.hide()}}getBasePathForImages(m,b){b&&(this.translations=b);let Y=o.get(this.translations,"basepath_"+m,"");return o.isEmpty(Y)&&(Y=`/content/dam/web-assets/duc/${m}/${this.urlService.getCountryFromURL()}/`),`${o.toLower(Y+this.urlService.getLanguageFromURL())}/`}getBasePathForOcrErrorImages(m,b){b&&(this.translations=b);let Y=o.get(this.translations,"basepath_"+m+"ocrErrors","");return o.isEmpty(Y)&&(Y=`/content/dam/web-assets/duc/${m}/errors/`),`${o.toLower(Y)}`}getRequiredImagesPaths(){const m=[];return o.get(this.ducDocTypeDetailsVM,"docTypesData")&&this.ducDocTypeDetailsVM.docTypesData.forEach(b=>{b.pages&&b.pages.forEach(Y=>{m.push({path:`${this.getBasePathForImages(_.Ze.sampleimages)+o.toLower(o.eq(o.get(b,"docType"),_.LC.docTypeID)?b.docSubType:b.docType)}-${o.toLower(Y.side)}.png`})}),m.push({path:`${this.getBasePathForImages(_.Ze.illustrations)+o.toLower(o.eq(o.get(b,"docType"),_.LC.docTypeID)?o.get(b,"docSubType"):o.get(b,"docType"))}.svg`})}),this.errorCode&&m.push({path:`${this.getBasePathForOcrErrorImages(_.Ze.illustrations)+o.toLower(this.errorCode)}.svg`}),_.LC.imagePaths.forEach(b=>{m.push({path:b})}),m}getBase64ImageData(m,b,Y,R,k){const L=this.updateStore.getState(),y=o.get(L,"sender.registrationDetails.nationality.isoCode"),I=this.urlService.getCountryFromURL();R&&this.getImageObservables(),k&&(this.translations=k);let T=this.getBasePathForImages(m,k);T+=o.eq(o.get(b,"docType"),_.LC.docTypeID)?o.get(b,k?"docSubType.key":"docSubType"):o.get(b,"docType"),m===_.Ze.illustrations&&"ES"===y&&I&&"ES"===I.toUpperCase()?T+="_"+I+".svg":m===_.Ze.illustrations?T+=".svg":m===_.Ze.sampleimages&&(T+=`-${Y}.png`),T=o.toLower(T);const te=this.imagesBlob.find(Z=>Z.path===T);return o.get(te,"base64",T)}getBase64ImageDataOcrErrors(m,b,Y,R){this.errorCode=b,Y&&this.getImageObservables(),R&&(this.translations=R);let k=this.getBasePathForOcrErrorImages(m,R);k+=b,m===_.Ze.illustrations&&(k+=".svg"),k=o.toLower(k);const L=this.imagesBlob.find(y=>y.path===k);return o.get(L,"base64",k)}getVerificationCustStatus(m){let b;if(m)switch(m){case G.Zn.VerificationInprogress:b=G.Zn.VerificationInprogress;break;case G.Zn.VerificationSuccess:b=G.Zn.VerificationSuccess;break;case G.Zn.VerificationRejected:b=G.Zn.VerificationRejected;break;case G.Zn.AlreadyVerified:b=G.Zn.AlreadyVerified;break;case G.Zn.Blocked:b=G.Zn.Blocked}return b}ocrErrorCodeWithIllustration(m,b){return this.ocrError=m?.ExtractionErrorWithIlustration.split(",").find(Y=>Y===b?Y:""),this.ocrError}ocrKeysTranslationGenerate(m,b){const Y={},R=this.ocrError?this.ocrError:b;return Y.verificationTitle=m?"verification_status_"+m:"",Y.verificationDescription=m?"verification_status_description_"+m:"",Y.verificationSubDescription=!b&&m?"verification_status_sub_description_"+m:"",Y.listDocInfo=this.ocrError?"ocr_dss_error_desc_"+R:"",Y.ocrErrorTitle="ocr_dss_title_"+R,Y.ocrErrorSubHead="ocr_dss_sub_head_"+R,Y}dssOcrResStatus(m){let b;return m&&m.error&&"C9999"!==m.error.code?b=m.error:m.replyStatus&&m.replyStatus&&m.replyStatus.idvvStatus&&(b=this.setIdvStatus(m.replyStatus.idvvStatus)),b}setIdvStatus(m){let b;if(m)switch(m.toUpperCase()){case"Y":b=G.Zn.VerificationSuccess;break;case"N":b=G.Zn.VerificationRejected;break;case"P":b=G.Zn.VerificationInprogress}return b}getDssProcessedData(m,b){let Y,R;const k={},L="{{dssCountryCode}}",y="{{documentType}}",I="{{domainUrlLink}}";this.countryDynamicParams=this.updateStoreUsingActionService?.getState().countryDynamicParams;const T=[O.a.TRACK_YOUR_TRANSFER],te=m?.dssDocumentErrorRes&&!o.isEmpty(m?.dssDocumentErrorRes)&&!m?.dssDocumentErrorRes?.code;m?.dssDocumentErrorRes?.code||m?.operationalError&&""!==m?.operationalError&&!te?Y=m?.dssDocumentErrorRes?.code||m?.operationalError:R=m?.dssDocumentErrorRes;let Z=m&&m?.allDocumentsDetails&&m?.allDocumentsDetails[0]?.uploadedSubDocName;this.utilService.isDssOperationalCodeEnable()&&m?.operationalError&&""!==m?.operationalError&&(Z=o.get(m,"allDocumentsDetails[0].value"));const de=b.senderCountryCode;k.verificationStatus=this.getVerificationCustStatus(R),Y&&(k.verificationStatus=G.Zn.VerificationRejected);const oe=this.ocrErrorCodeWithIllustration(this.countryDynamicParams,Y),ae=this.ocrKeysTranslationGenerate(k?.verificationStatus,Y);return k.submitTranslation=Y?b.submitAgain:b.Ok,Y&&Y===oe&&(k.illustrationBlob=this.getBase64ImageDataOcrErrors(_.Ze.illustrations,oe,!0,b),k.illustrationError=!0,k.listDocInfo=b[ae.listDocInfo],-1!==k?.listDocInfo?.indexOf(y)&&(k.listDocInfo=k?.listDocInfo?.replace(y,Z.toString())),k?.listDocInfo?.indexOf("|")>-1&&(k.docInfoListContainer=!0,k.docInfoList=(k?.listDocInfo).split("|").map(he=>he.trim()))),Y&&(k.ocrErrorTitle=b[ae.ocrErrorTitle]?b[ae.ocrErrorTitle]:Y?.message,k.ocrErrorSubHead=b[ae.ocrErrorSubHead]?b[ae.ocrErrorSubHead]:"",-1!==k.ocrErrorSubHead?.indexOf(y)&&(k.ocrErrorSubHead=k.ocrErrorSubHead?.replace(y,Z.toString()))),k.verificationTitle=Y?k?.ocrErrorTitle:b[ae.verificationTitle],-1!==k.verificationTitle?.indexOf(L)&&(k.verificationTitle=k.verificationTitle?.replace(L,de.toString())),k.verificationDescription=Y?k?.ocrErrorSubHead:b[ae.verificationDescription],-1!==k.verificationDescription?.indexOf(L)&&(k.verificationDescription=k.verificationDescription?.replace(L,de.toString())),k.verificationSubDescription=ae.verificationSubDescription?b[ae.verificationSubDescription]:"",-1!==k.verificationSubDescription?.indexOf(I)&&(k.verificationSubDescription=k.verificationSubDescription?.replace(I,T.toString())),k}mapoperationalErrorWithDSS(m){let b;const Y=this.updateStore?.getState().countryDynamicParams;return(Y?.OperationalErrorWithSMS?JSON.parse(Y?.OperationalErrorWithSMS):null)?.map(k=>{k?.operationalError===m&&(b=k?.error)}),b}buildLandingPageModel(m){this.translations=o.get(m,"translations");const b=o.get(m,"listData");this.kycConfigData=o.get(m,"kycConfigData.docConfigs"),this.ducDocTypeDetailsVM=new x.fo;const Y=this.getDocsToUpload();this.getTokenExpiryTime(),Y&&(this.buildDocToCollect(Y),this.buildDetailedObject(b))}getInitData(){this.spinnerService.show();const m=this.updateStore.getState(),b=m.awsKycConfigData;let Y=new P.c;this.wuDataAccessService.logEvergageExperienceAmplitudeEvent({ab_test:this.sendCountryCode+"_web_duc_new_ux",ab_test_variant:this.sendCountryCode+"_web_duc_new_ux_exp-viewers"}),sessionStorage.setItem("ab_test_variant",this.sendCountryCode+"_web_duc_new_ux_exp-viewers"),Y=this.countryConfigService.isKYCConfigEnabled()?b?new P.c(I=>{I.next(JSON.parse(b)),I.complete()}):this.kycApiService.getCountryWiseKycConfig():new P.c(I=>{I.next({}),I.complete()});const R={},k=this.translateService.get(["kycoption-duc"]);let y;if(m.flowType===a.do.DSS2&&m.dss2Details?.idList){const I={};m.dss2Details?.idList.forEach(T=>{I[T.key]=T.value}),y=Y=new P.c(T=>{T.next({ID:I}),T.complete()})}else y=this.callListsService();return(0,D.p)([k,y,Y]).pipe((0,A.T)(I=>(I&&I[0]&&(R.translations=I[0]&&I[0]["kycoption-duc"]?I[0]["kycoption-duc"]:null),I&&I[1]&&(R.listData=I[1]),I&&I[2]&&Object.keys(I[2]).length>0&&(R.kycConfigData=I[2]),R)))}getDocsToUpload(){let m=this.getSMSResponse()||this.getGCVResponse();this.utilService.isDOBPhoneLookupEnable()&&(m=this.processDocsForRetailLookupFlow(m));const b=o.get(m,"sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument")||o.get(m,"sender.kyc_details.duc.ducDelivery.ducDocuments.ducDocument")||"";if(this.utilService.isPVDocTypeOverride()){let Y={};try{Y=JSON.parse(this.updateStore.getState().countryDynamicParams.PV_DOCTYPE_OVERRIDE)}catch{Y={}}b.forEach(R=>{"PV"===R.docType&&R.type&&Y[R.type]&&(R.docType=Y[R.type])})}return b}getIdDetails(){const m=this.getSMSResponse()||this.getGCVResponse();return o.get(m,"sender.complianceDetails.idDocuments.idDocument[0]")}isSingleUpload(){let m=!1;const b=this.getDocsToUpload();return m=b&&1===b.length,m}buildDocToCollect(m){this.ducDocTypeDetailsVM.docTypesData=new Array,m.forEach(b=>{const Y={docType:b.docType,docSubType:b.type,docMetaData:this.getDocMetaData(b),showDocTypeDropdown:!1,docStatus:b.docStatus};this.ducDocTypeDetailsVM.docTypesData.push(Y)})}getDocMetaData(m){const b={number:m.data},Y=this.getIdDetails();return m.docType&&m.docType.toUpperCase()===_.LC.docTypeID&&Y&&(b.expiryDate=Y.expirationDate,b.issueDate=Y.issueDate,b.issueCountry=Y.issuer,b.issuePlace=Y.issuePlace),b}getVerifyCustomerReq(m,b){return{resp:m,selectedDocTypeID:b}}convertGCVResponseToSMS(m){if(m)return m=(m=(m=(m=(m=o.isString(m)?m:JSON.stringify(m)).replace(/_([a-z])/g,function(b){return b[1].toUpperCase()})).replace(/phoneNumber/g,"phone_number")).replace(/countryCode/g,"country_code")).replace(/nationalNumber/g,"national_number"),JSON.parse(m)}getGCVResponse(){const b=this.updateStore.getState().customerVerificationStatus;return this.convertGCVResponseToSMS(b)}getSMSResponse(){const b=this.updateStore.getState().sendMoneyObjects;return b?JSON.parse(b):null}getICVResponse(){const b=this.updateStore.getState().icvResponse;return b?JSON.parse(b):null}getIdTypeList(){let m=_.LC.idTypeListInitial+this.sendCountryCode;const b=this.cookieService.get($.Y.partnerName)?this.cookieService.get($.Y.partnerName):sessionStorage.getItem($.Y.partnerName),Y=!(!b||-1===$.Y.HOSTED_PARTNERS.indexOf(b));if(b&&Y&&this.countryConfigService.getPartnerConfigValue())return m+b.toUpperCase();switch(this.sendCountryCode){case"ES":m+="_C1144";break;case"HK":m+="_DIGITAL";break;case"IT":m+="_C1999"}return m}buildDetailedObject(m){if(m&&this.ducDocTypeDetailsVM.docTypesData){for(let b=0;b<this.ducDocTypeDetailsVM.docTypesData.length;b++){this.docSidesResponse=m[_.LC.docSidesNode];const Y=this.ducDocTypeDetailsVM.docTypesData[b];if(Y.listData=this.getFormattedList(m[Y.docType]),Y.listData&&1===Y.listData.length)Y.selectedListItem=Y.listData[0],Y.docSubType=Y.listData[0].key;else if(Y.docSubType){const R=o.filter(Y.listData,function(k){return k.key===Y.docSubType});R&&R.length>0&&(Y.selectedListItem=R[0])}else!Y.docSubType&&Y.listData&&Y.listData.length>1&&(Y.showDocTypeDropdown=!0);Y.pages=this.getDocSides(Y.docType,Y.docSubType),this.buildTitle(Y)}this.buildSenderCountryDetails()}this.preloadImages(),this.updateStore.updateDucLandingVM(this.ducDocTypeDetailsVM)}getDocSides(m,b,Y){const k=this.updateStore.getState().OCRFlowEnable,L=this.getDefaultDocSides(m,b,Y);let y=new Array;if(this.kycConfigData&&this.kycConfigData[b]){const I=this.kycConfigData[b].uploadDocImg,T={side:_.LC.docSideFront,label:this.translations[this.getTranslationKey(_.LC.docSideFront)]};if(y.push(T),m===_.LC.docTypeCard&&k||I>1){const te={side:_.LC.docSideBack,label:this.translations[this.getTranslationKey(_.LC.docSideBack)]};y.push(te)}}else this.docSidesResponse&&this.docSidesResponse[b]?this.docSidesResponse[b].split("|").forEach(T=>{const te={side:$.Y[T],label:this.translations[this.getTranslationKey($.Y[T])]};y.push(te)}):y=L;return y}getDefaultDocSides(m,b,Y){Y&&(this.translations=Y);const R=new Array,k={side:_.LC.docSideFront,label:this.translations[this.getTranslationKey(_.LC.docSideFront)]};if(m===_.LC.docTypeID&&((b&&b.toUpperCase())===_.LC.docSubTypePassport||(b&&b.toUpperCase())===_.LC.docSubTypeMilitaryId||(b&&b.toUpperCase())===_.LC.docSubTypeTravelDocument||(b&&b.toUpperCase())===_.LC.docSubTypeEmergencyTravelDocument||(b&&b.toUpperCase())===_.LC.docSubTypeDiplomaticPassport||(b&&b.toUpperCase())===_.LC.docSubTypeTempTravelPassport||(b&&b.toUpperCase())===_.LC.docSubTypePoliceId)||m!==_.LC.docTypeID){if(R.push(k),m===_.LC.docTypeCard){const L={side:_.LC.docSideBack,label:this.translations[this.getTranslationKey(_.LC.docSideBack)]};R.push(L)}}else{R.push(k);const L={side:_.LC.docSideBack,label:this.translations[this.getTranslationKey(_.LC.docSideBack)]};R.push(L)}return R}getTranslationKey(m){let b="";switch(m){case"FRONT":b=_.LC.frontSideLable;break;case"BACK":b=_.LC.backSideLable;break;case"PA":b=_.LC.proofOfAddress;break;case"SF":b=_.LC.sourceOfFund}return b}buildTitle(m){let b;m.docTypeLowerCase=m?.docType?.toLowerCase();const Y=_.LC.privacyProcessCommitment+m.docTypeLowerCase;if(m.selectedListItem){const R=m.docSubType?m.docSubType.toLowerCase():"";if(b=m.docType===_.LC.docTypeID?_.LC.docDiscription+R:_.LC.docDiscription+m.docTypeLowerCase,m.docTitle=m.selectedListItem?m.selectedListItem.value:this.translations[""],this.idNum=m.docMetaData&&m.docMetaData.number?m.docMetaData.number:"",this.utilService.isDssNewdocUploadEnabled()){const k=this.updateStore.getState();this.idNum=k?.dssCustomerLookupResponse&&k?.dssCustomerLookupResponse?.idNumber,this.idNum=this.MaskDocID(this.idNum,"X",2)}m.docSubTitle=this.idNum?(this.translations?this.translations[_.LC.endingIn]:" ")+" "+this.idNum.substr(this.idNum.length-4):"",m.docSubTitle||(m.docSubTitle=this.translations[_.LC.docSubTitle+m.docTypeLowerCase])}else{b=_.LC.docDiscription+m.docTypeLowerCase;const R=_.LC.docTitle+m.docTypeLowerCase;let k=this.getTranslationKey(m.docType);k=""!==k?k:R,m.docTitle=this.translations?this.translations[k]:"",m.docSubTitle||(m.docSubTitle=this.translations[_.LC.docSubTitle+m.docTypeLowerCase])}m.listDocInfo=this.translations?this.translations[b]:"",m.docPrivacyProcessCommitment=this.translations?this.translations[Y]:""}getTokenExpiryTime(){this.ducDocTypeDetailsVM.expiryTime=this.getTokenTimeInMinutes(),this.ducDocTypeDetailsVM.verificationStatusReponseTime=this.getVerificationStatusResponseTime()}getListsForDocsToUpload(m){const b={},Y=this.getDocsToUpload();return Y&&Y.length>0&&m&&(m=m[0],Y.forEach(R=>{if(R.docType===_.LC.docTypeID){const k=this.getIdTypeList();b[R.docType]=m[k]}else b[R.docType]=m[_.LC.supportingDocTypeListName][R.docType]}),m[_.LC.supportingDocTypeListName]&&m[_.LC.supportingDocTypeListName][_.LC.docSidesNode]&&(b[_.LC.docSidesNode]=m[_.LC.supportingDocTypeListName][_.LC.docSidesNode])),b&&Object.keys(b).length>0?b:null}callListsService(){const m=new Array,b=new Array,Y=this.getDocsToUpload();let R=0;return Y?(Y.forEach(k=>{k.docType===_.LC.docTypeID?b.push({name:this.getIdTypeList(),type:_.LC.lang}):0===R&&(b.push({name:_.LC.supportingDocTypeListName,type:_.LC.lang,lookupKey:this.sendCountryCode}),R++)}),m.push(b),this.kycListService.getDUCLists(m).pipe((0,A.T)(k=>this.getListsForDocsToUpload(k)))):new P.c(k=>{k.next({}),k.complete()})}getVerificationStatusResponseTime(){const m=this.getResponseObject();return m?m.verificationStatusReponseTime:""}getTokenTimeInMinutes(){const m=this.getResponseObject();return m?m.tokenTimeInMinutes||m.token_time_in_minutes:12344}getResponseObject(){return this.getICVResponse()||this.getGCVResponse()}updatePreviewImg(m){if(m&&m.pages&&m.pages.length>0)for(let b=0;b<m.pages.length;b++){const Y=m.pages[b];let R="";Y&&Y.fileData&&Y.fileData.content&&(R=Y.fileData.format===_.LC.applicationPdf?"data:application/pdf;base64,"+Y.fileData.content:"data:image/png;base64,"+Y.fileData.content,Y.previewImage=R)}}allDocumentsSelectedbyUser(m){return!(!m||!m.docTypesData)&&m.docTypesData.filter(b=>!0===b.docSubmittedbyUser).length===m.docTypesData.length}allSidesUploadedForGivenDoc(m){let b=!1;if(m&&m.pages){const Y=m.pages.filter(R=>R.fileData&&R.fileData.content);b=m.pages.length===(Y&&Y.length)}return b}buildSenderCountryDetails(){const m=(this.countryConfigService.getRegion()||"").toLowerCase();this.ducDocTypeDetailsVM.senderCountryDetails={country:this.sendCountryCode,region:m,countryForIllustration:m===_.LC.regionEmea?m:this.sendCountryCode}}getFileFormatErrors(m,b){b&&(this.translations=b);const Y=new Array;return m&&m.length>0&&this.translations&&m.forEach(R=>{R===M.ty.FILETYPE?Y.push(this.translations[_.LC.fileFormatError]):R===M.ty.FILESIZE&&Y.push(this.translations[_.LC.fileSizeError])}),Y}callVerifyCustomer(m,b,Y){return this.kycApiService.verifyCustomers(this.getVerifyCustomerReq(m,b),Y)}callGetIdVerificationStatus(m){return this.kycApiService.getIdVerificationStatus(m)}fillIdtypeList(m,b){const Y=new Array;return m&&m.length>0&&m.forEach(R=>{const k={docType:s.kq.ID,docSubType:{key:R?.key,value:R?.value,subKey:R?.subKey},pages:this.getDocSides("ID",R?.key,b),illustration:this.getSampleImageBase64(_.LC.idFront,s.kq.ID,R?.key,_.Ze.illustrations)};Y.push(k)}),Y}getSampleImageBase64(m,b,Y,R,k){return this.getBase64ImageData(R,{docType:b,docSubType:Y,showDocTypeDropdown:!1},m,!0,k)}selectIDType(m){const b={sender:{kycDetails:{duc:{ducDelivery:{ducDocuments:{ducDocument:[{docType:m?.docType,type:m?.docSubType?.key,subType:m?.docSubType?.subKey,docStatus:null}]}}}}}};if(this.utilService.isNewDocHubEnabledForDSS()){const Y=[],R=this.updateStore.getState();this.dssResponse=R?.dssCustomerLookupResponse;let k=this.dssResponse?.uploadedDocsWithStatus;k=k?.filter(y=>-1===this.dssResponse?.pendingDocs?.indexOf(y?.type));const L=R?.dss2Details?.nonIdList;if(this.dssResponse?.pendingDocs?.forEach(y=>{y===_.LC.docTypeID?Y.push({docType:m?.docType,type:m?.docSubType?.key,subType:m?.docSubType?.subKey,docStatus:null,value:m?.docSubType?.value}):(this.filterNonID(L,y),Y.push({docType:y,type:"",subType:"",docStatus:null,value:this.nonIdValue}))}),k&&k.forEach(y=>{y?.type===_.LC.docTypeID?Y.push({docType:m?.docType,type:m?.docSubType?.key,subType:m?.docSubType?.subKey,docStatus:y?.status,value:m?.docSubType?.value}):(this.filterNonID(L,y?.type),Y.push({docType:y?.type,type:"",subType:"",docStatus:y.status,value:this.nonIdValue}))}),b.sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument=Y,this.utilService.isNewDocHubFlowForDSSApplicable()){const y=b?.sender?.kycDetails?.duc?.ducDelivery?.ducDocuments?.ducDocument;y&&y.map(function(T){(T?.docStatus===G.Zn.VerificationSuccess||T?.docStatus===G.Zn.VerificationInprogress)&&(T.isUploaded=!0)});const I=new a.Sk;I.allDocumentsDetails=y,this.updateStore.updateDSSCustomer({...this.dssResponse,...I})}}this.updateStore.updateSendMoneyObjects(JSON.stringify(b)),sessionStorage.setItem("SendMoneyObjects",JSON.stringify(b))}filterNonID(m,b){m.forEach(Y=>{b===Y?.code&&(this.nonIdValue=Y.name)})}MaskDocID(m,b,Y=1){try{return!m||typeof m>"u"?"":m&&m.length<=4?m:(m.slice(0,-Y).replace(/./g,b)+m.slice(-Y)).slice(-8)}catch{return""}}processDocsForRetailLookupFlow(m){const b=this.getResponseObject(),Y=o.get(b,"sender.kyc_details.duc.ducDelivery.ducDocuments.ducDocument")||o.get(b,"sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument");if(0!==(Y&&Y.filter(k=>k.docType===_.LC.docTypeID&&(k.dmsRef||k.dms_ref)))?.length){if(Y&&Y?.length>=1){const k=Y.filter(L=>L.docType!==_.LC.docTypeID);m.sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument=k}}else m=b;return m}checkChildError(m){let b,Y;const R=this.translations?this.translations:[];if(m?.reasons?.reason){if(m?.reasons?.reason?.forEach(k=>{b=k;let L=k?.code?.toLowerCase();L="ocr_extraction_dss_"+L,R[L]&&(Y=R[L])}),b.message=Y||m?.message,b&&b?.code===r.u.OCR_ERROR_WRONG_DOC){const k=this.updateStore.getState();(JSON.parse(k?.sendMoneyObjects||"{}")?.sender?.kycDetails?.duc?.ducDelivery?.ducDocuments?.ducDocument).forEach(I=>{I?.docType===_.LC.docTypeID&&(b.message=b?.message?.replace("{{IDType}}",I?.value))})}}else b=m;return b}static#e=this.\u0275fac=function(b){return new(b||v)(g.KVO(p.O),g.KVO(V.h),g.KVO(h.c$),g.KVO(E.v),g.KVO(K.qd),g.KVO(N.k),g.KVO(U.Dx),g.KVO(w.a),g.KVO(U.Fq),g.KVO(N.k),g.KVO(c.a))};static#t=this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},12650:(n,d,t)=>{"use strict";t.d(d,{k:()=>l});var o=t(10467),e=t(92079),x=t(45817),$=t(95006),W=t(14465),K=t(34644),V=t(59073),P=t(67376),D=t.n(P),f=t(75194),C=t(34781),A=t(16619),E=t(78863),N=t(74814),_=t(77202),M=t(32114),U=t(45286),w=t(7605),O=t(54438);let G=(()=>{class v{constructor(m,b,Y,R){this.updateStore=m,this.baseRequestService=b,this.restMethodService=Y,this.utilService=R,this.destroyed$=new U.B7}getEncryptedPayload(m,b){var Y=this;return(0,o.A)(function*(){const R=M.random.getBytesSync(16),k=M.random.getBytesSync(12),L=M.cipher.createCipher("AES-GCM",R);L.start({iv:k,tagLength:128}),L.update(M.util.createBuffer(JSON.stringify(m))),L.finish();const y=L.output.getBytes(),I=L.mode.tag.getBytes(),T=M.util.createBuffer();T.putBytes(k),T.putBytes(y),T.putBytes(I);const te=M.util.encode64(T.getBytes());return m.enc_request=te,yield Y.getVendorInfo(b,R,m),Y.encryptSecretKey(R,m)})()}encryptSecretKey(m,b){const k="-----BEGIN PUBLIC KEY-----"+this.updateStore.getState().encryptOcrPublicKey+"-----END PUBLIC KEY-----",L=M.pki.publicKeyFromPem(k),y=M.util.createBuffer();y.putBytes(m);const I=L.encrypt(y.getBytes()),T=M.util.encode64(I);return b.enc_secret=T,{operation:b.operation,security:this.baseRequestService.getSecurity(),enc_request:b.enc_request,enc_secret:b.enc_secret}}getVendorInfo(m,b,Y){var R=this;return(0,o.A)(function*(){return yield new Promise((k,L)=>{R.restMethodService.POST("/VendorInfo",R.buildPayloadForVendorInfo(m)).pipe((0,w.Q)(R.destroyed$)).subscribe(y=>{if(R.utilService.isEncryptOcrFeatureEnabled()&&y?.vendorInfo?.params.length>0){const T=y?.vendorInfo?.params[0].value;return R.updateStore.updateEncryptOcrPublicKey(T),k(!0),R.encryptSecretKey(b,Y)}k(!1)},y=>{console.error(y),L(!1)})})})()}buildPayloadForVendorInfo(m){return{vendor:m,bashPath:this.baseRequestService.getBashPath(),security:this.baseRequestService.getSecurity()}}static#e=this.\u0275fac=function(b){return new(b||v)(O.KVO(C.k),O.KVO(A.E),O.KVO(f.R),O.KVO(_.a))};static#t=this.\u0275prov=O.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var s=t(3902),a=t(58652),c=t(1027),r=t(87801),g=t(64646),p=t(66726),h=t(41780);let l=(()=>{class v extends e.w{constructor(m,b,Y,R,k,L,y,I,T,te,Z,de){super(),this.translateService=m,this.kycDucService=b,this.restMethodService=Y,this.updateStore=R,this.baseRequestService=k,this.httpService=L,this.urlService=y,this.encryptDataService=I,this.utilService=T,this.featureFlagService=te,this.smoConfig=Z,this._store=de,this._store.pipe((0,g.Lt)(p.T1)).subscribe(oe=>{this.clientIp=oe})}getInitData(){const m={},b=this.updateStore.getState(),Y=b?.CollectIDCTRTemp,R=this.translateService.get(["vendor-kyc-verification"]);return m.vendorConfig=b?.kycVendorConfig,Y&&(m.collectIdTemplate=Y),m.vendorConfig=b?.kycVendorConfig,R.pipe((0,$.T)(k=>(k&&(m.translations=k&&k["vendor-kyc-verification"]?k["vendor-kyc-verification"]:null),m)))}getSampleImageBase64(m,b,Y,R,k){return this.kycDucService.getBase64ImageData(R,{docType:b,docSubType:Y.IDENTITY_CODE,showDocTypeDropdown:!1},m,!0,k)}buildKycVerificationModel(m,b){const Y=D().get(m,"collectIdTemplate.CollectidCTRTemplate"),R=D().get(m,"vendorConfig"),k=D().get(m.vendorConfig,"activeVendor"),L=R.applicableVendors.filter(I=>I.name===k);return{docTypeList:this.fillIdtypeList(Y,b),activeVendorConfig:m.vendorConfig,activeVendor:k,verificationType:W.kq.ID,ocrSupportedMethod:D().get(L[0],"ocrMethodsSupported"),fieldsToInitializeOcr:D().get(L[0],"fieldsToInitializeOcr")||[]}}getConfigForSelectedIdType(m,b){let Y;const R=D().get(m,"idSubFieldsDetails");return R&&R.length>0&&(Y=R.filter(function(k){return k.idTypes===b})[0]),Y}getCountryOfIssuerList(m,b){const Y=this.getConfigForSelectedIdType(m,b);return Y&&Y.dataIssueCountry&&Y.dataIssueCountry===V.LC.EU_COUNTRIES?D().get(m,"dataGovIdIssuer.database.records.record"):D().get(m,"dataIdIssuerPassport.database.records.record")}fillIdtypeList(m,b){const Y=new Array,R=this.urlService.getCountryFromURL().toUpperCase(),k=this.updateStore.getState(),L=D().get(k,"sender.registrationDetails.nationality.isoCode");let y;return this.featureFlagService.isFeatureEnabled("IDTYPE_LIST_BASED_ON_NATIONALITY")&&L&&L.toUpperCase()!==R?D().get(m,"dataIdTypeListNonnationality.database.records")&&(y=m.dataIdTypeListNonnationality.database.records.record):D().get(m,"dataIdType.database.records")&&(y=m.dataIdType.database.records.record),y&&y.length>0&&y.forEach(I=>{const T={docType:W.kq.ID,docSubType:{key:I.IDENTITY_CODE,value:I.IDTYPE_NAME},pages:this.kycDucService.getDocSides("ID",I.IDENTITY_CODE,b),illustration:this.getSampleImageBase64(V.LC.idFront,W.kq.ID,I,V.Ze.illustrations),issueingCountryList:this.getCountryOfIssuerList(m,I.IDENTITY_CODE),docPrivacyProcessCommitment:this.buildTitle(b,V.LC.privacyProcessCommitment,W.kq.ID),listDocInfo:this.buildTitle(b,V.LC.docDiscription,I.IDENTITY_CODE),customMessageKey:k?.kycVendorConfig?.customMessageKey?k?.kycVendorConfig?.customMessageKey:""};Y.push(T)}),Y}buildTitle(m,b,Y){return D().isEmpty(m)||D().isEmpty(b)||D().isEmpty(Y)?"":(b+=D().toLower(Y),D().pickBy(m,(k,L)=>D().startsWith(L,b,k))?.[b])}extractOCRDetails(m){return this.restMethodService.POST("/ExtractOCR",this.buildPayloadForExtractOCR(m))}buildPayloadForExtractOCR(m){const b=this.updateStore.getState(),Y={country_code:m.country,customer_data:{document_details:{document_detail:[{id_type:m.idType,doc_type:m.docType,image_format_front:m.imageFrontFileExtension,front_image:m.imageFrontSrc,image_format_back:m.imageBackFileExtension,back_image:m.imageBackSrc}]},profile_details:{customer_id:b.sender.myWuNumber}},operation:m.operation,security:this.baseRequestService.getSecurity(),channel:this.baseRequestService.getChannel(),vendor_name:b?.kycVendorConfig?.activeVendor};for(const R in Y.customer_data.document_details.document_detail[0])Y.customer_data.document_details.document_detail[0][R]||delete Y.customer_data.document_details.document_detail[0][R];return Y}getVendorData(){const m={assetVersion:window.ACTIVE_VERSION?.assetVersion||sessionStorage.getItem("assetVersion")},Y=this.updateStore.getState();if(Y?.kycVendorConfig)return new x.c(R=>{R.next(Y?.kycVendorConfig),R.complete()});{const R=this.urlService.getCountryFromURL();if(this.featureFlagService.isFeatureEnabled("DCASS_KYC_VENFOR_CONFIG")){const k=(new a.J).setOrigination(this.smoConfig._getCountryIsoFromURL()).setBashpath(this.baseRequestService.getBashPath()).setLists(r.MG.KYC_VENDOR_CONFIG,"common").setLanguage(this.smoConfig.getLanguageFromURL());return this.httpService.post("listOptimus",k).pipe((0,$.T)(y=>{if(y&&y[r.MG.KYC_VENDOR_CONFIG]){let I=y[r.MG.KYC_VENDOR_CONFIG];I=I[R]?I[R]:I,sessionStorage.setItem("kycVendorConfig",JSON.stringify(I)),this.updateStore.updateKycVendorConfig(I)}return y}))}return this.httpService.get("kycVendorConfig",m).pipe((0,$.T)(k=>(k&&(k=k[R]?k[R]:k,sessionStorage.setItem("kycVendorConfig",JSON.stringify(k)),this.updateStore.updateKycVendorConfig(k)),k)))}}getErrorMessage(m,b){if(D().isEmpty(m)||D().isEmpty(b))return"";{m=V.LC.ocrExtractionError+m,m=D().toLower(m);const Y=D().pickBy(b,(k,L)=>L.startsWith(m,k));return D().pick(Y,m)[m]}}verifyKYCData(m){return this.restMethodService.POST("/VerifyKYCData",this.buildPayloadForVerifyKycData(m))}buildPayloadForVerifyKycData(m){const b=this.updateStore.getState();return{country_code:m.country,customer_data:{document_details:{document_detail:[{id_type:m.idType,doc_type:m.docType}]},profile_details:{customer_id:b.sender.myWuNumber,first_name:m.firstName,middle_name:m.middleName,last_name:m.lastName,date_of_birth:m.dateOfBirth}},operation:m.operation,temp_transaction_id:m.tempTransactionId,security:this.baseRequestService.getSecurity(),channel:this.baseRequestService.getChannel(),vendor_name:b?.kycVendorConfig?.activeVendor}}saveOcrDetails(m){var b=this;return(0,o.A)(function*(){const Y=yield b.buildPayloadForSaveOCR(m);return b.restMethodService.POST("/SaveOCRData",Y)})()}buildPayloadForSaveOCR(m){var b=this;return(0,o.A)(function*(){const Y=b.updateStore.getState();let k,R=Y.sender.dateOfBirth?Y.sender.dateOfBirth.split("-"):"";R=R[0]+"-"+R[1]+"-"+R[2],k="PV"===m.idType?[{doc_name:m&&m.idImageDetails.fullname?m.idImageDetails.fullname:"",doc_number:m&&m.idImageDetails.cardNumber?m.idImageDetails.cardNumber:"",doc_expiry_date:m&&m.idImageDetails.expiryDate?m.idImageDetails.expiryDate:"",doc_type:m&&m.docType?m.docType:"",id_type:m&&m.idType?m.idType:"",image_format_front:m&&m.imageFrontFileExtension?m.imageFrontFileExtension:"",front_image:m&&m.imageFrontSrc?m.imageFrontSrc:"",image_format_back:m&&m.imageBackFileExtension?m.imageBackFileExtension:"",back_image:m&&m.imageBackSrc?m.imageBackSrc:""}]:[{id_type:m.idType,doc_type:m.docType,image_format_front:m.imageFrontFileExtension,front_image:m.imageFrontSrc,image_format_back:m.imageBackFileExtension,back_image:m.imageBackSrc,doc_date_of_birth:m.dateOfBirth,doc_expiry_date:m.dateOfExpiry,doc_first_name:m.idImageDetails.firstName,doc_last_name:m.idImageDetails.lastName,doc_middle_name:m.idImageDetails.lastName,doc_issue_date:m.dateOfIssue,doc_name:m.idImageDetails.documentNumber,doc_number:m.idImageDetails.documentNumber,mrz_code:m.idImageDetails.mrz.rawMRZString,iso2_code:m.idImageDetails.classInfo.isoAlpha2CountryCode,doc_issue_country:m.idImageDetails.mrz.issuer}];const L={country_code:m.country,customer_data:{document_details:{document_detail:k},profile_details:{customer_id:Y.sender.myWuNumber,first_name:Y.sender.firstName,last_name:Y.sender.lastName,date_of_birth:R}},operation:m.operation,security:b.baseRequestService.getSecurity(),channel:b.baseRequestService.getChannel(),vendor_name:Y?.kycVendorConfig?.activeVendor};for(const y in L.customer_data.document_details.document_detail[0])L.customer_data.document_details.document_detail[0][y]||delete L.customer_data.document_details.document_detail[0][y];return b.isEncryptOcrFlowEnabled(),b.isEncryptOcrEnabled?yield b.encryptDataService.getEncryptedPayload(L,b.vendorData):L})()}isEncryptOcrFlowEnabled(){const m=this.updateStore.getState();this.isEncryptOcrEnabled=this.utilService.isEncryptOcrFeatureEnabled(),this.vendorData=m?.kycVendorConfig?.activeVendor}handleErrorRedirectionIdPv(m,b,Y){sessionStorage.setItem("ocrErrorIdType",Y);const R=this.utilService.isOCRErrorSecondAttemptEnabled(Y),L=V.LC.OCR_PV_ID_EXTRACTION_ERROR.find(y=>y===b?y:"");if(m>1&&b===L&&R)return!0}getSelfieInitiated(m){return this.restMethodService.POST("/GetSelfieInitiated",this.buildPayloadForGetSelfie(m))}buildPayloadForGetSelfie(m){const b=this.updateStore.getState();return{vendor:m,bashPath:this.utilService.getbasePath(),security:this.baseRequestService.getSecurity(),gateway_customer:{preferred_customer:{account_nbr:b.sender.myWuNumber}}}}getInitiateCustomerVerification(m){const Y=this.getInitiateCustVerifyBodyRequest(m);return this.restMethodService.POST("/InitiateCustomerVerification",Y).pipe((0,$.T)(R=>R))}getInitiateCustVerifyBodyRequest(m){const b={},Y=this.getPayloadToReplaceParam(JSON.parse(this.utilService.getSessionStorageItem("ValidationResponse")));Y.sender&&Y.sender.compliance_details&&this.isEmpty(Y.sender.compliance_details.id_documents)&&delete Y.sender.compliance_details.id_documents;const R=JSON.parse(this.utilService.getSessionStorageItem("ValidationRequest"));if(b.sender=Y.sender,Y.sender.name.given_name&&" "!=Y.sender.name.given_name&&(delete b.sender.name.first_name,delete b.sender.name.last_name),D().get(Y,"sender.subscription_id")&&(D().unset(b,"sender.subscription_id"),D().unset(b,"sender.campaign_name"),D().unset(b,"sender.end_date")),"my"==this.urlService.getCountryFromURL()&&Y.payment_details&&Y.payment_details.payment_method&&"DebitCard"==Y.payment_details.payment_method.payment_type){const k=JSON.parse(sessionStorage.getItem("GatewayCustomer"));b.sender.compliance_details.employee_position_level=k.compliance_details?k.compliance_details.employee_position_level:""}return"D2C"===Y.wu_product.name&&Y.receiver.debitCardToken&&delete Y.receiver.debitCardToken,b.receiver=Y.receiver,b.wu_product=Y.wu_product,b.payment_details=Y.payment_details,b.temp_transaction_id=Y.temp_transaction_id,b.transaction_digest=Y.transaction_digest,b.bashPath=this.utilService.getLocale(),b.sender.kyc_details=this.getKYCDeliverydetailsObj(m),b.security=this.baseRequestService.getSecurity(),b.pcpNumber=this.utilService.getSessionStorageItem("AccountNumber"),b.countryCode=this.urlService.getCountryFromURL(),b.languageCode=this.urlService.getLanguageFromURL(),b.ipAddress=this.clientIp,R&&R.return_url&&(b.returnURL=R.return_url),void 0!==b.payment_details&&void 0!==b.payment_details.credit_debit_card&&void 0!==b.payment_details.credit_debit_card.cardinal_info&&(null!=b.payment_details.credit_debit_card.cardinal_info.signature3ds&&delete b.payment_details.credit_debit_card.cardinal_info.signature3ds,null!=b.payment_details.credit_debit_card.cardinal_info.merchantID&&delete b.payment_details.credit_debit_card.cardinal_info.merchantID,null!=b.payment_details.credit_debit_card.cardinal_info.clearerID&&delete b.payment_details.credit_debit_card.cardinal_info.clearerID,null!=b.payment_details.credit_debit_card.cardinal_info.returnURL&&delete b.payment_details.credit_debit_card.cardinal_info.returnURL),b}getPayloadToReplaceParam(m){const b={dateOfBirth:"date_of_birth",expirationDate:"expiration_date",issueDate:"issue_date",transactionPurpose:"transaction_purpose",sourceOfFunds:"source_of_funds",issuePlace:"issue_place",occasionalFlag:"occasional_flag",pepStatus:"pep_status"};for(const Y in m)Array.isArray(m[Y])||"object"==typeof m[Y]?this.getPayloadToReplaceParam(m[Y]):b[Y]&&(m[b[Y]]=m[Y],delete m[Y]);return m}getKYCDeliverydetailsObj(m){const b=m.kycDeliveryFlag,Y=m.kycPin,R=JSON.parse(this.utilService.getSessionStorageItem("SendMoneyObjects")),k={};switch(b){case"pwm":k.pwm={},k.pwm.pwm_delivery=R.sender.kycDetails.pwm.pwmDelivery;break;case"vws":k.txm={},k.txm.txm_delivery=R.sender.kycDetails.txm.txmDelivery;break;case"vwa":k.vwa={},k.vwa.vwa_delivery=R.sender.kycDetails.vwa.vwaDelivery;break;case"dur":k.dur={},k.dur.dur_delivery={},k.dur.dur_delivery.available=R.sender.kycDetails.dur.durDelivery.available,k.dur.dur_delivery.dur_doc_types={},k.dur.dur_delivery.dur_doc_types.dur_doc_type=R.sender.kycDetails.dur.durDelivery.durDocTypes.durDocType;break;case"duc":k.duc={duc_delivery:{available:R.sender.kycDetails.duc.ducDelivery.available,duc_documents:{duc_document:[]}}},R.sender.kycDetails.duc.ducDelivery&&R.sender.kycDetails.duc.ducDelivery.ducDocuments&&R.sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument&&R.sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument.forEach(function(L){const y={};L.docType&&(y.doc_type=L.docType),L.type&&(y.type=L.type),L.data&&(y.data=L.data),k.duc.duc_delivery.duc_documents.duc_document.push(y)});break;case"skc":k.skc={skc_delivery:{available:R.sender.kycDetails.skc.skcDelivery.available,skc_documents:{skc_document:[]}}},R.sender.kycDetails.skc.skcDelivery&&R.sender.kycDetails.skc.skcDelivery.skcDocuments&&R.sender.kycDetails.skc.skcDelivery.skcDocuments.skcDocument&&R.sender.kycDetails.skc.skcDelivery.skcDocuments.skcDocument.forEach(function(L){const y={};L.docType&&(y.doc_type=L.docType),L.type&&(y.type=L.type),L.data&&(y.data=L.data),k.skc.skc_delivery.skc_documents.skc_document.push(y)});break;case"chq":k.chq={},k.chq.chq_delivery={},k.chq.chq_delivery.chq_questions={},k.chq.chq_delivery.chq_hints={},k.chq.chq_delivery.available=R.sender.kycDetails.chq.chqDelivery.available,k.chq.chq_delivery.chq_questions.chq_question=R.sender.kycDetails.chq.chqDelivery.chqQuestions.chqQuestion,k.chq.chq_delivery.chq_hints.chq_hint=R.sender.kycDetails.chq.chqDelivery.chqHints.chqHint;break;case"tds":k.tds={},k.tds.tds_delivery={},k.tds.tds_delivery.available=R.sender.kycDetails.tds.tdsDelivery.available,k.tds.tds_delivery.tds_url=R.sender.kycDetails.tds.tdsDelivery.tdsUrl,k.tds.tds_delivery.pa_request=R.sender.kycDetails.tds.tdsDelivery.paRequest;break;case"callme":case"textme":case"emailme":k.pbv={},Y&&(k.pbv.pin=Y),k.pbv.delivery_methods={},"callme"===b?(k.pbv.delivery_methods.voice_delivery=[],k.pbv.delivery_methods.voice_delivery.push("0"===m.callmeIndex?R.sender.kycDetails.pbv.deliveryMethods.voiceDelivery[0]:R.sender.kycDetails.pbv.deliveryMethods.voiceDelivery[1])):"textme"===b?R.sender.kycDetails.pbv.deliveryMethods.smsDelivery.length>1?(k.pbv.delivery_methods.sms_delivery=[],k.pbv.delivery_methods.sms_delivery.push(R.sender.kycDetails.pbv.deliveryMethods.smsDelivery[0])):k.pbv.delivery_methods.sms_delivery=R.sender.kycDetails.pbv.deliveryMethods.smsDelivery:"emailme"===b&&(k.pbv.delivery_methods.email_delivery=R.sender.kycDetails.pbv.deliveryMethods.emailDelivery)}return k}isEmpty(m){return D().isEmpty(m)&&!D().isBoolean(m)&&!D().isNumber(m)}static#e=this.\u0275fac=function(b){return new(b||v)(O.KVO(h.c$),O.KVO(K.t),O.KVO(f.R),O.KVO(C.k),O.KVO(A.E),O.KVO(E.kl),O.KVO(N.H),O.KVO(G),O.KVO(_.a),O.KVO(s.y),O.KVO(c.l),O.KVO(g.il))};static#t=this.\u0275prov=O.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},91149:(n,d,t)=>{"use strict";t.d(d,{q:()=>C});var o=t(95006),e=t(67376),$=t(86808),W=t(37486),K=t(72478),V=t(79041),P=t(98556),D=t(26314),f=t(54438);let C=(()=>{class A{constructor(N,_){this.kycApiService=N,this.kycListService=_}loadIdList(){let N;const _=new Array,M=this.getInitiateCustomerVerificationResponse(),U=this.getCustomerVerificationResponse(),w=this.getKYCDocMasterList(),O=M.durDocType||e.get(U,"sender.kyc_details.dur.durDelivery.durDocTypes.durDocType");return"object"==typeof O?N=O:"string"==typeof O&&(N=O.split(",")),N.forEach(G=>{const s=w.filter(a=>a.id===G)[0];_.push({key:s.title,value:s.title,backSide:s.back_side,idCollectRequired:"PA"!==s.type,subType:s.id,type:s.type})}),_}getIdDetailsTemplate(N,_){const M=new $.YX;return M.idNumber=W.PU.MANDATORY,M.issuingCountry=W.PU.MANDATORY,M.issueDate=W.PU.MANDATORY,M.expiryDate=W.PU.MANDATORY,M.validationRules=new $.ot,M.validationRules.idNumber=N.idNumber,M.validationRules.idNumber.required=!0,M.validationRules.issuingCountry={required:!0},M.validationRules.expiryDate={required:!0},M.expectedDateFormat="MM/DD/YYYY",M.countryList=_,M}getInitiateCustomerVerificationResponse(){return this.kycApiService.getStoredInitiateCustVerificationRes()}getCustomerVerificationResponse(){return this.kycApiService.getStoredCustVerificationRes()}getKYCDocMasterList(){return[{id:"A0",title:"Passport",label:"PASSPORT",back_side:!0,type:"ID"},{id:"B0",title:"Government Issued Nat\u2019l ID",label:"GOVERNMENT_NATIONAL_ID",back_side:!0,type:"ID"},{id:"C0",title:"Driver\u2019s License",label:"DRIVER_LICENSE",back_side:!0,type:"ID"},{id:"D0",title:"Residence Permit",label:"RESIDENCE_PERMIT",back_side:!0,type:"ID"},{id:"E0",title:"Work Permit",label:"WORK_PERMIT",back_side:!0,type:"ID"},{id:"K0",title:"Health Card",label:"HEALTH_CARD",back_side:!0,type:"ID"},{id:"L0",title:"Bank Card",label:"BANK_CARD",back_side:!0,type:"ID"},{id:"M0",title:"Voter Card",label:"VOTERS_ID",back_side:!0,type:"ID"},{id:"N0",title:"Social Security Card",label:"SSN",back_side:!0,type:"ID"},{id:"X0",title:"Student ID",label:"STUDENT_ID",back_side:!0,type:"ID"},{id:"A1",title:"Local authority letter",label:"LOCAL_AUTHORITY_LETTER",back_side:!1,type:"PA"},{id:"F1",title:"Financial institution letter",label:"FINANCIAL_INSTITUTION_STATEMENT",back_side:!1,type:"PA"},{id:"V1",title:"Insurance document",label:"INSURANCE_DOCUMENT",back_side:!1,type:"PA"},{id:"T1",title:"Tax or government document",label:"TAX_GOVERNMENT_DOCUMENT",back_side:!1,type:"PA"}]}updateCompliance(N,_){return this.kycApiService.updateCompliance({type:_.value,id:N.idNumber,issuingCountry:N.issuingCountry,issueDate:N.issueDate,expiryDate:N.expiryDate,idLevel:1})}uploadDMSDoc(N){return this.kycApiService.uploadDMSDoc({docInfo:[{image:[{binary:N.docUploadData.frontImage},{binary:N.docUploadData.backImage}],dms_doc:{doc_type:N.idType.type,doc_sub_type:N.idType.subType,doc_num:N.idDetails.idNumber,expiry_date:N.idDetails.expiryDate,issue_place:" ",issue_country:N.idDetails.issuingCountry,issue_date:N.idDetails.issueDate}}]})}verifyCustomerDur(N,_){const U={token:this.kycApiService.getStoredInitiateCustVerificationRes().token,doc_info:Array()};return N&&N.doc_identifiers?N.doc_identifiers.forEach(w=>{U.doc_info.push({dms_doc:{doc_type:w.docSubType,doc_identifier:w.docIdentifier}})}):U.doc_info.push({dms_doc:{doc_type:_.subType,doc_identifier:N.docIdentifier||N.doc_identifier}}),this.kycApiService.verifyCustomer(U)}getSecurityQuesList(N,_,M){const U=e.get(N,"sender.kycDetails.chq.chqDelivery")||e.get(_,"sender.kyc_details.chq.chqDelivery");return this.kycListService.getSecurityQuestions().pipe((0,o.T)(w=>{w=this.getCustomSecurityQues(w);const O=e.get(U,"chqQuestions.chqQuestion"),G=e.get(U,"chqHints.chqHint"),s=new P.Zl;if(s.challengeQues=new Array,w&&O){const a=Object.keys(w).filter(p=>O.indexOf(p)>=0).reduce((p,h)=>(p[h]=w[h],p),{}),c=e.values(a),r=e.keys(a);let g=0;c.forEach(p=>{const l=this.loadQuestionMeta(M[r[g]],p,g,G,r);s.challengeQues.push(l),g++})}return s}))}getCustomSecurityQues(N){const _=e.get(N,"PROFILE_SECURITY_QUESTIONS.CUSTOM");let M={};return _&&(M=Object.keys(_).filter(U=>U.indexOf("B0")>=0).reduce((U,w)=>(U[w]=_[w],U),{})),M}loadQuestionMeta(N,_,M,U,w){const O=new P.k,G=N?Object.keys(N):[];return O.question=String(_).replace("{{hint}}",U[M]),O.hint=U[M],O.seqNo=M+1,O.isLast=w.length===M+1,O.isCurrent=O.isFirst=0===M,O.queId=w[M],O.validations=this.getValidationRulesForQuestion(N),G.forEach(s=>{(null!==N[s]||""!==N[s])&&(O[s]=N[s])}),O}getValidationRulesForQuestion(N){const _=new P.PT;return _.rules={pattern:N.pattern,required:N.required,minLength:N.minLength,maxLength:N.maxLength,custom:N.custom},N.messages&&(_.messages=Array(),N.messages.forEach(M=>{_.messages.push(new P.Kw(M.type,M.message))})),_}verifyCustomerChq(N){const M={token:this.kycApiService.getStoredInitiateCustVerificationRes().token,question_answer:Array()};return N&&N.length>0&&N.forEach(U=>{M.question_answer.push({question:U.queId,answer:U.answer})}),this.kycApiService.verifyCustomer(M)}validateCustomerVerification(N,_,M){delete _.ps_version,delete _.apollo_flag;const U=_;return U.sender.kyc_details=this.getKYCDeliverydetails(N,M),this.kycApiService.validateCustomerVerification(U)}getKYCDeliverydetails(N,_){const M={pbv:{pin:_.pin,delivery_methods:{}}};switch(_.type){case D.hN.email:M.pbv.delivery_methods.email_delivery=e.get(N,"sender.kycDetails.pbv.deliveryMethods.emailDelivery");break;case D.hN.sms:M.pbv.delivery_methods.sms_delivery=e.get(N,"sender.kycDetails.pbv.deliveryMethods.smsDelivery");break;case D.hN.voice:M.pbv.delivery_methods.voice_delivery=e.get(N,"sender.kycDetails.pbv.deliveryMethods.voiceDelivery")}return M}static#e=this.\u0275fac=function(_){return new(_||A)(f.KVO(K.v),f.KVO(V.h))};static#t=this.\u0275prov=f.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},27493:(n,d,t)=>{"use strict";t.d(d,{l:()=>K});var o=t(26314),e=t(67376),$=t(72478),W=t(54438);let K=(()=>{class V{constructor(D){this.kycApiService=D}getTranslationKeysForType(D){const f=new o.d6;switch(D){case o.IC.txm:f.description1=["vws_sentto","vws_link","replace_phone","vws_instructions"],f.title="subtitle_vws",f.note="vws_note";break;case o.IC.vwa:f.description1=["vws_sentto","vws_link","replace_phone","vwa_instructions"],f.title="subtitle_vwa",f.note="vwa_note";break;case o.IC.dur:f.description1=["vwd_instructions"],f.title="subtitle_vwd";break;case o.IC.pwm:f.description1=["pwm_instructions"],f.title="subtitle_pwm";break;case o.IC.threeds:f.description1=["3DS_instructions"],f.title="subtitle_3DS";break;case o.IC.chq:f.description1=["kyc_chq_instruction_title"],f.description2=["kyc_chq_instruction_example","kyc_chq_instruction_question1","kyc_chq_instruction_question2"],f.title="subtitle_chq"}return f}loadChallengeQueVerificationMethod(D){let f;return e.has(D,"chqDelivery")&&(f=new o.Rm,f.type=o.IC.chq,f.isAvailable=/true/i.test(e.get(D,"chqDelivery.available")),f.chqQuestion=e.get(D,"chqDelivery.chqQuestions"),f.chqHint=e.get(D,"chqDelivery.chqHints"),f.translationKeys=this.getTranslationKeysForType(o.IC.chq)),f}loadDocUploadVerificationMethod(D){let f;return e.has(D,"durDelivery.durDocTypes")&&(f=new o.IX,f.type=o.IC.dur,f.isAvailable=/true/i.test(e.get(D,"durDelivery.available")),f.durDocType=e.get(D,"durDelivery.durDocTypes"),f.translationKeys=this.getTranslationKeysForType(o.IC.dur)),f}loadKycVerificationMethod(D,f,C,A){let E;return D&&(E=new o.RT,E.type=A,E.isAvailable=/true/i.test(D.available),E.email=D.email,E.phoneNumber=f||e.get(D,"phone_number.national_number"),E.countryCode=C||e.get(D,"phone_number.country_code"),E.translationKeys=this.getTranslationKeysForType(A)),E}loadPinVerificationMethod(D,f,C){const A=e.get(D,"pbv.deliveryMethods");let E;if(A){if(E=new o.uM,E.type=o.IC.pbv,A.emailDelivery&&(E.emailVerification=this.loadKycVerificationMethod(A.emailDelivery[0],null,null,o.IC.email),E.deliveryMethodCount+=1),A.smsDelivery){const N=e.first(A.smsDelivery.filter(_=>[f,C].indexOf(e.get(_,"phone_number.national_number"))>=0))||A.smsDelivery[0];E.smsVerification=this.loadKycVerificationMethod(N,null,null,o.IC.sms),E.deliveryMethodCount+=1}if(A.voiceDelivery){const N=e.first(A.voiceDelivery.filter(_=>[f,C].indexOf(e.get(_,"phone_number.national_number"))>=0))||A.voiceDelivery[0];E.voiceVerification=this.loadKycVerificationMethod(N,null,null,o.IC.voice),E.deliveryMethodCount+=1}}return E}initiateCustomerVerification(){return this.kycApiService.initiateCustomerVerification()}cancelTransaction(){return this.kycApiService.cancelTransaction()}static#e=this.\u0275fac=function(f){return new(f||V)(W.KVO($.v))};static#t=this.\u0275prov=W.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},78405:(n,d,t)=>{"use strict";t.d(d,{b:()=>h});var o=t(60105),e=t(3418),x=t(41129),$=t(57324),W=t(37486),K=t(92079),V=t(78863),D=(t(85292),t(49381)),f=t(93885),C=t(95006),A=t(10641),E=t(47058),N=t(34781),_=t(38992),M=t(77202),U=t(90696),w=t(87801),O=t(58652),G=t(3902),s=t(54438),a=t(64850);let c=(()=>{class l extends K.w{constructor(S,m,b,Y,R,k,L,y,I){super(),this.temlateService=S,this.validationService=m,this.updateStoreUsingActionService=b,this.smoConfig=Y,this.utilService=R,this.regexService=k,this.readURL=L,this.optimusService=y,this.featureFlagService=I}getReceiverTemplate(S){const m=new e.G,b=[this.temlateService.getReceiverTemplate(S)];this.sessionFromStore=this.updateStoreUsingActionService.getState();const Y=JSON.parse(this.updateStoreUsingActionService.getState().countryDynamicParams?.CURRENCY_SPECIFIC_BANKLIST||null),R=this.featureFlagService.isFeatureEnabledForReceiver("CURRENCY_SPECIFIC_BANKLIST",this.sessionFromStore?.corridor?.receiverCountry?.isoCode)&&Y&&Y[this.sessionFromStore?.corridor?.receiverCountry?.isoCode]&&Y[this.sessionFromStore?.corridor?.receiverCountry?.isoCode]===this.sessionFromStore?.corridor?.receiverCurrency&&"BA"===this.sessionFromStore?.selectedProduct?.payOut;return R&&b.push(this.fetchcurrencySpecificBankList()),(0,U.p)(b).pipe((0,C.T)(k=>{if(k[0]){if(R&&k[1]&&k[1][w.MG.D2B_PE_PEN]){const T=[];for(const te in k[1][w.MG.D2B_PE_PEN])T.push({value:te,name:k[1][w.MG.D2B_PE_PEN][te]});k[0].d2bTemplate[0].dataBanks=T}if(this.utilService.isReceiverMobileNumberMandatoryEnabled()&&this.utilService.isNonWalletTranscation()&&(k[0].ctrTemplate.mobileField=W.PU.MANDATORY),this.utilService.enableWalletForAlipayPartner()?.length&&k[0]?.walletTemplate){const T=k[0]?.walletTemplate[0]?.dataBanks,te=this.utilService.enableWalletForAlipayPartner();k[0].walletTemplate[0].dataBanks=T.filter(Z=>te.includes(Z.value))}sessionStorage.setItem("ReceiverTemplate_v",JSON.stringify(k[0])),this.isBillingual()&&sessionStorage.setItem("ReceiverTemplate_k",JSON.stringify(this.temlateService.getReceiverTemplateRequest()));const L=this.mapCtrTemplateFields(k[0].ctrTemplate),y=this.getFormattedDialPrefixList(k[0].dialing_prefix_lists);L&&(m.ctrTemplate=L),y&&(m.dialing_prefix_lists=y),m.d2bTemplates=this.mapD2BTemplate(k[0].d2bTemplate||k[0].walletTemplate||k[0].d2cTemplate);const I=m.d2bTemplates.find(T=>"financial_id"===T.ref);L?.nationalIdField===W.PU.MANDATORY&&I&&(sessionStorage.setItem("nationalID_templateObj",JSON.stringify(I)),m.d2bTemplates.splice(m.d2bTemplates.indexOf(I),1)),m.labels=k[0].labels,m.validationRules={...this.buildValidationRules(m.ctrTemplate),...this.buildDTBValidationRules(m.d2bTemplates)}}return m}))}fetchcurrencySpecificBankList(){const S=this.readURL.getCountryLanguage(),m=S.country,b=new O.J;return b.setOrigination(m).setLanguage(S.language).setLists(w.MG.D2B_PE_PEN,"banklist").setBashpath(`/${m}/${S.language}`),this.optimusService.invokeGenericFactory(w.MG.D2B_PE_PEN,b)}getRtoBReceiverTemplate(S){const m=new e.G;return this.temlateService.getRtoBReceiverTemplate(S).pipe((0,C.T)(b=>{const Y=JSON.parse(sessionStorage.getItem("TransactionInquiryResponse")||"{}");if("CA"===Y?.paymentDetails?.origination?.countryIsoCode&&b.ctrTemplate?.error||"CA"===Y?.paymentDetails?.origination?.countryIsoCode&&"NA"===b.ctrTemplate?.addressLine1Field?(b.ctrTemplate.addressLine1Field="M",b.ctrTemplate.addressLine2Field="O",b.ctrTemplate.cityField="M",b.ctrTemplate.stateTextField="M",b.ctrTemplate.zipField="M"):"CA"!==Y?.paymentDetails?.origination?.countryIsoCode&&(b.ctrTemplate.addressLine1Field="NA",b.ctrTemplate.addressLine2Field="NA",b.ctrTemplate.cityField="NA",b.ctrTemplate.stateTextField="NA",b.ctrTemplate.stateField="NA",b.ctrTemplate.zipField="NA"),b.ctrTemplate.dateOfBirthField="M",b.ctrTemplate.dateOfBirthFieldValidation="18",b.ctrTemplate.mobileField="M",b.dialing_prefix_lists=S?.dialingPrefix,b){sessionStorage.setItem("ReceiverTemplate_v",JSON.stringify(b));const R=this.mapCtrTemplateFields(b.ctrTemplate),k=this.getFormattedDialPrefixList(b.dialing_prefix_lists);R&&(m.ctrTemplate=R),k&&(m.dialing_prefix_lists=k),m.d2bTemplates=this.mapD2BTemplate(b.d2bTemplate||b.walletTemplate||b.d2cTemplate);const L=m.d2bTemplates.find(y=>"financial_id"===y.ref);R?.nationalIdField===W.PU.MANDATORY&&L&&(sessionStorage.setItem("nationalID_templateObj",JSON.stringify(L)),m.d2bTemplates.splice(m.d2bTemplates.indexOf(L),1)),m.labels=b.labels,m.validationRules={...this.buildValidationRules(m.ctrTemplate),...this.buildDTBValidationRules(m.d2bTemplates)}}return m}))}isBillingual(){return"US"===this.smoConfig._getCountryIsoCode()&&"EN"!==this.smoConfig.getLanguageFromURL().toUpperCase()}mapD2BTemplate(S){const m=[];return S&&S.length>0&&S.forEach(b=>{const Y={typeInput:b.typeInput,incremental:!!b.incremental,isConfirmAccountNumber:!!b.isConfirmAccountNumber,labelName:b.labelName,ref:b.ref,id:b.id,errorLabelId:b.errorLabelId,labelNameId:b.labelNameId,type:b.type,minLength:b.minLength,maxLength:b.maxLength,typeValidation:b.typeValidation,placeHolder:b.placeHolder,errorLabel:b.errorLabel,dataBanks:this.convertListToDataBanks(b.dataBanks),tableInputField:b.tableInputField,topBanks:this.convertListToDataBanks(b.topBanks),valuePrefix:b.valuePrefix,refOverride:b.refOverride,prefixDelimiter:b.prefixDelimiter,displayFormat:b.displayFormat,displayDelimiter:b.displayDelimiter,radioOptions:this.convertListToRadioOptions(b.radio_options),defaultTab:b.defaultTab,defaultTabForExistingInfo:b.defaultTabForExistingInfo,doNotDisplay:b.doNotDisplay,ibanRegEx:b.ibanRegEx,ibanPopupInstructionLabel:b.ibanPopupInstructionLabel,specificPattern:b.specificPattern,validationType:b.validationType,UPIBanks:b.UPIBanks,maxUPILimit:b.maxUPILimit,validation:b.validation,optionLabelRef:b.optionlabelref,branchListRef:b.branchlistref,uxPlaceholder:b.uxPlaceholder,hintText:b.hintText};m.push(Y)}),this.sortBankList(m),m}sortBankList(S){if(S){const m=S.filter(b=>"bank_name"===b.ref);if(m&&m.length>0){const b=m[0];b.dataBanks&&(b.dataBanks=b.dataBanks.sort((Y,R)=>Y.name.localeCompare(R.name))),b.topBanks&&(b.topBanks=b.topBanks.sort((Y,R)=>Y.name.localeCompare(R.name)))}}}mapCtrTemplateFields(S){if(S)return{addressLine1Field:this.getFieldType(S.addressLine1Field),addressLine2Field:this.getFieldType(S.addressLine2Field),cityField:this.getFieldType(S.cityField),cityDropdownField:this.getFieldType(S.cityDropdownField),emailIdField:this.getFieldType(S.emailIdField),firstNameField:this.getFieldType(S.firstNameField),lastNameField:this.getFieldType(S.lastNameField),middleNameField:this.getFieldType(S.middleNameField),noLastNameField:this.getFieldType(S.noLastNameField),matternalField:this.getFieldType(S.matternalField),mobileField:this.getFieldType(S.mobileField),nationalityField:this.getFieldType(S.nationalityField),paternalField:this.getFieldType(S.paternalField),purposeLimit:+S.purposeLimit,relationshipLimit:+S.relationshipLimit,sendAmount:+S.sendAmount,sourceOfFundsLimit:+S.sourceOfFundsLimit,purposeField:this.getSDQFields(S,f.Y.sdqPurposeField),relationshipField:this.getSDQFields(S,f.Y.sdqRelationshipField),sourceOfFundsField:this.getSDQFields(S,f.Y.sdqSourceOfFundsField),stateField:this.getFieldType(S.stateField),zipField:this.getFieldType(S.zipField),zipValidationField:S.zipValidationField?.replace(/^"(.*)"$/,"$1"),stateText:this.getFieldType(S.stateTextField),testQuestion:this.getFieldType(S.testQuestionField),testAnswer:this.getFieldType(S.testAnswerField),dataNationality:S.dataNationality,dataPurpose:this.mapSdqOptions(S.dataPurpose),dataRelationship:this.mapSdqOptions(S.dataRelationship),dataSourceOfFunds:this.mapSdqOptions(S.dataSourceOfFunds),dataStates:this.getFormattedList(S.dataStates),dataHint:S?.dataHint,dateOfBirthField:this.getFieldType(S.dateOfBirthField),dateOfBirthFieldValidation:S.dateOfBirthFieldValidation,dataCity:S.dataCity,dataBorderingCountries:this.getFormattedListNested(S.dataBorderingCountries),dataIdTypeList:this.getFormattedListNested(S.dataIdTypeList),permanentResidenceCityField:this.getFieldType(S.permanentResidenceCityField),permanentResidenceCountryField:this.getFieldType(S.permanentResidenceCountryField),dataPermanentResidenceCountry:S.dataPermanentResidenceCountry,c2bOption:this.getFieldType(S.c2bOption)===W.PU.MANDATORY||this.getFieldType(S.c2bOption)===W.PU.OPTIONAL,debitCardType:S.debitCardType,nationalIdField:S.nationalIdField===W.PU.MANDATORY?W.PU.MANDATORY:W.PU.NA}}mapSdqOptions(S){const m=[];if(!S)return m;delete S.listPath;for(const b of Object.keys(S)){const Y=b.replace(/#/g,"/");m.push({key:Y,value:S[b]})}return m}getFormattedDialPrefixList(S){const m=[];if(S){for(const b of Object.keys(S)){const Y=S[b];for(const R of Object.keys(Y))m.push({key:R,value:b})}return m.sort((b,Y)=>Number(b.key)>Number(Y.key)?1:Number(b.key)<Number(Y.key)?-1:0),m}}buildValidationRules(S){const m=this.updateStoreUsingActionService.getState().corridor?.receiverCountry?.isoCode||"",b=this.updateStoreUsingActionService.getState().corridor?.senderCountry?.isoCode,Y="US"===b,R=this.regexService.getCountrySpecificRegex(b),k={};if(S){if(Object.keys(S).forEach(L=>{if(["M","O"].indexOf(S[L])>=0){const y="M"===S[L];let I=L.replace("Field","");"zip"===I&&(I="zipCode"),k[I]={required:y,pattern:R[I]}}}),k.zipCode){let L=_.J.global.number;const y=_.J[m]?.zipCode;y&&(L=y),S.zipValidationField&&(L=S.zipValidationField),k.zipCode.pattern=L,Y&&!f.Y.receiver_country_with_zipValidation.includes(m)&&delete k.zipCode.pattern}k.paternal&&(k.paternalName=k.paternal),k.matternal&&(k.maternalName=k.matternal),k.testQuestion&&(k.question=k.testQuestion),k.testAnswer&&(k.answer=k.testAnswer),k.mobile&&(k.mobileNumber=k.mobile)}return k}buildDTBValidationRules(S){const m=this.validationService.getValidationRulesForCountry(this.smoConfig.getLanguageFromURL().toUpperCase()),b={};return m&&S&&S.filter(Y=>{(m[Y.ref]||m[Y.refOverride])&&(b[Y.ref]=m[Y.refOverride]?m[Y.refOverride]:m[Y.ref])}),b}getSDQFields(S,m){this.sessionFromStore=this.updateStoreUsingActionService.getState();let b,Y,R=!1;m===f.Y.sdqPurposeField&&S?(b=this.getFieldType(S.purposeField),Y=S.purposeLimit,R=!!S.dataPurposePath?.includes("RECEIVER_PURPOSE_LIST")):m===f.Y.sdqSourceOfFundsField&&S?(b=this.getFieldType(S.sourceOfFundsField),Y=S.sourceOfFundsLimit):m===f.Y.sdqRelationshipField&&S&&(b=this.getFieldType(S.relationshipField),Y=S.relationshipLimit);const k=this.sessionFromStore.senderAmount>=Number(Y);return b="M"!==b&&"O"!==b||!k&&!R?W.PU.NA:W.PU.MANDATORY,b}setReceiverTemplateRequestBillingual(){sessionStorage.setItem("ReceiverTemplate_k",JSON.stringify(this.temlateService.getReceiverTemplateRequestBillingual()))}static#e=this.\u0275fac=function(m){return new(m||l)(s.KVO(A.v),s.KVO(a.B),s.KVO(N.k),s.KVO(E.l9),s.KVO(M.a),s.KVO(E.Bj),s.KVO(V.Fq),s.KVO(E.B5),s.KVO(G.y))};static#t=this.\u0275prov=s.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var r=t(69067),g=t(8841),p=t(67376);let h=(()=>{class l extends K.w{constructor(S,m,b,Y,R,k,L){super(),this.templateMapperService=S,this.readUrlService=m,this.spinnerService=b,this.udpateStore=Y,this.utilService=R,this.smoConfigService=k,this.featureFlagService=L;const y=m.getCountryLanguage();this.currentLanguageCode=y?.language,this.currentSendCountryCode=y?.country}getReceiverTemplate(S){return this.spinnerService.startCall(),this.templateMapperService.getReceiverTemplate(S).pipe((0,g.M)(()=>{this.spinnerService.endCall()}))}getRtoBReceiverTemplate(S){return this.spinnerService.startCall(),this.templateMapperService.getRtoBReceiverTemplate(S).pipe((0,g.M)(()=>{this.spinnerService.endCall()}))}buildReceiverNameTemplate(S){const m=S.ctrTemplate,b={firstName:m.firstNameField,middleName:m.middleNameField,lastName:m.lastNameField,paternalName:m.paternalField,maternalName:m.matternalField,maternalFieldErrorMsg:S.labels?.middleNameAlert,maternalFieldLabel:S.labels?.middleNameLabel,nationalId:m.nationalIdField};return b.validations=this.getValidationRules(b,S.validationRules,o.$P),b}buildReceiverAddressTemplate(S,m){const b=this.udpateStore.getState(),Y=p.get(b,"selectedProduct.payOut"),R=S.ctrTemplate,k=this.utilService.isSMORevampedSidePanelOpen(),L={addressLine1:R.addressLine1Field===W.PU.MANDATORY?W.PU.MANDATORY:W.PU.NA,addressLine2:R.addressLine1Field===W.PU.MANDATORY?W.PU.OPTIONAL:W.PU.NA,state:R.stateField,stateText:R.stateText===W.PU.OPTIONAL?W.PU.NA:R.stateText,city:R.cityField===W.PU.OPTIONAL?W.PU.NA:R.cityField,cityDropdown:R.cityDropdownField===W.PU.OPTIONAL?W.PU.NA:R.cityDropdownField,cityList:R.dataCity,zipCode:R.zipField,stateList:R.dataStates,zipCodeValidation:R.zipValidationField,countryIsoCode:k?this.utilService.getSMOrevampedCountry():m&&m.receiverCountry&&m.receiverCountry.isoCode?m.receiverCountry.isoCode.toUpperCase():null,permanentCity:R.permanentResidenceCityField,permanentCountry:R.permanentResidenceCountryField,countryList:R.dataPermanentResidenceCountry,zipLabel:S.labels.zipLabel,stateLabel:S.labels.stateLabel};return L.validations=this.getValidationRules(L,S.validationRules,x.R),this.handleIATScenario(L),this.handleUSSwbChanges(L),"HD"===Y&&(L.zipCode=R.zipField),L.city===W.PU.NA&&L.cityDropdown===W.PU.NA&&L.state===W.PU.NA&&L.stateText===W.PU.NA&&(L.zipCode=W.PU.NA),R.cityField===W.PU.OPTIONAL&&this.featureFlagService.isFeatureEnabled("SHOW_OPTIONAL_RECEIVER_CITY_FIELD")&&(L.city=R.cityField),L}handleUSSwbChanges(S){const m=this.udpateStore.getState();if("US"!==m.corridor.senderCountry.isoCode||!m.sender.isSWBProfile||"500"!==m.selectedProduct.code)return;const Y=S.stateList;S.stateText=Y.length?W.PU.NA:W.PU.MANDATORY,S.state=Y.length?W.PU.MANDATORY:W.PU.NA;const R=S.cityList;S.cityDropdown=R?W.PU.MANDATORY:W.PU.NA,S.city=R?W.PU.NA:W.PU.MANDATORY,S.addressLine1=W.PU.MANDATORY,S.zipCode=W.PU.MANDATORY}handleIATScenario(S){const m=this.udpateStore.getState(),b=m.selectedProduct.payIn,Y=m.selectedProduct.code,R=m.corridor.receiverCountry.isoCode,k=m.sender.isSWBProfile,L=this.smoConfigService.getGlobalConfig("switches","isIATEnabled"),I=!this.smoConfigService.getGlobalConfig("switches","countryListForIAT")?.includes(R)&&(b===W.mt.ACH||b===W.mt.Paramount)&&"false"===L&&(!k||k&&"000"===Y),T="true"===L&&(b===W.mt.ACH||b===W.mt.Paramount)&&S.zipCode===W.PU.OPTIONAL;I?(S.addressLine1=W.PU.NA,S.addressLine2=W.PU.NA,S.city=W.PU.NA,S.stateText=W.PU.NA,S.state=W.PU.NA,S.zipCode=W.PU.NA):T&&(S.zipCode=W.PU.MANDATORY),"US"===m.corridor.senderCountry.isoCode&&k&&"500"===Y&&"BR"!==R&&(S.zipCode=W.PU.MANDATORY)}buildReceiverContactTemplate(S){const m=S.ctrTemplate,b={mobileNumber:m.mobileField,emailId:m.emailIdField,countryCodeList:S.dialing_prefix_lists},Y=this.udpateStore.getState();return"US"===Y.corridor.senderCountry.isoCode&&Y.sender.isSWBProfile&&"500"===Y.selectedProduct.code&&(b.mobileNumber=W.PU.MANDATORY),b.validations=this.getValidationRules(b,S.validationRules,D.X),b}buildSelfDeclaredQuestionsTemplate(S){return{showPurposeOfTransaction:S.purposeField,showRelationshipToReceiver:S.relationshipField,showSourceOfFunds:S.sourceOfFundsField,dataPurpose:S.dataPurpose,dataSourceOfFunds:S.dataSourceOfFunds,dataRelationship:S.dataRelationship}}buildSecretQuestionTemplate(S,m){const b=S.ctrTemplate,Y=this.udpateStore.getState(),R=p.get(Y.corridor,"receiverCountry.isoCode"),k=p.get(Y,"selectedProduct.payOut"),L=Number(Y.receiverAmount);return this.output={question:b.testQuestion,answer:b.testAnswer},(sessionStorage.getItem("enableSecretQuestion")||this.utilService.isSecretQuestionEnable())&&"US"===R&&k===W.Zr.AG&&L<=f.Y.maxAmountForTestQuestion?this.output={question:W.PU.OPTIONAL,answer:W.PU.OPTIONAL}:m&&(this.output={question:W.PU.MANDATORY,answer:W.PU.MANDATORY}),this.output.validations=this.getValidationRules(this.output,S.validationRules,r.tO),this.output}getReceivingCountryDialCode(S,m){const b=S?S.dialing_prefix_lists:null,Y=m||"US";return b?b.find(R=>R.value===Y):null}getMandetoryFields(S){const m=[];return Object.keys(S).forEach(b=>{S[b]===W.PU.MANDATORY&&m.push(b)}),m}getAllFields(S){const m=[];return Object.keys(S).forEach(b=>{(S[b]===W.PU.MANDATORY||S[b]===W.PU.OPTIONAL)&&m.push(b)}),m}getReceiverEditModes(S,m,b,Y,R,k){const L=new e.E;this.checkNameFields(S,R,L),this.checkAddressFields(m,R,L),this.checkContactFields(b,L,R),(R.consumerToBusinessName||k.dateField===W.PU.MANDATORY&&!R.dob)&&(L.userInfo=!0,L.address=!0);const I=Y.bankTemplateFields.find(de=>de.typeInput===f.Y.bankInfoRadio),T=this.getReceiverBankAccount(R);T&&!T?.account_selected_type&&I?.defaultTab&&(T.account_selected_type=I.defaultTab,I.radioOptions?.find(de=>"UPI"===de.value)&&T.upi_id?T.account_selected_type="UPI":I.radioOptions?.find(de=>"PIX"===de.value)&&"PIX"===T.account_type&&T.account_number?T.account_selected_type="PIX":I.radioOptions?.find(de=>"BANK"===de.value)&&T.account_number&&(T.account_selected_type="BANK"));const te=T?.account_selected_type,Z=[];if(I){const de=I.radioOptions?.find(oe=>oe.value===te);R&&f.Y.receiverEditModeCorridor.includes(R.address.countryIsoCode)&&!de?this.receiverEditModeForExistingUser(Y,Z):de?.refFields?.forEach(oe=>{const ae=Y.bankTemplateFields.find(he=>he.id===oe);ae&&ae.ref&&Z.push(ae.ref)})}else Y.bankTemplateFields.forEach(de=>{de.ref&&Z.push(de.ref)});if(T)for(const de of Z){let oe=de;if(oe===f.Y.bankInfoIbanAccountNumber&&(oe=f.Y.bankInfoAccountNumber),"wallet_account_number"===de&&R.contactDetails?.mobileNumber||"wing_number"===oe&&T.walletAccountNumber)continue;const ae=this.udpateStore.getState();if("acc_number"===oe||"confirm_acc_number"===oe||"debit_card_number"===oe){if("debit_card_number"===oe){if("200"===ae.selectedProduct.code){const re=f.Y.CardType.VISA.indexOf(R?.address?.countryIsoCode)>-1,Ce=f.Y.CardType.MASTER.indexOf(R?.address?.countryIsoCode)>-1;"VISA"===R?.wallet?.wuD2c?.network&&!re&&(L.bankInfo=!0),"MASTER"===R?.wallet?.wuD2c?.network&&!Ce&&(L.bankInfo=!0);break}const z=this.udpateStore.getState().products,ie=this.utilService.paysendD2CObjFromProduct(z);if("201"===ae.selectedProduct.code&&"MASTER"===R?.wallet?.wuD2c?.network&&0===ie.isMastercardAvailable.length){L.bankInfo=!0;break}if("202"===ae.selectedProduct.code&&"VISA"===R?.wallet?.wuD2c?.network&&0===ie.isVisaAvailable.length){L.bankInfo=!0;break}}continue}const he=ae.corridor.receiverCountry.isoCode;if(!("financial_id"===oe&&"EC"===he&&"0010"===T.bank_code||"pix_id"===oe&&"BR"===he&&T.account_number)){if(!(T[oe]||"account_type"===oe&&"IN"===ae.corridor.senderCountry.isoCode&&"CA"===he&&R.consumerToBusinessName)){L.bankInfo=!0;break}if(T[oe]&&"upi_id"===oe){const z=Y.bankTemplateFields.find(Ce=>"wu-d2b-text-upi-error"===Ce.id)?.maxUPILimit,ie=Number(ae.receiverAmount),re=ae.selectedProduct.payIn===W.mt.Cash;(ie>Number(z)||re)&&(L.bankInfo=!0)}}}else Z.length&&!T&&(L.bankInfo=!0);return L}receiverEditModeForExistingUser(S,m){S.bankTemplateFields.forEach(b=>{b.ref&&m.push(b.ref)})}getReceiverBankAccount(S){let m;switch(this.udpateStore.getState().selectedProduct?.payOut){case W.Zr.WA:m=S.wallet?.wuWallet;break;case W.Zr.D2C:case W.Zr.D2C_PS:m=S.wallet?.wuD2c;break;default:m=S.wallet?.bankAccounts&&S.wallet.bankAccounts[0]}return m}checkContactFields(S,m,b){const Y=this.getMandetoryFields(S),R=this.getAllFields(S);m.address||(R.forEach(k=>{let L=S.validations&&S.validations[k]?.pattern;"emailId"===k&&(L=_.J.global.email);const y=b.contactDetails[k];!y||!L||new RegExp(L).test(y)||(m.userInfo=!0,m.address=!0)}),this.checkMandatoryFields(Y,b.contactDetails,m,b))}checkAddressFields(S,m,b){const Y=this.getMandetoryFields(S),R=this.getAllFields(S);let k=_.J.globalPPS.nonUSAddress;const L=this.udpateStore.getState();"CA"===L.corridor.receiverCountry.isoCode&&(k=_.J.CA.address),"AR"===L.corridor.senderCountry.isoCode&&(k=_.J.global.address),R.forEach(de=>{let oe=S.validations&&S.validations[de]?.pattern;if("cityDropdown"===de&&m.address.city||"state"===de&&m.address.state)return;"stateText"===de&&(de="state"),oe||"addressLine1"!==de?!oe&&"addressLine2"===de&&(oe=_.J.globalPPS.nonUSAddress):oe=k;const ae=m.address[de];!oe||!ae||new RegExp(oe).test(ae)||(b.userInfo=!0,b.address=!0)}),this.checkMandatoryFields(Y,m.address,b,m);const T=this.udpateStore.getState().selectedProduct;"Y"===T?.isDirected&&m.address.state&&T?.expectedPayoutLocation?.stateCode!==m.address.state&&(b.address=!0)}checkNameFields(S,m,b){const Y=this.getMandetoryFields(S);this.getAllFields(S).forEach(k=>{const L=S.validations&&S.validations[k]?.pattern;"maternalName"===k&&(k="middleName"),"paternalName"===k&&(k="lastName");const y=m.name[k];!L||!y||L.test(y)||(b.userInfo=!0,b.address=!0)}),this.checkMandatoryFields(Y,m.name,b,m)}checkMandatoryFields(S,m,b,Y){S.forEach(R=>{"maternalName"===R&&(R="middleName"),"paternalName"===R&&(R="lastName"),("nationalId"!==R||!Y.wallet?.bankAccounts||!Y.wallet.bankAccounts[0].financial_id)&&("cityDropdown"===R&&(R="city"),"stateText"===R&&(R="state"),"emailId"===R&&(R="email"),m[R]||(b.userInfo=!0,b.address=!0))})}initializeReceiver(S,m){const b=this.utilService.isSMORevampedSidePanelOpen(),Y=new $.Q8;Y.name=new W.xE,Y.address=new W.pV,Y.contactDetails=new W.HK,Y.selfDeclaredQuestions=new W.et;const R=b?this.utilService.getSMOrevampedCountry():m&&m.receiverCountry?m.receiverCountry.isoCode:"US";return this.updateContactInReceiverVM(Y,S,R),Y.address.countryIsoCode=R,Y}initializeR2BReceiver(S,m){const b=new $.Q8;b.name=new W.xE,b.wallet=new W.uW,b.address=new W.pV,b.contactDetails=new W.HK;const Y=m&&m.receiverCountry?m.receiverCountry.isoCode:"US";return this.updateContactInReceiverVM(b,S,Y),b.address.countryIsoCode=Y,b}updateContactInReceiverVM(S,m,b){const Y=this.getReceivingCountryDialCode(m,b);Y&&(S.contactDetails.countryCode=+Y.key,S.contactDetails.countryIsoCode=Y.value)}enableVerifyReceiverFlow(S,m){return f.Y.verifyReceiverCountries.includes(m.receiverCountry?.isoCode||"")&&f.Y.verifyReceiverProductCodes.includes(S.code)}isReceiverVerificationRequired(S){let m=!1;if(S.receivers&&S.receivers.receiver&&S.receivers.receiver.length>0){const b=S.receivers.receiver[0];m=!!(b.deliveryCode&&"0003"===b.deliveryCode||b.name)}return m}getTemplateRequestForMyReceivers(S){return{destination:S&&S.address?S.address.countryIsoCode:this.currentSendCountryCode.toUpperCase(),origination:this.currentSendCountryCode.toUpperCase(),payIn:S&&S.wallet&&S.wallet.bankAccounts&&S.wallet.bankAccounts.length>0?"Bank":"CC",payOut:S&&S.wallet&&S.wallet.bankAccounts&&S.wallet.bankAccounts.length>0?"Bank":"Cash at agent",isSWB:!1,language:this.currentLanguageCode,version:"v2"}}buildDateOfBirthTemplate(S){return{dateField:S.dateOfBirthField===W.PU.OPTIONAL?W.PU.NA:S.dateOfBirthField||null,dateFieldValidation:S.dateOfBirthFieldValidation?S.dateOfBirthFieldValidation:null}}buildNationalityTemplate(S){return S.nationalityField===W.PU.NA?null:{fieldType:S.nationalityField||W.PU.NA,options:S.dataNationality}}getCountryObject(S,m){let b,Y;if(m.TopDropdownList){const R=m.TopDropdownList.filter(k=>k.key===S);b=R?R[0]:b}if(!b&&m.DropdownList){const R=m.DropdownList.filter(k=>k.key===S);b=R?R[0]:b}return b&&(Y=new W.TP,Y.isoCode=b.key,Y.name=b.value),Y}sortReceivers(S,m){return S.sort((b,Y)=>{const R=this.isReceiverReadyForSelectedPayOut(b,m),k=this.isReceiverReadyForSelectedPayOut(Y,m);return R&&!k?-1:!R&&k?1:b.name.firstName.localeCompare(Y.name.firstName)})}isReceiverReadyForSelectedPayOut(S,m){switch(m){case W.Zr.BA:return S.wallet&&S.wallet.bankAccounts&&S.wallet.bankAccounts.length>0;case W.Zr.MT:return!(!S.contactDetails||!S.contactDetails.mobileNumber);default:return!0}}setCardMappingOnProductsResponse(){const S=[],m=this.udpateStore.getState().products,b=p.get(this.udpateStore.getState(),"selectedProduct.code"),Y=this.utilService.paysendD2CObjFromProduct(m);return("201"===b||"202"===b)&&(Y.isVisaAvailable&&Y.isVisaAvailable.length>0&&S.push(f.Y.SERVICE_CODE_CARD_MAPPING[201]),Y.isMastercardAvailable&&Y.isMastercardAvailable.length>0&&S.push(f.Y.SERVICE_CODE_CARD_MAPPING[202])),S}buildDTBTemplate(S){let m=[];m=this.setCardMappingOnProductsResponse(),S.ctrTemplate.debitCardType&&0===m.length&&(m=S.ctrTemplate.debitCardType.split(":").map(Y=>f.Y.RECEIVER_OPTIMUS_CARD_MAPPING[Y]));const b={bankTemplateFields:S.d2bTemplates,supportedDebitCards:m};return b.validations=S.validationRules,b}setReceiverTemplateRequestBillingual(){this.templateMapperService.setReceiverTemplateRequestBillingual()}getUniqueReceivers(S){if(!Array.isArray(S))return;const m=[];let Y,R,k,b={},L="";return S.forEach(T=>{if(p.has(T,"receiver.name")){R=p.has(T,"receiver.name.firstName")?T.receiver.name.firstName:"";let te="";T.receiver.name&&T.receiver.name.lastName&&(te=T.receiver.name.lastName,k=te.charAt(0).toUpperCase()),Y=p.startCase(p.toLower(R+" "+k))}else p.has(T,"receiver.consumer_to_business_name")&&(Y=T.receiver.consumer_to_business_name);L=this.getReceiverCountryFlag(T),b={name:Y,id:T.receiver.uid,flag:L},m.push(b)}),p.sortBy(p.uniqWith(m,p.isEqual),["name"])}getReceiverCountryFlag(S){let m="";return S.receiver.address?m=S.receiver.address.countryIsoCode:S.biller&&S.biller.countryIsoCode&&(m=S.biller.countryIsoCode),m}static#e=this.\u0275fac=function(m){return new(m||l)(s.KVO(c),s.KVO(V.Fq),s.KVO(V.Dx),s.KVO(N.k),s.KVO(M.a),s.KVO(E.l9),s.KVO(G.y))};static#t=this.\u0275prov=s.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},75773:(n,d,t)=>{"use strict";t.d(d,{O:()=>V});var o=t(60177),e=t(78405),x=t(13450),$=t(87760),W=t(98197),K=t(54438);let V=(()=>{class P{static forRoot(){return{ngModule:P,providers:[e.b,$.C,x.K,W.n]}}static#e=this.\u0275fac=function(C){return new(C||P)};static#t=this.\u0275mod=K.$C({type:P});static#i=this.\u0275inj=K.G2t({imports:[o.MD,o.MD]})}return P})()},49027:(n,d,t)=>{"use strict";t.d(d,{_:()=>g});var o=t(67376),x=t(1027),$=t(21148),W=t(37486),K=t(10707),V=t(65578),P=t(37940),D=t(34781),f=t(4858),C=t(39574),A=t(45286),E=t(79928),N=t(47058),_=t(28675),M=t(3902),U=t(87801),w=t(93885),O=t(77202),G=t(78863),s=t(12650),a=t(7605),c=t(54438),r=t(85717);let g=(()=>{class p{constructor(l,v,S,m,b,Y,R,k,L,y,I,T,te,Z){this.router=l,this.smoConfig=v,this.routingService=S,this.customerLookupService=m,this.paymentCardsService=b,this.paymentBanksService=Y,this.updateStore=R,this.smoDefaults=k,this.countryConfigService=L,this.featureFlagService=y,this.urlService=I,this.utilService=T,this.smvService=te,this.kycVerificationService=Z,this.progressiveSmoExperience=new A.B7,this.smoInlineSpinnerExperience=new A.B7,this.nonProgressiveSmoExperience=new A.B7,this.fundsInTileEllipsisSpinnerExp=new A.B7,this.payOnlineBannersubject=new E.t(""),this.displayReceiverBlockPopup=new E.t(!1),this.destroyed$=new A.B7}sendPayOnlineClickEvent(l){this.payOnlineBannersubject.next(l)}getPayOnlineClickEvent(){return this.payOnlineBannersubject.asObservable()}isRewardRedeemable(l){const S=this.updateStore.getState().sender;if(null!=l&&S&&S.loyalityPoints&&S.loyalityPoints)return!(parseInt(l,10)>parseInt(S.loyalityPoints,10))}sendMoneyValidationErrorCallBack(l,v){const S=this.getErrorCode(l),m=this.getSubErrorCode(l.error);this.storeErrorResponse(l);const R=["C9998","C7788","C2202"],te=this.updateStore.getState().hostedPartner;let ae=!1,he=!1,B=this.processSMVError(S,l);if(B||(B=this.processSMVSubError(S,m,l)),B||(ae=this.processSMVDocUploadError(S,m,l),ae&&(B=!0,this.processDocUploadLookup(l))),!B&&["C8111"].indexOf(S)>-1&&(B=!0,this.routingService.navigateTOVerificationOptions()),!B&&!("C4138"===S&&o.has(l,"error.reasons.reason")&&"R4138"===l.error.reasons.reason[0].code)&&(B=this.processSMVReceiverErrors(S,l)),!B&&["C5151"].indexOf(S)>-1&&this.isNewBillPaySPTransaction()){const ie=this.updateStore.getState().userJourney;"bill-pay"===ie?(B=!0,this.routingService.navigateToNewBillPayStart()):"inmate-pay"===ie&&(B=!0,this.routingService.navigateToNewSendInmateStart())}!B&&["C5400"].indexOf(S)>-1&&"/completeyourprofile"!==this.router.url&&(B=!0,this.routingService.completeYourProfile()),!B&&["C1282","C1702","C2012","C2013","C2015","C2017","C1650","C6357"].indexOf(S)>-1&&(!w.Y.OPT_DECLINE_PAGE_ENABLED?.includes(S)||!this.featureFlagService.isFeatureEnabled("OPT_DECLINE_PAGE_ENABLED"))&&("C2013"===S&&te||"C2013"===S&&!this.featureFlagService.isFeatureEnabled("C2013_OPT_DECLINE_PAGE")||"C2013"!==S)&&(B=!0,v&&v(l.error),this.routingService.navigateToPayment()),!B&&["PS9999","C9999","C1706","C1147","C1972","C1974","C1992","C1997","C2002","C2010","C2011","C2014","C2100","C9998","C2001","C2018","C2016","C9126","C9106","C9107","C9102","C9108","C7799","C2211","C2013","C7772","C7773","C7774","C2065","C2066","C2067","C2068","C2069","C8618","C2201","C7788","C2720"].indexOf(S)>-1&&(!w.Y.OPT_DECLINE_PAGE_ENABLED?.includes(S)||this.featureFlagService.isFeatureEnabled("OPT_DECLINE_PAGE_ENABLED"))&&("C2013"===S&&!te&&(this.featureFlagService.isFeatureEnabled("C2013_OPT_DECLINE_PAGE")||this.featureFlagService.isFeatureEnabled("OPT_DECLINE_PAGE_ENABLED"))||"C2013"!==S)&&(sessionStorage.removeItem("AlternatePaymentTypes"),l.alternate_payment_types&&l.alternate_payment_types.payment_type&&sessionStorage.setItem("AlternatePaymentTypes",JSON.stringify(l.alternate_payment_types.payment_type)),B=!0,this.routingService.navigateTODecline()),!B&&R.indexOf(S)>-1&&this.countryConfigService.redirectToProfileOnLimitError()&&(B=!0,this.routingService.navigateTOProfille()),!B&&R.indexOf(S)>-1&&"R1313"===m&&this.featureFlagService.isFeatureEnabled("REJECT_POT_VALUES")&&(B=!0,this.routingService.navigateTODecline()),!B&&["C2207","C9771"].indexOf(S)>-1&&(sessionStorage.setItem("smvErrorCodeForRedirection",JSON.stringify(l)),B=!0,"/send-money/start"===this.router.url&&(this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload"),this.routingService.navigateTOSendmoneystart()),!B&&["C9821"].indexOf(S)>-1&&(B=!0,this.routingService.navigateTOReceiverAdditionalinfo()),!B&&this.utilService.isDisableBankResendFlowEnabled()&&["C9167"].indexOf(S)>-1&&m.indexOf(["M1024"])>-1&&(B=!0,this.routingService.navigateTOReceiver(),sessionStorage.setItem("resendBankNotAvailable","true")),B||(B=this.processSMVBrazilErrors(S,l)),!B&&"C9787"===S&&(he=!0),!B&&!ae&&!he&&S&&(v?v(l.error):this.routingService.navigateTODecline())}processSMVDocUploadError(l,v,S){const m=["C9105"],b=["C9113","C9119","C9114","C9112","C9132","C9133","C9134","C9138"];let Y=!1;return(m.indexOf(v)>-1||m.indexOf(l)>-1)&&this.countryConfigService.getAirEnabled()?(Y=!0,sessionStorage.setItem("SMVDocUploadResponse",JSON.stringify(S))):(v&&b.indexOf(v)>-1||l&&b.indexOf(l)>-1&&this.countryConfigService.getAirEnabled())&&(Y=!0,sessionStorage.setItem("SMVDocUploadInvalidErr",JSON.stringify(S)),sessionStorage.setItem("SMVDocUploadResponse",JSON.stringify(S))),Y}processSMVSubError(l,v,S){const Y=["C8033","C8034","C8035","C8036","C8037","C8069"],R=this.utilService.getPartnerName();let k=!1;if(sessionStorage.setItem("SMVSubErrorCode",v),Y.indexOf(v)>-1&&this.countryConfigService.getAirEnabled())sessionStorage.setItem("CollectIdErrorRespCode",v),sessionStorage.setItem("IdentityData",JSON.stringify(S)),sessionStorage.setItem("IsGlobalCollectReload","false"),k=!0,this.routingService.navigateTOGlobalCollectid();else if(["C1138","C1859","C1948","C1999","C2028","C2031","C7031","C3576","C6518","C7001","C7111","C8008","C8009","C8010","C8011","C8012","C1856","C6319","C9101","C9147","C5265","C9781"].concat(Y).indexOf(l)>-1){if("C1859"!==l&&(sessionStorage.setItem("CollectIdErrorRespCode",S.error.code),sessionStorage.setItem("IdentityData",JSON.stringify(S))),"C7111"===l){sessionStorage.setItem("CollectIdErrorRespCode",l);const y=this.updateStore.getState().hostedPartner,I=sessionStorage.getItem("applicationName");y&&this.countryConfigService.getPartnerConfigValue()&&(k=!0,this.routingService.navigateTOGlobalCollectid()),this.featureFlagService.isFeatureEnabled("GB_PPS_HRJ_ENABLEMENT")&&I&&"PPS"===I.toUpperCase()&&(k=!0,this.routingService.navigateTOGlobalCollectid()),!k&&this.countryConfigService.isCustomDucEnabled()&&(k=!0,this.routingService.navigateTOGlobalCollectid()),!k&&this.utilService.isInlineEidEnabled()&&(k=!0,this.routingService.navigateTOGlobalCollectid()),!k&&!this.countryConfigService.isHyperBandEnabled()&&this.smoConfig.isFMASDQEnabled()&&this.smoConfig.isFMASDQUnverifiedUseCase()&&(k=!0,"R8875"===v?this.routingService.navigateTOGlobalCollectid():this.routingService.navigateTOProfille())}if("C9781"===l&&"T5736"===v&&(k=!0,this.routingService.navigateTOGlobalCollectid()),k||"C1999"!==l||!this.countryConfigService.newGlobalCollectId()||this.isSPTransaction())"/globalcollectid"===this.router.url?window.location.reload():k||(sessionStorage.setItem("IsGlobalCollectReload","false"),k=!0,this.routingService.navigateTOGlobalCollectid());else if(this.utilService.isOnfidoKycEnabled())this.routingService.navigateToChoosePage();else{k=!0;let L=sessionStorage.getItem("countExtractApiCall");L=L?JSON.parse(L):"";const y=this.utilService.isOcrFlowEnabled();!y||L>=2?y&&L>=2&&this.utilService.isDisableOldIdSelfie()?this.routingService.navigateTOOCRSelectDoc():this.utilService.ocrInitialCheckInSession()&&!y?this.updateStore.getState().kycVendorConfig?this.routingService.navigateTOIdDetails():this.kycVerificationService.getVendorData().pipe((0,a.Q)(this.destroyed$)).subscribe(I=>{I&&I.activeVendor&&this.routingService.navigateTOOCRSelectDoc()}):this.utilService.navigateTOIdDetails():this.routingService.navigateTOOCRSelectDoc()}}else if("C9810"===l&&!k&&this.utilService.isInlineEidEnabled())k=!0,this.featureFlagService.isFeatureEnabled("FIX_EID_REDIRECTION_ON_BACK")||(sessionStorage.setItem("signicat_initiated","true"),this.updateStore.updateSignicatInitiatedStatus("true")),this.router.navigateByUrl("/collect-id/eid/choose");else if("C2606"===l)k=!0,this.routingService.navigateTOProfille();else if(R&&R.toLowerCase()===w.Y.POSTEITALIANE_PARTNER&&l===w.Y.POSTE_ERROR_MAPPING_HANDLING.C2202_R7005.code&&v===w.Y.POSTE_ERROR_MAPPING_HANDLING.C2202_R7005.subcode)k=!0,this.routingService.navigateToDutPage();else if(["C2209","C9293","C9294"].includes(l))if(k=!0,sessionStorage.getItem("ActiveVendor")){const y=sessionStorage.getItem("newSelfieEKycFormDetails");sessionStorage.setItem("newSelfieFlowSmvErrorCode",l),y&&(k=!0,this.routingService.navigateTOSkcOption())}else this.kycVerificationService.getVendorData().pipe((0,a.Q)(this.destroyed$)).subscribe(y=>{if(y&&y.activeVendor)return this.activeVendorDetails=y.activeVendor,this.kycVerificationService.getSelfieInitiated(this.activeVendorDetails).pipe((0,a.Q)(this.destroyed$)).subscribe(I=>{sessionStorage.setItem("ActiveVendor",this.activeVendorDetails),sessionStorage.setItem("newSelfieEKycFormDetails",JSON.stringify(I)),sessionStorage.setItem("newSelfieFlowSmvErrorCode",l),k=!0,this.routingService.navigateTOSkcOption()})});else if(!k&&w.Y.COLLECT_ID_REDIRECT_C_ERRORS.indexOf(l)>-1&&w.Y.COLLECT_ID_REDIRECT_R_ERRORS.indexOf(v)>-1)sessionStorage.setItem("IsGlobalCollectReload","false"),k=!0,this.routingService.navigateTOGlobalCollectid();else if(!k&&"C9787"===l&&this.featureFlagService.isFeatureEnabled("PK_DSR_DUPLICATE_TRANSACTION")){const y=this.updateStore.getState().selectedProduct.payIn,I=JSON.parse(sessionStorage.getItem("DSRBAProducts")||null);if(y&&!this.utilService.isEmpty(I)){for(let T=0;T<I.length;T++)if(y===I[T].payIn){this.updateStore.updateSelectedProduct(I[T]);break}this.smvService.sendMoneyValidation(this.getTransactionData()).subscribe(T=>{T&&T.error?this.sendMoneyValidationErrorCallBack(T):(sessionStorage.setItem("displayFeeChangeBanner","true"),this.routingService.navigateToReview())})}}else"/globalcollectid"===this.router.url&&window.location.reload();return k}getTransactionData(){const l=this.updateStore.getState(),v=l.sender||{},S=this.getSMVReceiver(l),m=JSON.parse(sessionStorage.getItem("smvTransactionData")||null);return this.getPartnerWalletObject(v),{paymentDetails:m.paymentDetails,sender:v,receiver:S}}getSMVReceiver(l){const v=o.cloneDeep(l.selectedReceiver||{});return v.contactDetails&&(v.mobilePhone={phoneNumber:{countryCode:v.contactDetails.countryCode?v.contactDetails.countryCode:"",nationalNumber:v.contactDetails.nationalNumber?v.contactDetails.nationalNumber:""}}),v.wallet&&(v.wallet={bankAccounts:{bankAccount:v.wallet.bankAccounts},wuWallet:v.wallet.wuWallet,wuD2c:v.wallet.wuD2c}),v}getPartnerWalletObject(l){if(this.utilService.isHostedPartner()){const v=this.updateStore.getState().partnerData?.retrieveResponseData;if(v&&v.paymentDetails&&v.paymentDetails.paymentInstrument){if(1===v.paymentDetails.paymentInstrument.bankAccounts?.length){const b={wallet:{bankAccounts:{bankAccount:v.paymentDetails.paymentInstrument.bankAccounts}}};sessionStorage.setItem("isSinglePartnerBank","true"),this.updateStore.updateSelectedBank(b),l.wallet=b.wallet}}else{const S=JSON.parse(sessionStorage.getItem("smvTransactionData"));if(1===S?.sender?.wallet?.bankAccounts?.bankAccount?.length){const b={wallet:S.sender.wallet};sessionStorage.setItem("isSinglePartnerBank","true"),this.updateStore.updateSelectedBank(b),l.wallet=b.wallet}}}}processSMVReceiverErrors(l,v){let m=!1;if(["C1309","C5135","C5136","C5137","C8161","C1774","C2368","C2389","C2369","C1694","C1777","C2027","C8015","C6615","C2045","C1874","C2039","C1821","C6325","C1377","C1379","C9161","C1358","C4138","C9203","C7166","C9162"].indexOf(l)>-1){const b=new _.P;b.errorCode=l,b.errorMessage=v.error.message,this.updateStore.updateReceiverError(b),"C2039"===l&&sessionStorage.setItem("MarkBranchNameRequired","true"),"C8015"===l&&sessionStorage.setItem("showReceiverAddressPopup","true"),"C6325"===l&&sessionStorage.setItem("sendMoneyErrorResponse",JSON.stringify(v)),"C1358"===l&&(m=!0,this.routingService.navigateTOReceiver()),"C9162"===l&&(m=!0,sessionStorage.setItem("errorAccNumberC9162","true"),this.routingService.navigateTOReceiver()),"C9161"===l?(sessionStorage.setItem("smvErrorCodeForRedirection",JSON.stringify(v)),m=!0,this.router.navigateByUrl("/send-money/start")):(m=!0,this.routingService.navigateTOReceiver())}return m}processSMVBrazilErrors(l,v){const m=this.updateStore.getState().selectedProduct;let k=!1;return["C9011","C9012","C9013","C1415","C9014","C9015","C9016","C9017","C9018","C9019","C9020","C9021","C9022","C9023","C9024","C9025","C9026","C9027","C9028","C9029","C9030","C9031","C9032","C9033","C9034","C9035","C9036","C9037","C9038","C9039","C9040","C9041","C9042","C9043","C9044","C9045","C9046","C9047","C9048","C9049","C9050","C9051","C9052","C9053","C9054","C9055","C9056","C9057","C9058","C9059","C9060","C9061","C9062","C9063","C9064","C9065","C9066","C9067","C9068","C9069","C9070","C9071","C9072","C9073","C9074","C9075","C9076","C9077","C9078","C9079","C9080","C9081","C9082","C9083","C9084","C9085","C9086","C9087","C9088","C9089","C9090","C9091","C9092","C9093","C9094","C9095","C9096","C9097","C9098","C9099","C9100","C9101","C9102","C9103","C9104","C9105","C9106","C9107","C9108"].indexOf(l)>-1&&(m.payIn===W.mt.Cash||m.payIn===W.mt.WUPay)&&!this.countryConfigService.getAirEnabled()&&(["C9011","C9012","C9015","C9016","C9017","C9018","C9019","C9032","C9033","C9034","C9035","C9036","C9037","C9040","C9041","C9042","C9043","C9044","C9045","C9048","C9049","C9050","C9051","C9052","C9053","C9054","C9055","C9056","C9057","C9058","C9059","C9060","C9062","C9063","C9066","C9067","C9068","C9069","C9070","C9071","C9072","C9073","C9074","C9075","C9076","C9077","C9078","C9079","C9080","C9081","C9103","C9104","C9105","C9106","C9107","C9108"].indexOf(l)>-1?(k=!0,this.routingService.navigateTOGlobalCollectid()):["C9013","C9022","C9023","C9024","C9025","C9026","C9039"].indexOf(l)>-1?(k=!0,this.routingService.navigateTODecline()):["C9020","C9027","C9028","C9029","C9030"].indexOf(l)>-1?(k=!0,this.router.navigateByUrl("/send-money/start")):"C9065"===l?(k=!0,window.location.reload()):(k=!0,this.routingService.navigateTODecline())),k}processSMVError(l,v){let m=!1;const b=this.updateStore.getState(),Y=b.hostedPartner;if("C2028"===l&&this.countryConfigService.isAffidavitModuleEnabled()&&(m=!0,this.routingService.navigateToAffidavit()),("C1136"===l||"C1144"===l)&&this.countryConfigService.isCollectIdModuleEnabled()&&("C1144"===l&&"SG"===this.urlService.getCountryFromURL().toUpperCase()||(m=!0,this.utilService.isGBGKycEnabled()?this.router.navigate(["kyc/kyc-consent"]):this.routingService.navigateTOCollectIdChoose())),["C5859"].indexOf(l)>-1&&(m=!0,this.routingService.navigateTOIdDetails()),["C1856"].indexOf(l)>-1&&(sessionStorage.setItem("C1856error",JSON.stringify(v)),m=!0,this.routingService.navigateTOIdDetails()),!m&&"C1136"===l&&(Y||"HK"===this.urlService.getCountryFromURL().toUpperCase())&&(m=!0,this.routingService.navigateTOCollectIdChoose()),!m&&"C2048"===l&&this.utilService.isReceiverAccountBlockedPopupEnabled()&&(m=!0,this.displayReceiverBlockPopup.next(!0)),!m&&"C1144"===l&&"es"===this.urlService.getCountryFromURL().toLowerCase()&&(sessionStorage.setItem("CollectIdErrorRespCode",v.error.code),sessionStorage.setItem("IdentityData",JSON.stringify(v)),sessionStorage.setItem("IsGlobalCollectReload","false"),m=!0,this.routingService.navigateTOGlobalCollectid()),!m&&"C1144"===l&&"sg"===this.urlService.getCountryFromURL().toLowerCase()&&(m=!0,this.routingService.navigateTOIdDetails()),"C1176"===l&&(this.countryConfigService.isCollectIdPEPEnabled()||this.featureFlagService.isFeatureEnabled("PEP_NEW_UX"))&&(m=!0,this.routingService.navigateTOCollectIdPep()),"C7111"===l&&this.countryConfigService.isCollectIdSDQEnabled()&&(m=!0,this.routingService.navigateTOCollectIdSdq()),"C7111"===l&&"nl"===this.urlService.getCountryFromURL().toLowerCase()&&"R8872"===this.getSubErrorCode(v.error)&&(this.utilService.isNLNG9MigrationEnabled()?(sessionStorage.setItem("CollectIdErrorRespCode",l),m=!0,this.routingService.navigateTOCollectIdEidChoose()):(sessionStorage.setItem("CollectIdErrorRespCode",l),m=!0,this.routingService.navigateTOCollectIdChoose())),!m&&"C7111"===l&&this.countryConfigService.isCustomDucEnabled()&&(sessionStorage.setItem("CollectIdErrorRespCode",l),m=!0,this.routingService.navigateTOGlobalCollectid()),!m&&"C7111"===l&&this.utilService.isInlineEidEnabled()&&(sessionStorage.setItem("CollectIdErrorRespCode",l),m=!0,this.routingService.navigateTOGlobalCollectid()),"C1672"===l&&(sessionStorage.setItem("sendMoneyResponseRedirect",JSON.stringify(v)),m=!0,this.routingService.navigateTOProfille()),"C1750"===l&&(sessionStorage.removeItem("QuickResendFlow"),m=!0,this.routingService.navigateTODecline()),"C1806"===l||"C1807"===l){const L=b.userJourney;"bill-pay"===L?(m=!0,this.routingService.navigateTOBillPayStart()):"inmate-pay"===L&&(m=!0,this.routingService.navigateTOSendinmatestart())}return"C9811"===l&&"NZ"===this.urlService.getCountryFromURL()&&(m=!0,this.routingService.navigateToUserBlockedPage()),"C7118"!==l&&"C1851"!==l||!this.featureFlagService.isFeatureEnabled("MY_COLLECT_SDQ_INFO")?"C9770"===l?(sessionStorage.setItem("CollectIdErrorRespCode",l),this.routingService.navigateTOGlobalCollectid(),!0):o.includes(["C7127","C7128","C7129","C7130","C7131","C7132"],l)&&this.featureFlagService.isFeatureEnabled("MAILING_ADDRESS_CONFIRMATION")?(this.routingService.navigateToAdditionalInformation(),!0):w.Y.RECEIVER_COUNT_REACHED_ERRORS.indexOf(l)>-1?(this.updateStore.updateValidationError(l),this.routingService.navigateTOReceiver(),!0):w.Y.SEND_TO_HOME_COUNTRY_ERRORS.indexOf(l)>-1||w.Y.SEND_LIMIT_ERRORS.indexOf(l)>-1?(this.updateStore.updateValidationError(l),this.routingService.navigateTOSendmoneystart(),!0):("C9166"===l&&this.utilService.isDSREnabledCorridor()&&(m=!0,this.routingService.navigateTOReceiver()),m):(sessionStorage.setItem("CollectIdErrorRespCode",l),this.routingService.navigateTOGlobalCollectid(),!0)}IsPaymentTypeCardOrBank(l){if(-1!==["DebitCard","CreditCard","ACH","iACH","Paramount","Plaid","BanContact","TK"].indexOf(l)){let v;return v="CreditCard"===l||"DebitCard"===l?this.paymentCardsService.getCreditCards():this.paymentBanksService.getSavedBank(),v}}isProgressiveSMOEnabled(){const l=this.smoDefaults.getUrlparameter(f.a.SRC_CODE),v=this.smoDefaults.getUrlparameter(f.a.SRC),S=this.smoDefaults.getUrlparameter(f.a.CAMPAIGN_ID),m=this.smoDefaults.getUrlparameter(f.a.RECEIVE_COUNTRY),b=this.smoConfig._getCountryIsoCode().toUpperCase(),Y=this.smoConfig.getGlobalConfig("switches","countriesWithProgressiveSmoEnabled")||"";return!(l||v||S||m||!b||!this.routingService.isSendMoneyPage()||!Y||!(Y.indexOf(b)>=0))}processDocUploadLookup(l){const v=this.updateStore.getState(),m=v.userJourney;this.customerLookupService.getDocUploadLookup(l,v.sender.address,this.isSPTransaction(),"sending_money"===m).subscribe(b=>{b&&!b.error&&("globalcollectid-docinfo"===this.router.url?window.location.reload():this.routingService.navigateToGlobalCollectDocInfo())})}isSPTransaction(){const l=this.updateStore.getState(),v=l&&l.selectedProduct?l.selectedProduct:{};return!(!this.countryConfigService.getAirEnabled()||v.payIn!==W.mt.Cash)}isCountryEnabledForSPGetCustomerProfile(){const l=this.smoConfig._getCountryIsoCode().toUpperCase();return!(w.Y.CountriesWithRetailCustomerProfileCallDisabled.indexOf(l)>=0)}validateSPComplianceResponse(l,v){let S=!1;if(v){if(v.complianceDetails&&v.complianceDetails.id_documents&&v.complianceDetails.id_documents.id_document){const b=v.complianceDetails.id_documents.id_document;for(const Y of b)if(S=this.validateIDRecord(Y),!S)break}const m=this.validateIDFields(l,v);return S=S&&m,S}return S}validateIDRecord(l){let v=!1;const m=l.issue_date;return v=this.isDateValid(l.expiration_date),m&&v&&(v=this.isDateValid(m)),v}validateIDFields(l,v){let S=!0;const m=[];if(l&&l.CollectidCTRTemplate){for(const[b,Y]of Object.entries(l.CollectidCTRTemplate))("M"===Y||"O"===Y)&&0!==b.indexOf("id")&&"object"!=typeof Y&&m.push(b);for(const[b,Y]of Object.entries(U.f5))m.indexOf(b)>=0&&!v.complianceDetails[Y]&&(S=!1)}return S}getSplitDate(l){let v=[];return l&&(l.indexOf("/")>=0?v=l.split("/"):l.indexOf("-")>=0&&(v=l.split("-"))),v}isDateValid(l){let v=!1;if(l){if(!(l instanceof Date)){const S=this.getSplitDate(l);l=new Date(`${S[0]}/${S[1]}/${S[2]}23:59:59`)}v=l.getTime()<(new Date).getTime()}return v}isNewBillPaySPTransaction(){const l=this.updateStore.getState(),v=l&&l.selectedProduct?l.selectedProduct:{};return this.isNewBillPayTransaction()&&v.payIn===W.mt.Cash}isNewBillPayTransaction(){const l=this.updateStore.getState(),v=l&&l.userJourney?l.userJourney:"";return"bill-pay"===v||"inmate-pay"===v}getErrorCode(l){return l&&l.error&&l.error.code?l.error.code:null}getSubErrorCode(l){return l&&l.reasons&&l.reasons.reason&&l.reasons.reason.length>0?l.reasons.reason[0].code:null}storeErrorResponse(l){l&&l.error&&(l.error.api="SMV",sessionStorage.setItem("ErrorResponse",JSON.stringify(l.error)))}earlySMVEligible(l){if(this.utilService.isHostedPartnerType()){const v=this.updateStore.getState().partnerData.retrieveResponseData;if(v&&v.paymentDetails&&v.paymentDetails.paymentInstrument){const S=v.paymentDetails.paymentInstrument;if(S.bankAccounts&&1===S.bankAccounts.length)return!0}}if(void 0!==this.countryConfigService.getEarlySendMoneyValidation()){const S=(l.selectedProduct||{}).payIn;return this.countryConfigService.getEarlySendMoneyValidation().indexOf(S)>-1||"WUPay"===S&&"WT"===this.countryConfigService.getWUPayType()||w.Y.Earlysendmoneyvalidation.indexOf(S)>-1&&w.Y.earlysendmoneyValiCountryCode.indexOf(this.urlService.getCountryFromURL().toUpperCase())>-1}return!1}showMailingAddressSendFlow(){const l=this.updateStore.getState(),S=(l.selectedProduct||{}).payIn,m=this.isEFLPuertoRico(l),b=this.urlService.getCountryFromURL();return m&&"US"===b.toUpperCase()&&"sending_money"===l.userJourney&&"AG"===S}isEFLPuertoRico(l){let v=!1;const S=sessionStorage.getItem("enablePuertoRico")||"true";return v="pickup-cash-air"===l.userJourney?"PR"===o.get(JSON.parse(sessionStorage.getItem("receiveMoneySearchReq")),"destnCountry"):"PR"===o.get(JSON.parse(sessionStorage.getItem("Efl")),"address.state"),"true"===S.toLowerCase()&&v}getDisplaySpinner(){return this.displaySpinner}isMobileView(){let l=!1;return(navigator&&navigator.userAgent&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<991)&&(l=!0),l}static#e=this.\u0275fac=function(v){return new(v||p)(c.KVO(r.Ix),c.KVO(x.l),c.KVO($.O),c.KVO(K.A),c.KVO(V.P),c.KVO(P.n),c.KVO(D.k),c.KVO(C.c6),c.KVO(N.qd),c.KVO(M.y),c.KVO(G.Fq),c.KVO(O.a),c.KVO(C.Tz),c.KVO(s.k))};static#t=this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},2420:(n,d,t)=>{"use strict";t.d(d,{O:()=>V});var o=t(34781),e=t(1027);class x{}var $=t(93885),W=t(47058),K=t(54438);let V=(()=>{class P{constructor(f,C,A){this.smoConfig=f,this.updateStore=C,this.countryConfigService=A}checkSWBErrors(){const f=new x;let C=!1;const A=this.updateStore.getState(),N=A.selectedProduct,_=A.senderAmount,M=this.smoConfig.getSWBDisabledPayments(A.corridor.receiverCountry.isoCode);return _>=3e3&&!(this.countryConfigService.getAirEnabled()&&"AG"===N.payIn)&&(f.SWBLimitError=!0,C=!0),this.isInvalidD2bCountry()&&"BA"===M&&N&&"Bank account"===N.payOut&&("CreditCard"===N.payIn||"ACH"===N.payIn||"iACH"===N.payIn)&&(f.SWBD2bError=!0,C=!0),"MT"===M&&N&&"Mobile wallet"===N.payOut&&(f.SWBPaymentTypeError=!0,C=!0),!!C&&(this.updateStore.updateSWBErrors(f),!0)}isInvalidD2bCountry(){const C=this.updateStore.getState().corridor;return $.Y.invalidD2BCuontries.indexOf(C.receiverCountry.isoCode)>-1}static#e=this.\u0275fac=function(C){return new(C||P)(K.KVO(e.l),K.KVO(o.k),K.KVO(W.qd))};static#t=this.\u0275prov=K.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},87760:(n,d,t)=>{"use strict";t.d(d,{C:()=>$});var o=t(95006),e=t(54438),x=t(41780);let $=(()=>{class W{constructor(V){this.translate=V}getReceiverInfoTranslations(){return this.translate.get("receiverinfo").pipe((0,o.T)(V=>V))}getHeaderTranslations(){return this.translate.get("header").pipe((0,o.T)(V=>V))}getReceiverTranslations(){return this.translate.get("opt-receiver").pipe((0,o.T)(V=>V))}getRetailIdCollectTranslations(V){return this.translate.get(V).pipe((0,o.T)(P=>P))}getSMOTranslations(){return this.translate.get("sendmoneyoption").pipe((0,o.T)(V=>V))}getSummaryWidgetTranslations(){return this.translate.get("summarwidget").pipe((0,o.T)(V=>V))}getStickyNotificationTranslations(){return this.translate.get("stickynotification").pipe((0,o.T)(V=>V))}getGlobalDisclaimerWidgetTranslations(){return this.translate.get("globaldisclaimerwidget").pipe((0,o.T)(V=>V))}getGlobalDisclaimerWidgetWithValuesTranslations(V,P){return this.translate.get(["globaldisclaimerwidget.disclaimer6","globaldisclaimerwidget.disclaimer5"],{countryName:V,countryCode:P}).pipe((0,o.T)(D=>D))}getRegisterTranslation(){return this.translate.get("register-step1").pipe((0,o.T)(V=>V))}getReceiverRedirectTranslation(){return this.translate.get("receiver_redirect").pipe((0,o.T)(V=>V))}getLookupTranslation(){return this.translate.get("dut-lbp-lookup").pipe((0,o.T)(V=>V))}getDocUploadVerificationTranslation(){return this.translate.get("dut-lbp-docupload").pipe((0,o.T)(V=>V))}getChangePasswordTranslation(){return this.translate.get("change-password").pipe((0,o.T)(V=>V))}getPhoneVerificationTranslation(){return this.translate.get("phoneverification").pipe((0,o.T)(V=>V))}getLoginTranslation(){return this.translate.get("login").pipe((0,o.T)(V=>V))}getForgotPasswordTranslation(){return this.translate.get("forgot-password-step1").pipe((0,o.T)(V=>V))}getPaymentPageTranslations(V){return this.translate.get(V).pipe((0,o.T)(P=>P))}getKycOptionsTranslations(){return this.translate.get("kycoptions").pipe((0,o.T)(V=>V))}getKycVerifyTranslations(){return this.translate.get("kycoption-verify").pipe((0,o.T)(V=>V))}getKycDucTranslations(){return this.translate.get("kycoption-duc").pipe((0,o.T)(V=>V))}getMobileReloadTranslations(){return this.translate.get("topupstart").pipe((0,o.T)(V=>V))}getReviewTranslations(){return this.translate.get("review").pipe((0,o.T)(V=>V))}getReceiptPageTranslations(V){return this.translate.get(V).pipe((0,o.T)(P=>P))}getRcxRAFTranslations(V){return this.translate.get(V).pipe((0,o.T)(P=>P))}getEnablementServiceTranslations(){return this.translate.get("enable-service").pipe((0,o.T)(V=>V))}getDashboardTranslations(){return this.translate.get("dashboard").pipe((0,o.T)(V=>V))}getHistoryTranslations(){return this.translate.get("history").pipe((0,o.T)(V=>V))}getManageReminderTranslations(){return this.translate.get("manage-reminders").pipe((0,o.T)(V=>V))}getPartnerInitTranslations(){return this.translate.get("partner-init").pipe((0,o.T)(V=>V))}getFinishTranslation(){return this.translate.get("dut-lbp-finish").pipe((0,o.T)(V=>V))}getChartTranslations(V){return this.translate.get(V).pipe((0,o.T)(P=>P))}getSdqTranslation(){return this.translate.get("dut-lbp-sdq").pipe((0,o.T)(V=>V))}getDSSChallengeSuccessTranslation(){return this.translate.get("dss-challenge-success").pipe((0,o.T)(V=>V))}getDSSDocUploadTranslation(){return this.translate.get("dss-doc-upload").pipe((0,o.T)(V=>V))}getDSSHomeTranslation(){return this.translate.get("dss-home").pipe((0,o.T)(V=>V))}getDSSLookUpTranslation(){return this.translate.get("dss-lookup").pipe((0,o.T)(V=>V))}getDSSChallengeTranslation(){return this.translate.get("dss-challenge").pipe((0,o.T)(V=>V))}getDSSQuestionnaireTranslation(){return this.translate.get("dss-questionnaire").pipe((0,o.T)(V=>V))}getChooseEidTranslation(){return this.translate.get("choose").pipe((0,o.T)(V=>V))}getCollectEidTranslation(){return this.translate.get("collect").pipe((0,o.T)(V=>V))}getIdTypesTranslation(){return this.translate.get("idtypes").pipe((0,o.T)(V=>V))}getConfirmTranslation(){return this.translate.get("confirm").pipe((0,o.T)(V=>V))}getProgressiveInterstitialTranslation(){return this.translate.get("progressive-interstitial").pipe((0,o.T)(V=>V))}getTrackTransferTranslation(){return this.translate.get("track-transfer").pipe((0,o.T)(V=>V))}getFXLandingTranslation(){return this.translate.get("fxa-landing-page").pipe((0,o.T)(V=>V))}getTrackTransferSuccess(){return this.translate.get("track-success").pipe((0,o.T)(V=>V))}getGlobalCountrySelectionTranslation(){return this.translate.get("global-country-selection").pipe((0,o.T)(V=>V))}getDSS2VerificationTranslation(){return this.translate.get("dss2-verification").pipe((0,o.T)(V=>V))}getMobileOTPVerificationTranslation(){return this.translate.get("mobileotpverification").pipe((0,o.T)(V=>V))}getEditReceiverNameTranslations(){return this.translate.get("namechange-edit").pipe((0,o.T)(V=>V))}getMfaVerificationTranslation(){return this.translate.get("mfa-otp-verification").pipe((0,o.T)(V=>V))}getVerificationTranslation(){return this.translate.get("verificationinstructions").pipe((0,o.T)(V=>V))}getVerificationOptionsTranslation(){return this.translate.get("verification-options").pipe((0,o.T)(V=>V))}getCollectIdConfirmTranslations(){return this.translate.get("confirm").pipe((0,o.T)(V=>V))}getPickUpCashAirTranslation(){return this.translate.get("pickupcashair").pipe((0,o.T)(V=>V))}getRemmitanceCertificateTranslation(){return this.translate.get("remittance-certificate").pipe((0,o.T)(V=>V))}static#e=this.\u0275fac=function(P){return new(P||W)(e.KVO(x.c$))};static#t=this.\u0275prov=e.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},1059:(n,d,t)=>{"use strict";t.d(d,{k:()=>x});var o=t(54438),e=t(85717);let x=(()=>{class ${constructor(K){this.route=K}getUrlParameterValue(K){let V;return this.route.queryParams?.subscribe(P=>{V=P[K]}),V}static#e=this.\u0275fac=function(V){return new(V||$)(o.KVO(e.nX))};static#t=this.\u0275prov=o.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},13450:(n,d,t)=>{"use strict";t.d(d,{K:()=>ee});var o=t(10467),e=t(64646),x=t(34781),$=t(69900),W=t(10707),K=t(67376),V=t(47058),P=t(66726),D=t(77202),f=t(21148),C=t(83053),A=t(93885),E=t(45286),N=t(90696),_=t(2420),M=t(39574),U=t(28279),w=t(49027),O=t(2788),G=t(54831),s=t(33659),a=t(94358),c=t(37102),r=t(61288),g=t(3902),p=t(1027),h=t(98010),l=t(37486),v=t(7605),S=t(78405),m=t(56294),b=t(56447),Y=t(87801),R=t(54438);let k=(()=>{class se{constructor(F,J,Q,ne,_e,pe,Ae,ve,Ie){this.smoConfig=F,this.updateStore=J,this.updateGetLimits=Q,this.feeInquiryService=ne,this.receiverService=_e,this.utilService=pe,this.sendMoneyValidationService=Ae,this.routingService=ve,this.sendMoneySandBoxService=Ie,this.destroyed$=new E.B7}updateTransactionDetailsInStore(F){this.updateReminderDetails(F),this.updateCorridor(F),this.callFeeInquiryAPI(F)}updateReminderDetails(F){const J=K.get(F,"reminderId",null);K.isEmpty(J)||this.updateStore.updateReminderId(J)}updateSenderInfo(F){const J=this.updateStore.getState(),Q=K.cloneDeep(K.get(J,"sender",{}));K.get(F,"sender.mobilePhone.phoneNumber")&&(Q.mobileNumber={},K.get(F,"sender.mobilePhone.phoneNumber.countryCode")&&(Q.contactPhoneCountryPrefix=F.sender.mobilePhone.phoneNumber.countryCode,Q.mobileNumber.countryCode=F.sender.mobilePhone.phoneNumber.countryCode),K.get(F,"sender.mobilePhone.phoneNumber.nationalNumber")&&(Q.contactPhone=F.sender.mobilePhone.phoneNumber.nationalNumber,Q.mobileNumber.mobileNumber=F.sender.mobilePhone.phoneNumber.nationalNumber),this.updateStore.updateSender(Q)),K.get(F,"sender.wallet")&&this.updateStore.updateSendMoneyValidationBody(F),K.get(F,"paymentDetails.creditDebitCard")&&this.updateStore.updateSenderCardDetails(F.paymentDetails.creditDebitCard)}updateReceiverDetails(F){const J=this.utilService.formatToCamelCase(F),Q=K.cloneDeep(K.get(J,"receiver",{})),ne=K.get(J,"sender.complianceDetails",null),_e=this.prepareReceiver(Q,ne);this.updateStore.updateSelectedReceiver(_e)}prepareReceiver(F,J){return F.mobilePhone&&(F.contactDetails=F.mobilePhone),F.uid&&(F.generalInformation=this.prepareReceiverInfo(F)),F.wallet&&(F.wallet=this.prepareReceiverWallet(F,J)),J&&(F.selfDeclaredQuestions=this.prepareReceiverCompliance(J)),F}prepareReceiverWallet(F,J){let Q={};const ne=K.get(F,"wallet.bankAccounts.bankAccount"),_e=K.get(F,"wallet.wuWallet");return ne&&ne.length>0?(Q=F.wallet,J&&J.transactionPurpose&&K.set(Q,"bankAccounts.bankAccount[0].reason",J.transactionPurpose)):_e&&(Q=this.utilService.formatToSnakeCase(F.wallet),J&&J.transactionPurpose&&K.set(Q,"wu_wallet.reason",J.transactionPurpose)),Q}prepareReceiverInfo(F){const J={};return F.id&&(J.id=F.id),F.uid&&(J.uid=F.uid),J}prepareReceiverCompliance(F){const J={};if(F.senderReceiverRelationship&&(J.relationshipToReceiver=F.senderReceiverRelationship),F.sourceOfFunds&&(J.sourceOfFunds=F.sourceOfFunds),F.transactionPurpose){J.purposeOfTransaction=F.transactionPurpose;const ne=K.get(this.receiverTemplate,"dataPurpose",[]).filter(function(_e){return _e.key===F.transactionPurpose});ne.length>0&&(J.purposeOfTransactionText=ne[0].value)}return J}callSendMoneyValidation(F){this.updateStore.updateUserJourney("sending_money");const J=this.updateStore.getState(),Q=K.get(F,"receiver.address.countryIsoCode",""),ne=this.smoConfig.getReceiverCurrencyList(Q),_e=K.get(F,"paymentDetails.destination.currencyIsoCode");F&&F.resend?this.receiverService.getReceiverTemplate().pipe((0,v.Q)(this.destroyed$)).subscribe(pe=>{if(pe&&pe.ctrTemplate)if(this.receiverTemplate=pe.ctrTemplate,this.updatePoT(),this.receiverTemplate&&this.sendMoneyValidationService.checkRequiredDetailsOfReceivers(F,this.receiverTemplate,J.senderAmount?J.senderAmount:"0"))this.routingService.navigateTOReceiver();else{const ve=K.get(F,"paymentDetails.paymentType");-1!==Y.K.PAYMENT_TYPE_CARD_OR_BANK.indexOf(ve)?this.sendMoneySandBoxService.IsPaymentTypeCardOrBank(ve).pipe((0,v.Q)(this.destroyed$)).subscribe(Ie=>{this.verifyPaymentDetailsAndNavigate(Ie,ve,F)}):this.callSMV(F)}else this.routingService.navigateTOSendmoneystart()}):ne&&ne.length>0&&K.map(ne,"currency").indexOf(_e)<0?this.routingService.navigateTOSendmoneystart():this.routingService.navigateTOReceiver()}verifyPaymentDetailsAndNavigate(F,J,Q){if(F&&!F.error)if(-1!==["DebitCard","CreditCard"].indexOf(J)){const ne=K.get(Q,"paymentDetails.creditDebitCard.paymentInstrumentId"),_e=K.find(F,function(pe){return pe.paymentInstrumentId===ne});K.isEmpty(_e)?this.routingService.navigateToPayment():this.callSMV(Q)}else{const ne=K.get(Q,"sender.wallet.bankAccounts.bankAccount[0].paymentInstrumentId"),_e=K.get(F,"gatewayCustomer.wallet.bankAccounts.bankAccount",[]),pe=K.find(_e,function(Ae){return Ae.paymentInstrumentId===ne});K.isEmpty(pe)?this.routingService.navigateToPayment():this.callSMV(Q)}else this.routingService.navigateToPayment()}callSMV(F){this.sendMoneyValidationService.sendMoneyValidation(F,"resend").pipe((0,v.Q)(this.destroyed$)).subscribe(J=>{sessionStorage.setItem("isFirstSMVCalled","true"),J&&!J.error?this.routingService.navigateToReview():J.error&&this.sendMoneySandBoxService.sendMoneyValidationErrorCallBack(J)})}updatePoT(){const F=this.updateStore.getState(),J=K.get(F,"selectedReceiver",null);if(J&&K.isEmpty(K.get(J,"selfDeclaredQuestions.purposeOfTransactionText",""))){const Q=K.get(this.receiverTemplate,"dataPurpose",[]),ne=K.get(J,"selfDeclaredQuestions.purposeOfTransaction"),_e=K.find(Q,function(pe){return pe.key===ne});!K.isEmpty(_e)&&K.get(J,"selfDeclaredQuestions")&&(J.selfDeclaredQuestions.purposeOfTransactionText=_e.value),this.updateStore.updateSelectedReceiver(J)}}updateCorridor(F){const J=this.smoConfig.countryCurrencyDefaults(),Q={receiverCountryDetails:{receiverCountryName:this.smoConfig._getCountryNameFromIsoCode(F.paymentDetails.destination.countryIsoCode,J),receiverCountryIsoCode:F.paymentDetails.destination.countryIsoCode,receiverCurrency:F.paymentDetails.destination.currencyIsoCode,receiverCurrencyArray:this.smoConfig.getReceiverCurrencyList(F.paymentDetails.destination.currencyIsoCode)}};if("Y"===K.get(F,"wuProduct.isDirected")&&K.get(F,"paymentDetails.expectedPayoutLocation")){const Ae=this.updateStore.getState();(Ae?Ae.corridor:{}).isDirected=!0,this.updateStore.updateIsDirectedCountry(!0);const Fe={stateIsoCode:"",stateName:"",cityName:""};Fe.cityName=F.paymentDetails.expectedPayoutLocation.city,Fe.stateName=F.paymentDetails.expectedPayoutLocation.stateName,Fe.stateIsoCode=F.paymentDetails.expectedPayoutLocation.stateCode,this.updateStore.updateReceiverCity(Fe)}const ne=this.smoConfig.getSenderCountry();this.updateStore.updateSenderCountry(ne),this.updateStore.updateReceiverCountry(Q);const _e=K.get(F,"paymentDetails.origination.principalAmount")?(F.paymentDetails.origination.principalAmount/100).toFixed(2):0,pe=K.get(F,"paymentDetails.destination.expectedPayoutAmount")?(F.paymentDetails.destination.expectedPayoutAmount/100).toFixed(2):0;this.updateStore.updateSenderAmount(_e),this.updateStore.updateReceiverAmount(pe)}updateSelectedProduct(F){const J=this.updateStore.getState(),Q=J?J.products:[],ne=K.get(F,"paymentDetails.paymentType","CreditCard"),_e=(new l.xv).codeName[K.get(F,"wuProduct.code","000")],pe=K.trim(K.get(F,"wuProduct.location",""));for(const Ae of Q)if(Ae.payOut===_e&&Ae.payIn===ne&&K.trim(K.get(Ae,"location",""))===pe){const ve=K.cloneDeep(Ae),Ie=K.get(ve,"origination.principalAmount")?(ve.origination.principalAmount/100).toFixed(2):null,Fe=K.get(ve,"destination.expectedPayoutAmount")?(ve.destination.expectedPayoutAmount/100).toFixed(2):null;this.updateStore.updateSenderAmount(Ie),this.updateStore.updateReceiverAmount(Fe),this.updateStore.updateSelectedProduct(ve);break}}callFeeInquiryAPI(F){const J=this,Q={srcCode:"SCH_TRANS",isFromSMLogin:!0,callBackFn:function(pe){pe&&!pe.error?J.prepareSMVRequest(F):J.routingService.navigateTOSendmoneystart()}},ne=this.updateStore.getState(),_e=ne?ne.corridor:{};K.get(_e,"receiverCity")&&K.get(_e,"receiverState")&&(Q.userSelectedCity={},Q.userSelectedCity.stateName=K.get(_e,"receiverState.name"),Q.userSelectedCity.cityName=K.get(_e,"receiverCity")),this.updateGetLimits.getLimitsMethod().pipe((0,v.Q)(this.destroyed$)).subscribe(pe=>{pe&&!pe.error?this.feeInquiryService.getFeeInquiryDetails(Q):this.routingService.navigateTOSendmoneystart()})}prepareSMVRequest(F){this.updateSelectedProduct(F),this.updateSenderInfo(F),this.updateReceiverDetails(F),this.callSendMoneyValidation(F)}static#e=this.\u0275fac=function(J){return new(J||se)(R.KVO(p.l),R.KVO(x.k),R.KVO(C.h),R.KVO(h.M),R.KVO(S.b),R.KVO(D.a),R.KVO(m.T),R.KVO(b.O),R.KVO(w._))};static#t=this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();var L=t(87465),y=t(68135),I=t(48070),T=t(50051),te=t(17742),Z=t(78863),de=t(95006),oe=t(83921),ae=t(14421),he=t(31457);let B=(()=>{class se{constructor(F,J){this.cloudRestService=F,this._store=J,this.API_METHOD="prices/qqcCatalog",this._store.pipe((0,e.Lt)(P.rb)).subscribe(Q=>{this.selectedProductStore=Q})}getQqcCatalog(F,J){const Q=this.getQqcCatalogBodyRequest(F);this.qqcCatalogBodyRequest=Q;const ne=this.getCloudHeaders(Q,J);return this.cloudRestService.POST(this.API_METHOD,Q,ne).pipe((0,de.T)(_e=>{if(sessionStorage.setItem("PriceQqcCatalogRes",JSON.stringify(_e)),_e&&_e.speeds&&_e.speeds.length>0){this.priceCatalogRes=_e;const pe=JSON.parse(JSON.stringify(_e)),Ae=this.convertQqcCatalogRespToFeeInqResp(pe);return sessionStorage.setItem("billPayFeeInquiryResponse",JSON.stringify(Ae)),this.updateProductsDetails(this.priceCatalogRes)}return this.updateErrorResponse(_e)}),(0,oe.W)(_e=>this.updateErrorResponse(_e)))}setPriceContextBySavedCard(){let J,F="";if("CreditCard"===this.selectedProductStore.payIn&&(J="CC"),("AG"===this.selectedProductStore.payIn||"Cash"===this.selectedProductStore.payIn)&&(J="CA"),this.priceCatalogRes&&this.priceCatalogRes.speeds)for(let Q=0;Q<this.priceCatalogRes.speeds.length;Q++)for(let ne=0;ne<this.priceCatalogRes.speeds[Q].pay_groups.length;ne++){const _e=this.priceCatalogRes.speeds[Q].pay_groups[ne];if(_e.fund_in===J){F=_e.pricing_context;break}}return F}getQqcCatalogBodyRequest(F){const J={header_request:{version:F.header_request&&F.header_request.version?F.header_request.version:"0.5",request_type:F.header_request&&F.header_request.request_type?F.header_request.request_type:"QQCPRICECATALOG",correlation_id:F.header_request.correlation_id,transaction_id:F.header_request.transaction_id},sender:{client:F.sender.client?F.sender.client:"WUCOM",channel:F.sender.channel?F.sender.channel:"WWEB",cty_iso2_ext:F.sender.cty_iso2_ext,curr_iso3:F.sender.curr_iso3,province_state:F.sender.province_state?F.sender.province_state:void 0,segment:F.sender.segment?F.sender.segment:void 0,funds_in:F.sender.funds_in,send_amount:F.sender.send_amount?F.sender.send_amount:void 0,air_requested:F.sender.air_requested?F.sender.air_requested:void 0,efl_type:F.sender.efl_type?F.sender.efl_type:void 0,efl_value:F.sender.efl_value?F.sender.efl_value:void 0,postal_code:F.sender.postal_code?F.sender.postal_code:void 0},receiver:{curr_iso3:F.receiver.curr_iso3,cty_iso2_ext:F.receiver.cty_iso2_ext,company_code:F.receiver.company_code,company_name:F.receiver.company_name,account_no:F.receiver.account_no,receive_amount:F.receiver.receive_amount?F.receiver.receive_amount:void 0}};return F&&F.visitor&&(F.visitor.customer_id||F.visitor.fingerprint_id)&&(J.visitor={customer_id:F.visitor.customer_id,fingerprint_id:F.visitor.fingerprint_id}),F&&F.enablePrincipalAmountModified&&(J.enablePrincipalAmountModified=F.enablePrincipalAmountModified),J}getCloudHeaders(F,J){const Q={};return J&&J.enableCorrelationTransactionIdHeaders&&(Q["X-WU-Correlation-ID"]=F.header_request.correlation_id,Q["X-WU-Transaction-ID"]=F.header_request.transaction_id),Q}updateProductsDetails(F){const J=[];for(let Q=0;Q<F.speeds.length;Q++){const ne=F.speeds[Q];ne.pay_groups.forEach(_e=>{const pe=this.mappingFunc(ne,_e,F.sender,F.receiver);J.push(pe)})}return this.getSortedProducts(J)}mappingFunc(F,J,Q,ne){this.convertPayInAmountsToLegacyResponse(J,Q,ne);const _e={code:"",name:"",payIn:null,payOut:null,deliverySpeed:null,minAmount:0,maxAmount:0,fees:0,destinationFees:0,exchangeRate:0,speedIndicator:""},pe=l.bw[J.fund_in];return _e.code=F.speed_of_delivery,_e.payIn=pe,_e.deliverySpeed=F.speed_of_delivery,_e.minAmount=J.min_amount,_e.maxAmount=J.max_amount,_e.exchangeRate=J.fx_rate,_e.pricingContext=J.pricing_context,_e.fees=J.gross_fee,_e.speedIndicator=J.speed_indicator?J.speed_indicator.toString():"0",_e.origination={principalAmount:J.send_amount,grossAmount:J.gross_amount,currencyIsoCode:Q.curr_iso3,countryIsoCode:Q.cty_iso2_ext},_e.destination={expectedPayoutAmount:J.receive_amount,currencyIsoCode:ne.curr_iso3,countryIsoCode:ne.cty_iso2_ext},_e}convertPayInAmountsToLegacyResponse(F,J,Q){F.send_amount=J.send_amount?(100*Number(J.send_amount)).toFixed():(100*Number(F.send_amount)).toFixed(),F.receive_amount=Q.receive_amount?(100*Number(Q.receive_amount)).toFixed():(100*Number(F.receive_amount)).toFixed(),F.fx_rate=1===Number(F.fx_rate)?"1.0000":F.fx_rate.toString(),F.gross_amount=(100*(Number(F.send_amount)/100+Number(F.gross_fee))).toFixed()}updateErrorResponse(F){let J;if(F&&F.response_status)J={error:{code:"",message:""}},J.error.code=F.response_status.code,J.error.message=F.response_status.message,typeof DTM_Trigger<"u"&&DTM_Trigger("DTM-ERROR-DIRECT-CALL",J.error.code);else if(F&&F.indexOf("Http failure")>-1)return J={error:{code:"0",message:F}},typeof DTM_Trigger<"u"&&DTM_Trigger("DTM-ERROR-DIRECT-CALL",J.error.code),(0,ae.of)(J);return J}getSortedProducts(F){const J=this;return F.sort((Q,ne)=>J.getDisplayOrder(Q.code)>J.getDisplayOrder(ne.code)?1:-1)}getDisplayOrder(F){let J;switch(F){case"000":J="0";break;case"100":J="2";break;case"200":J="3";break;case"300":J="1"}return J}convertQqcCatalogRespToFeeInqResp(F){const J={serviceOptions:{serviceOption:{WEB:{AG:{}}}}},Q=[];F.sender&&this.convertSenderAmountToLegacyResponse(F.sender);for(let ne=0;ne<F.speeds.length;ne++){const _e=F.speeds[ne].pay_groups;for(let pe=0;pe<_e.length;pe++){const Ae=this.convertRespToLegacy(F.speeds[ne].speed_of_delivery,_e[pe],F);Ae&&Q.push(Ae)}}return Q.length>0&&(J.serviceOptions.serviceOption.WEB.AG=Q),J.biller={account_no:this.qqcCatalogBodyRequest.receiver.account_no,code:this.qqcCatalogBodyRequest.receiver.company_code,company_name:this.qqcCatalogBodyRequest.receiver.company_name,country_iso_code:this.qqcCatalogBodyRequest.receiver.cty_iso2_ext,currency_iso_code:this.qqcCatalogBodyRequest.receiver.curr_iso3},F&&F.receiver&&F.receiver.company_code&&(J.biller.code=F&&F.receiver&&F.receiver.company_code),J}convertRespToLegacy(F,J,Q){return this.convertAmountToLegacyResponse(J),{channel:{type:"WEB",version:"9Z00"},wuProduct:{code:F,name:"BILL_PAYMENT",speedIndicator:J.speed_indicator?J.speed_indicator:"0",minDeliveryDays:"0",maxDeliveryDays:"0",pricingContext:J.pricing_context?J.pricing_context:"",tilesPriority:this.getDisplayOrder(F)},paymentDetails:{destination:{countryIsoCode:Q.receiver?Q.receiver.cty_iso2_ext:"",currencyIsoCode:Q.receiver?Q.receiver.curr_iso3:"",expectedPayoutAmount:Q.receiver&&Q.receiver.receive_amount?(100*Q.receiver.receive_amount).toFixed():J.receive_amount},displayExchangeRate:J.fx_rate,exchangeRate:J.fx_rate,fees:{accuracy:"EXACT",charges:J.gross_fee},fullExchangeRate:J.fx_rate,origination:{countryIsoCode:Q.sender.cty_iso2_ext,currencyIsoCode:Q.sender.curr_iso3,grossAmount:Q.sender.send_amount?(Number(Q.sender.send_amount)+Number(J.gross_fee)).toFixed():(Number(J.send_amount)+Number(J.gross_fee)).toFixed(),principalAmount:Q.sender.send_amount?Q.sender.send_amount:J.send_amount,principalAmountModified:"true"===Q.principalAmountModified?Q.principalAmountModified:"false"},paymentType:l.bw[J.fund_in]},additionalInfo:"",codeTextAdditionalInfo:[""]}}convertAmountToLegacyResponse(F){F.gross_fee=F.gross_fee?(100*Number(F.gross_fee)).toFixed():0,F.base_fee=F.base_fee?(100*Number(F.base_fee)).toFixed():0,F.fx_rate=1===Number(F.fx_rate)?"1.0000":F.fx_rate.toString(),F.receive_amount=F.receive_amount?(100*Number(F.receive_amount)).toFixed():0,F.send_amount=F.send_amount?(100*Number(F.send_amount)).toFixed():0}convertSenderAmountToLegacyResponse(F){F.send_amount=F.send_amount?(100*Number(F.send_amount)).toFixed():0}static#e=this.\u0275fac=function(J){return new(J||se)(R.KVO(he.p),R.KVO(e.il))};static#t=this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();var z=t(20146),ie=t(58652),re=t(16619),Ce=t(5365),X=t(61862),Ee=t(8117),De=t(85717),fe=t(1059),Ue=t(2490);let ee=(()=>{class se{constructor(F,J,Q,ne,_e,pe,Ae,ve,Ie,Fe,Ye,ze,Ne,Le,Re,Me,rt,Oe,Pe,Se,me,we,Be,je,it,qe,et,st,at,Xe,ut,dt,lt,_t,ot,mt,gt,pt){this.userService=F,this._store=J,this.router=Q,this.smoConfig=ne,this.swbtransaction=_e,this.instantTransferService=pe,this.updateStore=Ae,this.utilService=ve,this.urlParameterService=Ie,this.routingService=Fe,this.updateGetLimitsService=Ye,this.transactionDetailsService=ze,this.cancelTransactionService=Ne,this.trackTransferService=Le,this.sendMoneyService=Re,this.updateFeeInquiryService=Me,this.customerLookupService=rt,this.cookieService=Oe,this.historyService=Pe,this.validateTransactionInfoService=Se,this.dssService=me,this.scheduledTransferService=we,this.shakeHandsService=Be,this.receiverService=je,this.featureFlagService=it,this.sendMoneyValidationService=qe,this.hostedPartnerService=et,this.threeDSService=st,this.countryConfigService=at,this.urlService=Xe,this.priceQqcCatalogService=ut,this.updateStoreUsingActionService=dt,this.receiverApiService=lt,this.collectIdTemplateService=_t,this.baseRequestService=ot,this.listOptimusService=mt,this.globalComponentsProvider=gt,this._spinnerService=pt,this.bankLists=[],this.destroyed$=new E.B7,this._store.pipe((0,e.Lt)("app")).subscribe(Ve=>{this.storeResponse=Ve}),this._store.pipe((0,e.Lt)(P.w8)).subscribe(Ve=>{void 0!==this.senderStore&&void 0!==Ve&&(Ve=Object.assign(this.senderStore,Ve)),this.senderStore=Ve}),this._store.pipe((0,e.Lt)(P.Yr)).subscribe(Ve=>{this.userJourneyStore=Ve}),this._store.pipe((0,e.Lt)(P.rb)).subscribe(Ve=>{this.selectedProductStore=Ve,this.payInSelected=Ve?.payIn}),this._store.pipe((0,e.Lt)(P.mz)).subscribe(Ve=>{this.senderAmountStore=Ve}),this._store.pipe((0,e.Lt)(P.mA)).subscribe(Ve=>{this.corridorStore=Ve}),this._store.pipe((0,e.Lt)(P.vu)).subscribe(Ve=>{this.siteBehaviourStore=Ve}),this._store.pipe((0,e.Lt)(P.Tr)).subscribe(Ve=>{this.notifications=Ve}),this._store.pipe((0,e.Lt)(P.Oy)).subscribe(Ve=>{this.sessionFlags=Ve}),this._store.pipe((0,e.Lt)(P.W8)).subscribe(Ve=>{this.SDMTCN=Ve}),this._store.pipe((0,e.Lt)(P.T7)).subscribe(Ve=>{this.countryConfig=Ve}),this._store.pipe((0,e.Lt)(P.i),(0,v.Q)(this.destroyed$)).subscribe(Ve=>{this.isAvailableKYCOutSideHours=Ve}),this.countryCodeFromURL=this.urlService.getCountryFromURL()}loadSecurityQuestion(F,J){const Q={questionAnswer:[],securityQues:[],responseArray:["INTL","CUSTOM","DEFAULT"],status:!1};for(let ne=0;ne<Q.responseArray.length;ne++)if(F&&F.PROFILE_SECURITY_QUESTIONS&&F.PROFILE_SECURITY_QUESTIONS[Q.responseArray[ne]]){Q.status=!0;for(const _e in F.PROFILE_SECURITY_QUESTIONS[Q.responseArray[ne]])F.PROFILE_SECURITY_QUESTIONS[Q.responseArray[ne]].hasOwnProperty(_e)&&Q.securityQues.push({key:_e,value:F.PROFILE_SECURITY_QUESTIONS[Q.responseArray[ne]][_e]})}for(let ne=0;ne<J.gatewayCustomer.security.questionAnswers.length;ne++){"birthplace"===J.gatewayCustomer.security.questionAnswers[ne].question&&(J.gatewayCustomer.security.questionAnswers[ne].question="birthPlace");for(let _e=0;_e<Q.securityQues.length;_e++)if(Q.securityQues[_e].key===J.gatewayCustomer.security.questionAnswers[ne].question){if(Q.questionAnswer.push({key:Q.securityQues[_e].key,value:Q.securityQues[_e].value}),J.gatewayCustomer.security.questionAnswers[ne].hint&&/{{hint}}/gi.test(Q.questionAnswer[ne].value))if("B001"===Q.questionAnswer[ne].key||"B002"===Q.questionAnswer[ne].key){const pe=J.gatewayCustomer.security.questionAnswers[ne].hint.slice(-4);Q.questionAnswer[ne].value=Q.questionAnswer[ne].value.replace(/{{hint}}/gi,""+pe)}else Q.questionAnswer[ne].value=Q.questionAnswer[ne].value.replace(/{{hint}}/gi,""+J.gatewayCustomer.security.questionAnswers[ne].hint);break}}return Q}storeEmailValue(F,J){const Q=this.countryConfigService.getPhoneVerification();this.utilService.getURLParameter("email")?this.utilService.setCookieItem("User_Email",this.utilService.getURLParameter("email"),525600):F||Q&&this.utilService.getCookieItem("PhoneNumber")?this.utilService.setCookieItem("User_Email",J,525600):this.utilService.deleteCookieItem("User_Email")}isGuestFlowEnabled(){return!!(this.countryConfig&&this.countryConfig.ConfigTemplate&&this.countryConfig.ConfigTemplate.enableGuestLogin&&"TRUE"===this.countryConfig.ConfigTemplate.enableGuestLogin.toUpperCase())}getReferFriendToken(F){let J=null;const Q=this.utilService.getURLParameter("src"),ne=this.utilService.getURLParameter("utm_campaign"),pe=this.utilService.getURLParameter(F?"rc":"rsCode"),Ae=this.utilService.getURLParameter("status")&&""!==this.utilService.getURLParameter("status")?this.utilService.getURLParameter("status"):null;if((Q||ne)&&pe){const Ie=Q||ne;J="saasquatch"!==Ie&&"squatch"!==Ie||Ae?Ae:pe}return F?""!==pe?pe:null:J}handleRequestMoney(){this.userService.getTokenData().subscribe(F=>{F.error?(this.updateStoreUsingActionService.updatePageLevelNotification({errorMessage:F?.error?.message||"TOKEN EXPIRED",errorCode:F?.error?.code}),this.routingService.navigateTOSendmoneystart()):(sessionStorage.setItem("requestMoneyRes",JSON.stringify(F)),this.updateStore.updateFullfilmentDetails(F.data.json),this.routingService.navigateTOSendmoneystart())},F=>{console.error("getTokenData:",F)})}customerInitiateVerification(F){const J=sessionStorage.getItem("PathFromMessenger")&&K.includes(sessionStorage.getItem("PathFromMessenger"),"login"),Q=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}"),ne=K.get(Q,"preferredCustomer.accountNbr",null),_e=localStorage.getItem("custLookupProfile"),pe=_e?JSON.parse(_e):null;switch(this.utilService.isDOBPhoneLookupEnable()&&pe&&pe.UMN&&pe.type&&pe.Counter&&(pe.UMN===ne&&"Multifind"===pe.type&&pe.Counter<2?(localStorage.setItem("custLookupProfile",JSON.stringify({Counter:pe.Counter+1,UMN:pe.UMN,type:"Multifind"})),this.updateStore.updateUserJourney("lookup_flow")):localStorage.removeItem("custLookupProfile")),sessionStorage.setItem("DTM-LoginSuccessEvent","loggedIn"),F&&(this.shakeHandsService.startNavigation(),window.location.href=decodeURIComponent(encodeURIComponent(F))),this.userJourneyStore){case"request_money":this.handleRequestMoney();break;case"new_user":this.handleNewUserFlow();break;case"price-estimator":case"sending_money":case"bill-pay":case"inmate-pay":case"reload-options":this.redirectBasedOnValidation();break;case"settings":this.updateStore.updateUserJourney(""),this.pageNavigator("settings");break;case"profile":this.updateStore.updateUserJourney(""),this.pageNavigator("profile");break;case"my-receivers":this.updateStore.updateUserJourney(""),this.pageNavigator("my-receivers");break;case"receiver-redirect":this.routingService.navigateTORdVerifyTransfer();break;case"refer-friend":this.isUserFullNameEmpty()?this.updateStore.updateProfileModalDisplayFlag({clickedLink:"refer-friend",flag:!0}):(this.updateStore.updateProfileModalDisplayFlag({clickedLink:"refer-friend",flag:!1}),this.updateStore.updateUserJourney(""),this.routingService.navigateTOReferAFriend());break;case"rcx-refer-friend":this.isUserFullNameEmpty()?this.updateStore.updateProfileModalDisplayFlag({clickedLink:"refer-friend",flag:!0}):(this.updateStore.updateProfileModalDisplayFlag({clickedLink:"refer-friend",flag:!1}),this.updateStore.updateUserJourney(""),this.routingService.navigateTORcxReferFriend());break;case"receive-money":this.isUserFullNameEmpty()?this.updateStore.updateProfileModalDisplayFlag({clickedLink:"pickupcash",flag:!0}):(this.updateStore.updateUserJourney(""),this.updateStore.updateProfileModalDisplayFlag({clickedLink:"pickupcash",flag:!1}),this.routingService.navigateTOPickUpCash());break;case"RASD":this.handleRASD();break;case"SD":this.senderRedirectEnabled();break;case"manage-reminders":this.routingService.navigateTOManageReminders();break;case"mywusite":this.routingService.navigateToVulcanMyWu();break;case"wushop":this.routingService.navigateToWuShop();break;case"ding-topup":this.routingService.navigateToDingTopup();break;case"credit-builder":this.routingService.navigateToCreditBuilder();case"remittance-statement":this.routingService.navigateToRemittanceStatement();break;case"lookup_flow":const ve=this.updateStore.getState()?.dss2Details?.lookupResponse;ve&&1===ve.lookupResponseType&&!sessionStorage.getItem("isUserFromMyWuSiteLogin")?(localStorage.setItem("custLookupProfile",JSON.stringify({Counter:1,UMN:ne,type:"Multifind"})),this.routingService.navigateTOHistory()):ve&&0===ve?.lookupResponseType&&!sessionStorage.getItem("isUserFromMyWuSiteLogin")?(sessionStorage.setItem("custLookupProfile","newLookupProfile"),this.utilService.isIDDOBPhoneLookupEnable()?this.routingService.navigateTOSendmoneystart():this.routingService.navigateTOHistory()):pe?.UMN===ne&&"Multifind"===pe?.type&&pe?.Counter<=2&&!sessionStorage.getItem("isUserFromMyWuSiteLogin")?(this.updateStore.updateUserJourney(""),this.routingService.navigateTOHistory()):sessionStorage.getItem("isUserFromMyWuSiteLogin")?(sessionStorage.removeItem("isUserFromMyWuSiteLogin"),this.routingService.navigateToWuShop("login")):this.routingService.navigateTOSendmoneystart();break;case"mywusitelogin":this.updateStore.updateUserJourney(""),this.getLoyaltyCards(!0);break;case"mywusiteregister":this.getLoyaltyCards(!1);break;default:const Ie=this.utilService.getLoggedInStatus(),Fe=this.utilService.isVideoKYCEnabledForCountry();"true"===sessionStorage.getItem("offlineKyc")&&this.utilService.isMobileDevice()&&(this.isAvailableKYCOutSideHours=!1),Ie&&"true"===sessionStorage.getItem("offlineKyc")&&Fe&&!this.isAvailableKYCOutSideHours?this.utilService.handlingVideoOfflineKycFlow(Ie,Fe,this.isAvailableKYCOutSideHours):!Ie||"true"!==sessionStorage.getItem("offlineKyc")||Fe||this.isAvailableKYCOutSideHours?sessionStorage.getItem("IsMessengerWebview")&&!0===J||this.notifications&&0===this.notifications.loginHistoryPageCount&&!this.historyService.isResumeTransferFlowTokenPresent()?this.routingService.navigateTOSendmoneystart():this.countryCodeFromURL&&A.Y.NTMYWUSITES.indexOf(this.countryCodeFromURL.toUpperCase())>-1?this.routingService.navigateTOMywu():(this.updateStore.updateLazyLoaderSpinnerFlag(!0),this._spinnerService.startCall(),this.routingService.navigateTOHistory()):this.utilService.handlingEIDOfflineKycFlow(Ie,Fe,this.isAvailableKYCOutSideHours)}}showMultiProfileConsent(){const F=sessionStorage.getItem("userLoggedMail")?sessionStorage.getItem("userLoggedMail")?.toLowerCase():this.senderStore?.email?.toLowerCase(),J=this.utilService.getCookieItem("SkipMultiProfileConsent"),Q=J?JSON.parse(J):{};if(F&&Q[F]){if(new Date(Q[F]?.hideUntil)>new Date)return!1;delete Q[F],this.utilService.setCookieItem("SkipMultiProfileConsent",JSON.stringify(Q),null,null,365)}return!1}getLoyaltyCards(F){this.userService.getLoyalityCard().pipe((0,v.Q)(this.destroyed$)).subscribe(J=>{sessionStorage.setItem("resLoyalityCard",JSON.stringify(J)),this.routingService.navigateToWuShop(F?"login":"register")})}isUserFullNameEmpty(){const F=this.updateStore.getState(),J=this.getUserFullName(F.sender);return K.isEmpty(J)}getUserFullName(F){const J=F?.firstName||F?.givenName||"",Q=F?.middleName||F?.maternalName||"",ne=F?.lastName||F?.paternalName||"",_e=this.utilService.isNoLastNameValue(),pe=!!(ne&&this.utilService.isNoLastNameEnabled()&&_e&&ne?.toLowerCase()===_e?.toLowerCase());return Q?(J+" "+Q+" "+(pe?"":ne)).trim():(J+" "+(pe?"":ne)).trim()}handleNewUserFlow(){if(this.updateStore.updateUserJourney("sending_money"),A.Y.NTMYWUSITES.indexOf(this.countryCodeFromURL.toUpperCase())>-1)this.routingService.navigateTOMywu();else{if("IN"===this.countryCodeFromURL.toUpperCase())return void this.routingService.navigateTOCollectIdChoose();this.routingService.navigateTOSendmoneystart()}}redirectBasedOnValidation(){this.isEligibleTransact()?this.verificationStatusBasedNavigation():this.pageNavigator("history")}verificationStatusBasedNavigation(){const F=this.senderStore&&this.senderStore.verificationStatus;if("IN"!==this.countryCodeFromURL.toUpperCase()||-1===O.J.VER_INPROGRESS.indexOf(F))if("IN"!==this.countryCodeFromURL.toUpperCase()||"N"!==F){if("IN"!==this.countryCodeFromURL.toUpperCase()||"U"!==F)return F&&"U"===F?(this.pageNavigator("history"),!1):void("AR"!==this.countryCodeFromURL.toUpperCase()?"MW"!==this.payInSelected||!this.featureFlagService.isFeatureEnabled("MY_WALLET_SHOW_ONLY_VERIFIED_USER")||this.utilService.isAllowMYWalletFundsIn()?this.processCustomerVerification():this.routingService.navigateTOSendmoneystart():this.routingService.navigateTOReceiver());this.routingService.navigateTOCollectIdError()}else this.routingService.navigateTOCollectIdChoose();else this.routingService.navigateTOProfille()}getCustomerVerificationSource(){this.utilService.isPennyDropEnabled()&&(sessionStorage.removeItem("BanklistApiResponseForMobileWallet"),this.updateStore.updateWalletBankInfo(null)),this.utilService.getLoggedInStatus()&&this.featureFlagService.isFeatureEnabled("MY_WALLET_SHOW_ONLY_VERIFIED_USER")&&this.userService.getCustomerProfile().pipe((0,v.Q)(this.destroyed$)).subscribe(F=>{F&&F.gatewayCustomer&&F.gatewayCustomer.verificationSource&&!F.error&&(sessionStorage.setItem("customerVerificationSource",F.gatewayCustomer.verificationSource),sessionStorage.setItem("pennyDropTransaction","false"),sessionStorage.setItem("MYWalletDisabledMsg","false"))})}isSelfieKycEnabled(){const F=this.countryConfig&&this.countryConfig.ConfigTemplate&&this.countryConfig.ConfigTemplate.country?this.countryConfig.ConfigTemplate.country.toUpperCase():this.countryCodeFromURL.toUpperCase(),J=this.urlParameterService.getUrlParameterValue("enableSelfieKyc")||"",Q=this.smoConfig.getGlobalConfig("switches","countryListForSelfieKycEnabled"),ne=!!Q&&-1!==Q.indexOf(F),_e="true"===J||ne;return _e?sessionStorage.setItem("enableSelfieKyc","true"):sessionStorage.removeItem("enableSelfieKyc"),_e}isPostalPinVerificationInProgress(){const J=this.senderStore&&this.senderStore.customerVerificationStatus?this.senderStore.customerVerificationStatus.pinStatus:null,Q=K.includes(A.Y.verificationData.notVerified,this.senderStore&&this.senderStore.verificationStatus);return!(!K.includes(A.Y.verificationData.verificationInProgress,J)||Q||"JP"===this.countryCodeFromURL.toUpperCase()&&"0001"===this.senderStore.customerVerificationStatus.customerStatus)}storeSenderLoginInfo(F,J){this.updateStore.updateSender({email:F,password:J})}pageNavigator(F){"history"!==F?"profile"!==F?"settings"!==F?"my-receivers"!==F?"login"!==F?"forgot-password"!==F?this.router.navigate([F]):this.routingService.navigateToForgotPassword():this.routingService.navigateToLogin():this.routingService.navigateToMYReceiver():this.routingService.navigateTOSetting():this.routingService.navigateTOProfille():"BR"!==this.countryCodeFromURL.toUpperCase()&&this.senderStore&&this.senderStore.transactionHistory&&0!==this.senderStore.transactionHistory.length&&!this.storeResponse.enableNg6RxFlow?this.routingService.navigateTOHistory():this.routingService.navigateTOSendmoneystart()}getUserEligibility(){const F=this.storeResponse&&this.storeResponse.customerVerificationStatus?this.storeResponse.customerVerificationStatus:null,J=F&&null!==F?"object"==typeof F?F:JSON.parse(F):null;return J&&J.isEligibleToTransact?J.isEligibleToTransact:null}isEligibleTransact(){this._store.pipe((0,e.Lt)(P.w8)).subscribe(pe=>{this.senderStore=pe});const F=this.countryConfigService.isFMATransactInProgress(),J=!(!this.senderStore||-1===["R","I","P","M"].indexOf(this.senderStore.verificationStatus));let Q=F||!J;J&&this.corridorStore.senderCountry&&"NL"===this.corridorStore.senderCountry.isoCode&&(Q=!0);let ne=this.senderStore&&this.senderStore.customerVerificationStatus?this.senderStore.customerVerificationStatus.isEligibleToTransact:null;null===ne&&(ne=this.getUserEligibility());const _e=!!(ne&&ne.length>0&&"N"!==ne.toUpperCase());return Q=Q&&_e,Q}processCustomerVerification(){const F=this.updateStore.getState(),J=F&&F.customerVerificationStatus;if(J&&!J.error){let Q=!J.isEligibleToTransact||"Y"===J.isEligibleToTransact;if(J.sender&&J.sender.kyc_details&&(J.sender.kyc_details.pbv||J.sender.kyc_details.txm||J.sender.kyc_details.vwa||J.sender.kyc_details.csc||J.sender.kyc_details.sd)&&(Q=!1),this.isPostalPinVerificationInProgress())this.routingService.navigateTOPostalPin();else if("JP"===this.countryCodeFromURL.toUpperCase()&&"I"===J.identityVerificationStatus)return void this.routingService.navigateTOSendmoneystart();const ne=this.hostedPartnerService.getHostedPartnerName();if(!Q&&"googlespot"===ne?.toLowerCase()&&this.featureFlagService.isFeatureEnabled("GPAY_SKIP_HISTORY_NAVIGATION"))return void window.location.reload();if(!Q)return void this.routingService.navigateTOHistory();if("sending_money"===this.userJourneyStore||"price-estimator"===this.userJourneyStore)this.validateUserLimit();else if("new_user"===this.userJourneyStore)this.handleNewUserFlow();else if("bill-pay"===this.userJourneyStore)this.handleBillPayFlow();else{if("inmate-pay"===this.userJourneyStore)return this.shakeHandsService.startNavigation(),void this.routingService.navigateTOSendinmatestart();if("reload-options"===this.userJourneyStore)return void this.routingService.navigateToMobileReload();if("ding-topup"===this.userJourneyStore)return void this.routingService.navigateToDingTopup()}}}getSendersStateCode(){let F;return"US"===this.corridorStore.senderCountry.isoCode&&(F=this.storeResponse.sender&&this.storeResponse.sender.address?this.storeResponse.sender.address.state:"CA"),F}getQqcCatalogRequestBody(){if(this.corridorStore&&this.corridorStore.receiverCountry&&this.corridorStore.receiverCountry.isoCode&&this.corridorStore.receiverCurrency&&this.storeResponse&&this.storeResponse.selectedBiller&&this.storeResponse.selectedBiller.code&&this.storeResponse.selectedBiller.companyName&&this.storeResponse.selectedBiller.accountNumber){const F={header_request:{version:"0.5",correlation_id:this.storeResponse.sessionId,transaction_id:this.storeResponse.sessionId+"-"+(new Date).getTime()},sender:{client:"WUCOM",channel:"WWEB",cty_iso2_ext:this.corridorStore.senderCountry.isoCode,curr_iso3:this.corridorStore.senderCurrency,segment:"USC",funds_in:"*",send_amount:this.storeResponse.senderAmount,province_state:this.getSendersStateCode(),air_requested:this.countryConfigService.isNewBillPayRetailEnabled()&&this.featureFlagService.isFeatureEnabled("RETAIL_BILL_PAY")?"Y":"N",efl_type:this.storeResponse.efl.address.state?"STATE":void 0,efl_value:this.storeResponse.efl.address.state,postal_code:this.storeResponse.efl.address.postal_code},receiver:{cty_iso2_ext:this.corridorStore.receiverCountry.isoCode,curr_iso3:this.corridorStore.receiverCurrency,company_code:this.storeResponse.selectedBiller.code,company_name:this.storeResponse.selectedBiller.companyName,account_no:this.storeResponse.selectedBiller.accountNumber}},J=this.utilService.getFingerPrintFromSession();return(K.get(this.storeResponse,"sender.myWuNumber")||J)&&(F.visitor={customer_id:this.storeResponse.sender.myWuNumber,fingerprint_id:J}),K.get(this.storeResponse,"selectedBiller.countryIsoCode")&&"US"!==K.get(this.storeResponse,"selectedBiller.countryIsoCode")&&this.storeResponse.receiverAmount&&(delete F.sender.send_amount,F.receiver.receive_amount=this.storeResponse.receiverAmount),this.featureFlagService.isFeatureEnabled("ENABLE_PAYKII_MEXICO_BILLER")&&(F.enablePrincipalAmountModified=!0),F}return!1}handleRetailBillPayTxn(){const F=this.getQqcCatalogRequestBody();this.isProgressiveRegister=this.utilService.progressiveRegisteredCustomer(),F?this.isProgressiveRegister?this.priceQqcCatalogService.getQqcCatalog(this.getQqcCatalogRequestBody()).subscribe(J=>{J&&!J.error&&(this.selectedProductStore.pricingContext=this.priceQqcCatalogService.setPriceContextBySavedCard(),this.updateStoreUsingActionService.updateSelectedProduct(this.selectedProductStore),this.routingService.completeYourProfile())}):this.priceQqcCatalogService.getQqcCatalog(this.getQqcCatalogRequestBody()).subscribe(J=>{J&&!J.error&&(this.selectedProductStore.pricingContext=this.priceQqcCatalogService.setPriceContextBySavedCard(),this.updateStoreUsingActionService.updateSelectedProduct(this.selectedProductStore),this.callBillPaySMV())}):(this.shakeHandsService.startNavigation(),this.routingService.navigateToBillPayStartFromHistory())}handleDigitalBillPayTxn(){this.getQqcCatalogRequestBody()?this.priceQqcCatalogService.getQqcCatalog(this.getQqcCatalogRequestBody()).subscribe(J=>{J&&!J.error&&(this.selectedProductStore.pricingContext=this.priceQqcCatalogService.setPriceContextBySavedCard(),this.updateStoreUsingActionService.updateSelectedProduct(this.selectedProductStore),this.router.navigateByUrl("/payment"))}):(this.shakeHandsService.startNavigation(),this.routingService.navigateToBillPayStartFromHistory())}handleBillPayFlow(){var F=this;return(0,o.A)(function*(){F.updateStore.getState()&&F.updateStore.getState().selectedBiller&&F.updateStore.getState().selectedBiller?F.receiverApiService.getReceivers(K.get(F.corridorStore,"receiverCountry.isoCode")).pipe((0,v.Q)(F.destroyed$)).subscribe(function(){var Q=(0,o.A)(function*(ne){ne&&!ne.error&&((yield F.isBillerExist(ne.billers))?F.selectedProductStore.payIn===l.mt.Cash?F.handleRetailBillPayTxn():F.handleDigitalBillPayTxn():F.receiverApiService.addBillerReceiver().pipe((0,v.Q)(F.destroyed$)).subscribe(pe=>{pe&&!pe.error&&(F.selectedProductStore.payIn===l.mt.Cash?F.handleRetailBillPayTxn():F.handleDigitalBillPayTxn())}))});return function(ne){return Q.apply(this,arguments)}}()):(F.shakeHandsService.startNavigation(),F.routingService.navigateToBillPayStartFromHistory())})()}callBillPaySMV(){var F=this;return(0,o.A)(function*(){const J={receiver:{address:{country_iso_code:K.get(F.updateStore.getState(),"selectedProduct.destination.countryIsoCode")}}},Q=yield F.sendMoneyValidationService.sendMoneyValidation(J).toPromise();Q&&!Q.error?F.routingService.navigateToReview():F.sendMoneyService.sendMoneyValidationErrorCallBack(Q.error)})()}isBillerExist(F){var J=this;return(0,o.A)(function*(){const Q=J.updateStore.getState()&&J.updateStore.getState().selectedBiller?J.updateStore.getState().selectedBiller:null,ne=K.has(F,"biller")?F.biller:F;if(ne){for(const _e of ne)if(Q.code===_e.code&&Q.accountNumber===_e.accountNo)return!0;return!1}return!1})()}validateUserLimit(){this.utilService.triggerReceivingCorridorChangeEvent({selectedCountryCode:K.get(this.corridorStore,"receiverCountry.isoCode"),selectedCountryName:K.get(this.corridorStore,"receiverCountry.name")}),this.updateGetLimitsService.getLimitsMethod().subscribe(F=>{if(F&&F.error)return this.router.navigateByUrl("send-money/start");const J=this.updateGetLimitsService.getAvailTxnLimits(!0);if(0!==this.senderAmountStore&&this.senderAmountStore>J)return this.router.navigateByUrl("send-money/start");this.cookieService.set("SMLoginViewToggle","true",void 0,"/"),"BR"!==this.smoConfig.getSenderCountry()?this.sessionFlags&&this.sessionFlags.triedToApplyPromo?this.router.navigateByUrl("/send-money/start"):this.redeemPromo():this.routingService.navigateTOReceiver()})}isDelightConfettiApplicable(){const F="true"!==sessionStorage.getItem("isConfettiPopupTriggered");return this.utilService.isDelightConfettiEnabled(this.selectedProductStore?.destination?.countryIsoCode)&&this.selectedProductStore?.strikeThrough?.fee_percentage>=10&&F&&(this.selectedProductStore?.payIn===l.mt.DebitCard||this.selectedProductStore?.payIn==l.mt.CreditCard)}redeemPromo(){const F=this,J=this.selectedProductStore,Q=this.senderStore&&this.senderStore.promoCode?this.senderStore.promoCode:this.storeResponse&&this.storeResponse.promoCode?this.storeResponse.promoCode:this.selectedProductStore&&this.selectedProductStore.promotion&&this.selectedProductStore.promotion.code?this.selectedProductStore.promotion.code:void 0;if(this.utilService.isCloudPricingEnabled()&&"sending_money"===this.userJourneyStore||this.utilService.isPriceEstimateEnabled()&&"price-estimator"===this.userJourneyStore){const ne={isFromSMLogin:!0,promoCode:Q,callBackFn:function(_e){const pe=F.checkPricingMismatch(J);if(_e&&!pe)if(F.utilService.fpxIdStatusCountryWithIdStatusR())F.router.navigateByUrl("/send-money/start");else if(F.utilService.isMYForeignWorker()&&!F.utilService.sendingToHomeCountry())F.router.navigateByUrl("/send-money/start");else if(F.utilService.isRealTimeACHviaTrustlyEnabled()&&F.instantTransferService.shouldNavigateToSMO(J.payOut,J.payIn))F.instantTransferService.isRedirectToSMOFromSMFlow.next(!1),F.routingService.navigateTOSendmoneystart();else{if(F.updateStore.updateLazyLoaderSpinnerFlag(!0),F._spinnerService.startCall(),F.utilService.isLeanRegRedirectionEnabled()&&F.isUserFullNameEmpty()&&F.utilService.getLeanRegRedirectionPayouts().indexOf(F.selectedProductStore.code)>-1)return void(F.utilService.isDelightConfettiApplicable()?F.isConfettiRequired("CYP"):F.routingService.completeYourProfile());F.utilService.isDelightConfettiApplicable()?F.isConfettiRequired("RECEIVER"):F.routingService.navigateTOReceiver()}else F.router.navigateByUrl("/send-money/start")}};return this.corridorStore.receiverCity&&this.corridorStore.receiverState&&this.corridorStore.receiverState.name&&(ne.userSelectedCity={cityName:this.corridorStore.receiverCity.toUpperCase(),stateName:this.corridorStore.receiverState.name.toUpperCase()}),void this.updateFeeInquiryService.getFeeInquiryDetails(ne)}this.senderStore.additionalPreferedAccountNumber?this.updateFeeInquiryService.getFeeInquiryDetails({isFromSMLogin:!0,promoCode:Q,callBackFn:function(_e){const pe=F.checkPricingMismatch(J);"price-estimator"===F.userJourneyStore?!0!==_e||pe||F.utilService.fpxIdStatusCountryWithIdStatusR()?F.router.navigateByUrl("/send-money/start"):F.routingService.navigateTOReceiver():_e&&_e[0]&&_e[0].error||_e[1]&&_e[1].error?F.router.navigateByUrl("/send-money/start"):(F.updateFeeInquiryService.updateFeeInquiryResponseToSessionStorage(_e),pe?F.routingService.navigateTOSendmoneystart():F.utilService.fpxIdStatusCountryWithIdStatusR()?F.router.navigateByUrl("/send-money/start"):F.routingService.navigateTOReceiver())}}):this.utilService.fpxIdStatusCountryWithIdStatusR()?this.router.navigateByUrl("/send-money/start"):this.routingService.navigateTOReceiver()}isConfettiRequired(F){try{const J="true"===sessionStorage.getItem("isConfettiPopupNeeded");this.utilService.isDelightConfettiApplicable()&&J&&(this.utilService.displayConfetti.next(!0),setTimeout(()=>{"CYP"===F?this.routingService.completeYourProfile():"RECEIVER"===F&&this.routingService.navigateTOReceiver(),sessionStorage.getItem("isConfettiPopupNeeded")&&sessionStorage.removeItem("isConfettiPopupNeeded")},6e3))}catch{}}checkPricingMismatch(F){let J=!1;const Q=this.selectedProductStore,ne=this.countryConfigService.isPromoPricingEnabled()&&Q&&F&&Number(Q.fees)!==Number(F.fees),_e=!!ne&&Number(Q.fees)<Number(F.fees),pe=this.countryConfigService.isPromoPricingEnabled()&&Q&&F&&Number(Q.exchangeRate)!==Number(F.exchangeRate);return(ne||pe)&&sessionStorage.setItem("pricingMismatch",JSON.stringify({isFeesMismatch:ne,isFxMismatch:pe,isBetterFees:_e,isBetterFx:!!pe&&Q.exchangeRate>F.exchangeRate})),(Q.payIn!==F.payIn||Q.payOut!==F.payOut)&&(J=!0,sessionStorage.getItem("pricingMismatch")&&sessionStorage.removeItem("pricingMismatch")),ne||pe||J}checkMobileFactor(F){return F?.find(Q=>"PHONE"===Q.type)}onSetMFAValue(F,J){return this.senderStore.mfaCheck&&(this.senderStore.mfaCheck.primaryFactor=F),J?.find(ne=>ne.type===F)}preCustomerSignOnSuccess(F){sessionStorage.setItem("getCustomerSignOnData",JSON.stringify(F)),this.utilService.isScvProxyEnabled()&&this.showMultiProfileConsent()&&(F?.gatewayCustomer?.nbrStatus===A.Y.customerProfileStatus.PRIMARY||F?.gatewayCustomer?.nbrStatus===A.Y.customerProfileStatus.SECONDARY)?(this._spinnerService.endCall(),this.routingService.navigateToMultiProfileFound()):this.nagivationAfterLoginPostScv(F)}nagivationAfterLoginPostScv(F){if(sessionStorage.setItem("sc_login_success","true"),sessionStorage.setItem("dtm_login_success","true"),this.utilService.setPrepaidToken(F),this.featureFlagService.isFeatureEnabled("THIRD_PARTY_DATASHARING_CONSENT")){const J=!!F?.gatewayCustomer?.showThirdPartyConsentPopup&&JSON.parse(F?.gatewayCustomer?.showThirdPartyConsentPopup);this.updateStoreUsingActionService.updateThirdPartyConsentPopupFlag(J),J&&"P"===F?.gatewayCustomer?.registrationStatus&&this.utilService.isThirdPartyConsentImplicit()&&this.updateCustomerProfileOnce()}this.customerSignOnSuccess()}customerSignOnSuccess(F){if("true"===sessionStorage.getItem("offlineKyc")&&this.getCallAvailableKYCOption(),"lbp"===this.userJourneyStore)return void this.userService.getCustomerVerificationStatus().subscribe(ne=>{if(ne){const _e=new G.Sz,pe=new G.On,Ae=this.senderStore.registrationStatus;if(pe.customer_number={key:"pcpNumber",value:this.senderStore.myWuNumber},"P"===Ae){const ve=new G.rO;ve.send_partial_customer_info_flag="Y",_e.options=ve}_e.key_lookup=pe,this.customerLookupService.getDocUploadLookup(_e,"",!1,"lbp").subscribe(ve=>{const Ie=this.userService.updateLookupStoresSender(ve);if(Ie&&Ie.error)this.senderStore.error=Ie.error,this.updateStore.updateSender(this.senderStore),this.router.navigateByUrl("/lbp/finish");else switch(this.senderStore.customerlookupdetails=void 0!==this.senderStore.customerlookupdetails?Object.assign(this.senderStore.customerlookupdetails,Ie.customerlookupdetails):Ie.customerlookupdetails,this.senderStore.registrationDetails=Ie.registrationDetails,this.updateStore.updateSender(this.senderStore),this.senderStore.customerlookupdetails.FSS_status.toUpperCase()){case"Y":case"N":this.router.navigateByUrl("/lbp/finish");break;case"P":this.senderStore.customerlookupdetails.docdetails?this.senderStore.customerlookupdetails.pd_status&&"P"===this.senderStore.customerlookupdetails.sd_status?this.router.navigateByUrl("/lbp/finish"):this.senderStore.customerlookupdetails.pd_status&&this.checkSDQDetails()?this.router.navigateByUrl("/lbp/doc-upload-verify"):this.router.navigateByUrl("/lbp/sdq"):this.router.navigateByUrl("/lbp/sdq");break;case"NONE":this.senderStore.customerlookupdetails.pd_status&&this.checkSDQDetails()?this.router.navigateByUrl("/lbp/doc-upload-verify"):this.router.navigateByUrl("/lbp/sdq");break;case"B":this.router.navigateByUrl("/lbp/sdq")}},ve=>{console.error(ve)})}},ne=>{console.error(ne)});if(this.senderStore&&this.senderStore.password&&this.userService.deletePasswordFromstore(),sessionStorage.removeItem("loginRequestBody"),this.senderStore&&this.storeResponse.isPPSProfile)return void this.router.navigate(["send-money/start"]);if(this.checkLimitPopupFlow())return;this.processVerification(F);const J=this.updateStore.getState(),Q=J&&J.abandonedCartToken;if(this.isAbandonCartTokenURL()&&Q)this.getAbandonTransactionDetails();else{if(this.isPaymentInstructionURL()){const ne={queryParams:{mtcn:this.urlParameterService.getUrlParameterValue(K.upperCase(r.v.MTCN))||this.urlParameterService.getUrlParameterValue(K.lowerCase(r.v.MTCN))}};return this.router.navigate(["account/payment-instructions"],ne)}this.isScheduledTransferURL()?this.getScheduledTransactionDetails():this.isRedirectedURL()?this.customerInitiateVerification(F):this.getTransactionAndLoyalityResponse(F)}}getCallAvailableKYCOption(){var F=this;return(0,o.A)(function*(){yield F.getAvailableKYCOptionResponse()})()}checkLimitPopupFlow(){return!!this.storeResponse.isLoginThroughKnowYourLimit&&(this.router.navigate(["send-money/start"]),!0)}updateCustomerProfileOnce(){this.userService.getCustomerProfile().pipe((0,v.Q)(this.destroyed$)).subscribe(F=>{F.error||this.userService.updateCustomerProfile(F.gatewayCustomer,"thirdPartyConsent",!0).pipe((0,v.Q)(this.destroyed$)).subscribe(J=>{J.error||this.updateStore.updateThirdPartyConsentPopupFlag(!1)})})}getAbandonTransactionDetails(){const F=[];F.push(this.userService.getLoyalityCard()),F.push(this.userService.getCustomerVerificationStatus()),(0,N.p)(F).subscribe(()=>{2===F.length&&this.handleAbandonTransactionFlow()})}handleAbandonTransactionFlow(){var F=this;return(0,o.A)(function*(){F.userService.getAbandonTransaction().subscribe(function(){var J=(0,o.A)(function*(Q){if(Q.error)F.checkTransactionDetails();else if(K.get(Q,"data.json")&&!F.historyService.isResumeTransferDispalyRulesInvalid(Q.data.json)){const ne=K.get(Q,"data.json.payment_details.payment_type"),_e=K.get(Q,"data.pageInfo")||K.get(Q,"data.page_info"),pe=K.get(Q,"data.json.payment_details.credit_debit_card.card_consent_flag"),Ae=K.get(Q,"data.json.payment_details.credit_debit_card.paymentInstrumentId"),ve="receiver"===_e||"Send Money | Receiver"===_e||"Send Money | Receiver Add Or Edit"===_e;if(sessionStorage.setItem("progressive_user_data",JSON.stringify(Q.data.json.sender)),["collectidconfirm","collectidcollect","collectidpep"].indexOf(_e)>-1){const Fe=F.updateStoreUsingActionService.getState().complianceWeb;Fe?.idDetails&&delete Fe.idDetails,F.updateStoreUsingActionService.updateComplianceWeb(Fe);try{const Ye=yield F.collectIdTemplateService.getGlobalCollectIdTemplate().toPromise();Ye.globalCollectIdCTRTemplate?.verificationOptions?.length>0&&sessionStorage.setItem("SelectedVerificationOption",JSON.stringify(Ye.globalCollectIdCTRTemplate.verificationOptions[0]))}catch{}}if("SoftDecline"===_e)return void F.resumeTransferSuccessCallBack(Q);if(-1===["DebitCard","CreditCard"].indexOf(ne)||pe||ve)if(-1!==["DebitCard","CreditCard"].indexOf(ne)&&pe&&"Y"===pe){let Fe=!1;F.sendMoneyService.IsPaymentTypeCardOrBank(ne).subscribe(Ye=>{for(let ze=0;ze<Ye.length;ze++)if(K.get(Ye[ze],"paymentInstrumentId")===Ae){Fe=!0;break}Fe||(Q.data.pageInfo="payment"),F.resumeTransferSuccessCallBack(Q)})}else F.resumeTransferSuccessCallBack(Q);else Q.data.pageInfo="payment",F.resumeTransferSuccessCallBack(Q)}else F.checkTransactionDetails()});return function(Q){return J.apply(this,arguments)}}())})()}getAndUpdateIdealBankDetails(F){const J=(new ie.J).setOrigination(this.smoConfig._getCountryIsoFromURL()).setLanguage(this.smoConfig.getLanguageFromURL()).setBashpath(this.baseRequestService.getBashPath()).setLists(Y.MG.IDEAL_BANK_LIST,"common").build().verifyJSONPayload();this.listOptimusService.invokeGenericFactory(Y.MG.IDEAL_BANK_LIST,J).pipe((0,v.Q)(this.destroyed$)).subscribe(Q=>{this.bankLists=this.objectToArray(Q[Y.MG.IDEAL_BANK_LIST].banklist),this.updateIdealBank(F)})}objectToArray(F){const J=Object.keys(F||{}).sort(),Q=[];for(let ne=0;J[ne];ne++)Q[ne]={key:J[ne],value:F[J[ne]]};return Q}updateIdealBank(F){const J=this.bankLists.filter(Q=>K.isEqual(Q.key,F));K.isEmpty(J)||this.updateStoreUsingActionService.updateIdealBankInfo({code:J[0].key,name:J[0].value})}checkForIdealTxn(F){console.warn("checkForIdealTxn: ===>",JSON.stringify(F,null,2));const J=K.get(F,"data.json.payment_details.payment_method.params.param[0].Value");K.isEqual(K.upperCase(K.get(F,"data.json.payment_details.payment_type","")),l.mt.IDEAL)&&(K.isEmpty(this.bankLists)?this.getAndUpdateIdealBankDetails(J):this.updateIdealBank(J))}resumeTransferSuccessCallBack(F){const J=this.smoConfig.countryCurrencyDefaults(),Q=this.smoConfig._getCountryNameFromIsoCode(F.data.json.payment_details.destination.country_iso_code,J);this.utilService.triggerReceivingCorridorChangeEvent({selectedCountryCode:F.data.json.payment_details.destination.country_iso_code,selectedCountryName:Q}),this.checkForIdealTxn(F),this.setAbandonTransactionDetails(F),this.callFeeInquiryAPI(F)}callFeeInquiryAPI(F){const J={isFromSMLogin:!0,callBackFn:_e=>{_e&&!_e.error&&this.storeUpdatedDetails(F)}},Q=this.updateStore.getState(),ne=Q?Q.corridor:{};K.get(ne,"receiverCity")&&K.get(ne,"receiverState")&&(J.userSelectedCity={},J.userSelectedCity.stateName=K.get(ne,"receiverState.name"),J.userSelectedCity.cityName=K.get(ne,"receiverCity")),this.updateFeeInquiryService.getFeeInquiryDetails(J)}storeUpdatedDetails(F){const J=this.updateStore.getState(),Q=J&&J.products;if(Q&&F){const ne=K.get(F,"data.json");for(const pe of Q)if(pe.payIn===K.get(ne,"payment_details.payment_type")&&pe.payOut===this.getFundsOut(K.get(ne,"wu_product"))){const Ae=K.cloneDeep(pe),ve=Ae.origination&&Ae.origination.principalAmount?(Ae.origination.principalAmount/100).toFixed(2):null,Ie=Ae.destination&&Ae.destination.expectedPayoutAmount?(Ae.destination.expectedPayoutAmount/100).toFixed(2):null;this.updateStore.updateSelectedProduct(Ae),this.updateStore.updateSenderAmount(ve),this.updateStore.updateReceiverAmount(Ie);break}const _e=ne&&ne.sender&&ne.sender.compliance_details?ne.sender.compliance_details:null;_e&&_e.transaction_purpose?this.receiverService.getReceiverTemplate().subscribe(pe=>{pe&&pe.ctrTemplate&&_e.transaction_purpose?(this.receiverCtrTemplate=pe.ctrTemplate,this.onResumeTransfer(F)):this.onResumeTransfer(F)},()=>{this.onResumeTransfer(F)}):this.onResumeTransfer(F)}}updateSelectedReceiver(F){const ne=this.prepareReceiverData(F.data.json&&F.data.json.receiver?F.data.json.receiver:null,F.data.json&&F.data.json.sender&&F.data.json.sender.compliance_details?F.data.json.sender.compliance_details:null);this.updateStore.updateSelectedReceiver(ne)}prepareReceiverData(F,J){const Q={};return F.name&&(Q.name=this.createReceiverName(F.name)),F.address&&(Q.address=this.createReceiverAddress(F.address)),F.mobile_phone&&(Q.mobilePhone=this.createReceiverMobilePhone(F.mobile_phone),this.createContactDetails(F.mobile_phone,Q)),F.wallet&&(Q.wallet=this.createReceiverWallet(F,J)),F.uid&&(Q.generalInformation=this.createReceiverInformation(F.uid),Q.uid=F.uid),F.id&&(Q.id=F.id),F.email&&(Q.email=F.email),J&&(Q.selfDeclaredQuestions=this.createReceiverCompliance(J)),Q}createReceiverMobilePhone(F){const J={};return K.get(F,"phone_number")&&(J.phoneNumber={},K.get(F,"phone_number.country_code")&&(J.phoneNumber.countryCode=F.phone_number.country_code),K.get(F,"phone_number.national_number")&&(J.phoneNumber.nationalNumber=F.phone_number.national_number)),J}createContactDetails(F,J){J.contactDetails={},K.get(F,"phone_number")&&(K.get(F,"phone_number.country_code")&&(J.contactDetails.countryCode=F.phone_number.country_code),K.get(F,"phone_number.national_number")&&(J.contactDetails.mobileNumber=F.phone_number.national_number))}createReceiverCompliance(F){const J={};if(F.sender_receiver_relationship&&(J.relationshipToReceiver=F.sender_receiver_relationship),F.source_of_funds&&(J.sourceOfFunds=F.source_of_funds),F.transaction_purpose){J.purposeOfTransaction=F.transaction_purpose;const ne=K.get(this.receiverCtrTemplate,"dataPurpose",[]).filter(function(_e){return _e.key===F.transaction_purpose});ne.length>0&&(J.purposeOfTransactionText=ne[0].value)}return J}createReceiverInformation(F,J){const Q={};return F&&(Q.uid=F),J&&(Q.id=J),Q}createReceiverName(F){const J={};return J.firstName=F.first_name,J.middleName=F.middle_name,J.lastName=F.last_name,J}createReceiverAddress(F){const J={};return F.addr_line1&&(J.addressLine1=F.addr_line1),F.addr_line2&&(J.addressLine2=F.addr_line2),F.postal_code&&(J.postalCode=F.postal_code),F.city&&(J.city=F.city),F.state&&(J.state=F.state),F.country_iso_code&&(J.countryIsoCode=F.country_iso_code),J}createReceiverWallet(F,J){const Q={};let _e={bankAccounts:{bankAccount:[]}};const pe=K.get(F,"wallet.bank_accounts.bank_account"),Ae=K.get(F,"wallet.wu_wallet"),ve=K.get(F,"wallet.wu_d2c");return pe&&pe.length>0?(pe[0].bank_code&&(Q.bankCode=pe[0].bank_code),pe[0].bank_name&&(Q.bankName=pe[0].bank_name),pe[0].account_number&&(Q.accountNumber=pe[0].account_number),pe[0].routing_number&&(Q.routingNumber=pe[0].routing_number),pe[0].upi_id&&(Q.upiId=pe[0].upi_id),pe[0].account_selected_type&&(Q.accountSelectedType=pe[0].account_selected_type),pe[0].sort_code&&(Q.sortCode=pe[0].sort_code),pe[0].branch_code&&(Q.branchCode=pe[0].branch_code),pe[0].swift_code&&(Q.swiftCode=pe[0].swift_code),pe[0].account_suffix&&(Q.accountSuffix=pe[0].account_suffix),pe[0].financial_id&&(Q.financialId=pe[0].financial_id),pe[0].bank_location&&(Q.bankLocation=pe[0].bank_location),pe[0].account_type&&(Q.accountType=pe[0].account_type),pe[0].currency&&(Q.currency=pe[0].currency),K.get(J,"transaction_purpose")&&(Q.reason=J.transaction_purpose),pe[0].address&&(Q.address=pe[0].address),_e.bankAccounts.bankAccount.push(Q)):Ae?(!K.get(Ae,"reason")&&K.get(J,"transaction_purpose")&&(Ae.reason=J.transaction_purpose),_e={wu_wallet:{...Ae}}):ve&&(_e={wu_d2c:{...ve}}),_e}checkPromoDiscountAndUpdateSelectedProduct(F){if(K.get(F,"data.json")){const J=F.data.json;if(this.updateSelectedReceiver(F),this.updateSelectedProduct(J),K.get(J,"payment_details.promotion.discount")){const Q={...this.selectedProductStore};Q.promotion={},Q.promotion.discount=K.get(J,"payment_details.promotion.discount")?this.utilService.getAmount(K.get(J,"payment_details.promotion.discount")):0,Q.promotion.code=K.get(J,"payment_details.promotion.code",null),this.updateStore.updateSelectedProduct(Q)}}}onResumeTransfer(F){const J=K.get(F,"data.json"),Q=K.get(J,"payment_details.payment_type"),ne=K.get(F,"data.pageInfo")||K.get(F,"data.page_info"),_e=K.get(J,"payment_details.credit_debit_card.card_number")&&"Y"===K.get(J,"payment_details.credit_debit_card.card_consent_flag")&&"receiver"!==ne&&"payment"!==ne&&ne!==A.Y.resumeTransferMappingRoutes.SoftDecline;this.checkPromoDiscountAndUpdateSelectedProduct(F),this.updateStore.updateUserJourney("sending_money"),this.updateStore.updateFromResumeTransfer(!0),_e&&(("CreditCard"===Q||"DebitCard"===Q)&&this.updateSelectedCard(J),this.routingService.navigateToPayment());const pe=this.updateStoreUsingActionService.getState().complianceWeb;switch(ne){case A.Y.resumeTransferMappingRoutes.receiver:this.routingService.navigateTOReceiver();break;case A.Y.resumeTransferMappingRoutes.payment:("CreditCard"===Q||"DebitCard"===Q)&&this.updateSelectedCard(J),this.routingService.navigateToPayment();break;case A.Y.resumeTransferMappingRoutes.completeyourprofile:("CreditCard"===Q||"DebitCard"===Q)&&this.updateSenderInformation(J),this.routingService.completeYourProfile();break;case A.Y.resumeTransferMappingRoutes.globalcollectid:case A.Y.resumeTransferMappingRoutes["id-details"]:J&&this.callResumeSmv(F);break;case A.Y.resumeTransferMappingRoutes.collectidconfirm:pe?.idDetails&&delete pe.idDetails,this.updateStoreUsingActionService.updateComplianceWeb(pe),("CreditCard"===Q||"DebitCard"===Q)&&this.updateSenderInformation(J),this.routingService.navigateTOCollectIdConfirm();break;case A.Y.resumeTransferMappingRoutes.collectidcollect:pe?.idDetails&&delete pe.idDetails,this.updateStoreUsingActionService.updateComplianceWeb(pe),("CreditCard"===Q||"DebitCard"===Q)&&this.updateSenderInformation(J),this.routingService.navigateTOCollectIdCollect();break;case A.Y.resumeTransferMappingRoutes.collectidpep:pe?.idDetails&&delete pe.idDetails,this.updateStoreUsingActionService.updateComplianceWeb(pe),("CreditCard"===Q||"DebitCard"===Q)&&this.updateSenderInformation(J),this.routingService.navigateTOCollectIdPep();break;case A.Y.resumeTransferMappingRoutes.collectidsdq:pe?.idDetails&&delete pe.idDetails,this.updateStoreUsingActionService.updateComplianceWeb(pe),("CreditCard"===Q||"DebitCard"===Q)&&this.updateSenderInformation(J),this.routingService.navigateTOCollectIdSdq();break;case A.Y.resumeTransferMappingRoutes.review:J&&this.callResumeSmv(F);break;case A.Y.resumeTransferMappingRoutes.pep:this.routingService.navigateTOCollectIdPep();break;case A.Y.resumeTransferMappingRoutes.idverification:"WUPay"===Q||"Sofort"===Q?this.routingService.navigateTOReceiver():this.routingService.navigateToPayment();break;case A.Y.resumeTransferMappingRoutes.SoftDecline:this.dataPrepareBeforePayInChange(F),this.routingService.navigateToPayInChange();break;default:this.updateStore.cleanStoreValue(),this.navigateToSendMoney()}}dataPrepareBeforePayInChange(F){const J=K.get(F,"data.json"),_e=this.prepareReceiverData(J&&J.receiver?J.receiver:null,null);this.updateStore.updateSelectedReceiver(_e),this.updateStore.updatePromoCode(J?.payment_details?.promotion),this.updateStore.updateToPayInChange(!0),this.utilService.isResumeTransferAltEnabled()&&this.updateStore.updateFromResumeTransfer(!1),this.updateSelectedCard(J),this.updateStore.updateSelectedBank(J?.sender?.wallet?.bank_accounts?.bank_account[0])}getPayInDetailsInCSSession(F,J){-1!==["ACH","iACH","Plaid","TK"].indexOf(F)?this.sendMoneyService.IsPaymentTypeCardOrBank(F).subscribe(()=>{this.callSendMoneyValidationAPI(J)}):this.callSendMoneyValidationAPI(J)}formatDetails(F){return Array.isArray(F)?F.map(J=>this.formatDetails(J)):null!==F&&F.constructor===Object?Object.keys(F).reduce((J,Q)=>({...J,[K.camelCase(Q)]:this.formatDetails(F[Q])}),{}):F}formatResumeTransferDetailForRequest(F){const J=K.cloneDeep(F.data.json),Q=this.formatDetails(J);return K.get(Q,"paymentDetails.customerName")||(Q.paymentDetails.customerName={firstName:K.get(this.senderStore,"firstName",null),middleName:K.get(this.senderStore,"middleName",null),lastName:K.get(this.senderStore,"lastName",null)}),"800"===K.get(Q,"wuProduct.code")&&K.get(Q,"receiver.wallet.wuWallet")&&(Q.receiver.wallet=J.receiver.wallet),K.get(Q,"sender.name")&&("CreditCard"===Q.paymentDetails.paymentType||"DebitCard"===Q.paymentDetails.paymentType)&&K.get(Q,"paymentDetails.creditDebitCard")&&(Q.paymentDetails.creditDebitCard.customerName=Q.sender.name,K.get(Q,"paymentDetails.creditDebitCard.cardConsentFlag")&&(Q.paymentDetails.creditDebitCard.card_consent_flag=Q.paymentDetails.creditDebitCard.cardConsentFlag,delete Q.paymentDetails.creditDebitCard.cardConsentFlag)),K.get(Q,"sender.complianceDetails")&&(Q.sender.compliance_details=J.sender.compliance_details,delete Q.sender.complianceDetails),K.get(Q,"paymentDetails.expectedPayoutLocation")&&(Q.paymentDetails.expected_payout_location=J.payment_details.expected_payout_location,delete Q.paymentDetails.expectedPayoutLocation),Q}callResumeSmv(F){const J=this.formatResumeTransferDetailForRequest(F),Q=J.paymentDetails.paymentType;J.resumeSmvCall=!0,"CreditCard"===Q||"DebitCard"===Q?this.cvvNotRequired(J)?this.callSendMoneyValidationAPI(J):this.routingService.navigateToPayment():this.getPayInDetailsInCSSession(Q,J)}cvvNotRequired(F){return!("Y"!==(K.get(F,"paymentDetails.creditDebitCard.card_consent_flag")||K.get(F,"paymentDetails.creditDebitCard.cardConsentFlag"))||!K.get(F,"paymentDetails.creditDebitCard.cvviiCode"))}callSMVAPI(F){const J=this.smoConfig.getSenderCountry()?this.smoConfig.getSenderCountry().senderIsoCode:"",Q=["AU","NZ"];this.sendMoneyValidationService.sendMoneyValidation(F,"resend").subscribe(ne=>{sessionStorage.setItem("isFirstSMVCalled","true"),ne&&!ne.error?this.routingService.navigateToReview():ne.error&&(this.updateStore.cleanReminderId(),"C1144"===ne.error.code?(sessionStorage.setItem("EUID_ERROR","C1144"),sessionStorage.setItem("CollectIdErrorRespCode","C1144"),Q.indexOf(J)>-1?this.utilService.isGBGKycEnabled()?this.router.navigate(["kyc/kyc-consent"]):this.routingService.navigateTOCollectIdChoose():this.routingService.navigateTOGlobalCollectid()):this.sendMoneyService.sendMoneyValidationErrorCallBack(ne))})}cardsPayinSMVFlow(F){const J=this.sendMoneyValidationService.getSMVRequest(F,"resend"),Q=K.get(J,"payment_details.credit_debit_card.card_type");this.threeDSService.checkSongbirdScript(J).then(()=>{const ne=this.updateStore.getState(),_e=ne&&ne.tdsJWT;K.get(_e,"cardinalInitCompleted")&&K.get(_e,"cardType")===Q?this.threeDSService.binDetection(J).subscribe(()=>{this.callSMVAPI(F)}):this.threeDSService.createJWT(Q).subscribe(Ae=>{this.utilService.isSybaseEnabled("/CreateJWT")&&(Ae=this.utilService.formatToCamelCase(Ae)),Ae&&Ae.token&&Ae.referenceId?(Ae.cardType=K.get(J,"payment_details.credit_debit_card.card_type"),this.updateStore.updateTDSJWT(Ae),this.sendMoneyValidationService.updateSMVRequestFor3DSv2(),this.threeDSService.initializeCardinal(Ae,J).subscribe(()=>{this.callSMVAPI(F)})):this.callSMVAPI(F)})})}callSendMoneyValidationAPI(F){!this.utilService.is3DSv2Enabled()||this.selectedProductStore.payIn!==l.mt.CreditCard&&this.selectedProductStore.payIn!==l.mt.DebitCard?this.callSMVAPI(F):this.cardsPayinSMVFlow(F)}navigateToSendMoney(){this.router.navigateByUrl("/send-money/start")}updateAbandonTransactionDetailsInStore(F){const J=F.data.json,Q=K.get(J,"payment_details.origination.principal_amount")?(J.payment_details.origination.principal_amount/100).toFixed(2):0,ne=K.get(J,"payment_details.destination.expected_payout_amount")?(J.payment_details.destination.expected_payout_amount/100).toFixed(2):0;this.updateSelectedProduct(J),this.updateCorridor(J);const _e=K.get(J,"sender.compliance_details");_e&&sessionStorage.setItem("ComplianceData",JSON.stringify(_e)),this.updateSenderInformation(J),this.updateStore.updateSenderAmount(Q),this.updateStore.updateReceiverAmount(ne)}updateSenderInformation(F){if(K.get(F,"sender.wallet")&&this.updateStore.updateSendMoneyValidationBody(F),K.get(F,"payment_details.credit_debit_card")){const J=F.payment_details.credit_debit_card,Q=new y.F;Q.address=this.getBillingAddress(J),Q.customerName=this.getCustomerName(J),Q.cardNumber=J.card_number,Q.cardType=J.card_type,Q.cvvii_code=J.cvvii_code,Q.expirationDate=J.expiration_date,Q.id=J.id,Q.paymentInstrumentId=J.paymentInstrumentId,Q.isCreditCardScanned=J.is_credit_card_scanned,Q.cardConsentFlag=J.card_consent_flag,this.updateStore.updateSenderCardDetails(Q)}}getCustomerName(F){const J=new I.gW;return K.get(F,"customer_name.first_name")&&(J.firstName=F.customer_name.first_name),K.get(F,"customer_name.middle_name")&&(J.middleName=F.customer_name.middle_name),K.get(F,"customer_name.last_name")&&(J.lastName=F.customer_name.last_name),J}getBillingAddress(F){const J=new I.pV;return K.get(F,"address.addr_line1")&&(J.addrLine1=F.address.addr_line1),K.get(F,"address.addr_line2")&&(J.addrLine2=F.address.addr_line2),K.get(F,"address.city")&&(J.city=F.address.city),K.get(F,"address.state")&&(J.state=F.address.state),K.get(F,"address.postal_code")&&(J.postalCode=F.address.postal_code),K.get(F,"address.country_iso_code")&&(J.countryIsoCode=F.address.country_iso_code),J}updateSelectedCard(F){if(K.get(F,"payment_details.credit_debit_card")){const J=F.payment_details.credit_debit_card,Q=new y.F;Q.address=this.getBillingAddress(J),Q.customerName=this.getCustomerName(J),Q.cardNumber=J.card_number,Q.cardType=J.card_type,Q.cvvii_code=J.cvvii_code,Q.expirationDate=J.expiration_date,Q.id=J.id,Q.paymentInstrumentId=J.paymentInstrumentId,Q.isCreditCardScanned=J.is_credit_card_scanned,Q.cardConsentFlag=J.card_consent_flag,this.updateStore.updateSelectedCard(Q)}}updateCorridor(F){const J=this.smoConfig.countryCurrencyDefaults(),ne={receiverCountryDetails:{receiverCountryName:this.smoConfig._getCountryNameFromIsoCode(F.payment_details.destination.country_iso_code,J),receiverCountryIsoCode:F.payment_details.destination.country_iso_code,receiverCurrency:F.payment_details.destination.currency_iso_code,receiverCurrencyArray:this.smoConfig.getReceiverCurrencyList(F.payment_details.destination.currency_iso_code)}};if("Y"===K.get(F,"wu_product.is_directed")||K.get(F,"payment_details.expected_payout_location")){this.updateStore.updateIsDirectedCountry(!0);const Ae={stateIsoCode:"",stateName:"",cityName:""};Ae.cityName=F.payment_details.expected_payout_location.city,Ae.stateName=F.payment_details.expected_payout_location.state_name,Ae.stateIsoCode=F.payment_details.expected_payout_location.state_code,this.updateStore.updateReceiverCity(Ae)}const _e=this.smoConfig.getSenderCountry();this.updateStore.updateSenderCountry(_e),this.updateStore.updateReceiverCountry(ne)}updateSelectedProduct(F){const J=this.updateStore.getState(),Q=J&&J.products;for(const ne of Q)if(ne.payIn===K.get(F,"payment_details.payment_type")&&ne.payOut===this.getFundsOut(K.get(F,"wu_product"))){K.get(F,"wu_product.location")&&(ne.location=K.get(F,"wu_product.location")),this.updateStore.updateSelectedProduct(ne);break}}setAbandonTransactionDetails(F){const J=K.get(F,"data.pageInfo")||K.get(F,"data.page_info"),Q=this.historyService.mapResumeTransferRoutes(J);F.data.pageInfo=Q,this.updateAbandonTransactionDetailsInStore(F)}getFundsOut(F){return(new l.xv).codeName[F.code]||F.name}isAbandonCartTokenURL(){return this.urlParameterService.getUrlParameterValue(r.v.SRC_CODE)===A.Y.ABANDONED_CART}isScheduledTransferURL(){return"SCH_TRANS"===this.urlParameterService.getUrlParameterValue(r.v.SRC_CODE)&&!K.isEmpty(this.urlParameterService.getUrlParameterValue(r.v.MTCN))}isPaymentInstructionURL(){return!("PYMT_INST"!==this.urlParameterService.getUrlParameterValue(r.v.SRC_CODE)||K.isEmpty(this.urlParameterService.getUrlParameterValue(K.upperCase(r.v.MTCN)))&&K.isEmpty(this.urlParameterService.getUrlParameterValue(K.lowerCase(r.v.MTCN))))}isRedirectedURL(){const F=this.urlParameterService.getUrlParameterValue(r.v.ROUTE),J="REDIRECT"===this.urlParameterService.getUrlParameterValue(r.v.ROUTETYPE)&&!K.isEmpty(F)&&!K.isEmpty(r.v[F]);return J&&this.updateStore.updateUserJourney(r.v[F]),J}getScheduledTransactionDetails(){const F=[];let J={};if("sending_money"!==this.userJourneyStore&&!this.sendMoneyService.isNewBillPayTransaction()){const ne={type:"t",accountId:this.urlParameterService.getUrlParameterValue(r.v.MTCN)};F.push(this.historyService.getTransactionsHistoryByMTCN(ne))}F.push(this.userService.getLoyalityCard()),F.push(this.userService.getCustomerVerificationStatus()),(0,N.p)(F).subscribe(Q=>{if(3===F.length){if(J=Q[0],!this.isEligibleTransact())return void this.routingService.navigateTOHistory();this.checkTxnStatus(J)?this.scheduledTransferService.updateTransactionDetailsInStore(J):this.routingService.navigateTOSendmoneystart()}})}checkTxnStatus(F){return!(!F||!F.statusCode)&&(A.Y.CONST_TRANSACTION_STATUS.IN_PROGRESS.indexOf(F.statusCode)>-1||A.Y.CONST_TRANSACTION_STATUS.AVAILABLE.indexOf(F.statusCode)>-1)}checkSDQDetails(){const F=this.senderStore.registrationDetails;return!!(F.countryOfBirth&&F.nationality&&F.placeOfBirth&&F.employmentPositionLevel&&F.occupation)}senderRedirectEnabled(){this.historyService.getTransactionsHistoryByMTCN({type:"t",accountId:this.SDMTCN}).subscribe(J=>{if(!J||J.error||J.transactionDetails)this.RASDErrorCallBack();else{const Q={transaction:J,redirectToBank:this.dssService.getRedirectToBank(J)};Q&&Q.redirectToBank&&this.trackTransferService.getTransactionInquiry(Q.transaction,!0,"SD").subscribe(ne=>{!ne||void 0===ne||ne.error||!ne.statusDetails||"Y"!==ne.statusDetails.isSenderRedirectable?.toUpperCase()&&"P"!==ne.statusDetails.isSenderRedirectable?.toUpperCase()?this.RASDErrorCallBack():(this.setRedirectTransactionData(Q),this.routingService.navigateToRedirectReceiver())})}})}getAvailableKYCOptionResponse(){var F=this;return(0,o.A)(function*(){if(sessionStorage.getItem("offlineKyc")&&F.utilService.isVideoKYCEnabledForCountry())return yield new Promise((Q,ne)=>{F.userService.getAvailableKYCOption().pipe((0,v.Q)(F.destroyed$)).subscribe(_e=>{!_e.error&&(_e.availableKYCOptions||_e.availableKycOptions)&&sessionStorage.setItem("availableKYCOption",JSON.stringify(_e)),Q(_e)},_e=>{console.error("getAvailableKYCOption:",_e),ne("")})})})()}setRedirectTransactionData(F){window.sessionStorage.setItem("redirectTransaction",JSON.stringify(F)),window.sessionStorage.setItem("senderRedirect","true"),window.sessionStorage.removeItem("flowType")}getTransactionAndLoyalityResponse(F){this.getCustomerVerificationSource();const J=[];let Q={};if("sending_money"!==this.userJourneyStore&&!this.sendMoneyService.isNewBillPayTransaction()||"sending_money"===this.userJourneyStore&&this.featureFlagService.isFeatureEnabled("MY_WALLET_SHOW_ONLY_VERIFIED_USER")||this.featureFlagService.isFeatureEnabled("SM_LOGIN_FLOW_HISTORY_CALL")){const ne={pageNumber:1,pageSize:10};this.senderStore&&this.senderStore.myWuNumber&&(ne.accountId=this.senderStore.myWuNumber),J.push(this.historyService.getTransactionsHistory(ne))}J.push(this.userService.getLoyalityCard()),J.push(this.userService.getCustomerVerificationStatus()),(0,N.p)(J).subscribe(ne=>{if(3===J.length){const _e=this.notifications;_e.loginHistoryPageCount=1,Q=ne[0],Q&&(Q.transactions&&Q.transactions.transaction&&0===Q.transactions.transaction.length||Q.transactionDetails&&0===Object.keys(Q.transactionDetails).length)&&(_e.loginHistoryPageCount=0),this.updateStore.updateNotifications(_e)}if(this.featureFlagService.isFeatureEnabled("DISABLE_HEADER_MENU_ITEM")&&K.includes(A.Y.idvvSCVError,this.senderStore.customerVerificationStatus.identityFlag))this.utilService.verificationScreenHandlerSCV();else if((this.utilService.isIDExpired()||this.utilService.isReacredPostDue())&&sessionStorage.setItem("ABRDisplayPopup","true"),!this.utilService.isSDQRequired()||this.utilService.isIDExpired()||this.utilService.isReacredDue()||!K.includes(A.Y.verificationData.verified,this.senderStore?.customerVerificationStatus?.identityFlag))if(!this.utilService.isNonTransactionalEkycEnbaled()||K.includes(A.Y.verificationData.verified,this.senderStore.customerVerificationStatus.identityFlag)||this.utilService.isIDExpired()||this.utilService.isReacredDue())if(this.utilService.isAccountBasedRelationshipEnabled()&&"sending_money"===this.userJourneyStore&&(this.utilService.isIDExpired()||this.utilService.isReacredPostDue()))this.routingService.navigateTOSendmoneystart();else if(this.utilService.isMobileWalletPayInEnabled()&&!this.utilService.isAllowMYWalletFundsIn()&&"sending_money"===this.userJourneyStore&&"MW"===this.payInSelected&&(sessionStorage.setItem("pennyDropTransaction","true"),this.routingService.navigateTOSendmoneystart()),this.utilService.isScvProxyEnabled()&&!0===this.senderStore?.isLoggedIn&&this.senderStore?.nbrStatus===A.Y.customerProfileStatus.LEGACY&&"F"===this.senderStore?.registrationStatus)this.routingService.completeYourProfile();else{if(this.utilService.isMobileWalletPayInEnabled()&&this.utilService.isAllowMYWalletFundsIn()&&"sending_money"===this.userJourneyStore&&"MW"===this.payInSelected&&"false"===sessionStorage.getItem("MYWalletDisabledMsg")&&this.routingService.navigateTOReceiver(),this.sessionFlags&&this.sessionFlags.digitalCancelFlow&&this.sessionFlags.digitalCancelFromTAT)this.processTATCancelTransfer(Q);else if(this.sessionFlags&&this.sessionFlags.digitalNameChangeFlow&&this.sessionFlags.digitalNameChangeFromTAT)this.processTATNameChange();else{const _e=this.utilService.getUrlVars();if("RA"===_e.src&&_e.token&&(this.updateStore.updateUserJourney("RASD"),this.updateStore.updateRequestMoneyToken(_e.token)),"true"===sessionStorage.getItem("SDFlow")||"SD"===_e.src){let pe="";(sessionStorage.getItem("currentMTCN")||_e.mtcn)&&(pe=sessionStorage.getItem("currentMTCN")?sessionStorage.getItem("currentMTCN"):_e.mtcn,this.updateStore.updateUserJourney("SD"),this.updateStore.updateSDMTCN(pe))}this.senderStore&&this.senderStore.isSWBProfile&&"sending_money"===this.userJourneyStore&&this.swbtransaction.checkSWBErrors()&&this.routingService.navigateTOSendmoneystart(),this.customerInitiateVerification(F)}if("sending_money"===this.userJourneyStore){const _e=ne[1],pe=this.selectedProductStore;this.utilService.isRealTimeACHviaTrustlyEnabled()&&this.instantTransferService.shouldNavigateToSMO(pe.payOut,pe.payIn)&&!K.get(_e,"wACH")&&this.instantTransferService.isRedirectToSMOFromSMFlow.next(!0)}}else this.utilService.verificationScreenHandler();else this.routingService.navigateToOnboarding()})}processVerification(F){const J=this.senderStore?.verificationStatus,Q=K.includes(A.Y.verificationData.notVerified,J),ne=K.includes(A.Y.verificationData.verificationInProgress,J),_e=K.includes(A.Y.verificationData.underInvestigation,J);F&&(this.shakeHandsService.startNavigation(),window.location.href=decodeURIComponent(encodeURIComponent(F)));const pe=this.countryConfigService.getUnverifiedSmoLookupOnly();"IN"===this.countryCodeFromURL&&ne&&this.routingService.navigateTOProfille(),"IN"===this.countryCodeFromURL&&Q&&this.routingService.navigateTOCollectIdChoose(),"sending_money"===this.userJourneyStore&&Q&&pe&&this.routingService.navigateTOSendmoneystart(),"IN"===this.countryCodeFromURL&&_e&&this.routingService.navigateTOCollectIdError(),"sending_money"!==this.userJourneyStore&&this.updateEflObject()}updateEflObject(){const F={address:{country_iso_code:this.senderStore?.address?.countryIsoCode,city:this.senderStore?.address?.city,addr_line1:this.senderStore?.address?.addressLine1}};this.senderStore?.address?.state&&(F.address.state=this.senderStore?.address?.state),this.senderStore?.address?.zipCode&&(F.address.postal_code=this.senderStore?.address?.zipCode),this.updateStore.updateEfl(F)}checkTransactionDetails(){const F={pageNumber:1,pageSize:10};this.senderStore&&this.senderStore.myWuNumber&&(F.accountId=this.senderStore.myWuNumber),this.historyService.getTransactionsHistory(F).subscribe(J=>{J&&J.transactionDetails&&0===Object.keys(J.transactionDetails).length?this.routingService.navigateTOSendmoneystart():this.routingService.navigateTOHistory()})}processTATCancelTransfer(F){F={transactions:{transaction:F}},this.cancelTransactionService.getCancelCode().subscribe(J=>{J?J&&J.error||this.getCancelCodeSuccess(J,F.transactions):this.routingService.navigateTOGlobalTrackTransfer()},J=>this.routingService.navigateTOGlobalTrackTransfer())}getCancelCodeSuccess(F,J){if(!F.error&&(null!==F||void 0!==F)){F.error||F.database&&F.database.records&&sessionStorage.setItem("DBSecurityQuestions",JSON.stringify(F.database.records.record));const Q=JSON.parse(sessionStorage.getItem("TransactionInquiryResponse")||"");let ne=!1;Q&&Q.statusDetails&&"Y"===Q.statusDetails.cancel_indicator&&(ne=!0),this.countryConfigService.isCancelTransaction()?this.cancelPendingTransaction("RNE",F,J):ne&&!this.countryConfigService.isCancelTransaction()?this.cancelPendingTransaction("OTH",F,J):this.routingService.navigateTORetailCancelCode()}}cancelPendingTransaction(F,J,Q){const ne={transactionTypeRetail:this.sessionFlags.retailCancelRetailRedirect,transactionTypeDigital:this.sessionFlags.retailCancelDigitalRedirect,digitalCancelFlow:this.sessionFlags.digitalCancelFlow,transaction_status:this.sessionFlags.transactionStatus,token:this.sessionFlags.token_pin,reason_code:F},_e=this.transactionDetailsService.matchTransactionDetail(sessionStorage.getItem("currentMTCN"),Q);sessionStorage.setItem("transactionDetailData",JSON.stringify(_e)),this.cancelTransactionService.getCancelValidate(ne).subscribe(pe=>{!pe||pe.error||this.cancelPendingTransactionSuccess(pe,F,Q)})}cancelPendingTransactionSuccess(F,J,Q){if("Success"===F.cancel_status){if(sessionStorage.setItem("cancelValidateResponse_Obj",JSON.stringify(F)),F&&"RNE"===J&&sessionStorage.setItem("reasonOneData",JSON.stringify(F)),"CAN"===sessionStorage.getItem("ivrflow"))if(F.transaction_id&&16===F.transaction_id?.length){const ne=F.transaction_id.substr(F.transaction_id.length-10),_e=this.transactionDetailsService.matchTransactionDetail(ne,Q);sessionStorage.setItem("transactionDetailData",JSON.stringify(_e))}else{let ne=sessionStorage.getItem("currentMTCN");if(ne=this.utilService.isEmpty(ne)||""==ne?"":ne,ne){const _e=this.transactionDetailsService.matchTransactionDetail(ne,Q);sessionStorage.setItem("transactionDetailData",JSON.stringify(_e))}else this.routingService.navigateTOGlobalTrackTransfer()}sessionStorage.setItem("reasonCode_obj","RNE"),sessionStorage.setItem("cancelValidateResponse_Obj",JSON.stringify(F)),this.setCancelPageType(F),sessionStorage.setItem("isCancelReviewPage","true"),this.utilService.isNoQuestionsAskedEnabled()?(this.updateStore.updateSessionFlags({...this.sessionFlags,displayNQAPopup:!0}),this.routingService.navigateToTransferSuccess()):this.routingService.navigateTOCancelReview()}}setCancelPageType(F){F.refund_details&&F.paymentDetails&&F.refund_details.refund_amount===F.paymentDetails.origination.grossAmount?sessionStorage.setItem("CancelReviewPageType","canceltxn-submit-fr"):sessionStorage.setItem("CancelReviewPageType","canceltxn-submit-pr")}processTATNameChange(){const F=this.sessionFlags.nameChangeDigitalRedirect;if(F||this.sessionFlags.retailCancelDigitalRedirect){const Q=JSON.parse(sessionStorage.getItem("tatNameChange_Obj")||"{}");this.trackTransferService.getTransactionInquiry(Q,this.senderStore.isLoggedIn).subscribe(ne=>{if((!ne||!ne.error)&&F){const _e=this.getEditName(ne,Q);sessionStorage.setItem("NameChange_Obj",JSON.stringify(_e)),sessionStorage.setItem("NameChangeOriginal_Obj",JSON.stringify(_e)),this.routingService.navigateToNameEditPage()}},ne=>{this.routingService.navigateTOHistory()})}}getEditName(F,J){const Q={firstName:"",middleName:"",lastName:"",maternalName:"",paternalName:"",transactionStatus:F.transactionStatus,mtcn:J.trackingNumber};return F.receiver&&F.receiver.name&&(F.receiver.name.firstName||F.receiver.name.middleName?(Q.firstName=F.receiver.name.firstName?this.toTitleCase(F.receiver.name.firstName):F.receiver.name.firstName,Q.middleName=F.receiver.name.middleName?this.toTitleCase(F.receiver.name.middleName):F.receiver.name.middleName,Q.lastName=F.receiver.name.lastName?this.toTitleCase(F.receiver.name.lastName):F.receiver.name.lastName):(F.receiver.name.maternalName||F.receiver.name.paternalName)&&(Q.firstName=F.receiver.name.givenName?this.toTitleCase(F.receiver.name.givenName):F.receiver.name.givenName,Q.maternalName=F.receiver.name.maternalName?this.toTitleCase(F.receiver.name.maternalName):F.receiver.name.maternalName,Q.paternalName=F.receiver.name.paternalName?this.toTitleCase(F.receiver.name.paternalName):F.receiver.name.paternalName)),Q}toTitleCase(F){return F.replace(/\w\S*/g,function(J){return J.charAt(0).toUpperCase()+J.substr(1).toLowerCase()})}handleRASD(){this.userService.getTokenData().subscribe(F=>{F.error?this.RASDErrorCallBack():this.prepareEligibility(F)},F=>{console.error("getTokenData:",F)})}prepareEligibility(F){const J=K.get(F,"data.json",{}),Q=K.get(this.senderStore,"isLoggedIn",!1),ne=this.trackTransferService.getTransactionInquiry(J,Q,"RASD"),_e=this.historyService.getTransactionDetailsRASD(J.mtcn);(0,N.p)([ne,_e]).subscribe(pe=>{const[Ae,ve]=[pe[0],pe[1]],Ie=this.createTransactionModel(ve),Fe=this.dssService.getRedirectToBank(Ie);if(Ae.error||ve.error||!Fe)return this.RASDErrorCallBack();this.validateEligibility(ve,F,Ie)},pe=>{console.error("prepareEligibility:",pe)})}validateEligibility(F,J,Q){this.validateTransactionInfoService.validateTransactionInfo(F).subscribe(ne=>{if("true"===ne.isEligible){sessionStorage.setItem("redirectTransaction",JSON.stringify(this.createRedirectTransaction(Q,J))),sessionStorage.setItem("senderRedirect","true"),sessionStorage.setItem("flowType","RASD");const _e=this.utilService.getURLParameter("t");return _e&&"autoemail"===_e&&sessionStorage.setItem("fraudPopUp","true"),this.routingService.navigateToRedirectReceiver()}this.RASDErrorCallBack()},ne=>{console.error("ValidateTransactionInfo:",ne)})}createTransactionModel(F){return F&&F.transactions&&F.transactions.transaction&&this.historyService.createTransactionModel(F.transactions.transaction,"/GetTransactionDetails")[0]||{}}createRedirectTransaction(F,J){return{transaction:F,receiverBankDetails:J}}RASDErrorCallBack(){this.updateStore.updateSessionFlags({...this.sessionFlags,isRASDEligible:!1}),this.routingService.navigateTOHistory()}static#e=this.\u0275fac=function(J){return new(J||se)(R.KVO($.D),R.KVO(e.il),R.KVO(De.Ix),R.KVO(V.l9),R.KVO(_.O),R.KVO(Ee.E),R.KVO(x.k),R.KVO(D.a),R.KVO(fe.k),R.KVO(f.O),R.KVO(C.h),R.KVO(M.xe),R.KVO(M.i6),R.KVO(U.Y),R.KVO(w._),R.KVO(M.Mz),R.KVO(W.A),R.KVO(Ue.O),R.KVO(s.k),R.KVO(M.YB),R.KVO(c.e),R.KVO(k),R.KVO(L.i),R.KVO(S.b),R.KVO(g.y),R.KVO(M.Tz),R.KVO(a.V),R.KVO(T.r),R.KVO(te.q),R.KVO(Z.Fq),R.KVO(B),R.KVO(x.k),R.KVO(M.lf),R.KVO(z.J),R.KVO(re.E),R.KVO(Ce.B),R.KVO(X.b),R.KVO(Z.Dx))};static#t=this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},87801:(n,d,t)=>{"use strict";t.d(d,{Dy:()=>w,G9:()=>A,HI:()=>e,K:()=>o,KH:()=>G,Ly:()=>a,MG:()=>P,MN:()=>O,PK:()=>$,We:()=>f,YH:()=>x,_3:()=>M,_N:()=>s,_x:()=>_,aS:()=>C,f5:()=>D,gu:()=>E,uX:()=>U,v5:()=>W,v9:()=>N});const o={CONST_TRANSACTION_STATUS:{IN_PROGRESS:["111","1001","1003","1004"],AVAILABLE:["2000","1007"]},CONST_CARD_TYPES:{UNKNOWN_CARD:null,VISA_CARD:"VISA",MASTER_CARD:"MASTER",DISCOVER_CARD:"DISCOVER",ELECTRON_CARD:"ELECTRON",MAESTRO_CARD:"MAESTRO",MIR_CARD:"MIR",CUBA_CARD:"CUBACARD",ELO_CARD:"ELO",AMEX_CARD:"AMEX"},CONST_DISABLE_CORRIDOR:[{isoCode:"PF"},{isoCode:"GL"},{isoCode:"FO"}],CONST_CARD_TYPE_ID:{NA:0,VISA:1,MASTER:2,DISCOVER:3,ELECTRON:4,MAESTRO:5,MIR:6,UNKNOWN:7,CUBACARD:8,ELO:9,AMEX:10},CONST_DATE_FORMATS:{ISO_DATE:{YYYY_MM_DD:"YYYY-MM-DD",DD_MM_YYYY:"DD-MM-YYYY",MM_DD_YYYY:"MM-DD-YYYY"},SHORT_DATE:{YYYY_MM_DD:"YYYY/MM/DD",MM_DD_YYYY:"MM/DD/YYYY",DD_MM_YYYY:"DD/MM/YYYY"},LONG_DATE:{},AGE_RANGE:{MIN:18,MAX:115}},DATE_RANGE_FILTERS:{ALL_TRANSFERS:"All Transfers",PAST_30_DAYS:"Past 30 days",PAST_90_DAYS:"Past 90 days",THIS_YEAR:"This year",LAST_YEAR:"Last year"},DATE_RANGE_FILTERS_V3:{RECENT_TRANSFERS:"Recent Transfers",PAST_30_DAYS:"Past 30 days",PAST_90_DAYS:"Past 90 days",THIS_YEAR:"This year"},GTDV3_ENABLED_COUNTRIES:["us","gb","fr"],HISTORY_DASHBOARD_ENABLED_COUNTRIES:["us","fr"],MAX_PAST_YEARS:4,WU_PAY_COMPLETION_DAYS_CONFIG:[{COUNTRY_ISO:"AR",DAYS:4}],WUPAY_INSTRUCTION_DAY:{BR:1,DEFAULT:14,SG:3},WUPAY_INSTRUCTION_DAYS_FOR_HK:{HK:3},WUPAY_INSTRUCTION_DAYS_GMO_JP:{JP:8},WUPAY_INSTRUCTION_DAYS_WUAY_GB_2_DAYS:{GB:2},TRANSACTION_FILTERS:{DATE_RANGE_FILTERS:{ALL_TRANSFERS:{translationKey:"history.filter_all_transfers",value:"ALL_TRANSFERS"},PAST_30_DAYS:{translationKey:"history.filter_past_30_days",value:"PAST_30_DAYS"},PAST_90_DAYS:{translationKey:"history.filter_past_90_days",value:"PAST_90_DAYS"},THIS_YEAR:{translationKey:"history.filter_this_year",value:"THIS_YEAR"},LAST_YEAR:{translationKey:"history.filter_last_year",value:"LAST_YEAR"}},DATE_RANGE_FILTERS_V3:{RECENT_TRANSFERS:{translationKey:"filter_recent_transfers",value:"RECENT_TRANSFERS"},FAVORITES:{translationKey:"filter_favorites",value:"FAVORITES"},PAST_30_DAYS:{translationKey:"filter_past_30_days",value:"PAST_30_DAYS"},PAST_90_DAYS:{translationKey:"filter_past_90_days",value:"PAST_90_DAYS"},THIS_YEAR:{translationKey:"filter_this_year",value:"THIS_YEAR"}},MAX_PAST_YEARS:4,RECEIVERS_FILTERS:{ALL_RECEIVERS:{translationKey:"history.filter_all_receivers",value:"ALL_RECEIVERS"}},PAYMENT_TYPE:{CREDIT_CARD:"CreditCard",DEBIT_CARD:"DebitCard",ACH:"ACH",PARAMOUNT:"Paramount"},DAYS:"days",YEAR:"year",AMOUNT:"amount",TRANSFERS:"transfers",RECEIVERS:"receivers",GTDV3_ENABLED_COUNTRIES:["us","gb","fr"],PAY_IN_TYPE:"Sofort"},PAYMENT_TYPE_CARD_OR_BANK:["DebitCard","CreditCard","ACH","iACH"],NO_BANK_NAME_COUNTRIES:["RU","EG","TR","VN","BR"],LEAN_REG_ENABLED_COUNTRIES:["US","JP","SG","MY","HK"],LEAN_REG_ENABLED_PAYOUTS_REDIRECTION_CYP_ON_REGISTRATION:["800","600"]};let e=(()=>{class c{static#e=this.EU_COUNTRIES_FOR_AIR=["GB","FR","DE","IT","AT","IE","CH"];static#t=this.RECEIVERS_WITH_FLUCTUATING_EXCHANGE_RATE=["TH","PH"];static#i=this.SESSION_COOKIES_KEYS_LIST=["PSEndpoint","SessionId","sessionCountry","ClientIp","SessionInfo","SessionDomain","DataCenter","AccountNumber","Email","FirstName","LastName","DestinationCountryList","currentCountry","token","SQPErrorResponse","DBSecurityQuestions","RPSecurityQuestions","GatewayCustomer","NewResetPasswordStatus","SummaryObjects","CustomerProfile","ReceiverInformation","IsSWB","ValidationResponse","ValidationRequest","ComplianceData","ErrorResponse","SenderOccupation","GetLoyaltyCardsResponse","IdentityData","IdentityError","LastPage","CountryOfBirth","employmentPositionLevel","SenderEmploymentPositionLevel","occupation","placeOfBirth","ThresholdAction","Bank_Name","AlternatePaymentTypes","switches","errcode","CollectIdResponse","SmvCalling","MtcObject","CollectIdErrorRespCode","StoreResponse","TransactionInquiryResponse","Password","InterstitialLoginResponse","userJourney","Limits","UmnNumber","CustomerVerificationStatus","Currencies","Nationality","LinkVerificationFromProfile","AvailableFundsOutOptions","PriceQuoteservicesMeta","DestinationPriceQuote","CountryOfBirthCode","NationalityCode","PlaceOfBirthCode","CountryOfBirthCode","NationalityCode","PlaceOfBirthCode","PriceBandResponse","EVURL","trsferCnl","PhoneNumber","MigratedFlow","providerId","src","RegistrationToken","FromEmailPin","phvinterstitial","token","type","requestMoneyRes","requestMoneyFlow","RecentlyVerified","userEmailError","IncorrectPassportError","SelectedVerificationOption","eidBlock","SignatureResponse","KycPwmb","KycDur","Kyc3ds","KycChq","KycDuc","KycDpl","SAMLResponse","CollectFormData","ppsCountryChanged","VerifyCustomerResp","WUApp","RMSummaryObjects","idRU","BillpayFullWidthEnabled","HideSpinner","SessionIdRetail","SessionInfoRetail","SessionDomainRetail","CountryCodeList","Efl","RetailLimit","CountryCodeList","SelectedPayInOption","AbandonTransactionDetailsData","IsGlobalCollectReload","SPGetProfileResponse","CollectIDTemplateDataByCountry","ProactiveCompliance","ComplianceConfigRules","SMVDocUploadResponse","CustomerLookupData","docIdentifier","SMVDocUploadInvalidErr","ProactiveComplianceTemplate","SenderReceiverRelationship","isOSv2","sendMoneyResponse","maxLimitKey","DutRetryCounter","IDTypeList","IsChangeIdFlow","IDTypeListEN","GCIFormSubmitComplianceData","AvailableMonths","GuestInfo","SelectedIdType","transactionHistoryResp","initiateCustomerVerificationResp","isPayInStoreTabEnabled","showSummaryWidgetTextMsg","CashPickupAirObject","CurrentMTCN","IsAcceptDocsModalViewed","popUpName","ducTokenExpiration","GlobalCollectIdExpiryIssueDateRules"]}return c})();const x={INTL:"9D01",DEFAULT:"9D01"},$=[{name:"pwmb",src:"https://sandbox.trustly.one/start/scripts/trustly.js?accessId=",params:{env:["staging"]}},{name:"pwmb",src:"https://trustly.one/start/scripts/trustly.js?accessId=",params:{env:["production"]}},{name:"songbird",src:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js",params:{env:["staging"],urlParams:""}},{name:"songbird",src:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",params:{env:["production"],urlParams:""}},{name:"onfido",src:"https://sdk.onfido.com/v14",params:{env:["staging"],urlParams:""}}],W={REGISTER_NEW_UX_MYWU_TNC:["fr","de","ar"],NEW_REWARD_SCHEME:["gb"],BRITAIN:["gb"],BYPASS_PRICE_QUOTE:["gb","gb-tui","gb-ryman","my","fr-lbp"],EXCHANGE_RATE_DF:["LR"],RECEIPT_MYWU:["fr","de","ro","us"],DOWNLOAD_DISABLED_COUNTRIES:["US-googlespot"],REAL_TIME:["IN","PH","PK","CN","ID","MX","UA","KE","EC","LK","CZ","RW","VN","BR"],SAME_DAY:["GE","CR","NG"],range_Buisness_Day:["US","MA","TH"],MINUTES_TEXT:["CO"],LATIN_COUNTRY_LIST:["BO","BR","CL","CO","CR","DO","EC","SV","GT","GY","HN","MX","NI","PA","PY","PE","ES","UY","VE","CU"],FMA_CORRIDORS:["GB","FR","IT","MT","LT","LV","IE","AT"],SEPA_COUNTRIES:["AT","BE","CY","DE","EE","GR","ES","FR","FI","IE","IT","PT","LV","LT","LU","MT","NL","SK","SI"],ENABLE_DICLAIMER_FOR_SILVER_COUNTRY:["IN","PH","PK","NG","CN","ID","MX","MA","US","UA","CO","EC","KE","TH","LK","GE","RW","CR","CZ"]},P=(typeof navigator<"u"&&navigator,typeof navigator<"u"&&navigator,typeof navigator<"u"&&navigator,typeof navigator<"u"&&navigator,{TAT_LANGUAGES:"TAT_LANGUAGES",TAT_COUNTRIES:"TAT_COUNTRIES",SECURITY_QUESTIONS_LIST_NAME:"PROFILE_SECURITY_QUESTIONS",CA_PARAMOUNT_BANKS_LIST:"CA_PARAMOUNT_BANKS_LIST",AR_FUNDSIN_BANKLISTS:"AR_FUNDSIN_BANKLISTS",IDEAL_BANK_LIST:"IDEAL_BANK_LIST",ID_TYPE_MY:"ID_TYPE_MY",PHONE_TYPE_LIST:"PHONE_TYPE_LIST",DIALING_PREFIX_LIST:"DIALING_PREFIX_LIST",PROFILE_SECURITY_QUESTIONS:"PROFILE_SECURITY_QUESTIONS",SENDER_COUNTRY_LIST:"sender_country_list",ERROR_MESSAGE_LIST:"ERROR_MESSAGE",ID_TYPE_FR_LBP:"ID_TYPE_FR-DUTLBP",ID_TYPE_FR_SECOND:"ID_TYPE_FR_SECOND",DIGITAL_DUC_SUBTYPE_LIST:"DIGITAL_DUC_SUBTYPE_LIST",ID_TYPE_FR_PRIMARY:"ID_TYPE_FR_PRIMARY",ID_TYPE_FR_SECONDARY:"ID_TYPE_FR_SECONDARY",DUC_TYPE_LISTS:"DOC_TYPE_LISTS",DSS_DOCUMENTS:"DSS_DOCUMENTS",WEEKDAY_LIST:"WEEKDAY_LIST",FREQUENCY_LIST:"FREQUENCY_LIST",DSS_DOC_TYPE:"DSS_DOC_TYPE",DSS_DOC_SUBTYPE:"DSS_DOC_SUBTYPE",COUNTRY_BIRTH_LIST:"COUNTRY_BIRTH_LIST",DSS_QUESTIONNAIRE:"DSS_QUESTIONNAIRE",DSS_INSTRUCTIONS:"DSS_INSTRUCTIONS",CANCEL_REASON_CODE_LIST:"CANCEL_REASON_CODE_LIST",OPTIONAL_CANCEL_REASON_CODE_LIST:"OPTIONAL_CANCEL_REASON_CODE_LIST",MONTH_LIST:"MONTH_LIST",MULTI_LIST:"MULTI_LIST",FX_ALERTS_SCHEDULE_TYPE:"FX_ALERTS_SCHEDULE_TYPE",GMO_MAINTENANCE_LIST:"GMO_MAINTENANCE_LIST",SOCIAL_PROOFING_STATIC:"SOCIAL_PROOFING_STATIC",COUNTRY_DYNAMIC_PARAM_LIST:"COUNTRY_DYNAMIC_PARAM_LIST",SWITCHES:"SWITCHES",DSS2_DIALING_PREFIX:"DSS2_DIALING_PREFIX",ID_TYPE_DSS:"ID_TYPE_DSS",WALLET_LIST:"WALLET_LIST",BANK_LIST:"BANK_LIST",ID_TYPE_RET2DIG:"R2D-IDTYPE-FR",IACH_RECEIVER_CONFIG:"IACH_RECEIVER_CONFIG",KYC_VENDOR_CONFIG:"KYC_VENDOR_CONFIG",VERIFICATION_OPTIONS_LIST:"VERIFICATION_OPTIONS_LIST",D2B_PE_PEN:"D2B_PE_PEN",TENANT_ALIAS_LIST:"TENANT_ALIAS_LIST",RCX_RAF_URL_LIST:"RCX_RAF_URL_LIST"}),D={NationalityField:"nationality",occupationField:"employment_status",industryField:"employment_industry",relationshipToReceiverField:"relationship_to_sender_receiver",purposeField:"transaction_purpose",pepRequired:"pep_relative_or_friend",placeOfBirthField:"place_of_birth"},f={MOBILE_REGEX:["/(android|bbd+|meego).+mobile|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)/|plucker|","pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk"],MOBILE_AND_TABLET_REGEX:["/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55/|","capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|","hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|","lynx|m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|","pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|","sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|","vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-"]},C={NO_STATUS:{NO_STATUS:"startUserJourney",P:"startUserJourney",B:"startUserJourney",Y:"startUserJourney",N:"journeyDisabled"},P:{NO_STATUS:"startUserJourney",P:"startUserJourney",B:"startUserJourney",Y:"startUserJourney",N:"journeyDisabled"},B:{NO_STATUS:"startUserJourney",P:"startUserJourney",B:"startUserJourney",Y:"startUserJourney",N:"journeyDisabled"},Y:{NO_STATUS:"userApproved",P:"startUserJourney",B:"startUserJourney",Y:"userApproved",N:"journeyDisabled"},N:{NO_STATUS:"journeyDisabled",P:"journeyDisabled",B:"journeyDisabled",Y:"journeyDisabled",N:"journeyDisabled"}},A={Y:{NO_STATUS:{NO_STATUS:"startUserJourney",P:"startUserJourney",B:"startUserJourney",Y:"startUserJourney",N:"journeyDisabled"},P:{NO_STATUS:"startUserJourney",P:"startUserJourney",B:"startUserJourney",Y:"startUserJourney",N:"journeyDisabled"},B:{NO_STATUS:"startUserJourney",P:"startUserJourney",B:"startUserJourney",Y:"startUserJourney",N:"journeyDisabled"},Y:{NO_STATUS:"startUserJourney",P:"startUserJourney",B:"startUserJourney",Y:"startUserJourney",N:"journeyDisabled"},N:{NO_STATUS:"journeyDisabled",P:"journeyDisabled",B:"journeyDisabled",Y:"journeyDisabled",N:"journeyDisabled"}}},E={AFG:"AF",ALA:"AX",ALB:"AL",DZA:"DZ",ASM:"AS",AND:"AD",AGO:"AO",AIA:"AI",ATA:"AQ",ATG:"AG",ARG:"AR",ARM:"AM",ABW:"AW",AUS:"AU",AUT:"AT",AZE:"AZ",BHS:"BS",BHR:"BH",BGD:"BD",BRB:"BB",BLR:"BY",BEL:"BE",BLZ:"BZ",BEN:"BJ",BMU:"BM",BTN:"BT",BOL:"BO",BIH:"BA",BWA:"BW",BVT:"BV",BRA:"BR",VGB:"VG",IOT:"IO",BRN:"BN",BGR:"BG",BFA:"BF",BDI:"BI",KHM:"KH",CMR:"CM",CAN:"CA",CPV:"CV",CYM:"KY",CAF:"CF",TCD:"TD",CHL:"CL",CHN:"CN",HKG:"HK",MAC:"MO",CXR:"CX",CCK:"CC",COL:"CO",COM:"KM",COG:"CG",COD:"CD",COK:"CK",CRI:"CR",CIV:"CI",HRV:"HR",CUB:"CU",CYP:"CY",CZE:"CZ",DNK:"DK",DKK:"DK",DJI:"DJ",DMA:"DM",DOM:"DO",ECU:"EC",Sal:"El",GNQ:"GQ",ERI:"ER",EST:"EE",ETH:"ET",FLK:"FK",FRO:"FO",FJI:"FJ",FIN:"FI",FRA:"FR",GUF:"GF",PYF:"PF",ATF:"TF",GAB:"GA",GMB:"GM",GEO:"GE",DEU:"DE",GHA:"GH",GIB:"GI",GRC:"GR",GRL:"GL",GRD:"GD",GLP:"GP",GUM:"GU",GTM:"GT",GGY:"GG",GIN:"GN",GNB:"GW",GUY:"GY",HTI:"HT",HMD:"HM",VAT:"VA",HND:"HN",HUN:"HU",ISL:"IS",IND:"IN",IDN:"ID",IRN:"IR",IRQ:"IQ",IRL:"IE",IMN:"IM",ISR:"IL",ITA:"IT",JAM:"JM",JPN:"JP",JEY:"JE",JOR:"JO",KAZ:"KZ",KEN:"KE",KIR:"KI",PRK:"KP",KOR:"KR",KWT:"KW",KGZ:"KG",LAO:"LA",LVA:"LV",LBN:"LB",LSO:"LS",LBR:"LR",LBY:"LY",LIE:"LI",LTU:"LT",LUX:"LU",MKD:"MK",MDG:"MG",MWI:"MW",MYS:"MY",MDV:"MV",MLI:"ML",MLT:"MT",MHL:"MH",MTQ:"MQ",MRT:"MR",MUS:"MU",MYT:"YT",MEX:"MX",FSM:"FM",MDA:"MD",MCO:"MC",MNG:"MN",MNE:"ME",MSR:"MS",MAR:"MA",MOZ:"MZ",MMR:"MM",NAM:"NA",NRU:"NR",NPL:"NP",NLD:"NL",ANT:"AN",NCL:"NC",NZL:"NZ",NIC:"NI",NER:"NE",NGA:"NG",NIU:"NU",NFK:"NF",MNP:"MP",NOR:"NO",OMN:"OM",PAK:"PK",PLW:"PW",PSE:"PS",PAN:"PA",PNG:"PG",PRY:"PY",PER:"PE",PHL:"PH",PCN:"PN",POL:"PL",PRT:"PT",PRI:"PR",QAT:"QA",REU:"RE",ROU:"RO",RUS:"RU",RWA:"RW",BLM:"BL",SHN:"SH",KNA:"KN",LCA:"LC",MAF:"MF",SPM:"PM",VCT:"VC",WSM:"WS",SMR:"SM",STP:"ST",SAU:"SA",SEN:"SN",SRB:"RS",SYC:"SC",SLE:"SL",SGP:"SG",SVK:"SK",SVN:"SI",SLB:"SB",SOM:"SO",ZAF:"ZA",SGS:"GS",SSD:"SS",ESP:"ES",LKA:"LK",SDN:"SD",SUR:"SR",SJM:"SJ",SWZ:"SZ",SWE:"SE",CHE:"CH",SYR:"SY",TWN:"TW",TJK:"TJ",TZA:"TZ",THA:"TH",TLS:"TL",TGO:"TG",TKL:"TK",TON:"TO",TTO:"TT",TUN:"TN",TUR:"TR",TKM:"TM",TCA:"TC",TUV:"TV",UGA:"UG",UKR:"UA",ARE:"AE",GBR:"GB",USA:"US",UMI:"UM",URY:"UY",UZB:"UZ",VUT:"VU",VEN:"VE",VNM:"VN",VIR:"VI",WLF:"WF",ESH:"EH",YEM:"YE",ZMB:"ZM",ZWE:"ZW",GBP:"GB",RUB:"RU",NOK:"NO",CUW:"CW",EGY:"EG",SLV:"SV"},N={ENABLED_COUNTRIES:["us","ca","au","gb","de","fr","ru","es","be","se","it","ie","at","jp","no","nl","sg","ar","br"]},_={COUNTRY_CODES:["CO","DO","HT","HN","CL","PE","SV","BR","NI","EC","ES","GT","CR","MX","PT"]},M={LATIN_COUNTRY_LIST:["CO","DO","HT","HN","CL","PE","SV","BR","NI","EC","ES","GT","CR","MX","PT"]},U={EN:{MONTH_NAMES:["January","February","March","April","May","June","July","August","September","October","November","December"]},ES:{MONTH_NAMES:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}},w={LBP_TEXT:"lbp",POSTE_TEXT:"posteitaliane",VIGO_TEXT:"vigo",PPS_TEXT:"pps",MYCALL_TEXT:"mycall",KROGER_TEXT:"kroger",KROGER_RETURN_TEXT:"Money Services",MONEYMART_TEXT:"moneymart",LINXO_TEXT:"linxo",ADVANCEAMERICA_TEXT:"advanceamerica",ADVANCEAMERICA_RETURN_TEXT:"Advance America",LINXO_SANDBOX_RETURNURL:"linxo-sandbox://",GOOGLESPOT_TEXT:"googlespot",GOOGLEPAY_TEXT:"GooglePay",POSTBANK_TEXT:"postbank",AUSPOST_TEXT:"auspost",AUSPOST_RETURNTOPARTNERWITHLOGOUT:"RETURNTOPARTNERWITHLOGOUT",POSTOFFICE_TEXT:"postoffice",ALIPAY_TEXT:"alipay",HOSTED_PARTNERS:["lbp","posteitaliane"],AFFILIATE_LIST:["moneymart","kroger","ryman","tui","postoffice","auspost","linxo","advanceamerica"],ESTIMATE_PRICE_PARTNER:{KROGER:{client:"KROGER",channel:"WCON"},GOOGLESPOT:{client:"GOOGLESPOT",channel:"WCON"},VIGO:{client:"VIGOAPP",channel:"WCON"},MONEYMART:{client:"MONEYMART",channel:"WCON"},LINXO:{client:"LINXO",channel:"WCON"},ADVANCEAMERICA:{client:"ADVANCEAMERICA",channel:"WCON",cloudPricingAPIenbaleForRetail:!0},POSTOFFICE:{client:"POSTOFFICE",channel:"WCON"},RYMAN:{client:"RYMAN",channel:"WCON"},TUI:{client:"TUI",channel:"WCON"},POSTEITALIANE:{client:"POSTEITALIANE",channel:"WCON"},LBP:{client:"LBP",channel:"WCON"},AUSPOST:{client:"AUSPOST",channel:"WCON",cloudPricingAPIenbaleForRetail:!0},POSTBANK:{client:"POSTBANK",channel:"WCON"},ALIPAY:{client:"ALIPAY",channel:"WCON"},MARITIME:{client:"MTIME",channel:"WCON"},BRIGHTWELL:{client:"BWELL",channel:"WCON"},WIRECARD:{client:"WCARD",channel:"WCON"}},OAUTH_FLOW_LIST:["mycall","pps"],POSTE_CHANNEL_MOBILE_IDENTIFIER:"ppayapp.mobile",CHANNEL_APP:"APP",CHANNEL_WEB:"WEB",WEB_PROD:"postepay.poste.it",WEB_UAT:"postepay2.test.poste.it",APP_PROD:"ppayapp.mobile.poste.it",APP_UAT:"ppayapp.mobile.test.poste.it",FQDN_IP_MAPPING:{WEB:{PROD:{DOMAIN:"postepay.poste.it",REPLACE_BY:"postepay.poste.it"},UAT:{DOMAIN:"postepay2.test.poste.it",REPLACE_BY:"postepay2.test.poste.it"}},APP:{PROD:{DOMAIN:"ppayapp.mobile.poste.it",REPLACE_BY:""},UAT:{DOMAIN:"ppayapp.mobile.test.poste.it",REPLACE_BY:""}}},ENABLE_PROGRESSBAR_PARTNERS:["googlespot"],PEP_CATEGORY_LIST_UNI01_IT_1_3_CCD:"PEP_CATEGORY_LIST_UNI01",PASSPORT_IDENTITY_CODE_TEXT:"PASSPORT",ALIEN_IDENTITY_CODE_TEXT:"ALIEN_ID",SSN_IDENTITY_CODE_TEXT:"SSN",ID_DOCS_LEVEL_2:"2",ID_DOCS_LEVEL_1:"1",SSN_REQUIRED_BASED_ON_IST_IDENTIFICATION_TYPE:["DRIVER_LICENSE","STATE_ID"],SSN_NOT_REQUIRED_BASED_ON_IST_IDENTIFICATION_TYPE:["GOVERNMENT_ID","ALIEN_ID","INTERNATIONAL_DRIVER_LICENSE","MATRICULAR_CONSULAR_CARD_MX","INSTITUTIO_FEDERAL_MATURO_MX"],RECORDS_SET_FOR_2ND_ID_TYPE_FOR_NON_SSN:[{IDENTITY_CODE:"PASSPORT",IDTYPE_NAME:"Passport"},{IDENTITY_CODE:"ALIEN_ID",IDTYPE_NAME:"Alien ID"}],POSTE_ERROR_MAPPING_HANDLING:{C2202_R7005:{code:"C2202",subcode:"R7005",redirection:"doc-upload/app/lookup"},C2202_R1417:{code:"C2202",subcode:"R1417",redirection:!1},C7777_R1528:{code:"C7777",subcode:"R1528",redirection:!1,message:"Transaction Limit Exceeded !!"}},LOOKUP_ACTION_FLAG:{NEW_CUSTOMER:"1",EXISTING_CUSTOMER_LOGIN_REQUIRE:"3"},SMV_ERROR_CODE_GLOBAL_COLLECT_ID:{C9781:"C9781"}},O={ERROR_CODES_ACH_ENABLED:["C7772","C7773","C7774"],DECLINE_ERROR:["C1750","C2033","C2923","C1974","C1983","C1986","C1989","C1990","C1991","C1992","C1996","C1754","C1661","C1683","C2002","C2031","C2108","C2110","C2111","C2112","C2124","C9998","C1998","C2512","C3585"],BANK_DECLINE:["C1972","C1997","C2010","C2011","C2014","C2013"],EMS_MESSAGE_ERROR_CODES:["C2013","C2016","C2010","C2014","C1997","C2011","C2002","C1974","C2228","C7772","C7773","C7774"],ERROR_CODES_RTRA_ENABLED:["C2065","C2066","C2067","C2068","C2069","C8618","C2201","C7788","C2720"],NOTIFICATION_HIDE_ERROR:["C5241","C1974","C2010","C2016","C2014","C1997","C2011","C9999"]},G={KROGER:"KROGER_STATE_BRAND_LIST"},s={ACTIVE:"ACTIVE"},a={nonProdKey:"xJdpqDpuWAKAif8iqggGd",prodKey:"VGxrd4qtY4uvNbeBYji2b"}},39368:(n,d,t)=>{"use strict";t.d(d,{Y:()=>e,c:()=>o});const o={"refer-friend":{sessionFlag:"isMigrationEnabled",featureFlag:"ENABLE_RAF_NG_MIGRATION"},collectIDPep:{sessionFlag:"isCollectIDEnabled",featureFlag:"COLLECT-ID_ENABLED"},kycsuccess:{sessionFlag:"isKycsuccessEnabled",featureFlag:"ENABLE_DUT_MIGRATION"}},e={COLLECTID_EDI_ERRORCODES:{ERRORCODES:[{code:"C7101",control:"identificationType",invalidMessageField:"validIdTypeEnableErrorMsg"},{code:"C7102",control:"identificationNum",invalidMessageField:"idNumberEnableErrorMsg"},{code:"C7103",control:"identificationIssuerName",invalidMessageField:"idIssuerEnableErrorMsg"},{code:"C7133",control:"issuingIdDate",invalidMessageField:"issueDateEmptyMsg"},{code:"C7134",control:"expiryIdDate",invalidMessageField:"expiryDateEmptyMsg"},{code:"C7136",control:"identificationIssuer",invalidMessageField:"idIssuerEnableErrorMsg"}]},COLLECTID_NAV:{REDIRECT_URL:"account/app/collectidchoose",REDIRECT_URL_SDQ:"account/app/collectidsdq",REDIRECT_URL_PEP:"account/app/collectidpep",GLOBAL_COLLECTID_STATE:"globalcollectid",PEP_NEW_UX:"PEP_NEW_UX",RECEIVER_PURPOSE_FOR_COMPLIANCE:"RECEIVER_PURPOSE_FOR_COMPLIANCE",INDUSTRY_LIST:["CID_INDUSTRY_LIST"],REDIRECT_URL_KYC_CONSENT:"web/kyc/kyc-consent"},CS_SERVICE_NAME_CONST:{ALTERNATE_PAYMENT_TYPES:["Cash"]},CONST_HIDDEN_ISSUER_FIELD_DOCS:{HIDDEN_DOC:["RESIDENCY_TITLE","NATIONAL_ID"]},CONST_ID_DOCS:{NATIONAL_ID:"NATIONAL_ID",PASSPORT:"PASSPORT"},CONST_KYC_VERIFICATION:{F2F_VERIFICATION:["ES","SG","AR"],KYC_CONFIG_URL:"https://{0}/wuconnect/awsconfig/api/v1/kyc-config/web/wucom/{1}"},CONST_COUNTRIES_LIST_TYPE:{ALL_COUNTRIES:"ALL_COUNTRIES",EU_COUNTRIES:"EU_COUNTRIES",NO_COUNTRIES:"NO_COUNTRIES",TRAVEL_COUNTRIES:"TRAVEL_COUNTRIES",NORDIC_COUNTRIES:["NO","DK"]},CONST_TEMPLATE_DATA:{MANDATORY:"M",NOT_APPLICABLE:"NA",OPTIONAL:"O",PRESELECTED:"P",PREVIOUS_ADDRESS_LESS:"less",PREVIOUS_ADDRESS_MORE:"more"},CONST_DATE_FORMATS:{ISO_DATE:{YYYY_MM_DD:"YYYY-MM-DD",DD_MM_YYYY:"DD-MM-YYYY",MM_DD_YYYY:"MM-DD-YYYY"},SHORT_DATE:{YYYY_MM_DD:"YYYY/MM/DD",MM_DD_YYYY:"MM/DD/YYYY",DD_MM_YYYY:"DD/MM/YYYY"},LONG_DATE:{},AGE_RANGE:{MIN:18,MAX:115},DEFAULT:"DD/MM/YYYY",DEFAULT_DATE_PATTERN:/^\d{1,2}\/\d{1,2}\/\d{4}$/}}},58802:(n,d,t)=>{"use strict";t.d(d,{LJ:()=>e,RL:()=>o,VY:()=>$,bO:()=>W,e7:()=>x,q9:()=>K});const o={register:{redirection_url:"/web/user/register"},login:{redirection_url:"/web/user/login"},start:{redirection_url:"/web/send-money/start"},history:{redirection_url:"/web/account/history"}},e={NEW_CUSTOMER:1,EXISTING_CUSTOMER_AUTO_LOGIN:2,EXISTING_CUSTOMER_LOGIN_REQUIRE:3},x={1:{redirectUrl:"/user/register"},3:{redirectUrl:"/user/login"}},$="web",W={social_login_buttons:{Google:"button-google",Apple:"button-apple",Facebook:"button-facebook","dont-show-me-again":"checkbox-dont-show-me-again",close:"icon-close"}},K={AUTH:"/v1/authorize?idp=",TOKEN:"/v1/token",V2LOOKUP:"/v2/lookup",REVOKE:"/v1/revoke",IDPLOOKUP:"/v1/idp/lookup",LOGINAUTH:"/v1/login",ENROLLFACTORS:"/v1/factors/enroll",GETFACTORS:"/v1/factors"}},87601:(n,d,t)=>{"use strict";t.d(d,{Vt:()=>$,ff:()=>e,lt:()=>o,n4:()=>x,qg:()=>W});const o={US:"94107",MP:"96950"},e={US:"CA",MP:"MP"},x={US:"USA_STATE_LIST",MP:"US_TERRITORY_EFL_LIST"},$={MP:{enabled:!0,retail_only:!0,limit:{max:5e3,min:1}}},W=["AR","AU","AT","BH","BD","BE","BR","CA","CN","CO","HR","CY","CZ","DK","EG","EE","FI","GR","HK","HU","IN","ID","JM","JP","KE","LV","LI","LT","LU","MY","MT","MA","NL","NG","NO","PK","PH","PL","RO","RU","YU","SG","SK","SI","ES","LK","SE","CH","TZ","TH","TR","AE","VN","US","FR","DE","IE","IT","GB","MX","CU"]},76265:(n,d,t)=>{"use strict";t.d(d,{U:()=>e,s:()=>o});const o={AUID:"AUID",MAILKIT:"mailkit",BANKID:"bankid",MOBILEID:"mobileid",NEMID:"nemid",GENIII:"geniii",BUYPASS:"buypass",NZID:"NZID",INID:"INID",IDIN:"iDIN",FTN:"FTN",FRANCECONNECT:"franceconnect",itsme:"itsme",MITID:"mitid",OCR:"OCR",ONFIDO:"ONFIDO"},e={root:"/content/dam/web-assets/eid/choose/",rootOnfido:"/content/dam/web-assets/",countries:{NO:[{id:o.BUYPASS,src:"no-buypass.svg"},{id:o.BANKID,src:"no-bankid.svg"},{id:o.MOBILEID,src:"no-mobileid.svg"}],SE:[{id:o.BANKID,src:"se-bankid.svg"},{id:o.MOBILEID,src:"se-mobileid.svg"}],DK:[{id:o.NEMID,src:"fi-mobiilivarmenne.svg"},{id:o.MITID,src:"dk-mitid.svg"}],NL:[{id:o.IDIN,src:"nl-idin.svg"},{id:o.OCR,src:"nl-ocr.svg"}],FI:[{id:o.FTN,src:"fi-mobiilivarmenne.svg"}],ES:[{id:o.ONFIDO,src:"id_illustration_driver_licence.svg"}],FR:[{id:o.FRANCECONNECT,src:"franceconnect-button.svg"}]}}},31710:(n,d,t)=>{"use strict";t.d(d,{U:()=>N});var o=t(10467),e=t(3902),x=t(93885),$=t(34781),W=t(17779),K=t(78863),V=t(37486),P=t(60177),D=t(77202),f=t(1013),C=t(47058),A=t(54438),E=t(85717);let N=(()=>{class _{constructor(U,w,O,G,s,a,c,r,g,p){this.featureFlagService=U,this.updateStore=w,this.csEndPontService=O,this.readURL=G,this.countryConfigSer=s,this.utilService=a,this.document=c,this.wuDataAccess=g,this.route=p,this.adSlots=[],this.pageAdLoaded=!1,this.renderer=r.createRenderer(null,null)}isRoktAdEnabled(){let U=!1;const w=null!==sessionStorage.getItem("account_login");return(sessionStorage.getItem("isRoktEvergageEnabled")||this.featureFlagService.isFeatureEnabled("ENABLE_ROKT_AD"))&&w&&(U=!0),U}loadRoktJs(){try{const U={},w=this.readURL.getDomainUrl(),O=JSON.parse(this.updateStore.getState()?.countryDynamicParams?.ROKT_AD_CONFIG||{}),G=O&&"head"===O?.scriptAppend?document.head:document.body,s=document.createElement("script");return s.type="text/javascript",s.src=O&&O?.scriptUrl,s.crossOrigin="anonymous",s.async=O&&O?.async,G.appendChild(s),U.accountId=O?.roktAccountId,this.csEndPontService.isNonProdEnv(w)&&(U.sandbox=!0),new Promise((c,r)=>{s.onload=()=>c(this.getWindowObj().Rokt.createLauncher(U)),s.onerror=g=>{r(g)}})}catch(U){console.error("Rokt JS Error -"+U)}}afterRoktJsRendered(){var U=this;return(0,o.A)(function*(){try{const w=V.eQ.ROKT,O=yield U.loadRoktJs();U.logRoktAdBlockerEvent();const G=yield O.selectPlacements({attributes:U.createTatAdsAttribute()});G.on("PLACEMENT_READY").subscribe(()=>{U.getOtSelectedValue(w)}),G.getPlacements().then(a=>{if(0==a.length){U.getOtSelectedValue(w);const r=[{key:x.Y.ADS_AMPLITUDE_EVENTS.AdLoadedEvent,value:"No"}];U.updateStore.updateAdLoadEvent(r),U.logAdEventInAmplitude(null,w,null,null,null,r)}}).catch(a=>{console.error("prmise fail",a)}),G.on("PLACEMENT_INTERACTIVE").subscribe(()=>{const c=[{key:x.Y.ADS_AMPLITUDE_EVENTS.AdLoadedEvent,value:"Yes"}];U.updateStore.updateAdLoadEvent(c),U.logAdEventInAmplitude(null,w,null,null,null,c)}),G.on("OFFER_ENGAGEMENT").subscribe(()=>{U.logAdEventInAmplitude(null,w,null,null,null,[{key:x.Y.ADS_AMPLITUDE_EVENTS.AdClickedEvent,value:"Yes"}])})}catch{U.logRoktAdBlockerEvent()}})()}createTatAdsAttribute(){const U={},w=this.updateStore.getState();return U.email=w&&w.sender&&w.sender.email,U.firstname=w&&w.sender&&w.sender.firstName,U.lastname=w&&w.sender&&w.sender.lastName,U.mobile=w&&w.sender&&w.sender.contactPhone,U.country=this.utilService.getCookieItem("WUCountryCookie_"),U.language=this.utilService.getCookieItem("WULanguageCookie_"),U}logRoktAdBlockerEvent(){let U="No";this.getWindowObj().Rokt||(U="Yes"),this.logAdEventInAmplitude(null,V.eQ.ROKT,null,null,null,[{key:x.Y.ADS_AMPLITUDE_EVENTS.AdBlockerEvent,value:U}])}getOtSelectedValue(U){const w=[],O=this.utilService.getCookieItem("userCookieOptIn");if(w.push({key:x.Y.ADS_AMPLITUDE_EVENTS.AdIntilizedEvent,value:"Yes"}),O){const G=U===V.eQ.BANNER?this.getAdScriptConfig():this.getAnchorAdScriptConfig(),s=this.isOTOpted(G)?"Yes":"No";w.push({key:x.Y.ADS_AMPLITUDE_EVENTS.AdOTEvent,value:s})}this.logAdEventInAmplitude(null,U,null,null,null,w)}getWindowObj(){return window}isOTOpted(U){const w=(U||{}).adConsentRequired,O="true"===sessionStorage.getItem("userConsentForAds");return!w||O}isBannerAdEnabled(U){const w=this.updateStore.getState()?.isPPSprofile;let O=!1;if(this.isBannerAdFeatureEnabled()&&Object.keys(U).length>0&&!this.utilService.isHostedPartner()&&!w&&this.isOTOpted(U)){const G=U?.pages?.split(","),s=this.readURL.getCurrentUrl()||"",a=G?.filter(c=>s.indexOf(c)>-1);O=a&&a.length>0}return O}isBannerAdFeatureEnabled(){return this.featureFlagService.isFeatureEnabled("BANNER_ADS")||"true"===sessionStorage.getItem("isBannerAdEnabled")}isAnchorAdEnabled(){let U=!1;try{const w=this.getAnchorAdScriptConfig(),O=this.updateStore.getState()?.isPPSprofile;if(this.isAnchorAdFeatureEnabled()&&Object.keys(w).length>0&&!this.utilService.isHostedPartner()&&!O&&this.isOTOpted(w)){const G=w&&w.pages&&w.pages.split(",")||[],s=decodeURIComponent(encodeURIComponent(window.location.href))||"",a=G.filter(function(c){return s.indexOf(c)>-1});U=a&&a.length>0}}catch(w){console.error(w)}return U}isAnchorAdFeatureEnabled(){return this.featureFlagService.isFeatureEnabled("ANCHOR_ADS")||"true"===sessionStorage.getItem("isAnchorAdEnabled")}getAdScriptConfig(){const U=this.updateStore.getState().countryDynamicParams,w=this.readURL.getDomainUrl(),O=this.utilService.isNonProdEnviornment(w);return JSON.parse(O?U?.adScript_UAT||"{}":U?.adScript||"{}")}getAnchorAdScriptConfig(){const U=this.updateStore.getState().countryDynamicParams,w=this.readURL.getDomainUrl(),O=this.utilService.isNonProdEnviornment(w);return JSON.parse(O?U?.anchorAdScript_UAT||"{}":U?.anchorAdScript||"{}")||{}}triggerAd(U,w){try{const O=this.getAdScriptConfig();this.isBannerAdEnabled(O)&&(this.logAdEventInAmplitude("init",V.eQ.BANNER),this.adLoadStart=Date.now(),this.getWindowObj().googletag?this.processAdRequest(U,w,O):this.renderAdJs(O,U,w,V.eQ.BANNER))}catch(O){console.error(O)}}triggerAnchorAd(){try{this.setOtIconAtDefaultPosition();const U=this.getAdScriptConfig();if(this.isAnchorAdEnabled()){const w=this.getAnchorAdScriptConfig();let O="";const G=this.getWindowObj().location.pathname||"";G.match(new RegExp(w.adSlots&&w.adSlots.profile&&w.adSlots.profile.pagePath.join("|")))?O=w.adSlots&&w.adSlots.profile&&w.adSlots.profile.slot:G.match(new RegExp(w.adSlots&&w.adSlots.rewards&&w.adSlots.rewards.pagePath.join("|")))&&(O=w.adSlots&&w.adSlots.rewards&&w.adSlots.rewards.slot),""!==O&&(this.logAdEventInAmplitude("init",V.eQ.ANCHOR),this.adLoadStart=Date.now(),this.getWindowObj().googletag?this.processAnchorAdRequest(O,w):this.renderAdJs(w,null,O,V.eQ.ANCHOR))}else this.isBannerAdEnabled(U)||this.adSlots&&this.adSlots.length>0&&(this.getWindowObj.googletag&&this.getWindowObj.googletag.destroySlots(this.adSlots),this.adSlots=[])}catch(U){console.error(U)}}processAnchorAdRequest(U,w){try{if(U){let O=w.logKeyValues;const G=w.personalizedAdCookies,s=!!G&&this.isNonPersonalizedAd(G),a=this.getWindowObj().googletag;let c;const r=this;a.cmd.push(function(){r.adSlots&&r.adSlots.length>0&&(a.destroySlots(r.adSlots),r.adSlots=[]);const g=a.defineOutOfPageSlot(U,a.enums.OutOfPageFormat.BOTTOM_ANCHOR);if(!g)return void console.error("Failed to define the ad slot. Check your ad unit path.");g.addService(a.pubads()),D.a.isProduction()||a.pubads().setTargeting("env","test"),sessionStorage.getItem("DTM-3rdPartyDataOptin")&&(c=!!sessionStorage.getItem("DTM-3rdPartyDataOptin")&&JSON.parse(sessionStorage.getItem("DTM-3rdPartyDataOptin")));const p=r.utilService.isFeatureEnabled("THIRD_PARTY_CONSENT_FLAG_FOR_ADS");if((p&&(s||!s&&!c)||s)&&a.pubads().setPrivacySettings({nonPersonalizedAds:!0}),r.featureFlagService.isFeatureEnabled("ENABLE_GAM_QUERY_PARAM_CHANGES")){const l=r.logGamKeyValueForAds();Object.keys(l).length>0&&(O=!0)}O&&r.logKeyValueForAds(s,c,p),a.pubads().enableSingleRequest(),a.enableServices(),r.adSlots.push(g),setTimeout(function(){a.display(g),r.logAdEventInAmplitude("load",V.eQ.ANCHOR,null,null,null)},w&&w.adDisplayDelay||100)})}}catch(O){console.error(O)}}isNonPersonalizedAd(U){const w=U.split(",");return!!this.utilService.getCookieItem("userCookieOptIn")&&!w.every(G=>this.utilService.getCookieItem("userCookieOptIn").includes(G))}processAdRequest(U,w,O){try{let G=O.logKeyValues;const s=O?.personalizedAdCookies,a=!!s&&this.isNonPersonalizedAd(s);this.logAdEventInAmplitude("adblocker",V.eQ.BANNER);const c=this.getWindowObj().googletag,r=this.getWindowObj().PWT;let g;if(!c||"function"!=typeof c.pubads&&!c.cmd)return;const p=this;c.cmd.push(function(){p.adSlots&&p.adSlots.length>0&&(c.destroySlots(p.adSlots),p.adSlots=[]);const h=c.defineSlot(w,[[728,90],[320,50]],U);if(!h)return;if(h){h.addService(c.pubads());const v=c.sizeMapping().addSize([990,0],[728,90]).addSize([0,0],[320,50]).build();h.defineSizeMapping(v)}p.featureFlagService.isFeatureEnabled("AD_LAZY_LOADING")&&c.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:100,mobileScaling:2}),c.pubads().enableSingleRequest(),D.a.isProduction()||c.pubads().setTargeting("env","test"),sessionStorage.getItem("DTM-3rdPartyDataOptin")&&(g=!!sessionStorage.getItem("DTM-3rdPartyDataOptin")&&JSON.parse(sessionStorage.getItem("DTM-3rdPartyDataOptin")));const l=p.featureFlagService.isFeatureEnabled("THIRD_PARTY_CONSENT_FLAG_FOR_ADS");if((l&&(a||!a&&!g)||a)&&c.pubads().setPrivacySettings({nonPersonalizedAds:!0}),p.featureFlagService.isFeatureEnabled("ENABLE_GAM_QUERY_PARAM_CHANGES")){const v=p.logGamKeyValueForAds();Object.keys(v).length>0&&(G=!0)}G&&p.logKeyValueForAds(a,g,l),c.enableServices(),p.adSlots.push(h),r&&"function"==typeof r.requestBids?(r.initAdserverSet=!1,r.requestBids(r.generateConfForGPT(c.pubads().getSlots()),function(v){r.addKeyValuePairsToGPTSlots(v),p.displayAd(U,O,!0,v?.length>0)})):p.displayAd(U,O)})}catch(G){console.error(G)}}displayAd(U,w,O,G){const s=this.getWindowObj().PWT;s&&s.initAdserverSet||(s&&(s.initAdserverSet=!0),setTimeout(()=>{this.getWindowObj().googletag.display(U),this.logAdEventInAmplitude("load",V.eQ.BANNER,U,O,G)},w?.adDisplayDelay||100))}renderAdJs(U,w,O,G){if(U)if(U.ispwtEnabled){const a=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?U?.scripts?.pwtMobileWeb:U?.scripts?.pwtDesktop;this.addScriptToDom(this.renderer,a),setTimeout(()=>{this.laodGptScript(U,w,O,G)},500)}else this.laodGptScript(U,w,O,G)}laodGptScript(U,w,O,G){this.addScriptToDom(this.renderer,U.scripts?.gpt).onload=()=>{G===V.eQ.ANCHOR?this.processAnchorAdRequest(O,U):this.processAdRequest(w,O,U)}}addScriptToDom(U,w){const O=U.createElement("script");return O.type="text/javascript",O.src=w?.url,w.defer&&(O.defer=!0),w.async&&(O.async=!0),U.appendChild(this.document.body,O),O}logKeyValueForAds(U,w,O){try{const G=this.getWindowObj().googletag,s=this.updateStore.getState(),a=JSON.parse(sessionStorage.getItem("SummaryObjects")),c=s?.selectedProduct?.promotion?.promoCode||"",r=c?"Y":"N";let S,m,g="",p="",h=0,l={},v={};if(s?.cardsData?.length>0){const L=[];s.cardsData.forEach(y=>{y?.hasOwnProperty("cardType")&&L.push(y.cardType)}),g=L.join("-")}if(s?.banksData?.length>0){const L=[];s.banksData.forEach(y=>{y?.hasOwnProperty("bankName")&&(""!==y?.bankName||"undefined"!==y?.bankName)&&L.push(y?.bankName?.split(" ").join(""))}),p=L.join("-")}if(s?.sender?.dateOfBirth){const L=Math.abs(Date.now()-new Date(s?.sender?.dateOfBirth).getTime());h=Math.floor(L/864e5/365.25),S=new Date(s?.sender?.dateOfBirth)?.getFullYear()}const b=sessionStorage.getItem("userJourney")||"";b&&(m=x.Y.USER_JOURNEY[b]);const Y={CP:sessionStorage.getItem("page_name"),URL:window.location.pathname.replace(/\//g,"-"),LG:this.utilService.getCookieItem("WULanguageCookie_"),VT:this.utilService.getCookieItem("userIdentity")===V.DX.registeredCustomer?"R":"N",SR:this.getRegion(s?.corridor?.senderCountry?.isoCode),SC:s?.corridor?.senderCountry?.isoCode,SS:this.utilService.getCookieItem("AKRegioncode"),RC:s?.corridor?.receiverCountry?.isoCode,RCT:s?.selectedReceiver?.address?.city,SA:s?.senderAmount?.toString(),RA:s?.receiverAmount,FP:s?.selectedProduct?.fees?.toString(),PIC:s?.corridor?.senderCurrency,POC:s?.corridor?.receiverCurrency,FI:s?.selectedProduct?.payIn?V.bw[s.selectedProduct.payIn]:"",FO:s?.selectedProduct?.code,CT:s?.selectedCard?.cardType,BK:s?.selectedBank?.bankName,BKS:s?.selectedCard?.address?.state,BKC:s?.selectedCard?.address?.city,LS:s?.sender?.email?"Y":"N",PV:c,PA:r,BN:a?.biller_details?.companyName},R={DOBAG:h.toString(),GEN:sessionStorage.getItem("userGender")||"",SZAD:s?.sender?.address?.zipCode,BKZ:s?.selectedCard?.address?.postalCode,SCIAD:s?.sender?.address?.city,SSAD:s?.sender?.address?.state,SCOAD:s?.sender?.address?.countryIsoCode,CTAD:g,SBN:p,TSAT:s?.transactionHistory?.length?.toString(),RZ:s?.selectedReceiver?.address?.zipCode},k={UTMS:this.utilService.getCookieItem("utm_source"),UTMC:this.utilService.getCookieItem("utm_campaign"),UTMM:this.utilService.getCookieItem("utm_medium"),UMN:sessionStorage.getItem("AccountNumber")};if(this.featureFlagService.isFeatureEnabled("PASS_NEW_KEY_VALUES")&&(Y.PR=m,Y.RR=this.getRegion(s?.corridor?.receiverCountry?.isoCode),R.DOBRA=this.convertAgeOrYearToRange(h,"age"),R.GNR=this.convertAgeOrYearToRange(S,"year")),v={...Y,...R,...k},(O&&(U||!U&&!w)||U)&&(v=Y),this.featureFlagService.isFeatureEnabled("ENABLE_GAM_QUERY_PARAM_CHANGES")){const y=this.updateStore?.getState()?.gamQueryParam;l=y&&Object.keys(y)?.length>0?{...v,...y}:v}else l=v;for(const[L,y]of Object.entries(l))y&&G.pubads().setTargeting(L,y)}catch(G){console.error(G)}}logAdEventInAmplitude(U,w,O,G,s,a){const c=w===V.eQ.BANNER?this.getAdScriptConfig():this.getAnchorAdScriptConfig(),r={};r.utm_source=this.utilService.getCookieItem("utm_source"),r.utm_medium=this.utilService.getCookieItem("utm_medium"),r.utm_campaign=this.utilService.getCookieItem("utm_campaign"),r[x.Y.ADS_AMPLITUDE_EVENTS.AdType]=w;let g="";if(U)switch(U){case"adblocker":const p=void 0===this.getWindowObj().PWT;r[x.Y.ADS_AMPLITUDE_EVENTS.AdBlockerEvent]=p?"Yes":"No",this.wuDataAccess.logOtherEventWithProperty(x.Y.AD_AMPLITUDE_EVENT_NAME,r);break;case"init":r[x.Y.ADS_AMPLITUDE_EVENTS.AdIntilizedEvent]="Yes",r[x.Y.ADS_AMPLITUDE_EVENTS.AdOTEvent]=this.isOTOpted(c)?"Yes":"No",this.wuDataAccess.logOtherEventWithProperty(x.Y.AD_AMPLITUDE_EVENT_NAME,r);break;case"click":g=w===V.eQ.ANCHOR?x.Y.ADS_AMPLITUDE_EVENTS.AdAnchorClicked:x.Y.ADS_AMPLITUDE_EVENTS.AdClickedEvent,r[g]="Yes",this.wuDataAccess.logOtherEventWithProperty(x.Y.AD_AMPLITUDE_EVENT_NAME,r);break;case"load":const h=this;h.getWindowObj().googletag.pubads().addEventListener(w===V.eQ.ANCHOR?"impressionViewable":"slotRenderEnded",l=>{let v;v=w===V.eQ.BANNER?l?.isEmpty||1==l?.size[0]?"No":"Yes":l?.isEmpty?"No":"Yes","Yes"===v&&w===V.eQ.BANNER&&this.featureFlagService.isFeatureEnabled("AD_DISCLAIMER")&&this.addAdDisclaimer(O),setTimeout(function(){h.adLoadEnd=Date.now(),h.pageAdLoaded=!0,g=w===V.eQ.ANCHOR?x.Y.ADS_AMPLITUDE_EVENTS.AdAchorLoaded:x.Y.ADS_AMPLITUDE_EVENTS.AdLoadedEvent,r[g]=v,h.getWindowObj().PWT&&(r[x.Y.ADS_AMPLITUDE_EVENTS.PubmaticRequest]=G?"Yes":"No",r[x.Y.ADS_AMPLITUDE_EVENTS.PubmaticResponse]=s?"Yes":"No"),r[x.Y.ADS_AMPLITUDE_EVENTS.AdLoadTime]=h.adLoadEnd&&h.adLoadStart?(h.adLoadEnd-h.adLoadStart)/1e3:0,h.wuDataAccess.logOtherEventWithProperty(x.Y.AD_AMPLITUDE_EVENT_NAME,r),w===V.eQ.ANCHOR?h.runLogicAfterAnchorAdLoaded():h.registerClickEvent(O)},1e3)});break;case"page_exit":r[x.Y.ADS_AMPLITUDE_EVENTS.AdExitEvent]=this.pageAdLoaded?"No":"Yes",this.wuDataAccess.logOtherEventWithProperty(x.Y.AD_AMPLITUDE_EVENT_NAME,r)}else a&&a.length>0&&(a.forEach(p=>{r[p.key]=p.value}),this.wuDataAccess.logOtherEventWithProperty(x.Y.AD_AMPLITUDE_EVENT_NAME,r))}registerClickEvent(U){try{const w=document.getElementById(U),O=this;if(w&&w.getElementsByTagName("iframe")&&w.getElementsByTagName("iframe").length>0){const G=w.getElementsByTagName("iframe")[0];if(G&&G.contentWindow&&G.contentWindow.document&&G.contentWindow.document.body){const s=G.contentWindow.document.body;if(null!=s){const a=s.querySelectorAll("div a");a&&a.length>0&&a.forEach(c=>{c&&c.addEventListener("click",function(){O.logAdEventInAmplitude("click",V.eQ.BANNER)})})}}}}catch(w){console.error(w)}}triggerAdFromPage(U){this.isBannerAdEnabled(this.getAdScriptConfig())&&(this.triggerAd(U.divId,U.slotId),this.isGamQueryParamFeatureEnabled())}isGamQueryParamFeatureEnabled(){const U=this.featureFlagService.isFeatureEnabled("ENABLE_GAM_QUERY_PARAM_CHANGES");return sessionStorage.setItem("isQueryParamEnabled",U),U}logGamKeyValueForAds(){let U={};this.route.queryParams.subscribe(G=>{U=G});let w={};const O=U&&U[x.Y.KEY_GAM]?.replace(/[{}]/g,"")?.split(",");return O&&O?.length>0&&O?.forEach(G=>{const[s,a]=G?.split("=");w[s]=a}),w=this.convertKeyValueToUppercase(w),this.updateStore.updateGAMQueryParam(w),w}convertKeyValueToUppercase(U){let w={};const G=this.updateStore?.getState()?.gamQueryParam;return Object.keys(U)?.length>0?Object.keys(U).forEach(s=>{if("env"!==s){const a=s.toUpperCase(),c="string"==typeof U[s]?U[s].toUpperCase():U[s];w[a]=c}else w[s]=U[s]}):Object.keys(G)?.length>0&&(w=G),w}addAdDisclaimer(U){if(this.featureFlagService.isFeatureEnabled("AD_DISCLAIMER")){const w=document.getElementById(U);if(w&&w.getElementsByTagName("iframe")&&w.getElementsByTagName("iframe").length>0){const O=w.getElementsByTagName("iframe")[0];if(O&&O.contentWindow&&O.contentWindow.document&&O.contentWindow.document.body&&null!=O.contentWindow.document.body){const s=document.getElementById(U);s&&s.classList&&s.classList.add("ad-disclaimer")}}}}convertAgeOrYearToRange(U,w){try{if(U){const O=w&&"age"===w?x.Y.CALCULATE_AGE_RANGE:x.Y.CALCULATE_YEAR_RANGE;let G,s,a,c;if(O&&O.length>0)return O.forEach(r=>{if(G=r?.split("-"),G&&G?.length>0){const g=G[0],p=G[1];U>=g&&U<=p?s=r:U>=g&&void 0===p&&!s&&(a=r)}}),c="year"===w?x.Y.YEAR_RANGE_VALUE[s||a]:s||a,c}}catch(O){console.error(O)}}getRegion(U){try{if(U){const w=x.Y.ALL_REGION;let O;return Object.keys(w)?.length>0&&Object.keys(w).forEach(G=>{w[G]?.includes(U)&&(O=G)}),O}}catch(w){console.error(w)}}runLogicAfterAnchorAdLoaded(){try{const U=this,w=document.querySelectorAll('[data-anchor-status="displayed"]')[0],O=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),G=document.getElementsByClassName("ot-floating-button__front");if(w){const s=w.getAttribute("data-anchor-status");if("displayed"===s||"ready-to-display"===s){const a=w.offsetHeight;G&&G[0]&&(G[0].style.transition="bottom 0.8s ease",G[0].style.bottom=a+30+"px"),document.getElementById("onetrust-banner-sdk")&&(document.getElementById("onetrust-banner-sdk").style.transition="bottom 0.8s ease",document.getElementById("onetrust-banner-sdk").style.bottom=a+30+"px"),document.getElementById("QSIFeedbackButton-btn")&&document.getElementById("QSIFeedbackButton-btn").getElementsByTagName("img")&&document.getElementById("QSIFeedbackButton-btn").getElementsByTagName("img").length>0&&(document.getElementById("QSIFeedbackButton-btn").style.transition="bottom 0.8s ease",document.getElementById("QSIFeedbackButton-btn").style.bottom=a+30+"px"),O&&document.querySelector('[role="alertdialog"]')&&(document.querySelector('[role="alertdialog"]').style.position="fixed",document.querySelector('[role="alertdialog"]').style.left="10%",document.querySelector('[role="alertdialog"]').style.top="10%",document.querySelector('[role="alertdialog"]').style.width="100%",document.querySelector('[role="alertdialog"]').style.height="83%",document.querySelector('[role="alertdialog"]').style.transform="translate(-10%, -10%)")}else"dismissed"===s&&this.setOtIconAtDefaultPosition()}if(w&&(w.addEventListener("click",function(){const s=w.getAttribute("data-anchor-status");if("displayed"===s)G&&G[0]&&(G[0].style.transition="bottom 0.8s ease",G[0].style.bottom="30px"),document.getElementById("onetrust-banner-sdk")&&(document.getElementById("onetrust-banner-sdk").style.transition="bottom 0.8s ease",document.getElementById("onetrust-banner-sdk").style.bottom="30px"),document.getElementById("QSIFeedbackButton-btn")&&document.getElementById("QSIFeedbackButton-btn").getElementsByTagName("img")&&document.getElementById("QSIFeedbackButton-btn").getElementsByTagName("img").length>0&&(document.getElementById("QSIFeedbackButton-btn").style.transition="bottom 0.8s ease",document.getElementById("QSIFeedbackButton-btn").style.bottom="30px"),O&&document.querySelector('[role="alertdialog"]')&&(document.querySelector('[role="alertdialog"]').style.height="100%");else if("dismissed"===s){const a=w.offsetHeight;G&&G[0]&&(G[0].style.transition="bottom 0.8s ease",G[0].style.bottom=a+30+"px"),document.getElementById("onetrust-banner-sdk")&&(document.getElementById("onetrust-banner-sdk").style.transition="bottom 0.8s ease",document.getElementById("onetrust-banner-sdk").style.bottom=a+30+"px"),document.getElementById("QSIFeedbackButton-btn")&&document.getElementById("QSIFeedbackButton-btn").getElementsByTagName("img")&&document.getElementById("QSIFeedbackButton-btn").getElementsByTagName("img").length>0&&(document.getElementById("QSIFeedbackButton-btn").style.transition="bottom 0.8s ease",document.getElementById("QSIFeedbackButton-btn").style.bottom=a+30+"px"),O&&document.querySelector('[role="alertdialog"]')&&(document.querySelector('[role="alertdialog"]').style.height="83%")}}),w.getElementsByTagName("iframe")&&w.getElementsByTagName("iframe").length>0)){const s=w.getElementsByTagName("iframe")[0];if(s&&s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.body){const a=w.getElementsByTagName("iframe")[0].contentWindow.document.body;if(null!=a){const c=a.querySelectorAll("div a");c&&c.length>0&&c.forEach(function(r){r&&r.addEventListener("click",function(){U.logAdEventInAmplitude("click",V.eQ.ANCHOR)})})}}}}catch(U){console.error(U)}}setOtIconAtDefaultPosition(){const U=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),w=document.getElementsByClassName("ot-floating-button__front");w&&w[0]&&(w[0].style.transition="bottom 0.8s ease",w[0].style.bottom="30px"),document.getElementById("onetrust-banner-sdk")&&(document.getElementById("onetrust-banner-sdk").style.transition="bottom 0.8s ease",document.getElementById("onetrust-banner-sdk").style.bottom="30px"),document.getElementById("QSIFeedbackButton-btn")&&document.getElementById("QSIFeedbackButton-btn").getElementsByTagName("img")&&document.getElementById("QSIFeedbackButton-btn").getElementsByTagName("img").length>0&&(document.getElementById("QSIFeedbackButton-btn").style.transition="bottom 0.8s ease",document.getElementById("QSIFeedbackButton-btn").style.bottom="30px"),U&&document.querySelector('[role="alertdialog"]')&&(document.querySelector('[role="alertdialog"]').style.height="100%")}static#e=this.\u0275fac=function(w){return new(w||_)(A.KVO(e.y),A.KVO($.k),A.KVO(W.z),A.KVO(K.Fq),A.KVO(C.qd),A.KVO(D.a),A.KVO(P.qQ),A.KVO(A._9s),A.KVO(f.a),A.KVO(E.nX))};static#t=this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},27310:(n,d,t)=>{"use strict";t.d(d,{L:()=>a});var o=t(95006),e=t(7605),x=t(75194),$=t(37486),W=t(34781),K=t(16619),V=t(67376),P=t(77202),D=t(83921),f=t(14421),C=t(93885),A=t(31457),E=t(64646),N=t(66726),_=t(54438);let M=(()=>{class c{constructor(g,p){this.cloudRestService=g,this._store=p,this.API_METHOD="cloud-promo/PromoAPI/get_promo_discount",this._store.pipe((0,E.Lt)(N.mA)).subscribe(h=>{this.corridor=h}),this._store.pipe((0,E.Lt)(N.rb)).subscribe(h=>{this.selectedProduct=h}),this._store.pipe((0,E.Lt)(N.dj)).subscribe(h=>{this.isPPSprofile=h}),this._store.pipe((0,E.Lt)(N.w8)).subscribe(h=>{this.sender=h})}getPromoDiscount(g,p){const h=this.getPromoDiscountBodyRequest(g),l=this.getCloudHeaders(h,p);return g.campaign&&g.campaign.isCallNewPromoApi&&(this.API_METHOD="prices/promo"),this.cloudRestService.POST(this.API_METHOD,h,l).pipe((0,o.T)(v=>v&&v.status&&"SUCCESS"===v.status.code?v&&v.campaign&&v.campaign.campaign_name?this.updatePromoPricingDetails(v):this.updateDiscountDetails(v):this.updateErrorResponse(v)),(0,D.W)(v=>this.updateErrorResponse(v)))}getCookie(){return"245024209201"}getGwpPromoDiscountBodyRequest(g,p){const h=this.getCookie();return p.promoFlow||(p.promoFlow=$.wN.APPLY),p.identifier||(p.identifier="MULTIUSE"),typeof p.isMultiUse>"u"&&(p.isMultiUse=!0),{header:{source:g.header.source?g.header.source:"WUCOM",appName:g.header.app_name?g.header.app_name:"WUCOMAPPS",appVersion:g.header.app_version?g.header.app_version:"1.0",timeStamp:g.header.timestamp?g.header.timestamp:(new Date).toISOString(),correlationId:g.header.correlation_id,transactionId:g.header.transaction_id},posAgent:{version:g.pos_agent.version?g.pos_agent.version:"1.2",channel:g.pos_agent.channel,client:g.pos_agent.client},promoDetails:{promoCode:g.get_promo_dsc.primary_promos[0].promo_code,order:g.get_promo_dsc.primary_promos[0].order.toString(),multiUse:p.isMultiUse,showRewards:typeof g.get_promo_dsc.show_rewards<"u"&&g.get_promo_dsc.show_rewards,identifier:p.identifier},context:{charges:g.get_promo_dsc.context&&g.get_promo_dsc.context.charges?g.get_promo_dsc.context.charges:"",segment:g.get_promo_dsc.context&&g.get_promo_dsc.context.segment?g.get_promo_dsc.context.segment:"",eligibility:g.get_promo_dsc.context&&g.get_promo_dsc.context.eligibility?g.get_promo_dsc.context.eligibility:""},senderDetails:{countryCode:this.selectedProduct.origination?.countryIsoCode,currency:this.selectedProduct.origination?.currencyIsoCode,grossAmount:this.formatAmount(this.selectedProduct.origination?.grossAmount),principalAmount:this.formatAmount(this.selectedProduct.origination?.principalAmount),senderEmail:this.sender.email},receiverDetails:{countryCode:this.selectedProduct.destination?.countryIsoCode,currency:this.selectedProduct.destination?.currencyIsoCode,expectedPayoutAmount:this.formatAmount(this.selectedProduct.destination?.expectedPayoutAmount)},products:{code:g.get_promo_dsc.money_txn.service,paymentType:g.get_promo_dsc.money_txn.funds_in,transType:g.get_promo_dsc.money_txn.trans_type,baseFee:g.get_promo_dsc.money_txn.base_fee.toString(),exchangeRate:this.selectedProduct.exchangeRate},flowName:p.flowName?p.flowName:$.iV.SENDMONEYONLINE,promoFlow:p.promoFlow,security:{client_ip:h,session:{id:g.header.correlation_id}}}}formatAmount(g){return g}getPromoDiscountBodyRequest(g){const p={header:{source:g.header.source?g.header.source:"WUCOM",app_name:g.header.app_name?g.header.app_name:"WUCOMAPPS",app_version:g.header.app_version?g.header.app_version:"1.0",host_name:g.header.host_name?g.header.host_name:void 0,host_ip:g.header.host_ip?g.header.host_ip:void 0,timestamp:g.header.timestamp?g.header.timestamp:(new Date).toISOString(),correlation_id:g.header.correlation_id,transaction_id:g.header.transaction_id,auth_token:g.header.auth_token?g.header.auth_token:void 0},pos_agent:{version:g.pos_agent.version?g.pos_agent.version:"1.2",channel:g.pos_agent.channel,client:g.pos_agent.client},get_promo_dsc:{show_rewards:typeof g.get_promo_dsc.show_rewards<"u"&&g.get_promo_dsc.show_rewards,primary_promos:g.get_promo_dsc.primary_promos,context:{charges:g.get_promo_dsc.context&&g.get_promo_dsc.context.charges?g.get_promo_dsc.context.charges:"",segment:g.get_promo_dsc.context&&g.get_promo_dsc.context.segment?g.get_promo_dsc.context.segment:"",eligibility:g.get_promo_dsc.context&&g.get_promo_dsc.context.eligibility?g.get_promo_dsc.context.eligibility:""},money_txn:{base_fee:g.get_promo_dsc.money_txn.base_fee,orig_cty_iso2_ext:g.get_promo_dsc.money_txn.orig_cty_iso2_ext,orig_curr_iso3:this.setCountryCurrencyChange(g.get_promo_dsc.money_txn.orig_cty_iso2_ext,g.get_promo_dsc.money_txn.orig_curr_iso3),dest_cty_iso2_ext:g.get_promo_dsc.money_txn.dest_cty_iso2_ext,dest_curr_iso3:this.setCountryCurrencyChange(g.get_promo_dsc.money_txn.dest_cty_iso2_ext,g.get_promo_dsc.money_txn.dest_curr_iso3),service:g.get_promo_dsc.money_txn.service,funds_in:g.get_promo_dsc.money_txn.funds_in,send_amount:g.get_promo_dsc.money_txn.send_amount,trans_type:g.get_promo_dsc.money_txn.trans_type?g.get_promo_dsc.money_txn.trans_type:"WMN"}}};if(this.isPPSprofile){const h=JSON.parse(sessionStorage.getItem("CustomerProfile")||"{}");if(h&&h.clientId&&h.providerId){const l=h.client_name||null,v=h.clientId||null,S=h.providerId||null,m=this.corridor&&this.corridor.senderCurrency||null,b=this.corridor&&this.corridor.senderCountry&&this.corridor.senderCountry.isoCode||"";l?(p.pos_agent.client=l,p.pos_agent.channel="WCON"):C.Y.cloudPricingAPIForPPS[b][S][m][v]?(p.pos_agent.client=C.Y.cloudPricingAPIForPPS[b][S][m][v].client,p.pos_agent.channel=C.Y.cloudPricingAPIForPPS[b][S][m][v].channel):(p.pos_agent.client=C.Y.cloudPricingAPIForPPS[b][S][m].Default.client,p.pos_agent.channel=C.Y.cloudPricingAPIForPPS[b][S][m].Default.channel)}}return g.campaign&&(g.campaign.campaign_name||g.campaign.subscription_id)&&(p.campaign={campaign_name:g.campaign&&g.campaign.campaign_name?g.campaign.campaign_name:void 0,subscription_id:g.campaign&&g.campaign.subscription_id?g.campaign.subscription_id:void 0}),p}getCloudHeaders(g,p){const h={};return p&&p.enableCorrelationTransactionIdHeaders&&(h["X-WU-Correlation-ID"]=g.header.correlation_id,h["X-WU-Transaction-ID"]=g.header.transaction_id),h}getPromoCloudHeaders(g){return this.getXMetaBrowserDetails(g).replace(/"([^"]+)":/g,"$1:").slice(1,-1)}getXMetaBrowserDetails(g){const p={};return p.BrowserLanguage=window.navigator.language,p.BrowserColorDepth=window.screen.colorDepth.toString(),p.BrowserScreenHeight=window.screen.height.toString(),p.BrowserScreenWidth=window.screen.width.toString(),p.BrowserTimeZone=(new Date).getTimezoneOffset().toString(),p.UserAgent=window.navigator.userAgent,p.IPAddress=g,p.DeviceChannel="browser",p.BrowserJavascriptEnabled="true",p.BrowserHeader=this.getBrowserHeader("content-type"),p.BrowserJavaEnabled=window.navigator.javaEnabled().toString(),JSON.stringify(p)}getBrowserHeader(g){const p=new XMLHttpRequest,h=document.URL;return p.open("GET",h,!1),p.send(null),p?.getResponseHeader(g)?.toLowerCase()}updateCSDiscountDetails(g){let p;return g&&g.promoDetails&&g.promoDetails.promoCode&&(p={promotion:{code:"",discount:"",message:""}},p.promotion.code=g.promoDetails.promoCode,p.promotion.discount=g.baseFeeDiscount,p.promotion.message=g.promoDetails.description),p}updateDiscountDetails(g){let p;return g&&g.promo_dsc_resp&&g.promo_dsc_resp.primary_promos_result&&g.promo_dsc_resp.primary_promos_result.length>0&&(p={promotion:{code:"",discount:"",message:""}},p.promotion.code=g.promo_dsc_resp.primary_promos_result[0].promo_code,p.promotion.discount=g.promo_dsc_resp.base_fee_discount,p.promotion.message=g.promo_dsc_resp.primary_promos_result[0].msg),p}updatePromoPricingDetails(g){let p;return g&&g.campaign&&g.campaign.campaign_name&&(g.campaign.campaign_name=g.campaign.campaign_name.toUpperCase(),p={promotion:{campaign_name:"",code:""}},p.promotion.campaign_name=g.campaign.campaign_name,p.promotion.code=g.campaign.campaign_name),p}updateErrorResponse(g){let p;if(g&&g.status&&g.status.error)p={error:{code:"",message:""}},p.error.code=g.status.error.code,p.error.message=g.status.error.message,typeof DTM_Trigger<"u"&&DTM_Trigger("DTM-ERROR-DIRECT-CALL",p.error.code);else if(g&&"string"==typeof g&&g.indexOf("Http failure")>-1)return p={error:{code:"0",message:g}},typeof DTM_Trigger<"u"&&DTM_Trigger("DTM-ERROR-DIRECT-CALL",p.error.code),(0,f.of)(p);return p}setCountryCurrencyChange(g,p){let h;const l=C.Y.changeCountryCurrency&&C.Y.changeCountryCurrency[g]?C.Y.changeCountryCurrency[g]:void 0;if(l&&l.length>0)for(const v of l)Object.keys(v).forEach(function(S){S===p&&(h=v[S])});return h||p}static#e=this.\u0275fac=function(p){return new(p||c)(_.KVO(A.p),_.KVO(E.il))};static#t=this.\u0275prov=_.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();class w{}var O=t(17742),G=t(45286),s=t(41445);let a=(()=>{class c{constructor(g,p,h,l,v,S,m){this.restMethod=g,this.updateStore=p,this.dtmAnalyticService=h,this.baseRequestService=l,this.utilService=v,this.promoDiscountService=S,this.countryConfigService=m,this.moreOfferClick=new G.B7,this.destroyed$=new G.B7}applyPromoMethod(g){const p=this.updateStore.getState();this.partnerName=this.utilService.getPartnerName(),this.corridor=p.corridor,this.selectedProduct=p.selectedProduct,this.senderAmount=p.senderAmount,this.receiverAmount=p.receiverAmount;const l=this.getRequest(g);return this.restMethod.POST("/applyPromo",l).pipe((0,o.T)(v=>{if(v.error){const S={};return S.errorCode=v.error.code,S.errorMessage=v.error.message,this.selectedProduct&&this.selectedProduct.promotion&&(delete this.selectedProduct.promotion,this.updateStore.updateSelectedProduct(JSON.parse(JSON.stringify(this.selectedProduct)))),v}if(!v.error&&v.paymentDetails&&v.paymentDetails.promotion){const S=this.validDiscount(v.paymentDetails.promotion);this.selectedProduct.promotion={code:v.paymentDetails.promotion.code,discount:S},this.updateStore.updateSelectedProduct(JSON.parse(JSON.stringify(this.selectedProduct))),DTM_Trigger("discountApplied","discount",this.dtmAnalyticService.getDiscount())}return v}))}validDiscount(g){const p=V.get(this.selectedProduct,"fees");if(0===p)return 0;let h=V.get(g,"discount");return h?(h=.01*+h,p<h?p:h):0}getRequest(g){return{security:this.baseRequestService.getSecurity(),operation:"PD",external_reference_no:"1",payment_details:{origination:{principal_amount:this.getPrincipalAmount(),gross_amount:this.getGrossAmount(),country_iso_code:V.get(this.corridor,"senderCountry.isoCode"),currency_iso_code:this.corridor.senderCurrency},destination:{country_iso_code:V.get(this.corridor,"receiverCountry.isoCode"),currency_iso_code:this.corridor.receiverCurrency,expected_payout_amount:this.getExpectedPayoutAmount()},exchange_rate:this.selectedProduct.exchangeRate.toFixed(4),promotion:{code:g,message:""},payment_type:this.getPaymentType(this.selectedProduct.payIn),fees:{charges:this.getFees()},taxes:{}},wu_product:{code:this.selectedProduct.code,name:this.selectedProduct.name},bashPath:this.baseRequestService.getBashPath()}}getPrincipalAmount(){return Math.round(100*this.senderAmount)}getGrossAmount(){return(100*(this.selectedProduct.fees+parseFloat(this.senderAmount))).toFixed(0)}getExpectedPayoutAmount(){return Math.round(100*this.receiverAmount)}getPaymentType(g){return Object.keys($.mt).find(p=>$.mt[p]===g)}getFees(){return parseInt((100*this.selectedProduct.fees).toFixed(0),10)}savePromoForLater(g,p){const h=this.updateStore.getState();this.partnerName=this.utilService.getPartnerName(),this.corridor=h.corridor,this.selectedProduct=h.selectedProduct,this.senderAmount=h.senderAmount,this.sender=h.sender,this.products=h.products;const l=this.getPromoDiscountPayload(g);return this.restMethod.POST("/GwpGetPromoDiscount",this.promoDiscountService.getGwpPromoDiscountBodyRequest(l,p),"","","",!0).pipe((0,o.T)(v=>(v&&v.promoDetails&&this.fetchPromoListMethod().pipe((0,e.Q)(this.destroyed$)).subscribe(()=>{}),v&&v.error&&(this.selectedProduct.promotion=JSON.parse(JSON.stringify({code:v.error.code,discount:null,message:v.error.message})),this.updateStore.updateSelectedProduct(JSON.parse(JSON.stringify(this.selectedProduct))),this.updateProductItemToProducts(this.selectedProduct)),v)))}fetchPromoListMethod(){const p=this.getRequestBody();return this.restMethod.POST("/GwpGetCustOffers",p,void 0,void 0,void 0,!0).pipe((0,o.T)(h=>{h&&h.customer_offers?.customer_promos&&this.updateStore.updatePromoCodeList(h.customer_offers.customer_promos)}))}getRequestBody(){const g=new w,p=this.updateStore.getState();return g.security={session:{id:p.sessionId},client_ip:p.ClientIp},g.umn=sessionStorage.getItem("AccountNumber"),g.device={type:"WEB"},g.channel={name:"Western Union",type:"WEB",version:"9Z00",device_identifier:this.utilService.isMobileDevice()?"RESPONSIVE_MOB":"RESPONSIVE_WEB"},g}checkExtraInfo(g,p,h){if(!g?.promoFlow){const l=p?.promoCodeList;if(l&&l.length>0){const v=l.find(S=>S.promo_code===h);v?(g.promoFlow=$.wN.APPLYFROMPROMOLIST,g.isMultiUse=v.multiUse):(g.promoFlow=$.wN.APPLY,g.isMultiUse=!0)}}return g}applyPromoDiscountMethod(g,p,h){const l=this.utilService.isPromolistEnabled(),v=g.promoCode,S=this.updateStore.getState();this.partnerName=this.utilService.getPartnerName(),this.corridor=S.corridor,this.selectedProduct=S.selectedProduct,this.senderAmount=S.senderAmount,this.sender=S.sender,this.products=S.products;const m=this.getPromoDiscountPayload(v,p,h);let b=!1;if(this.sender&&this.sender.myWuPromo&&this.sender.myWuPromo.length>0&&this.sender.myWuPromo.find(Y=>Y.promoCode===v)&&(b=!0),!b&&l){this.checkExtraInfo(g,S,v);const Y=this.promoDiscountService.getGwpPromoDiscountBodyRequest(m,g);return this.restMethod.POST("/GwpGetPromoDiscount",Y,"","","",!0).pipe((0,o.T)(R=>(R&&R.promoDetails?(this.utilService.isNewCustomerBFPromoEnabled()&&R&&R.promoDetails?.promoType?this.updateStore.updatePromoDetails({...this.updateCSDiscountDetails(R)?.promotion,type:R.promoDetails?.promoType?.toUpperCase(),userAppliedPromoCode:g?.promoCode}):this.updateStore.updatePromoDetails(null),R=this.updateCSDiscountDetails(R)):(this.updateStore.updatePromoDetails(null),R=this.updateCSErrorMessage(R)),this.validateResponse(R,p,v,g),R)))}return this.promoDiscountService.getPromoDiscount(m,g={enableCorrelationTransactionIdHeaders:!0}).pipe((0,o.T)(Y=>(Y=this.checkForNewCustPromos(Y,v),this.validateResponse(Y,p,v),Y)))}checkForNewCustPromos(g,p){if(this.utilService.isNewCustomerBFPromoEnabled()){const h=JSON.parse(sessionStorage.getItem("ERR_HANDLING_LISTS")||"{}"),l=this.updateStore.getState()?.countryDynamicParams,v=l?.newCustPromoCodes?l?.newCustPromoCodes?.split(","):h?.newCustPromoCodes?h?.newCustPromoCodes:[],S=l?.errorCodesToUpdate?l?.errorCodesToUpdate?.split(","):h?.errorCodesToUpdate?h?.errorCodesToUpdate:[],m="existingCustomer"===this.utilService.getCookieItem("userIdentity"),b={error:{code:"M0302"}};return g?.promotion&&m&&v?.includes(p)||g?.error&&S?.includes(g?.error?.code)&&v?.includes(p)?b:g}return g}updateSelectedProductWithExtraInfo(g){g&&g.promoFlow&&this.selectedProduct.promotion&&(this.selectedProduct.promotion.isMultiUse=g.isMultiUse,this.selectedProduct.promotion.promoFlow=g.promoFlow,this.selectedProduct.promotion.identifier=g.identifier,this.selectedProduct.promotion.flowName=g.flowName)}validateResponse(g,p,h,l){if(g&&g.promotion)p?(p.promotion=g.promotion,this.updateProductItemToProducts(p)):g.promotion&&g.promotion.campaign_name?(this.selectedProduct.promotion=g.promotion,this.updateStore.updateSelectedProduct(JSON.parse(JSON.stringify(this.selectedProduct))),this.updateProductItemToProducts(this.selectedProduct)):(this.selectedProduct.promotion=g.promotion,this.updateSelectedProductWithExtraInfo(l),this.updateStore.updateSelectedProduct(JSON.parse(JSON.stringify(this.selectedProduct))),this.updateProductItemToProducts(this.selectedProduct),DTM_Trigger("discountApplied","discount",this.dtmAnalyticService.getDiscount()));else if(g&&g.error){this.utilService.isPromolistEnabled()||(g.error=this.utilService.updateCloudPricingErrorCodeMsg(g.error));const v={code:g.error.code,discount:null,message:g.error.message,promoCode:h};p?(p.promotion=JSON.parse(JSON.stringify(v)),this.updateProductItemToProducts(p)):l&&l.source||(this.selectedProduct.promotion=JSON.parse(JSON.stringify(v)),this.updateStore.updateSelectedProduct(JSON.parse(JSON.stringify(this.selectedProduct))),this.updateProductItemToProducts(this.selectedProduct))}}updateCSDiscountDetails(g){let p;return g&&g.promoDetails&&g.promoDetails.promoCode&&(p={promotion:{code:"",discount:"",message:""}},p.promotion.code=g.promoDetails.promoCode,p.promotion.discount=parseFloat(g.baseFeeDiscount),p.promotion.message=g.promoDetails.description),p}updateCSErrorMessage(g){let p;return g&&g.error&&(p={error:{code:"",message:""}},p.error.code=g.error.code,p.error.message=g.error.message),p}getPromoDiscountPayload(g,p,h){const l={header:{app_name:"WUCOMWEB",app_version:"NG6",correlation_id:this.utilService.getCorrelationTransactionId()["X-WU-Correlation-ID"],transaction_id:this.utilService.getCorrelationTransactionId()["X-WU-Transaction-ID"]},pos_agent:{version:"9Z00",channel:this.getChannelData(p?p.payIn:this.selectedProduct.payIn),client:this.getClientData()},get_promo_dsc:{context:{segment:this.getSendersLevelCode(this.sender),eligibility:this.getEligibilityBufferData(this.sender)},primary_promos:this.getPrimaryPromos(g),money_txn:{base_fee:p?p.fees:this.selectedProduct.fees,orig_cty_iso2_ext:V.get(this.corridor,"senderCountry.isoCode"),orig_curr_iso3:this.corridor.senderCurrency,dest_cty_iso2_ext:V.get(this.corridor,"receiverCountry.isoCode"),dest_curr_iso3:this.corridor.receiverCurrency,service:p?p.code:this.selectedProduct.code,funds_in:this.getCloudPaymentType(p?p.payIn:this.selectedProduct.payIn),send_amount:Number(this.senderAmount),trans_type:this.getCloudPaymentType(p?p.payIn:this.selectedProduct.payIn)+"MT"}}};return this.utilService.isPromoSegmentPricingEnabled()&&(l.campaign={campaign_name:"",subscription_id:"",isCallNewPromoApi:!0},h&&(h.promoPricingCampaign||h.subscriptionId)&&(l.campaign.campaign_name=h.promoPricingCampaign?h.promoPricingCampaign:void 0,l.campaign.subscription_id=h.subscriptionId?h.subscriptionId:void 0),l.campaign.isCallNewPromoApi=!0),l}getPrimaryPromos(g){const p=[];return p.push({promo_code:g,order:0}),p}getCloudPaymentType(g){return Object.keys($.bw).find(p=>$.bw[p]===g)}getSendersLevelCode(g){let p="";return g&&g.levelCode&&(p=g.levelCode),p}getEligibilityBufferData(g){let p="";return g&&g.eligibilityBuffer&&(p=g.eligibilityBuffer),p}updateProductItemToProducts(g){const p=[];for(let h=0;h<this.products.length;h++)this.products[h].code===g.code&&this.products[h].payOut===g.payOut&&this.products[h].payIn===g.payIn&&(this.products[h]=g),p.push(this.products[h]);this.updateStore.updateProducts(p)}getChannelData(g){let p="";return p="AG"===g&&this.countryConfigService.getAirEnabled()?"WRET":!this.partnerName||this.partnerName.toLowerCase()!==C.Y.partner_kroger&&this.partnerName.toLowerCase()!==C.Y.POSTEITALIANE_PARTNER&&this.partnerName.toLowerCase()!==C.Y.LBP_PARTNER?"WWEB":C.Y.cloudPricingAPIForPartners[this.partnerName].channel,p}getClientData(){let g="";return g=!this.partnerName||this.partnerName.toLowerCase()!==C.Y.partner_kroger&&this.partnerName.toLowerCase()!==C.Y.POSTEITALIANE_PARTNER&&this.partnerName.toLowerCase()!==C.Y.LBP_PARTNER?"WUCOM":C.Y.cloudPricingAPIForPartners[this.partnerName].client,g}static#e=this.\u0275fac=function(p){return new(p||c)(_.KVO(x.R),_.KVO(W.k),_.KVO(s.c),_.KVO(K.E),_.KVO(P.a),_.KVO(M),_.KVO(O.q))};static#t=this.\u0275prov=_.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},12038:(n,d,t)=>{"use strict";t.d(d,{i:()=>A});var o=t(95006),e=t(75194),x=t(34781),$=t(16619);class W{}var K=t(5365),V=t(87801),P=t(58652),D=t(78863),f=t(77202),C=t(54438);let A=(()=>{class E{constructor(_,M,U,w,O,G){this.restMethod=_,this.updateStoreUsingActionService=M,this.baseRequestService=U,this.optimusService=w,this.readURL=O,this.utilService=G}getCancelTransaction(){return this.restMethod.POST("/CancelTransaction",this.getCancelTransactionRequest()).pipe((0,o.T)(_=>_))}getCancelCode(_){const M=_?V.MG.OPTIONAL_CANCEL_REASON_CODE_LIST:V.MG.CANCEL_REASON_CODE_LIST,U=this.readURL.getLanguageFromURL(),w=this.readURL.getCountryFromURL(),O=new P.J;return O.setOrigination(w).setLanguage(U).setLists(M,"country").setBashpath(`/${w}/${U}`),this.optimusService.invokeGenericFactory(M,O).pipe((0,o.T)(G=>this.iterateArray(G)))}iterateArray(_){if(!_||_.error)return _;const M=_.CANCEL_REASON_CODE_LIST||_.OPTIONAL_CANCEL_REASON_CODE_LIST,U=[];let w=0;for(const O in M)M.hasOwnProperty(O)&&(w++,U.push({ID:`${w}`,REASON_CODE:O,REASON_VALUE:M[O]}));return{database:{schema:{cols:{col:[{id:"0",name:"ID"},{id:"1",name:"REASON_CODE"},{id:"2",name:"REASON_VALUE"}]}},records:{record:U}},ps_version:"Build-"}}cancelPendingTransaction(_){return this.restMethod.POST("/CancelPendingTransaction",this.cancelPendingTransactionRequest(_)).pipe((0,o.T)(M=>M))}getCancelTransactionRequest(){this.sessionFromStore=this.updateStoreUsingActionService.getState();const _={};return _.security=this.baseRequestService.getSecurity(),_.security.black_box_data=null,_.transaction_id=this.sessionFromStore.sender&&this.sessionFromStore.sender.customerVerificationStatus&&this.sessionFromStore.sender.customerVerificationStatus.transactionId,_}cancelPendingTransactionRequest(_){const M=new W;return M.transaction_status=this.getCurrentStatus(_.transactionStatus),M.reason_for_action="DSS-RetailCancel",M.self_serv_type="cancel",M.token=_.token,M.reason_code=this.utilService.isNoQuestionsAskedEnabled()?"OTH":_.reasonCode,M.action="CANCEL_STORE",M.channel=this.baseRequestService.getChannel(),M.security=this.baseRequestService.getSecurity(),M.bashPath=this.baseRequestService.getBashPath(),("true"===_.transactionTypeRetail||"true"===_.transactionTypeDigital)&&(M.transaction_type="RETAIL"),"true"===_.digitalCancelFlow&&(M.transaction_type="DIGITAL"),M}getCurrentStatus(_){return"Available for pickup"===_?"Available":_}getCancelValidate(_){return this.restMethod.POST("/CancelPendingTransaction",this.getRetailCancelValidateBodyRequest(_))}getRetailCancelValidateBodyRequest(_){const M={};return M.channel=this.baseRequestService.getChannel(),M.security=this.baseRequestService.getSecurity(),("true"===_.transaction_type_retail||"true"===_.transaction_type_digital)&&(M.transaction_type="RETAIL"),"true"===_.digitalCancelFlow&&(M.transaction_type="DIGITAL"),M.transaction_status=this.getCurrentStatus(_.transaction_status),M.reason_for_action="DSS-RetailCancel",M.self_serv_type="cancel",M.token=_.token,M.reason_code=this.utilService.isNoQuestionsAskedEnabled()?"OTH":_.reason_code,_.frtFlag&&(M.frt_flag=_.frtFlag),M.action="CANCEL_VALIDATE",M.bashPath=this.baseRequestService.getBashPath(),M}static#e=this.\u0275fac=function(M){return new(M||E)(C.KVO(e.R),C.KVO(x.k),C.KVO($.E),C.KVO(K.B),C.KVO(D.Fq),C.KVO(f.a))};static#t=this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},3164:(n,d,t)=>{"use strict";t.d(d,{L:()=>M});var o=t(47058),e=t(76265),x=t(67376),W=t(69900),K=t(34781),V=t(8114),P=t(16619),D=t(75194),f=t(56294),C=t(61314),A=t(78863),E=t(77202),N=t(3902),_=t(54438);let M=(()=>{class U{constructor(O,G,s,a,c,r,g,p,h,l,v){this.countryConfigService=O,this.userService=G,this.signicatService=s,this.baseService=a,this.restMethod=c,this.updateStoreUsingActionService=r,this.smvService=g,this.utilService=p,this.readURL=h,this.featureFlagService=l,this.customerProfileService=v,this.profileData=this.getGatewayCustomerInfo(),this.currentVerificationTemplate=JSON.parse(sessionStorage.getItem("SelectedVerificationOption")||"{}"),this.verificationOptions=JSON.parse(sessionStorage.getItem("verificationOptionMethods")||"{}"),this.transformDropdownList=S=>{const m={};for(const b in S)S.hasOwnProperty(b)&&(m[b]={id:b,value:S[b]});return m.listPath&&delete m.listPath,this.sortProperties(m)}}getCountryConfig(){return this.countryConfigService.getCountry()?this.countryConfigService.getCountry().toUpperCase():""}fetchImageResults(O){const G=x.find(e.U.countries[this.getCountryConfig()],s=>s.id===O);return this.getAbsPath(G?.src)}getAbsPath(O){return this.utilService.isOnfidoKycEnabled()?e.U.rootOnfido+O:e.U.root+O}buildVerifyEidPayload(O){const G=this.updateStoreUsingActionService.getState().sender;return{id:G&&G.nationalIdNumber?this.decryptAtoB(G.nationalIdNumber):"",saml_response:O,request_url:this.signicatService.getReturnUrl(),compliance_details:{occasional_flag:"Occasional"},security:this.baseService.getSecurity(),additional_information:{param:[{type:"flow_name",value:"inline"}]}}}getValidationRules(O,G,s){const a=new s;return Object.keys(O).forEach(c=>{a[c]=G[c]}),a}getIdentificationImage(O){return this.fetchImageResults(O)}updateCustomerProfile(O){return this.userService.updateCustomerProfile(O)}verifyEid(O){return this.restMethod.POST("/VerifyEID",this.buildVerifyEidPayload(O))}callSendMoneyValidation(O){return this.smvService.servicePostCall(O)}getCustomerProfile(){this.customerProfileService.getCustomerProfile()}encryptBtoA(O){return window.btoa(O)}decryptAtoB(O){return window.atob(O)}compare(O,G){return O[1].value<G[1].value?-1:O[1].value>G[1].value?1:0}sortProperties(O){const G=[];for(const s in O)O.hasOwnProperty(s)&&G.push([s,O[s]]);return G.sort(this.compare),G.reduce(function(s,a){return s[a[0].toString()]=a[1],s},{})}transformOccupationDropdownList(O){const G=[];for(const s in O)O.hasOwnProperty(s)&&G.push({id:s.replace(/#/g,"/").replace(/##/g,"/"),value:O[s]});return delete G.listPath,G}transformPositionLevelDropdownList(O){const G={};for(const s in O)O.hasOwnProperty(s)&&(G[s]={id:s.replace(/##/g,"/").replace(/#/g,"/"),value:O[s]});return delete G.listPath,G}transformAnnaualIncomeDropdownList(O){const G=[];for(const s in O)O.hasOwnProperty(s)&&G.push({id:s,value:O[s]});return delete G.listPath,G}transformDiallingPrefixDropdownList(O){const G=[];for(const s in O)if(O.hasOwnProperty(s))for(const a in O[s])O[s].hasOwnProperty(a)&&G.push({id:a,value:a+" ("+s+")"});return delete G.listPath,G}getGatewayCustomerInfo(){return JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}")}getProfileData(){return this.getGatewayCustomerInfo}isAnnualReconfirmationRequired(){const O=JSON.parse(sessionStorage.getItem("ErrorResponse"));return O&&"C1136"==O.code}getIntersectionKeys(O,G){return Object.keys(O).filter(function(a){return void 0!==G[a]})}compareAddressChange(O,G){let s=!1;const a=this.getIntersectionKeys(O,G);return x.forEach(a,function(c){O[c]!==G[c]&&(s=!0)}),s}lookUpAddressCompare(O,G){const s=O,a=this.getupdatedAddress(G),c=this.compareAddressChange(s,a),r=G&&G.address;r&&r.raw_address&&delete r.raw_address,!c&&r&&(r.raw_address=s.raw_address)}getupdatedAddress(O){const G=O&&O.address;let s={};return G&&(s={address_line1:G.addrLine1,address_line2:G.addrLine2,city:G.city,state:G.state,postal_code:G.postalCode}),s}getTransactionData(){const O=this.updateStoreUsingActionService.getState(),G=O.selectedProduct||{},s=O.sender||{},a=this.getSMVReceiver(O);return this.getPartnerWalletObject(s),{paymentDetails:{paymentType:G.payIn,creditDebitCard:O.selectedCard},sender:s,receiver:a}}getSMVReceiver(O){const G=x.cloneDeep(O.selectedReceiver||{});return G.contactDetails&&(G.mobilePhone={phoneNumber:{countryCode:G.contactDetails.countryCode?G.contactDetails.countryCode:"",nationalNumber:G.contactDetails.nationalNumber?G.contactDetails.nationalNumber:""}}),G.wallet&&(G.wallet={bankAccounts:{bankAccount:G.wallet.bankAccounts},wuWallet:G.wallet.wuWallet,wuD2c:G.wallet.wuD2c}),G}getPartnerWalletObject(O){if(this.utilService.isHostedPartnerType()){const G=this.updateStoreUsingActionService.getState().partnerData?.retrieveResponseData;if(G&&G.paymentDetails&&G.paymentDetails.paymentInstrument&&1===G.paymentDetails.paymentInstrument.bankAccounts?.length){const c={wallet:{bankAccounts:{bankAccount:G.paymentDetails.paymentInstrument.bankAccounts}}};sessionStorage.setItem("isSinglePartnerBank","true"),this.updateStoreUsingActionService.updateSelectedBank(c),O.wallet=c.wallet}}}static#e=this.\u0275fac=function(G){return new(G||U)(_.KVO(o.qd),_.KVO(W.D),_.KVO(V.K),_.KVO(P.E),_.KVO(D.R),_.KVO(K.k),_.KVO(f.T),_.KVO(E.a),_.KVO(A.Fq),_.KVO(N.y),_.KVO(C.D))};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},44243:(n,d,t)=>{"use strict";t.d(d,{M:()=>E});var o=t(1027),e=t(67867),x=t(61862),$=t(95006),W=t(84787),K=t(34781),V=t(77202),P=t(16619),D=t(93885),f=t(64932),C=t(28626),A=t(54438);let E=(()=>{class N{constructor(M,U,w,O,G,s){this.smoConfig=M,this.restRequest=U,this.globalService=w,this.updateStoreUsingActionService=O,this.utilService=G,this.baseRequestService=s,this.westernUnion={},this.westernUnion=this.globalService.westernUnion,this.countryCode=this.smoConfig._getCountryIsoCode().toLowerCase(),this.languageCode=this.smoConfig.getLanguageFromURL()}createSessionMethod(){const M="/CreateSession",U=this.getCreateSessionRequest(),w=this.utilService.isSybaseEnabled(M);return this.restRequest.POST(M,U).pipe((0,$.T)(O=>(w&&((O=this.utilService.formatToCamelCase(O))&&O.error?this.updateStoreUsingActionService.updatePageLevelNotification({errorCode:O.error.code,errorMessage:O.error.message}):O&&(this.updateStoreUsingActionService.updateSessionId(O.security.session.id),O.security.session.encryptedSessionId&&this.updateStoreUsingActionService.updateEncryptedSessionId(O.security.session.encryptedSessionId),this.utilService.updateDataLayerBeforeLogin())),O)))}createSessionRetailMethod(){const M="/CreateSession",U=this.getCreateSessionRetailRequest(),w=this.utilService.isSybaseEnabled(M);return this.restRequest.POST(M,U,"retail").pipe((0,$.T)(O=>(w&&(O=this.utilService.formatToCamelCase(O)).error&&console.error(`Retail CreateSession failed, errorCode: ${O.error.code}, errorMessage: ${O.error.message}`),O)))}createSessionDSSRetailMethod(){const M="/CreateSession",U=this.getCreateSessionDSSRetailRequest(),w=this.utilService.isSybaseEnabled(M);return this.restRequest.POST(M,U,"retail").pipe((0,$.T)(O=>(w&&(O=this.utilService.formatToCamelCase(O)).error&&console.error(`DSS Retail CreateSession failed, errorCode: ${O.error.code}, errorMessage: ${O.error.message}`),O)))}createSessionLBPRetailMethod(){const M="/CreateSession",U=this.getCreateSessionLBPRetailRequest(),w=this.utilService.isSybaseEnabled(M);return this.restRequest.POST(M,U,"retail").pipe((0,$.T)(O=>(w&&(O=this.utilService.formatToCamelCase(O)).error&&console.error(`LBP Retail CreateSession failed, errorCode: ${O.error.code}, errorMessage: ${O.error.message}`),O)))}getCreateSessionLBPRetailRequest(){this.countryCode=this.smoConfig._getCountryIsoCode().toLowerCase();const M={device:{id:"",type:"WEB",start_time:"0800",end_time:"2359",current_time:1341},channel:{name:"LBP",type:"RETAIL_KIOSK",version:this.getChannelVersionRetail()},partner:{id:"",system:{id:"LBP",name:"La Bank",version:"V1",connector:{id:""}}},external_reference_no:"1",locale:{country_code:this.countryCode.toUpperCase(),language_code:this.languageCode},security:{black_box_data:null,client_ip:"245024209201",digital:{sessionid:null}},bashPath:"/"+this.countryCode+"/"+this.languageCode};return this.utilService.getCookieItem("SessionId")&&(M.security.digital.sessionid=this.utilService.getCookieItem("SessionId")),M}isMobileDevice(){let M=!1;return navigator&&navigator.userAgent&&/Android|Mobile|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(M=!0),M}getCreateSessionRequest(){const U=this.baseRequestService.getGlobalBlackBoxData();let w;w=this.utilService.getCookieItem("partnerName")||this.utilService.getURLParameter("partnerName"),"BR"===this.countryCode.toUpperCase()&&(w=D.Y.WEB_PARTNER);const O=this.utilService.getCookieItem("lbptrack"),G=this.updateStoreUsingActionService.getState(),s=G&&G.flowType&&G.flowType===f.do.DSS2,a=this.utilService.checkIfUserIsFromMyWuSite(),c=this.utilService.isDOBPhoneLookupEnable()||this.utilService.isAccountBasedRelationshipEnabled()||this.utilService.isLoyaltyProgramEnabled()||a,r=this.utilService.isScvProxyEnabled(),g={device:{id:"",type:"WEB"},channel:{name:"Western Union",type:"WEB",version:"9Z00",device_identifier:this.isMobileDevice()?"RESPONSIVE_MOB":"RESPONSIVE_WEB",is_responsive:"true",...O&&{source:"DUTFSS"},...s&&{source:C.u.DSS_SOURCE},...c&&!s&&!r&&{source:"WU_DIGITAL"},...w&&{partner_id:w.toUpperCase()}},external_reference_no:"1",locale:{country_code:this.countryCode,language_code:this.languageCode},security:{black_box_data:U,client_ip:"245024209201"},bashPath:"/"+this.countryCode+"/"+this.languageCode};return G.isPPSprofile&&(g.channel.name="Cruise",g.channel.type="PPS",g.channel.version="9740"),this.utilService.isSybaseEnabled("/CreateSession")&&(g.security={black_box_data:U,client_ip:"245024209201"},delete g.bashPath),"staging"===(sessionStorage.getItem("featureFlagVersion")?sessionStorage.getItem("featureFlagVersion"):this.globalService.getFeatureFlagEnviornment())&&(g.security.requestHeader=[{key:"feature",value:"staging"}]),g}getCreateSessionRetailRequest(){this.countryCode=this.smoConfig._getCountryIsoCode().toLowerCase();const M={device:{id:"",type:"MOBILE"},channel:{name:"MOB",type:"RETAIL_MOBILE",version:this.getChannelVersionRetail(),device_identifier:this.isMobileDevice()?"RESPONSIVE_MOB":"RESPONSIVE_WEB",is_responsive:"true"},external_reference_no:"1",locale:{country_code:this.countryCode.toUpperCase(),language_code:this.languageCode},security:{black_box_data:null,digital:{sessionid:""}},bashPath:"/"+this.countryCode+"/"+this.languageCode};M.security.digital.sessionid=this.utilService.getCookieItem("SessionId"),"staging"===(sessionStorage.getItem("featureFlagVersion")?sessionStorage.getItem("featureFlagVersion"):this.globalService.getFeatureFlagEnviornment())&&(M.security.requestHeader=[{key:"feature",value:"staging"}]);const w=this.utilService.getPartnerName();return w&&D.Y.cloudPricingAPIForPartners[w].cloudPricingAPIenbaleForRetail&&(M.channel.air_partner_name=w),M}getCreateSessionDSSRetailRequest(){this.countryCode=this.smoConfig._getCountryIsoCode().toLowerCase();const M={device:{id:"",type:"WEB"},channel:{name:"Western Union",type:"RETAIL_MOBILE",version:this.getChannelVersionDSSRetail(),device_identifier:this.isMobileDevice()?"RESPONSIVE_MOB":"RESPONSIVE_WEB",is_responsive:"true"},external_reference_no:"1",locale:{country_code:this.countryCode,language_code:this.languageCode},security:{black_box_data:null,client_ip:"245024209201"},bashPath:"/"+this.countryCode+"/"+this.languageCode};return"staging"===(sessionStorage.getItem("featureFlagVersion")?sessionStorage.getItem("featureFlagVersion"):this.globalService.getFeatureFlagEnviornment())&&(M.security.requestHeader=[{key:"feature",value:"staging"}]),M}getChannelVersionRetail(){return"9D01"}getChannelVersionDSSRetail(){return"9Z00"}createSessionSDK(){const M={};return this.setCountryLanguage(M),this.westernUnion.api.createSession(M)}createSessionSDKJS(){return(0,W.H)(this.westernUnion.ps.CreateSession(this.getCreateSessionRequest()))}setCountryLanguage(M){M.source=this.countryCode.toLowerCase(),M.language=this.languageCode.toLowerCase()}static#e=this.\u0275fac=function(U){return new(U||N)(A.KVO(o.l),A.KVO(e.N),A.KVO(x.b),A.KVO(K.k),A.KVO(V.a),A.KVO(P.E))};static#t=this.\u0275prov=A.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},10707:(n,d,t)=>{"use strict";t.d(d,{A:()=>D});var o=t(16619),e=t(75194),x=t(95006),$=t(83921),W=t(74526),K=t(77202),V=t(47058),P=t(54438);let D=(()=>{class f{constructor(A,E,N,_){this.baseService=A,this.utilService=E,this.restMethod=N,this.countryConfigService=_}getDocUploadLookup(A,E,N,_){const M=this.getDocUploadLookupRequest(A,E,N,_);return"lbp"===_?this.restMethod.POST("/CustomerLookUp",M,"retail","lbp").pipe((0,x.T)(U=>{if(U)return U}),(0,$.W)(U=>(0,W.$)(U))):this.restMethod.POST("/CustomerLookup",M).pipe((0,x.T)(U=>{if(U)return U}))}getDocUploadLookupRequest(A,E,N,_){return"lbp"===_?(-1===this.baseService.getRetailSecurity().session.id.indexOf("retail-LBP")&&this.utilService.updateRetailSessionValue(""),{channel:this.baseService.getLBPChannel(),security:this.baseService.getRetailSecurity(),customer_lookup:A,bashPath:this.baseService.getBashPath()}):{channel:this.baseService.getChannel(),security:this.baseService.getSecurity(),profile_digest:A&&A.dutInfo&&A.dutInfo.securePayload,address:this.getAddress(E,N,_)}}getAddress(A,E,N){const _=JSON.parse(sessionStorage.getItem("GuestInfo")||"{}");this.countryConfigService.isGuestFlow()&&_&&_.isGuestFlow&&E&&N&&(A=_.sender.address);const M={};return M.address_Line1=A.addressLine1,M.state=A.state,M.city=A.city,M.zipCode=A.zipCode?A.zipCode:A.postalCode,M.countryIsoCode=A.countryIsoCode,A.addressLine2&&(M.addressLine2=A.addressLine2),M}getQuestionnaireAndPendingDocs(A,E){const N=this.buildRequest(E);return this.restMethod.POST("/GetQuestionnaireAndPendingDocs",N,"retail",A).pipe((0,x.T)(_=>{if(_)return _}),(0,$.W)(_=>(0,W.$)(_)))}buildRequest(A){return{channel:this.baseService.getDSSRetailChannel(A),security:this.baseService.getRetailSecurity()}}getCustomerLookUp(A,E,N){const _=this.buildLookupRequest(A,N);return this.restMethod.POST("/GetCustomerStatus",_,"retail",E).pipe((0,x.T)(M=>M),(0,$.W)(M=>(0,W.$)(M)))}buildLookupRequest(A,E){return{channel:this.baseService.getDSSRetailChannel(),security:this.baseService.getRetailSecurity(),gateway_customer:A,notification_src:E}}static#e=this.\u0275fac=function(E){return new(E||f)(P.KVO(o.E),P.KVO(K.a),P.KVO(e.R),P.KVO(V.qd))};static#t=this.\u0275prov=P.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},61314:(n,d,t)=>{"use strict";t.d(d,{D:()=>P});var o=t(7605),e=t(45286),x=t(16619),$=t(75194),W=t(93885),K=t(34781),V=t(54438);let P=(()=>{class D{constructor(C,A,E){this.restMethod=C,this.baseRequestService=A,this.updateStoreUsingActionService=E,this.destroyed$=new e.B7}removeNullBlank(C){return Object.keys(C).forEach(A=>{(null==C[A]||""===C[A])&&delete C[A]}),C}getNameObj(){const C=this.senderStore?.address?.countryIsoCode,A={name_type:this.senderStore.name_type?this.senderStore.name_type:"D",first_name:this.senderStore?.firstName,last_name:this.senderStore?.lastName,middle_name:this.senderStore?.middleName};return W.Y.NAMETYPENOTREQUIRED.indexOf(C)>-1&&delete A.name_type,this.removeNullBlank(name),A}getCustomerProfileRequest(){return{gateway_customer:{name:this.getNameObj(),preferred_customer:{account_nbr:this.senderStore.myWuNumber?this.senderStore.myWuNumber:""},compliance_details:{compliance_details_type:"SEND"}},...this.baseRequestService.getBaseRequest()}}getCustomerProfile(){const C=this.updateStoreUsingActionService.getState();this.senderStore=C.sender;const E=this.getCustomerProfileRequest();delete E.gateway_customer.name.name_type,this.restMethod.POST("/GetCustomerProfile",E).pipe((0,o.Q)(this.destroyed$)).subscribe(N=>{if(DTM_Trigger("DTM-THIRDPARTY-CONSENT",N?.gatewayCustomer?.accountPreferences?.thirdpartyDatasharingConsent||N?.gatewayCustomer?.account_preferences?.thirdparty_datasharing_consent),!N.error&&N.gatewayCustomer&&N.gatewayCustomer.hasOwnProperty("complianceDetails")&&(sessionStorage.setItem("SPGetProfileResponse",JSON.stringify(N.gatewayCustomer)),this.updateStoreUsingActionService.updateCustomerProfileData(N.gatewayCustomer)),N&&N.gatewayCustomer&&N.gatewayCustomer.identityVerificationStatus){const M=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}");M.identityVerificationStatus=N.gatewayCustomer.identityVerificationStatus,sessionStorage.setItem("GatewayCustomer",JSON.stringify(M))}},N=>console.error(N))}getRetailCustomerProfileRequest(){return{gateway_customer:{name:this.getNameObj(),preferred_customer:{account_nbr:this.senderStore.myWuNumber?this.senderStore.myWuNumber:""},compliance_details:{compliance_details_type:"SEND"}},search_criterion:"compliance",...this.baseRequestService.getBaseRequest("retail")}}getRetailCustomerProfile(){const A=this.updateStoreUsingActionService.getState();this.senderStore=A.sender;const E=this.getRetailCustomerProfileRequest();this.restMethod.POST("/GetCustomerProfile",E,"retail").pipe((0,o.Q)(this.destroyed$)).subscribe(N=>{DTM_Trigger("DTM-THIRDPARTY-CONSENT",N?.gatewayCustomer?.accountPreferences?.thirdpartyDatasharingConsent||N?.gatewayCustomer?.account_preferences?.thirdparty_datasharing_consent),!N.error&&N.complianceDetails&&N.hasOwnProperty("complianceDetails")&&(sessionStorage.setItem("GCIFormSubmitComplianceData",JSON.stringify(N)),sessionStorage.setItem("removeValidationForMaskData","true"))},N=>console.error(N))}static#e=this.\u0275fac=function(A){return new(A||D)(V.KVO($.R),V.KVO(x.E),V.KVO(K.k))};static#t=this.\u0275prov=V.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},82492:(n,d,t)=>{"use strict";t.d(d,{c:()=>A});var o=t(47058),e=t(37486),x=t(4858),$=t(61288),W=t(15070),K=t(77202),V=t(8788),P=t(34781),D=t(67376),C=t(54438);let A=(()=>{class E{constructor(_,M,U,w,O){this.smoConfig=_,this.updateStore=M,this.utilService=U,this.countryConfigService=w,this.readURL=O,this.isSMORevampEnable=!1,this.setTerritorySwitch()}getUrlparameter(_){const M=this.readURL.getURLParams();let U;const w=(new RegExp("[?|&]"+_+"=([^&;]+?)(&|#|;|$)").exec(M)||[,""])[1];return w&&(U=decodeURIComponent(w.replace(/\+/g,"%20"))||null),U?.trim(),U}setDefaults(){const _=this.updateStore.getState();this.corridor=_.corridor,this.selectedProduct=_.selectedProduct,this.senderAmount=_.senderAmount,this.utilService.setCookieItem("lastCountry",D.get(this.corridor,"receiverCountry.isoCode"),365,"","",!0),this.utilService.setCookieItem("lastCurrency",this.corridor.receiverCurrency,365,"","",!0),this.utilService.setCookieItem("lastFundsIn",this.selectedProduct.payIn,365,"","",!0),this.utilService.setCookieItem("lastFundsOut",this.selectedProduct.payOut,365,"","",!0),this.utilService.setCookieItem("lastSendAmount",this.senderAmount,30)}setTerritorySwitch(){const _=this.getUrlparameter($.v.TERRITORY_COUNTRY);_&&sessionStorage.setItem(W.d.TERRITORY_COUNTRY,_)}getDefaults(){const _=this.updateStore.getState();this.promoCode=_.promoCode,this.fulfillmentDetails=_.fulfillmentDetails;const M={};if(M.receiverCountryIsoCode=this.getDefaultReceiverCountry(),M.receiverCurrency=this.getDefaultReceiverCurrency(M.receiverCountryIsoCode),M.sendAmount=this.getDefaultSendAmount(M.receiverCountryIsoCode),M.fundsOut=this.getDefaultsFundsOut(M.receiverCountryIsoCode),M.fundsIn=this.getDefaultsFundsIn(M.receiverCountryIsoCode),this.fulfillmentDetails&&this.fulfillmentDetails.payment_details){const U=this.fulfillmentDetails.payment_details;M.receiverCountryIsoCode=U.destination.country_iso_code,M.receiverCurrency=U.destination.currency_iso_code,U.origination.principal_amount&&(M.sendAmount=parseInt(U.origination.principal_amount,10)/100),U.destination.expected_payout_amount&&(M.receiveAmount=parseInt(U.destination.expected_payout_amount,10)/100),M.fundsOut=(new e.xv).codeName[this.fulfillmentDetails.wu_product.code]}return this.getUrlparameter(x.a.COUPON)?M.coupon=this.getDefaultCouponCode(M.receiverCountryIsoCode):this.promoCode&&(M.coupon=this.promoCode),this.setPromoCampaignFromUrl(),M}checkForURLParamsFromRegister(_){const M=this.updateStore.getState().urlParamsFromRegister??{};if(D.isEmpty(M))return;if(!this.utilService.isNewHomePageWithLeanRegEnabled()&&!this.utilService.isFeatureEnabledViaCode("RegisterPageDeeplink"))return null;const U=this.getFIFOCountry(M[x.a.RECEIVE_COUNTRY]);if(_===x.a.FUNDS_IN){const w=this.smoConfig.getFundsInOptions(M[x.a.RECEIVE_COUNTRY]),O=e.bw[M[_]],G=w&&w.hasOwnProperty(O)&&"Y"===w[O];return O&&G?O:U&&U[0]?U[0].fundsIn:null}if(_===x.a.FUNDS_OUT){const w=this.smoConfig.getFundsOutOptions(M[x.a.RECEIVE_COUNTRY]);let O=e.s7[M[_]];const G=JSON.parse(sessionStorage.getItem("paysendD2CPayoutEnabled")||"null");O===e.s7.D2&&!w.hasOwnProperty(O)&&G&&(O="D2C_PS");const s=w&&w.hasOwnProperty(O)&&"Y"===w[O];return s&&"AC"===M[_]?e.Zr.BA:O&&s?O:U&&U[0]?U[0].fundsOut:null}return D.isEmpty(M[_])?null:M[_]}getDefaultReceiverCurrency(_){const M=this.smoConfig.getReceiverCurrencyList(_),U=this.getQueryParamValueFromURL(x.a.RECEIVE_CURRENCY)?this.getQueryParamValueFromURL(x.a.RECEIVE_CURRENCY):this.utilService.getCookieItem("lastCurrency")?this.utilService.getCookieItem("lastCurrency"):null;return 0===M.filter(O=>O.currency===U).length?M[0].currency:U}setPromoCampaignFromUrl(){const _=this.getUrlparameter(x.a.PROMO_CAMPAIGN)?this.getUrlparameter(x.a.PROMO_CAMPAIGN):void 0,M=this.getUrlparameter(x.a.USER_TYPE)?this.getUrlparameter(x.a.USER_TYPE):void 0,U=this.utilService.getCookieItem("userIdentity"),w="promoPricingCampaignNameUrlParam";M&&"new"!==M?"registered"===M?_&&(!U||"newCustomer"===U||"registeredCustomer"===U)&&sessionStorage.setItem(w,_):"existing"===M?_&&U&&"existingCustomer"===U&&sessionStorage.setItem(w,_):"air"===M?_&&U&&"AIRCustomer"===U&&sessionStorage.setItem(w,_):"any"===M&&_&&sessionStorage.setItem(w,_):_&&(!U||"newCustomer"===U)&&sessionStorage.setItem(w,_),_&&sessionStorage.getItem(w)&&this.utilService.promoCampaignFromSessionToLocalStorage(w)}getDefaultReceiverCountry(){let _;const M=this.utilService.getDisabledReceivingCountryList();let U;if(U=!D.isEmpty(sessionStorage.getItem("SendAgainTxnDetails"))&&D.isEmpty(this.getQueryParamValueFromURL(x.a.RECEIVE_COUNTRY))?JSON.parse(sessionStorage.getItem("SendAgainTxnDetails")||"{}").receiver.address.countryIsoCode:this.getQueryParamValueFromURL(x.a.RECEIVE_COUNTRY)?this.getQueryParamValueFromURL(x.a.RECEIVE_COUNTRY):this.utilService.getCookieItem("lastCountry")?this.utilService.getCookieItem("lastCountry"):null,U&&M&&M.indexOf(U)>-1&&(U=null),U){const w=this.getFIFOCountry(U),O=this.smoConfig.getReceiverCurrencyList(U);_=0!==w.length&&O.length?U:this.countryConfigService.getDefaultReceiver()}else _=this.countryConfigService.getDefaultReceiver()?this.countryConfigService.getDefaultReceiver():this.smoConfig.getSenderCountry().senderIsoCode;return _}getQueryParamValueFromURL(_){return this.getUrlparameter(_)?this.getUrlparameter(_):this.checkForURLParamsFromRegister(_)?this.checkForURLParamsFromRegister(_):void 0}getFIFOCountry(_){if(this.countryDefaults&&this.countryDefaults.length>0&&_===this.countryDefaults[0].isoCode)return this.countryDefaults;{const M=this.smoConfig.fifoDefaults(),U=M?M.filter(w=>w.isoCode===_):null;return U&&U.length>0&&(this.countryDefaults=U),this.countryDefaults}}getDefaultsFromSmoConfig(_){const M=this.updateStore.getState();this.corridor=M.corridor,this.countryCurrencies=M.countryCurrencies;const U={},w=this.smoConfig.fifoDefaults(),O=w?w.filter(s=>s.isoCode===_):null,G=this.smoConfig.getReceiverCurrencyList(_);return U.receiverCurrency=this.getReceiverCurrency(G,_),U.sendAmount=O&&O[0]&&O[0].defaultSendAmount?O[0].defaultSendAmount:"1.00",U.fundsIn=O&&O[0]&&O[0].fundsIn?O[0].fundsIn:null,U.fundsOut=O&&O[0]&&O[0].fundsOut?O[0].fundsOut:null,U}getReceiverCurrency(_,M){const U=D.get(this.corridor,"senderCountry.isoCode");if(U&&this.utilService.isPriceQuotecountry(U)){const w=this.getPQDefaultCurrency(M);if(w)return w}return _[0].currency}getPQDefaultCurrency(_){if(this.countryCurrencies&&this.countryCurrencies.length>0){const M=this.countryCurrencies.find(U=>U.country.isoCode.toUpperCase()===_.toUpperCase());if(M&&M.country&&M.country.currencies&&M.country.currencies.length&&M.country.currencies.length>0){const w=M.country.currencies.find(G=>"1"===G.currency.order);return D.get(w,"currency.isoCode")}}}getDefaultsFundsIn(_,M){const U=M?.[0]?.origination?.grossAmount;let w=null;U&&(w=Number((U/100).toFixed(2)));let O,G=this.getQueryParamValueFromURL(x.a.FUNDS_IN)?this.getQueryParamValueFromURL(x.a.FUNDS_IN):this.utilService.getCookieItem("lastFundsIn")&&this.utilService.getCookieItem("lastCountry")===_?this.utilService.getCookieItem("lastFundsIn"):null;if(G)G=this.overrideFIFO(G,"fundsIn",w),O=G;else{const s=this.getFIFOCountry(_);!0===this.isPPSprofile&&(s[0].fundsIn="Payroll card"),O=this.overrideFIFO(s[0].fundsIn,"fundsIn",w)||s[0].fundsIn}return O}getDefaultsFundsOut(_,M){const U=M?.[0]?.origination?.grossAmount;let w=null;U&&(w=Number((U/100).toFixed(2)));const O=this.updateStore.getState();let G,s=this.getQueryParamValueFromURL(x.a.FUNDS_OUT)?this.getQueryParamValueFromURL(x.a.FUNDS_OUT):this.utilService.getCookieItem("lastFundsOut")&&this.utilService.getCookieItem("lastCountry")===_?this.utilService.getCookieItem("lastFundsOut"):null;if(this.fulfillmentDetails=O.fulfillmentDetails,this.fulfillmentDetails?.wu_product?.code&&this.fulfillmentDetails?.payment_details?.destination?.country_iso_code===_&&(s=(new e.xv).codeName[this.fulfillmentDetails.wu_product.code]),s)s=this.overrideFIFO(s,"fundsOut",w),G=s;else{const a=this.getFIFOCountry(_);G=this.overrideFIFO(a[0].fundsOut,"fundsOut",w)||a[0].fundsOut}return G}overrideFIFO(_,M,U){const w=this.updateStore.getState()?.countryDynamicParams;let O=JSON.parse(w&&w.PREFERRED_FIFO||"{}");O=this.utilService.getPreferredFifo(null,O,null,U);const G="existingCustomer"!==this.utilService.getCookieItem("userIdentity")&&this.utilService.isPreferredFIFOEnabled(),s=this.corridor?.receiverCountry?.isoCode?.toUpperCase()||"",a=this.smoConfig.getFundsOutOptions(s);return this.isSMORevampEnable=this.utilService.isSMORevampEnabled(),"fundsOut"===M&&G?O?.DefaultFundsOutCash?.includes(s)?"AG":O?.DefaultFundsOutBank?.includes(s)?"BA":O?.DefaultFundsOutDebitCard?.includes(s)?"D2C":O?.DefaultFundsOutWallet?.includes(s)?"WA":this.isSMORevampEnable&&"BA"===O?.fundsOut&&"Y"!==a?.BA?"AG":O?.fundsOut?O.fundsOut:_:"fundsIn"===M&&G?O?.fundsIn??_:_}getDefaultSendAmount(_){const M=this.getQueryParamValueFromURL(x.a.SEND_AMOUNT)?this.getQueryParamValueFromURL(x.a.SEND_AMOUNT):this.utilService.getCookieItem("lastSendAmount")&&this.utilService.getCookieItem("lastCountry")===_?this.utilService.getCookieItem("lastSendAmount"):null;if(M)return M;{const U=this.getFIFOCountry(_);return U[0]&&U[0].defaultSendAmount>0?U[0].defaultSendAmount:1}}getDefaultCouponCode(_){return this.getUrlparameter(x.a.COUPON)}checkIfAnonymusUser(){return null===(this.getUrlparameter(x.a.RECEIVE_COUNTRY)?this.getUrlparameter(x.a.RECEIVE_COUNTRY):this.utilService.getCookieItem("lastCountry")?this.utilService.getCookieItem("lastCountry"):null)}static#e=this.\u0275fac=function(M){return new(M||E)(C.KVO(o.l9),C.KVO(P.k),C.KVO(K.a),C.KVO(o.qd),C.KVO(V.F))};static#t=this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},46937:(n,d,t)=>{"use strict";t.d(d,{m:()=>O});var o=t(95006),e=t(83921),x=t(74526),$=t(58652),W=t(75194),K=t(87801),V=t(16619),P=t(78863),D=t(5365),f=t(67376),A=t(77202),E=t(11535),N=t(3902),_=t(93885),M=t(34781),U=t(54438),w=t(2490);let O=(()=>{class G{constructor(a,c,r,g,p,h,l,v){this.readURL=a,this.optimusService=c,this.cookieService=r,this.restMethod=g,this.baseRequest=p,this.utilService=h,this.featureFlagService=l,this.updateStoreUsingActionService=v,this.validateWYHFactorMethod="/ValidateWYHFactors"}validateWYHFactor(a){const c=this.getforgotPasswordRequestBody(a,this.validateWYHFactorMethod);return this.restMethod.POST(this.validateWYHFactorMethod,c).pipe((0,o.T)(r=>(r&&r.gateway_customer&&r.gateway_customer.address&&r.gateway_customer.address.country_iso_code&&(r=this.mapCSResponseToPS(r)),r)))}mapCSResponseToPS(a){const c=Object.assign({},a);return a.gatewayCustomer={address:{countryIsoCode:c.gateway_customer.address.country_iso_code}},delete a.gateway_customer,a}getSupportedWYHFactorResetOptions(a){const g={};if(f.isFinite(f.toNumber(f.replace(a.validationId,"-","")))?(g.Validation_Type="phone",g.Validation_Value=f.replace(a.validationId,"-","")):(g.Validation_Type="email",g.Validation_Value=a.validationId),g.channel=this.baseRequest.getChannel(),g.security=this.baseRequest.getSecurity(),g.bashPath=this.baseRequest.getBashPath(),g.flowName="pwdResetOption",this.utilService.isloginOtpOptionEnabled()&&(g.flowName=_.Y.loginOtpOption),f.get(a,"captchaObject.value")){const p=new E.bW;p.answer=a.captchaObject.value,p.image=a.captchaObject.image,p.clear_screen="true",p.sound=a.captchaObject.audio,g.security.captcha=p}return this.restMethod.POST("/GetSupportedWYHFactors",g)}validateSecurityQuestion(a,c,r,g){const p="/ValidateWYKFactors",h=this.getValidateBody(a,c,r,g,p);return this.restMethod.POST(p,h)}getSecurityQuestions(a,c){const g=this.getverifyTokenForSecurityQuestionRequestBody(a,c);return this.restMethod.POST("/GetSupportedWYKFactors",g).pipe((0,o.T)(p=>(p&&p.gateway_customer&&p.gateway_customer.security_details&&(p.gatewayCustomer=this.createSecurityQuestionsModel(p.gateway_customer.security_details)),p)),(0,e.W)(p=>(0,x.$)(p.message||p)))}verifyTokenForSecurityQuestion(a){const r=this.getverifyTokenForSecurityQuestionRequestBody(a);return this.restMethod.POST("/GetVerifyWYHFactors",r)}validateEnteredPassword(a,c,r,g){const h=this.getPasswordBody(a,c,r,g);return this.restMethod.POST("/SavePassword",h)}loadSecurityQuestions(){const a=this.readURL.getCountryLanguage(),c=new $.J;return c.setOrigination(a.country).setLanguage(a.language).setLists(K.MG.SECURITY_QUESTIONS_LIST_NAME,"lang").setBashpath(`/${a.country}/${a.language}`),this.optimusService.invokeGenericFactory(K.MG.SECURITY_QUESTIONS_LIST_NAME,c)}createSecurityQuestionsModel(a){const{question_answer:c}=a.question_answers;if(c.length>0)for(let r=0;r<c.length;r++)c[r].type_id&&(c[r].typeId=c[r].type_id);return{security:{questionAnswers:c}}}getforgotPasswordRequestBody(a,c){const r={},g=this.featureFlagService.isFeatureEnabled("CAPTCHA_VALIDATEWYHFACTOR");r.channel=this.baseRequest.getChannel(),r.security=g?this.baseRequest.getSecurity(c):this.baseRequest.getSecurity(),r.bashPath=this.baseRequest.getBashPath(),r.validationType="email",r.validationValue=a.email;const p=f.isFinite(f.toNumber(f.replace(a.email,"-","")));if(this.addRequestvalidationType(r,p),f.get(a,"validationType")&&(r.validationType=a.validationType,"PHONE"===f.get(a,"validationType")&&(r.flowName="pwdreset")),this.addLoginOtpOptionRequest(a,r),r.flowName=a?.flowname||r.flowName,a&&a.captchaObject&&a.captchaObject.value){const h=new E.bW;h.answer=a.captchaObject.value,h.image=a.captchaObject.image,h.clear_screen="true",h.sound=a.captchaObject.audio,r.security.captcha=h}return r}addRequestvalidationType(a,c){this.utilService.isResetPasswordWithOTPEvergageEnabled()&&c&&(a.validationType="PHONE",a.flowName="pwdreset")}addLoginOtpOptionRequest(a,c){this.utilService.isloginOtpOptionEnabled()&&c.flowName&&c.flowName===_.Y.loginOtpOption&&(a.flowName=_.Y.loginOtpOption)}getverifyTokenForSecurityQuestionRequestBody(a,c){const g=this.updateStoreUsingActionService.getState().loginWithOTP,p={};return p.security=this.baseRequest.getSecurity(),p.channel=this.baseRequest.getChannel(),this.utilService.isResetPasswordWithOTPEvergageEnabled()&&f.has(a,"pin")?(p.pin=a.pin,p.validationValue=f.replace(a.validationValue,"-",""),p.flowName="pwdreset"):this.utilService.isloginOtpOptionEnabled()&&g?(p.pin=a.pin,p.validationValue=a.email,p.flowName=_.Y.loginOtpOption,a&&c&&(p.token=a)):p.token=a,p.bashPath=this.baseRequest.getBashPath(),p}getPasswordBody(a,c,r,g){const p={};return p.security=this.baseRequest.getSecurity(),p.channel=this.baseRequest.getChannel(),p.bashPath=this.baseRequest.getBashPath(),p.token=c,p.gateway_customer=this.getGatewayCustomer(a,r,g),p}getGatewayCustomer(a,c,r){let g,p;r||!f.isFinite(f.toNumber(f.replace(this.cookieService.get("User_Email"),"-","")))?(g=!1,p=this.cookieService.get("User_Email").trim().length>0?this.cookieService.get("User_Email"):r):g=!0;const h=this.utilService.isResetPasswordWithMultipleChannelEnabled()&&c;return g||h?{contact_phone:h?c:f.replace(this.cookieService.get("User_Email"),"-",""),security_details:{new_password:a}}:{email:p,security_details:{new_password:a}}}getValidateBody(a,c,r,g,p){const h={},l=f.isFinite(f.toNumber(c));return h.security=this.utilService.isSybaseEnabled(p)?this.baseRequest.getSecurity(p):this.baseRequest.getSecurity(),h.channel=this.baseRequest.getChannel(),h.bashPath=this.baseRequest.getBashPath(),h.token=a,c&&!l?h.email_id=c:l&&(h.phone_number=c),h.security_challenge=r,h.challenge_answer=g,h}static#e=this.\u0275fac=function(c){return new(c||G)(U.KVO(P.Fq),U.KVO(D.B),U.KVO(w.O),U.KVO(W.R),U.KVO(V.E),U.KVO(A.a),U.KVO(N.y),U.KVO(M.k))};static#t=this.\u0275prov=U.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},33659:(n,d,t)=>{"use strict";t.d(d,{k:()=>r});var o=t(95006),e=t(83921),x=t(54438),$=t(14421),W=t(74526),K=t(75194),V=t(16619);class P{}var D=t(64646),f=t(66726),C=t(34781),A=t(77202),E=t(37486),N=t(67376),_=t(93885),M=t(87801),U=t(60177),w=t(67374),O=t.n(w),G=t(60501),s=t.n(G),a=t(1013),c=t(3902);let r=(()=>{class g{constructor(h,l,v,S,m,b,Y,R){this.baseService=h,this._store=l,this.restMethod=v,this.updateStoreUsingActionService=S,this.utilService=m,this.wuDataAccessService=b,this.featureFlagService=Y,this.seenStartEndDate={},(0,U.UE)(R)&&O().extend(s()),this._store.pipe((0,D.Lt)(f.w8)).subscribe(k=>{this.sender=k})}getTransactionsHistoryRequestBody(h,l){const v=JSON.parse(sessionStorage.getItem("getReceiverInfo")),S=new P;return S.security=this.utilService.isSybaseEnabled(l)?this.baseService.getSecurity(l):this.baseService.getSecurity(),S.security.version=h.version?h.version:"2",S.type=v?"r":h.type?h.type:"c",S.pageNumber=h.pageNumber?h.pageNumber:0,S.pageSize=h.pageSize?h.pageSize:0,S.id=v?v.uid:h.accountId?h.accountId:this.sender?this.sender.pcpNumber:"",S.groupBy=h.groupBy?h.groupBy:"",S.order=h.order?h.order:"",S.bashPath=this.baseService.getBashPath(),h&&h.startDate&&h.endDate&&(S.start_date=h.startDate,S.end_date=h.endDate,S.security.version="3"),h&&h.savings_type&&(S.savings_type=0),sessionStorage.removeItem("getReceiverInfo"),S}getTransactionsHistory(h){const l=this.updateStoreUsingActionService.getState();this.transactionHistory=l.transactionHistory;const v="/GetTransactionDetails",S=this.getTransactionsHistoryRequestBody(h,v);return this.transactionInStore(S)?(0,$.of)(this.getTransactionFilterList(S,Array.from(this.transactionHistory))):(S.start_date&&S.end_date&&(this.seenStartEndDate[S.start_date]?this.seenStartEndDate[S.start_date].push(S.end_date):this.seenStartEndDate[S.start_date]=[S.end_date]),this.restMethod.POST(v,S).pipe((0,o.T)(m=>{if(m&&m.Status&&0===m.Status.code&&!m.transactions&&(m.transactionDetails={}),this.processLifeTimeSavings(m,S))return m;if(m&&m.transactions&&m.transactions.transaction){this.utilService.updateUserIdentity(null,m.transactions.transaction);let b=this.createTransactionModel(m.transactions.transaction,v);const Y=Array.from(b);if(this.transactionHistory){const R=[];for(const L of this.transactionHistory)if(L&&L.mtcn){const y=this.removeDuplicates(b,L);R.push(!0===y?L:y)}const k=this.getNewTransaction(b);R.unshift(...k),b=R.concat(b)}return"true"===sessionStorage.getItem("isTATFlow")&&sessionStorage.setItem("transactions",JSON.stringify(m.transactions)),this.updateStoreUsingActionService.updateTransactionHistory(b),this.containsPlaid=b.some(R=>R.paymentDetails&&R.paymentDetails.paymentMethod&&"Plaid"===R.paymentDetails.paymentMethod.payment_type),this.containsTink=b.some(R=>R.paymentDetails&&R.paymentDetails.paymentMethod&&"TK"===R.paymentDetails.paymentMethod.payment_type),this.containsPlaid&&(sessionStorage.setItem("isPlaidFundsInEnabled","true"),sessionStorage.removeItem("isTinkFundsInEnabled"),this.featureFlagService.isFeatureEnabled("SM_LOGIN_FLOW_HISTORY_CALL")?this.wuDataAccessService.logOtherEventWithProperty("user_smo_redirect_toPlaid",{event_property:"Plaid"}):this.wuDataAccessService.logOtherEventWithProperty("user_history_redirect_toPlaid",{event_property:"Plaid"})),this.containsTink&&(sessionStorage.setItem("isTinkFundsInEnabled","true"),sessionStorage.removeItem("isPlaidFundsInEnabled"),this.featureFlagService.isFeatureEnabled("SM_LOGIN_FLOW_HISTORY_CALL")?this.wuDataAccessService.logOtherEventWithProperty("user_smo_redirect_toTink",{event_property:"Tink"}):this.wuDataAccessService.logOtherEventWithProperty("user_history_redirect_toTink",{event_property:"Tink"})),sessionStorage.setItem("transactionHistoryResp",JSON.stringify(b)),sessionStorage.removeItem("progressive_smo_exp"),Y}return m}),(0,e.W)(m=>(0,W.$)(m.message||m))))}processLifeTimeSavings(h,l){return!!h?.savings?.total&&(h.savings.total<1e3?(this.updateStoreUsingActionService.updatelifeTimeSavings(null),!1):(this.updateStoreUsingActionService.updatelifeTimeSavings({no_of_transfers:h.savings.no_of_transfers,total:h.savings.total/100}),1===l.pageSize&&(h.transactionDetails=null,!0)))}getTransactionsHistoryByMTCN(h){const l="/GetTransactionDetails",v=this.getTransactionsHistoryRequestBody(h,l);return this.restMethod.POST(l,v).pipe((0,o.T)(S=>{if(S&&S.transactions&&S.transactions.transaction){const m=this.createTransactionModel(S.transactions.transaction,l);return this.updateStoreUsingActionService.updateSendAgainTransactionData(m[0]),m[0]}return S}),(0,e.W)(S=>(0,W.$)(S.message||S)))}modifyReceiverWallet(h,l,v){h[l].receiver.wallet.bankAccounts={bankAccount:[]};const S=v.receiver.wallet.bank_accounts.bank_account;for(let m=0;m<S.length;m++)h[l].receiver.wallet.bankAccounts.bankAccount.push({accountNumber:S[m].account_number,bankName:S[m].bank_name,routingNumber:S[m].routing_number,sort_code:S[m].sort_code,accountType:S[m].account_type,bank_code:S[m].bank_code,branch_code:S[m].branch_code,currency:S[m].currency,id:S[m].id,reason:S[m].reason,financial_id:S[m].financial_id,accountSelectedType:S[m].account_selected_type,upi_id:S[m].upi_id,swift_code:S[m].swift_code,account_suffix:S[m].account_suffix,account_prefix:S[m].account_prefix,...S[m].address&&{address:{addrLine1:S[m].address.addr_line1,addrLine2:S[m].address.addr_line2,city:S[m].address.city,state:S[m].address.state,postalCode:S[m].address.postal_code,countryIsoCode:S[m].address.country_iso_code}},...S[m].customer_name&&{customerName:{firstName:S[m].customer_name.first_name,middleName:S[m].customer_name.middle_name,lastName:S[m].customer_name.last_name}}});delete h[l].receiver.wallet.bank_accounts}modifyBillerWallet(h,l,v){h[l].receiver.wallet.inmateAccounts={inmateAccount:{code:v.receiver.wallet.inmate_accounts.inmate_account.code,currencyIsoCode:v.receiver.wallet.inmate_accounts.inmate_account.currency_iso_code,countryIsoCode:v.receiver.wallet.inmate_accounts.inmate_account.country_iso_code,industry:v.receiver.wallet.inmate_accounts.inmate_account.industry,companyName:v.receiver.wallet.inmate_accounts.inmate_account.company_name,accountNo:v.receiver.wallet.inmate_accounts.inmate_account.account_no}},delete h[l].receiver.wallet.inmate_accounts}modifyReceiver(h,l,v){v.receiver&&(v.receiver.address&&(h[l].receiver.address.addrLine1=v.receiver.address.addr_line1,h[l].receiver.address.addrLine2=v.receiver.address.addr_line2,h[l].receiver.address.countryIsoCode=v.receiver.address.country_iso_code,h[l].receiver.address.postalCode=v.receiver.address.postal_code,delete h[l].receiver.address.addr_line1,delete h[l].receiver.address.addr_line2,delete h[l].receiver.address.country_iso_code,delete h[l].receiver.address.postal_code),v.receiver.wallet&&(v.receiver.wallet.bank_accounts&&v.receiver.wallet.bank_accounts.bank_account&&v.receiver.wallet.bank_accounts.bank_account.length>0&&this.modifyReceiverWallet(h,l,v),v.receiver.wallet.inmate_accounts&&v.receiver.wallet.inmate_accounts.inmate_account&&this.modifyBillerWallet(h,l,v)),v.receiver.compliance_details&&this.modifyReceiverCompliance(h,l,v),v.receiver.id&&(h[l].receiver.id=v.receiver.id.toString()),v.receiver.mobile_phone&&v.receiver.mobile_phone.phone_number&&(h[l].receiver.mobilePhone={phoneNumber:{countryCode:v.receiver.mobile_phone.phone_number.country_code,nationalNumber:v.receiver.mobile_phone.phone_number.national_number}},delete h[l].receiver.mobile_phone),v.receiver.name&&(h[l].receiver.name={firstName:v.receiver.name.first_name,middleName:v.receiver.name.middle_name,lastName:v.receiver.name.last_name},delete h[l].receiver.name.first_name,delete h[l].receiver.name.middle_name,delete h[l].receiver.name.last_name),h[l].receiver.debitCardToken=v.receiver.debit_card_token)}modifyReceiverCompliance(h,l,v){h[l].receiver.complianceDetails={},h[l].receiver.complianceDetails.transactionPurpose=v.receiver.compliance_details.transaction_purpose,delete h[l].receiver.compliance_details}modifySender(h,l,v){v.sender&&(v.sender.address&&(h[l].sender.address.addrLine1=v.sender.address.addr_line1,h[l].sender.address.addrLine2=v.sender.address.addr_line2,h[l].sender.address.countryIsoCode=v.sender.address.country_iso_code,h[l].sender.address.postalCode=v.sender.address.postal_code,delete h[l].sender.address.addr_line1,delete h[l].sender.address.addr_line2,delete h[l].sender.address.country_iso_code,delete h[l].sender.address.postal_code),v.sender.mobile_phone&&v.sender.mobile_phone.phone_number&&(h[l].sender.mobilePhone={phoneNumber:{countryCode:v.sender.mobile_phone.phone_number.country_code,nationalNumber:v.sender.mobile_phone.phone_number.national_number}},delete h[l].sender.mobile_phone),v.sender.name&&(h[l].sender.name={firstName:v.sender.name.first_name,middleName:v.sender.name.middle_name,lastName:v.sender.name.last_name,nameType:v.sender.name.name_type},delete h[l].sender.name.first_name,delete h[l].sender.name.middle_name,delete h[l].sender.name.last_name,delete h[l].sender.name.name_type),v.sender.preferred_customer&&v.sender.preferred_customer.account_nbr&&(h[l].sender.preferredCustomer={},h[l].sender.preferredCustomer.accountNbr=v.sender.preferred_customer.account_nbr,delete h[l].sender.preferred_customer),this.modifySenderCompliance(h,l,v),this.modifySenderWallet(h,l,v))}modifySenderWallet(h,l,v){if(v.sender.wallet&&v.sender.wallet.bank_accounts&&v.sender.wallet.bank_accounts.bank_account){h[l].sender.wallet.bankAccounts={bankAccount:[]};const S=v.sender.wallet.bank_accounts.bank_account;for(let m=0;m<S.length;m++)h[l].sender.wallet.bankAccounts.bankAccount.push({accountNumber:S[m].account_number,bankName:S[m].bank_name,routingNumber:S[m].routing_number,accountType:S[m].account_type,bank_code:S[m].bank_code,branch_code:S[m].branch_code,currency:S[m].currency,id:S[m].id,reason:S[m].reason,accountNumberLastFour:S[m].account_number_last_four,virtualAccountNumberPair:S[m].virtual_account_routing_pair,paymentInstrumentId:S[m].paymentInstrumentId,accessToken:N.get(S[m],"access_token"),...S[m].address&&{address:{addrLine1:S[m].address.addr_line1,addrLine2:S[m].address.addr_line2,city:S[m].address.city,state:S[m].address.state,postalCode:S[m].address.postal_code,countryIsoCode:S[m].address.country_iso_code}},...S[m].customer_name&&{customerName:{firstName:S[m].customer_name.first_name,middleName:S[m].customer_name.middle_name,lastName:S[m].customer_name.last_name}}});delete h[l].sender.wallet.bank_accounts}}modifySenderCompliance(h,l,v){v.sender.compliance_details&&(h[l].sender.compliance_details.transactionPurpose=v.sender.compliance_details.transaction_purpose,h[l].sender.compliance_details.senderReceiverRelationship=v.sender.compliance_details.sender_receiver_relationship,delete h[l].sender.compliance_details.transaction_purpose,delete h[l].sender.compliance_details.sender_receiver_relationship,v.sender.compliance_details.id_documents&&v.sender.compliance_details.id_documents.id_document&&v.sender.compliance_details.id_documents.id_document.length>0&&(h[l].sender.compliance_details.idDocuments={idDocuments:v.sender.compliance_details.id_documents.id_document},delete h[l].sender.compliance_details.id_documents))}modifyPaymentDetails(h,l,v){v.payment_details&&(h[l].paymentDetails={},v.payment_details.origination&&(h[l].paymentDetails.origination={countryIsoCode:v.payment_details.origination.country_iso_code,currencyIsoCode:v.payment_details.origination.currency_iso_code,grossAmount:v.payment_details.origination.gross_amount?v.payment_details.origination.gross_amount.toString():"",principalAmount:v.payment_details.origination.principal_amount?v.payment_details.origination.principal_amount.toString():"",efl:v.payment_details.origination.efl,queriedPrincipalAmount:v.payment_details.origination.queriedPrincipalAmount,state:v.payment_details.origination.state}),v.payment_details.destination&&(h[l].paymentDetails.destination={actualPayoutAmount:v.payment_details.destination.actual_payout_amount?v.payment_details.destination.actual_payout_amount.toString():"",countryIsoCode:v.payment_details.destination.country_iso_code,currencyIsoCode:v.payment_details.destination.currency_iso_code,expectedPayoutAmount:v.payment_details.destination.expected_payout_amount?v.payment_details.destination.expected_payout_amount.toString():"",split_payout:v.payment_details.destination.split_payout,efl:v.payment_details.destination.efl}),v.payment_details.payment_type&&(h[l].paymentDetails.paymentType=v.payment_details.payment_type),v.payment_details.payment_method&&(h[l].paymentDetails.paymentMethod=v.payment_details.payment_method),v.payment_details.exchange_rate&&(h[l].paymentDetails.exchangeRate=v.payment_details.exchange_rate.toFixed(Math.max(((v.payment_details.exchange_rate+"").split(".")[1]||"").length,1))),h[l].paymentDetails.paymentDigest=v.payment_details.payment_digest,h[l].paymentDetails.identificationQuestion=v.payment_details.identification_question,v.payment_details.fees&&(h[l].paymentDetails.fees={},h[l].paymentDetails.fees.charges=v.payment_details.fees.charges||0===v.payment_details.fees.charges?v.payment_details.fees.charges.toString():""),v.payment_details.promotion&&(h[l].paymentDetails.promotion=v.payment_details.promotion,h[l].paymentDetails.promotion.discount=v.payment_details.promotion.discount?v.payment_details.promotion.discount.toString():"0"),v.payment_details.taxes&&(h[l].paymentDetails.taxes=v.payment_details.taxes,h[l].paymentDetails.taxes.county_tax=v.payment_details.taxes.county_tax?v.payment_details.taxes.county_tax.toString():"0",h[l].paymentDetails.taxes.municipal_tax=v.payment_details.taxes.municipal_tax?v.payment_details.taxes.municipal_tax.toString():"0",h[l].paymentDetails.taxes.state_tax=v.payment_details.taxes.state_tax?v.payment_details.taxes.state_tax.toString():"0"),v.payment_details.destination_fees&&(h[l].paymentDetails.destinationFees=v.payment_details.destination_fees),v.payment_details?.qrcode?.qrstream&&(h[l].paymentDetails.qrcode={qrstream:v.payment_details?.qrcode?.qrstream}),h[l].paymentDetails.totalDiscount=v.payment_details.total_discount?v.payment_details.total_discount.toString():v.payment_details.total_discount,h[l].paymentDetails.totalDiscountedCharges=v.payment_details.total_discounted_charges?v.payment_details.total_discounted_charges.toString():v.payment_details.total_discounted_charges,h[l].paymentDetails.totalUndiscountedCharges=v.payment_details.total_undiscounted_charges?v.payment_details.total_undiscounted_charges.toString():v.payment_details.total_undiscounted_charges,v.payment_details.credit_debit_card&&this.modifyCreditDebitCard(h,l,v),delete h[l].payment_details)}modifyCreditDebitCard(h,l,v){h[l].paymentDetails.creditDebitCard={},v.payment_details.credit_debit_card.address&&(h[l].paymentDetails.creditDebitCard.address={},h[l].paymentDetails.creditDebitCard.address={addrLine1:v.payment_details.credit_debit_card.address.addr_line1,addrLine2:v.payment_details.credit_debit_card.address.addr_line2,city:v.payment_details.credit_debit_card.address.city,countryIsoCode:v.payment_details.credit_debit_card.address.country_iso_code,postalCode:v.payment_details.credit_debit_card.address.postal_code,state:v.payment_details.credit_debit_card.address.state}),h[l].paymentDetails.creditDebitCard.cardCategory=v.payment_details.credit_debit_card.card_category,h[l].paymentDetails.creditDebitCard.cardConsentFlag=v.payment_details.credit_debit_card.card_consent_flag,h[l].paymentDetails.creditDebitCard.cardNumber=v.payment_details.credit_debit_card.card_number,h[l].paymentDetails.creditDebitCard.cardType=v.payment_details.credit_debit_card.card_type,h[l].paymentDetails.creditDebitCard.expirationDate=v.payment_details.credit_debit_card.expiration_date,h[l].paymentDetails.creditDebitCard.paymentInstrumentId=v.payment_details.credit_debit_card.paymentInstrumentId,h[l].paymentDetails.creditDebitCard.bankIdentificationNumber=v.payment_details.credit_debit_card.bank_identification_number,v.payment_details.credit_debit_card&&v.payment_details.credit_debit_card.customer_name&&(h[l].paymentDetails.creditDebitCard.customerName={firstName:v.payment_details.credit_debit_card.customer_name.first_name,middleName:v.payment_details.credit_debit_card.customer_name.middle_name,lastName:v.payment_details.credit_debit_card.customer_name.last_name})}modifyBiller(h,l,v){v.biller&&(h[l].biller=v.biller,h[l].biller.accountNo=v.biller.account_no,h[l].biller.companyName=v.biller.company_name,h[l].biller.countryIsoCode=v.biller.country_iso_code,h[l].biller.currencyIsoCode=v.biller.currency_iso_code,h[l].biller.referenceNumber=v.biller.reference_no,delete h[l].biller.account_no,delete h[l].biller.company_name,delete h[l].biller.country_iso_code,delete h[l].biller.currency_iso_code,delete h[l].biller.reference_no)}convertCSObject(h,l){const v=Object.assign({},h[l]);return this.modifyReceiver(h,l,v),this.modifySender(h,l,v),this.modifyPaymentDetails(h,l,v),this.modifyBiller(h,l,v),v.status_code&&(h[l].statusCode=v.status_code,delete h[l].status_code),v.wu_product&&(h[l].wuProduct=v.wu_product,h[l].wuProduct.processingTime=v.wu_product.processing_time,h[l].wuProduct.speedIndicator=v.wu_product.speed_indicator,h[l].wuProduct.isDirected=v.wu_product.is_directed,delete h[l].wuProduct.processing_time,delete h[l].wuProduct.speed_indicator,delete h[l].wuProduct.is_directed,delete h[l].wu_product),v.money_transfer_control&&(h[l].moneyTransferControl=v.money_transfer_control,delete h[l].money_transfer_control),v.filing_date&&(h[l].filingDate=v.filing_date,delete h[l].filing_date),v.filing_time_offset&&(h[l].filingTimeOffset=v.filing_time_offset,delete h[l].filing_time_offset),v.filing_time&&(h[l].filingTime=v.filing_time,delete h[l].filing_time),v.reminder_id&&(h[l].reminderId=v.reminder_id,delete h[l].reminder_id),h}createTransactionModel(h,l){const v=[];let S=!1;l&&(S=this.utilService.isSybaseEnabled(l));for(let m=0;m<h.length;m++){S&&this.convertCSObject(h,m);const b={corridor:h[m].corridor?h[m].corridor:null,mtcn:h[m].moneyTransferControl&&h[m].moneyTransferControl.mtcn?h[m].moneyTransferControl.mtcn:"",digital:h[m].digital?h[m].digital:"",isFavorite:!!h[m].favorite&&h[m].favorite,sender:h[m].sender?h[m].sender:null,receiver:h[m].receiver?h[m].receiver:null,filingDate:h[m].filingDate?h[m].filingDate:"",filingTime:h[m].filingTime?h[m].filingTime:"",filingTimeOffset:h[m].filingTimeOffset?h[m].filingTimeOffset:"",statusCode:h[m].statusCode?h[m].statusCode:"",statusMessage:h[m].statusMessage?h[m].statusMessage:"",status:h[m].status?h[m].status:"",paymentDetails:h[m].paymentDetails?h[m].paymentDetails:null,wuProduct:h[m].wuProduct?h[m].wuProduct:null,isNameChange:h[m].isNameChange?h[m].isNameChange:null,cancelTransfer:h[m].cancelTransfer?h[m].cancelTransfer:null,redirectToBank:h[m].redirectToBank?h[m].redirectToBank:null,biller:h[m].biller?h[m].biller:null,moneyTransferControl:h[m].moneyTransferControl?h[m].moneyTransferControl:null,resend:!!h[m].resend&&h[m].resend,reference:h[m].reference?h[m].reference:null,verificationCompletionDate:h[m].verificationCompletionDate?h[m].verificationCompletionDate:null,reminderId:h[m].reminderId?h[m].reminderId:null,gmoBranchCode:h[m].gmoBranchCode?h[m].gmoBranchCode:null,gmoBranchName:h[m].gmoBranchName?h[m].gmoBranchName:null,wACH:h[m].wACH?h[m].wACH:null};this.utilService.isScvProxyEnabled()&&(b.agentDetail={agentName:h[m]?.agentInfo?.agtname||"",streetAddress:h[m]?.agentInfo?.address?.addrLine1||h[m]?.agentInfo?.address?.addr_line1||"",city:h[m]?.agentInfo?.address?.city||"",state:h[m]?.agentInfo?.address?.state||"",zipCode:h[m]?.agentInfo?.address?.postalCode||h[m]?.agentInfo?.address?.postal_code||""}),v.push(b)}return v}getNonDigitalTransactionsRequestBody(){const h={bashPath:this.baseService.getBashPath(),external_reference_no:"1",security:this.baseService.getSecurity(),gateway_customer:{preferred_customer:{account_nbr:this.sender&&this.sender.additionalPreferedAccountNumber?this.sender.additionalPreferedAccountNumber:this.sender.myWuNumber}}};return h.security.version=2,h}getNonDigitalTransactions(){const h="/GetNonDigitalTxns",l=this.getNonDigitalTransactionsRequestBody(),v=this.utilService.isSybaseEnabled(h);return this.restMethod.POST(h,l).pipe((0,o.T)(S=>{if(S&&!S.error){v&&(S=this.utilService.formatToCamelCase(S));const m=this.createTransactionModel(S.transactions.transaction);this.updateStoreUsingActionService.updateNonDigitalTransactionHistory(m)}return S}),(0,e.W)(S=>(0,W.$)(S.message||S)))}getTransactionDetailsRASD(h){const v=this.getRASDrequestBody(h);return this.restMethod.POST("/GetTransactionDetails",v).pipe((0,o.T)(S=>S))}getRASDrequestBody(h){return{security:{session:{id:this.utilService.getCookieItem("SessionId")},version:2},type:"T",id:h,bashPath:"/us/en"}}removeDuplicates(h,l){if(h&&h.length>0)for(let v=0;v<h.length;v++)if(h[v].mtcn===l.mtcn){const S=h[v];return h.splice(v,1),v--,S}return!0}isResumeTransferFlowTokenPresent(){const h=this.updateStoreUsingActionService.getState();return!N.isEmpty(h.abandonedCartToken)}mapResumeTransferRoutes(h){return h&&_.Y.resumeTransferMappingRoutes[h.trim()]?_.Y.resumeTransferMappingRoutes[h.trim()]:_.Y.resumeTransferMappingRoutes.receiver}isResumeTransferDispalyRulesInvalid(h){const l=this.getLatestTransactionData();return 0===N.size(h)||N.isEqual(N.get(h,"payment_details.payment_type"),E.mt.Cash)||N.isEqual(N.lowerCase(N.get(h,"receiver.name.first_name")),N.lowerCase(N.get(l,"receiver.name.firstName")))&&N.isEqual(N.lowerCase(N.get(h,"receiver.name.middle_name")),N.lowerCase(N.get(l,"receiver.name.middleName")))&&N.isEqual(N.lowerCase(N.get(h,"receiver.name.last_name")),N.lowerCase(N.get(l,"receiver.name.lastName")))&&N.isEqual(N.lowerCase(N.get(h,"receiver.address.country_iso_code")),N.lowerCase(N.get(l,"receiver.address.countryIsoCode")))&&N.isEqual(N.lowerCase(N.get(h,"payment_details.payment_type")),N.lowerCase(N.get(l,"paymentDetails.paymentType")))&&N.isEqual(N.lowerCase(N.get(h,"wu_product.code")),N.lowerCase(N.get(l,"wuProduct.code")))&&N.isEqual(N.lowerCase(N.get(h,"payment_details.origination.principal_amount")),N.lowerCase(N.get(l,"paymentDetails.origination.principalAmount")))}getLatestTransactionData(){const h=this.updateStoreUsingActionService.getState(),l=N.isUndefined(h.transactionHistory)?[]:h.transactionHistory;return l.sort((v,S)=>new Date(S.filingDate+" "+S.filingTime).getTime()-new Date(v.filingDate+" "+v.fillingTime).getTime()),l.length>0?l[0]:l}getNewTransaction(h){const l=[],v=this.getEndDate();for(let S=0;S<h.length;S++)h[S].filingDate&&h[S].filingDate===v&&(l.push(h[S]),h.splice(S,1),S--);return l}getEndDate(){const h=new Date;if(N.get(M.K,"CONST_DATE_FORMATS.SHORT_DATE.YYYY_MM_DD"))return O()(h).format(M.K.CONST_DATE_FORMATS.SHORT_DATE.YYYY_MM_DD)}transactionInStore(h){return!(!h.start_date||!h.end_date)&&this.seenStartEndDate[h.start_date]&&-1!==this.seenStartEndDate[h.start_date].indexOf(h.end_date)}getTransactionFilterList(h,l){return N.filter(l,function(v){return O()(v.moneyTransferControl.date,M.K.CONST_DATE_FORMATS.SHORT_DATE.YYYY_MM_DD).isBetween(h.start_date,h.end_date,M.K.TRANSACTION_FILTERS.DAYS,"[]")})}getComplienceDetails(h){const v=this.getComplianceDetailsRequestBody(h);return this.restMethod.POST("/IDCompliance/GetCompliance",v).pipe((0,o.T)(S=>{if(N.isEmpty(S)||!N.has(S,"sender.compliance_details.id_documents.id_document[0]")||!N.has(S,"sender.compliance_details.id_documents.id_document[1]"))return;this.sender?.registrationDetails&&(this.sender.registrationDetails.occupation=this.utilService.getOccupationFromKey(N.get(this.sender,"registrationDetails.occupation")),this.updateStoreUsingActionService.updateSender(this.sender));const m=N.get(S,"sender.compliance_details.id_documents.id_document"),R=[N.find(m,{idLevel:"1",type:"CPF"})||N.find(m,{id_level:"1",type:"CPF"})||N.find(m,["idLevel","1"])||N.find(m,["id_level","1"]),N.find(m,["idLevel","2"])||N.find(m,["id_level","2"])],k=this.updateStoreUsingActionService.getState();R.forEach((y,I)=>{const T=N.mapKeys(N.cloneDeep(y),function(Z,de){return N.snakeCase(de)});delete T.id_level,delete T.is_expired;const te=N.get(this.sender,"address.countryIsoCode");0===I?(T.isPrimary="true",T.issue_country={iso_code:{country_code:te,currency_code:k.corridor.senderCurrency}}):T.isPrimary="false",R[I]=T});const L=k.complianceWeb;return L?(L.idDetails=R,this.updateStoreUsingActionService.updateComplianceWeb(L)):this.updateStoreUsingActionService.updateComplianceWeb({idDetails:R}),S}),(0,e.W)(S=>(0,W.$)(S.message||S)))}getComplianceDetailsRequestBody(h){const l=new P;return l.security=this.baseService.getSecurity(),l.external_reference_no="1",l.sender={preferred_customer:{account_nbr:h}},l.bashPath=this.baseService.getBashPath(),l}getCustomerDetailsById(h,l){const v=this.getCustomerDetailsByIdRequestBody(h,l);return this.restMethod.POST("/GetCustomerDetailsById",v).pipe((0,o.T)(m=>("BR"===this.updateStoreUsingActionService.getState().corridor.senderCountry?.isoCode&&(this.sender.is_name_verified="Y",this.updateStoreUsingActionService.updateSender(this.sender)),m)),(0,e.W)(m=>(0,W.$)(m.message||m)))}getCustomerDetailsByIdRequestBody(h,l){const S=this.updateStoreUsingActionService.getState().sender,m=new P,b={date_of_birth:this.changeDOBFormate(S.dateOfBirth),compliance_details_type:"SEND",id_documents:{id_document:[{data:h,type:l}]}};return m.security=this.baseService.getSecurity(),m.gateway_customer={name:{first_name:S.firstName,last_name:S.lastName},compliance_details:b},m.bashPath=this.baseService.getBashPath(),m}changeDOBFormate(h){h.toString().slice(0,-6);let l=h.substring(8,10)+"/";return l+=h.substring(5,7)+"/",l+=h.substring(0,4),l}resetStartEndDate(){this.seenStartEndDate={}}static#e=this.\u0275fac=function(l){return new(l||g)(x.KVO(V.E),x.KVO(D.il),x.KVO(K.R),x.KVO(C.k),x.KVO(A.a),x.KVO(a.a),x.KVO(c.y),x.KVO(x.Agw))};static#t=this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},39574:(n,d,t)=>{"use strict";t.d(d,{LZ:()=>k.L,i6:()=>y.i,_u:()=>te,MC:()=>ie,LK:()=>X.L,M:()=>o.M,A6:()=>Ce.A,c6:()=>S.c,mj:()=>Y.m,PO:()=>L.P,Wk:()=>de,Fu:()=>R.F,lf:()=>l,hl:()=>b.h,BC:()=>ae.B,bn:()=>B.b,Tz:()=>he.T,Mz:()=>x.M,AI:()=>e.h,xe:()=>A,DL:()=>m.D,YB:()=>oe,T5:()=>re.T,tV:()=>De.t});var o=t(44243),e=t(83053),x=t(98010),$=t(10467),W=t(1027),K=t(98735),V=t(64646),P=t(66726),D=t(47058),f=t(67376),C=t(54438);let A=(()=>{class fe{constructor(ee,se,le){this.smoConfig=ee,this._store=se,this.countryListService=le,this._store.pipe((0,V.Lt)(P.d$)).subscribe(F=>{this.products=F}),this._store.pipe((0,V.Lt)(P.mz)).subscribe(F=>{this.senderAmount=F}),this._store.pipe((0,V.Lt)(P.w8)).subscribe(F=>{this.senderStore=F})}prepareCorridor(ee){var se=this;return(0,$.A)(function*(){let F;yield new Promise((pe,Ae)=>{se.getCountryList(pe,Ae)});const J=ee.address.countryIsoCode,Q=se.__getCountryNameFromIsoCodeTranslated(J),ne=se.smoConfig.getReceiverCurrencyList(J);return F=ne&&ne.length>0?ne[0].currency:null,se.updateCorridor({receiverCountryDetails:{receiverCountryName:Q,receiverCountryIsoCode:J,receiverCurrency:F,receiverCurrencyArray:ne}})})()}prepareCorridorFromTransaction(ee){const se=this.smoConfig.countryCurrencyDefaults(),le=ee.paymentDetails.destination.countryIsoCode?ee.paymentDetails.destination.countryIsoCode:"",F=this.smoConfig._getCountryNameFromIsoCode(le,se),J=ee.paymentDetails.destination.currencyIsoCode?ee.paymentDetails.destination.currencyIsoCode:"",Q=this.smoConfig.getReceiverCurrencyList(le);return this.updateCorridor({receiverCountryDetails:{receiverCountryName:F,receiverCountryIsoCode:le,receiverCurrency:J,receiverCurrencyArray:Q}})}updateCorridor(ee){this._store.dispatch({type:K.k.UPDATE_RECEIVER_COUNTRY,payload:ee})}updateSelectedProductFromTransaction(ee){const se=this.products;let le="";ee.paymentDetails&&ee.paymentDetails.paymentType&&(le={CreditCard:"Credit Card"}[ee.paymentDetails.paymentType]);let J="";ee.wuProduct&&ee.wuProduct.description&&(J={"Cash at agent location":"AG","Bank Account":"BA",UN:"UN",MT:"MT"}[ee.wuProduct.description]);for(let ne=0;ne<se.length;ne++)if(se[ne].payIn===le&&se[ne].payOut===J)return this._store.dispatch({type:K.k.SELECTED_PRODUCT,payload:se[ne]})}updateSelectedProduct(ee){let se;const le=parseFloat(this.senderAmount);for(let F=0;F<this.products.length;F++)if(le<=this.products[F].maxAmount){se=this.products[F];break}this._store.dispatch({type:K.k.SELECTED_PRODUCT,payload:se})}updateSenderAmount(ee){if(ee.paymentDetails&&ee.paymentDetails.origination&&ee.paymentDetails.origination.principalAmount){const se={senderAmount:parseFloat(ee.paymentDetails.origination.principalAmount)/100};this._store.dispatch({type:K.k.UPDATE_SENDER_AMOUNT,payload:se})}}matchTransactionDetail(ee,se){ee=ee.replace(/\-/g,"");const le={};return se.transaction.forEach(function(F){F.moneyTransferControl.mtcn===ee&&(le.payInMethod=F.paymentDetails.paymentType,le.transactionStatus=F.status,le.email=F.sender.email,le.splitPayout=F.paymentDetails.destination.split_payout?F.paymentDetails.destination.split_payout:null,le.payOutMethod=F.wuProduct.code,F.paymentDetails&&F.paymentDetails.creditDebitCard&&F.paymentDetails.creditDebitCard.cardNumber&&(le.cardNumber=F.paymentDetails.creditDebitCard.cardNumber.slice(-6)),F.sender&&F.sender.wallet&&F.sender.wallet.bankAccounts&&F.sender.wallet.bankAccounts.bankAccount.length>0&&(le.senbankName=F.sender.wallet.bankAccounts.bankAccount[0].bankName,F.sender.wallet.bankAccounts.bankAccount[0].accountType&&(le.accountType=F.sender.wallet.bankAccounts.bankAccount[0].accountType.charAt(0).toUpperCase()+F.sender.wallet.bankAccounts.bankAccount[0].accountType.substr(1).toLowerCase()),F.sender.wallet.bankAccounts.bankAccount[0].routingNumber&&(le.routingNumber=F.sender.wallet.bankAccounts.bankAccount[0].routingNumber),le.senAccountNumber=F.sender.wallet.bankAccounts.bankAccount[0].accountNumber.slice(-5)),F.receiver&&F.receiver.wallet&&F.receiver.wallet.bankAccounts&&F.receiver.wallet.bankAccounts.bankAccount.length>0&&(le.bankName=F.receiver.wallet.bankAccounts.bankAccount[0].bankName,le.recAccountNumber=F.receiver.wallet.bankAccounts.bankAccount[0].accountNumber.slice(-5)))}),le}getCountryList(ee,se){this.countryList&&this.countryList.DropdownList?ee(!0):this.countryListService.getCountries().subscribe(le=>{this.countryList=le,ee(!0)},le=>{console.error(le),se(!0)})}__getCountryNameFromIsoCodeTranslated(ee){return(f.get(this.countryList,"DropdownList")||[]).filter(se=>se.key===ee)[0]?.value}static#e=this.\u0275fac=function(se){return new(se||fe)(C.KVO(W.l),C.KVO(V.il),C.KVO(D.gn))};static#t=this.\u0275prov=C.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();var E=t(95006),N=t(37486),_=t(61862),M=t(93885),U=t(34781),w=t(75194),O=t(16619),G=t(79928),s=t(84787),a=t(14421),c=t(57324),r=t(3902),g=t(74814),p=t(87801),h=t(77202);let l=(()=>{class fe{constructor(ee,se,le,F,J,Q,ne,_e){this.store=se,this.updateStore=le,this.restMethod=F,this.baseRequest=J,this.featureFlagService=Q,this.urlService=ne,this.utilService=_e,this.westernUnion={},this.receivingCurrency="",this.filteredReceiverList$=new G.t({receiversWithSameCountry:[],receiversWithOtherCountry:[]}),this.westernUnion=ee.westernUnion,this.store.pipe((0,V.Lt)(P.w8)).subscribe(pe=>{this.accountNumber=f.get(pe,"myWuNumber")}),this.store.pipe((0,V.Lt)(P.mA)).subscribe(pe=>{this.receivingCountryIsoCode=f.get(pe,"receiverCountry.isoCode"),this.receivingCurrency=f.get(pe,"receiverCurrency")}),this.store.pipe((0,V.Lt)(P.r8)).subscribe(pe=>{this.receiversList=pe}),this.store.pipe((0,V.Lt)(P.Yr)).subscribe(pe=>{this.userJourneyStore=pe})}addBillerReceiver(){const ee={};ee.billers=this.getBillPayDetails();const se={...this.baseRequest.getBaseRequest(),...ee};return this.restMethod.POST("/AddReceivers",se,"digital")}getBillPayDetails(){const ee=this.getSelectedBiller(),se={};return se.biller=[{company_name:ee.companyName,account_no:ee.accountNumber,country_iso_code:ee.countryIsoCode,currency_iso_code:ee.currencyIsoCode,industry:ee.industry,code:ee.code}],se}getSelectedBiller(){return this.updateStore.getState()&&this.updateStore.getState().selectedBiller?this.updateStore.getState().selectedBiller:null}populateReceiverModel(ee){if(f.get(ee,"receivers.receiver")){const se=new c.RM;return se.receivers=[],ee.receivers.receiver.forEach(le=>{const F=new c.Q8;F.generalInformation=this.buildGeneralInfoModel(le),F.name=this.buildNameModel(le),F.address=this.buildAddressModel(le),F.contactDetails=this.buildContactModel(le),F.wallet=this.buildWalletDetails(le),F.nationality=le.nationality,F.consumerToBusinessName=le.consumerToBusinessName,F.dob=le.dateOfBirth||le.date_of_birth,F.reminderId=le.reminderId,F.receiver_national_id=le.receiverNationalId,f.isEmpty(f.get(le,"complianceDetails"))||(F.complianceDetails={sender_receiver_relationship:f.get(le,"complianceDetails.senderReceiverRelationship")}),(F.name.firstName||F.consumerToBusinessName)&&se.receivers.push(F)}),ee.billers&&ee.billers.biller&&0!==ee.billers.biller.length&&(se.billers=ee.billers.biller),se}return ee}populateFavReceiverModel(ee){const se=new c.Q8;return se.generalInformation=this.buildGeneralInfoModel(ee),se.name=this.buildNameModel(ee),se.address=this.buildAddressModel(ee),se.contactDetails=this.buildContactModel(ee),se.wallet=this.buildWalletDetails(ee),se.nationality=ee.nationality,se.consumerToBusinessName=ee.consumerToBusinessName,se.dob=ee.dateOfBirth||ee.date_of_birth,se.reminderId=ee.reminderId,f.isEmpty(f.get(ee,"complianceDetails"))||(se.complianceDetails={sender_receiver_relationship:f.get(ee,"complianceDetails.senderReceiverRelationship")}),se}updateReceiver(ee){const se=this.addReceiverRequest(ee);f.get(se,"receivers.receiver")&&ee.generalInformation&&(se.receivers.receiver[0].type=ee.generalInformation.type,se.receivers.receiver[0].id=ee.generalInformation.id,se.receivers.receiver[0].uid=ee.generalInformation.uid,se.receivers.receiver[0].creation_date=ee.generalInformation.creationDate);const le={...this.baseRequest.getBaseRequest(),...se};return(0,s.H)(this.westernUnion.ps.UpdateReceivers(le))}deleteReceiver(ee){const se=this.deleteReceiverRequest(ee);return this.restMethod.POST("/DeleteReceivers",se,"digital")}ifAddAccountNbr(ee){return!ee||!this.utilService.isSybaseEnabled(ee)}addReceiverRequest(ee,se){const le=this.ifAddAccountNbr(se),F=this.updateStore.getState()||{},J=F.sender?F.sender.myWuNumber:"";this.v3optimusServiceEnable=this.getReceiverOptimusVersion(this.receivingCountryIsoCode);let Q={};if(ee?.consumerToBusinessName)Q={consumer_to_business_name:ee.consumerToBusinessName},ee.consumerToBusinessRef&&(Q={...Q,consumer_to_business_reference:ee.consumerToBusinessRef});else if(ee?.name){const ve={first_name:ee.name.firstName?.trim(),last_name:ee.name.lastName?.trim(),...ee.name.middleName&&{middle_name:ee.name.middleName?.trim()}};!ve.middle_name&&ee.name.maternalName&&(ve.middle_name=ee.name.maternalName),Q={name:ve}}if(ee?.address){const ve={addr_line1:ee.address.addressLine1||null,addr_line2:ee.address.addressLine2||null,city:ee.address.city||null,state:ee.address.state||null,postal_code:ee.address.zipCode||null,country_iso_code:ee.address.countryIsoCode};this.utilService.isResumeTransferAltEnabled()&&ee.address.postalCode&&(ve.postal_code=ee.address.postalCode||null);const Ie=this.updateStore.getState().selectedProduct?.payOut;this.featureFlagService.isFeatureEnabledForReceiver("RELATIONSHIPTORECEIEVER_IN_RECEIVER_NODE",this.receivingCountryIsoCode)&&(Ie===N.Zr.BA||Ie===N.Zr.WA)&&(Q.compliance_details={sender_receiver_relationship:ee.selfDeclaredQuestions?.relationshipToReceiver}),Q={...Q,address:ve,permanent_city:ee.address.permanentCity,permanent_country:ee.address.permanentCountry}}const ne=this.updateStore.getState().selectedProduct?.payOut;if(f.get(ee,"wallet")&&ne!==N.Zr.AG){const ve={};switch(ne){case N.Zr.WA:let Ie=ee.wallet.wuWallet;const Fe=this.updateStore.getState();!(!Fe||!Fe.fromResumeTransfer)&&Fe.fromResumeTransfer&&ee?.wallet.wu_wallet&&(Ie=ee.wallet.wu_wallet),M.Y.receiver_National_IdFieldCorridor.includes(this.receivingCountryIsoCode)&&void 0!==Ie&&(ee.receiver_national_id=Ie.financial_id),M.Y.receiver_National_IdFieldCorridor.includes(this.receivingCountryIsoCode)&&ee.receiver_national_id&&["05702","05701"].includes(Ie.service_provider_code)&&delete ee.receiver_national_id,ve.wu_wallet={service_provider_code:Ie.service_provider_code,service_provider_name:Ie.service_provider_name,wallet_account_number:Ie.walletAccountNumber,currency:this.receivingCurrency,reason:ee.selfDeclaredQuestions?.purposeOfTransaction},ee.wallet.wuWallet=ve.wu_wallet;break;case N.Zr.D2C:const ze=ee.wallet.wuD2c;ve.wu_d2c={currency:this.receivingCurrency,debit_card_number:ze.debit_card_number,network:ze.network,reason:ee.selfDeclaredQuestions?.purposeOfTransaction},ee.wallet.wuD2c=ve.wu_d2c;break;case N.Zr.D2C_PS:const Ne=ee.wallet.wuD2c;ve.wu_d2c={currency:this.receivingCurrency,debit_card_number:Ne.debit_card_number,network:Ne.network,reason:ee.selfDeclaredQuestions?.purposeOfTransaction},ee.wallet.wuD2c=ve.wu_d2c;break;default:const Le=ee.wallet?.bankAccounts&&ee.wallet.bankAccounts[0]||{};"IN"===f.toUpper(this.urlService.getCountryFromURL())&&p.K.NO_BANK_NAME_COUNTRIES.includes(this.receivingCountryIsoCode)&&ne===N.Zr.BA&&this.updateStoreSelectedReceiver(ee);const Re={account_number:Le.account_number,branch_name:Le.branch_name,bank_code:Le.bank_code,bank_name:Le.bank_name,routing_number:Le.routing_number,currency:this.receivingCurrency,financial_id:ee.name.nationalId||Le.financial_id,swift_code:Le.swift_code,branch_code:Le.branch_code,bank_location:Le.bank_location,account_type:Le.account_type,account_prefix:Le.account_prefix,sort_code:Le.sort_code,account_suffix:Le.account_suffix,account_selected_type:Le.account_selected_type,iban_account_number:Le.iban_account_number?Le.iban_account_number.replace(/\s/g,""):Le.iban_account_number,reason:ee.selfDeclaredQuestions?.purposeOfTransaction,upi_id:Le.upi_id,accountTypeListField:Le.accountTypeListField,confirm_acc_number:Le.confirm_acc_number,acc_number:Le.acc_number};Le.city&&(Re.address={city:Le.city}),p.K.NO_BANK_NAME_COUNTRIES.includes(this.receivingCountryIsoCode)&&delete Re.bank_name,"IN"===this.receivingCountryIsoCode&&("UPI"===Re.account_selected_type?(Q.payout_type="BANK_ACCOUNT",Re.upi_id=this.getFormattedUpi(Re.upi_id),delete Re.bank_name,delete Re.bank_code,delete Re.account_number):"BANK"===Re.account_selected_type&&delete Re.upi_id,this.updateStore.getState().selectedProduct.payIn===N.mt.Cash&&delete Re.account_selected_type),"BR"===this.receivingCountryIsoCode&&"PIX"===Re.account_selected_type&&Le.pix_id&&(Re.account_number=Le.pix_id,Re.account_type="PIX",delete Re.account_selected_type),M.Y.accountTypeMexico.includes(this.receivingCountryIsoCode)&&this.v3optimusServiceEnable&&ne===N.Zr.BA&&(delete Re.acc_number,delete Re.accountTypeListField,delete Re.confirm_acc_number,delete Re.confirm_account_number,delete Re.debit_card_number,delete Re.walletAccountNumber,Re.bank_code=Le.bank_code,Le.accountTypeListField===M.Y.clabeInfoNumber?Re.account_type=M.Y.mexicoAccountType.CLABE:Le.accountTypeListField===M.Y.bankInfoAccNumber?(Re.account_type=M.Y.mexicoAccountType.BANK,Re.account_number=Le.acc_number):Le.accountTypeListField===M.Y.DEBIT_CARD_ACCOUNT_TYPE&&(Re.account_type=M.Y.mexicoAccountType.CARD,Re.account_number=Le.debit_card_number,Re.network=Le.network),ee.wallet.bankAccounts[0]=Re),ve.bank_accounts={bank_account:[Re]}}Q={...Q,wallet:ve}}if(ee?.contactDetails){let ve=ee.contactDetails.countryCode;ne===N.Zr.WA&&(ve=Number(ve));const Ie=ee.contactDetails.mobileNumber?{mobile_phone:{phone_number:{country_code:ve,national_number:ee.contactDetails.mobileNumber}}}:{};Q={...Q,...Ie},ee.contactDetails.email&&(Q.email=ee.contactDetails.email)}Q?.address&&"MX"===Q?.address?.country_iso_code&&ne===N.Zr.WA&&(Q.email=Q.wallet.wu_wallet.wallet_account_number,ee.contactDetails.email=Q.email),ee?.nationality&&(Q={...Q,nationality:ee.nationality});const _e=this.updateStore.getState().selectedProduct?.code;JSON.parse(sessionStorage.getItem("paysendD2CPayoutEnabled")||"null")&&ne===N.Zr.D2C_PS&&(ee.serviceCode=_e),this.utilService.isDSREnabledCorridor()&&ne===N.Zr.BA&&_e===this.utilService.isDSREnabledCorridor()&&(ee.serviceCode=_e),this.utilService.isReceiverDSREnabledCorridor()&&ne===N.Zr.BA&&"500"!==_e&&(ee.serviceCode=_e),this.utilService.isSplitTileEnabled()&&ne===N.Zr.WA&&"800"!==_e&&(ee.serviceCode=_e),ee?.secretQuestion&&(Q={...Q,security_details:{question_answers:{question_answer:[{question:ee.secretQuestion.question,answer:ee.secretQuestion.answer}]}}}),Q={...Q,date_of_birth:ee?.dob,receiver_national_id:ee?.receiver_national_id,flow_name:ee?.flowName,receiver_digest:ee?.receiverDigest,serviceCode:ee?.serviceCode};const Ae={...le&&{accountNbr:J},receivers:{receiver:[Q]},...this.baseRequest.getBaseRequest()};return this.utilService.isReceiverMobileNumberMandatoryEnabled()&&(Ae.isTamrValidateRequired="true"),Ae}updateStoreSelectedReceiver(ee){if(ee&&ee.wallet&&ee.wallet.bankAccounts&&!ee.wallet.bankAccounts[0].bank_name){const se=JSON.parse(sessionStorage.getItem("ReceiverTemplate_v")||"{}");if(f.get(se,"d2bTemplate[0].dataBanks")){const le=se.d2bTemplate[0].dataBanks.find(F=>F.value===(void 0===ee.wallet.bankAccounts[0].swift_code?ee.wallet.bankAccounts[0].bank_code:ee.wallet.bankAccounts[0].swift_code));ee.wallet.bankAccounts[0].bank_name=le.name,this.updateStore.updateSelectedReceiver(ee)}}else this.updateStore.updateSelectedReceiver(ee)}getFormattedUpi(ee){const se=ee.indexOf("@");if(se){const le=ee.substring(0,se),F=ee.substring(se+1).toUpperCase();ee=`${le}@${F}`}else ee=ee.toUpperCase();return ee}deleteReceiverRequest(ee){const se={receivers:{}};return se.receivers.receiver=[],ee.generalInformation&&se.receivers.receiver.push({id:ee.generalInformation.id,uid:ee.generalInformation.uid}),{security:this.baseRequest.getSecurity(),...this.baseRequest.getExternalRef(),...se,bashPath:this.baseRequest.getBashPath()}}getReceiversRequest(){const ee={gateway_customer:{preferred_customer:{account_nbr:this.accountNumber}},search_key:"ALL"};return{security:this.baseRequest.getSecurity(),...this.baseRequest.getExternalRef(),...ee,bashPath:this.baseRequest.getBashPath()}}buildGeneralInfoModel(ee){const se=new c.xr;return ee&&(se.id=ee.id,se.creationDate=ee.creationDate,se.favourite=ee.favorite,se.type=ee.type,se.uid=ee.uid),se}buildNameModel(ee){let se=new N.xE;if(ee&&ee.name){se.firstName=ee.name.firstName,se.lastName=ee.name.lastName,se.middleName=ee.name.middleName;let le=`${se.firstName||""} ${se.middleName||""} ${se.lastName||""}`.replace("  "," ");this.isLatinCountry(ee.address?.countryIsoCode)&&(le=`${se.firstName||""} ${se.lastName||""} ${se.middleName||""}`.replace("  "," ")),se.fullName=le}else se.firstName="",se.lastName="";return se=f.mapValues(se,this.toTitleCase),se}buildAddressModel(ee){const se=new N.pV;return ee&&ee.address&&(se.addressLine1=ee.address.addrLine1,se.addressLine2=ee.address.addrLine2,se.city=ee.address.city,se.state=ee.address.state,se.zipCode=ee.address.postalCode),ee.permanentCity&&(se.permanentCity=ee.permanentCity),ee.permanentCountry&&(se.permanentCountry=ee.permanentCountry),se.countryIsoCode=f.get(ee,"address.countryIsoCode"),se}buildContactModel(ee){let se=new N.HK;const le=f.get(ee,"mobilePhone.phoneNumber");return le&&(se.countryCode=le.countryCode,se.mobileNumber=le.nationalNumber),se.email=f.get(ee,"email"),se=f.mapValues(se,f.method("toLowerCase")),se.vv_status=f.get(ee,"mobilePhone.phoneNumber.vvStatus"),se.countryIsoCode=ee?.mobilePhone?.phoneNumber?.isoCode||ee.address?.countryIsoCode||"",se}toTitleCase(ee){return ee&&"string"==typeof ee?ee.toLowerCase().split(" ").map(se=>se.charAt(0).toUpperCase()+se.substr(1)).join(" "):ee}buildWalletDetails(ee){const se=new N.uW;if(f.get(ee,"wallet.bankAccounts.bankAccount")&&f.size(ee.wallet.bankAccounts.bankAccount)>0){se.bankAccounts=[];const le=ee.wallet.bankAccounts.bankAccount[0],F={account_number:le.accountNumber,confirm_account_number:le.accountNumber,branch_name:le.branchName,bank_code:le.bankCode,bank_name:le.bankName,routing_number:le.routingNumber,currency:le.currency,financial_id:le.financialId,countryIsoCode:f.get(le,"address.countryIsoCode"),swift_code:le.swiftCode,branch_code:le.branchCode,bank_location:le.bankLocation,account_type:le.accountType,account_prefix:le.accountPrefix,sort_code:le.sortCode,account_suffix:le.accountSuffix,account_selected_type:le.accountSelectedType,iban_account_number:le.ibanAccountNumber,reason:le.reason,upi_id:le.upi_id,city:le.address?.city,network:le?.network};le?.address?.city&&(F.address={city:le.address.city}),se.bankAccounts=[F]}if(ee.wallet?.wu_wallet&&(se.wuWallet={service_provider_code:ee.wallet.wu_wallet.service_provider_code,service_provider_name:ee.wallet.wu_wallet.service_provider_name,walletAccountNumber:ee.wallet.wu_wallet.wallet_account_number,currency:ee.wallet.wu_wallet.currency,reason:ee.wallet.wu_wallet.reason}),ee.wallet?.wu_d2c){const le={currency:ee.wallet.wu_d2c.currency,debit_card_number:ee.wallet.wu_d2c.debit_card_number,network:ee.wallet.wu_d2c.network,reason:ee.wallet.wu_d2c.reason};ee.wallet.wu_d2c.card_type&&(le.card_type=ee.wallet.wu_d2c.card_type),se.wuD2c=le}return se}isLatinCountry(ee){return M.Y.latinCountries.indexOf(ee)>=0}addReceiverDirect(ee){const se="/AddReceivers",le=this.addReceiverRequest(ee,se),F={...this.baseRequest.getBaseRequest(),...le};return this.restMethod.POST(se,F,"digital")}getIFSCCodes(ee){const se={...ee,bashPath:this.baseRequest.getBashPath()};let le="";return le=this.featureFlagService.isFeatureEnabled("ENABLE_CENTRALIZED_BANK_LIST")?"/GetIFSC":"/GetIFSCCode",this.restMethod.POST(le,se,"digital")}addReceivers(ee){var se=this;return(0,$.A)(function*(){const le="/AddReceivers",F=se.addReceiverRequest(ee,le);let J=yield se.restMethod.POST(le,F,"digital").toPromise();if(J&&!J.error){se.updateStore.updateReceiverList(null),se.utilService.isSybaseEnabled(le)&&(J=se.utilService.formatToCamelCase(J));const Q="/GetReceivers";let ne=yield se.restMethod.POST(Q,se.getReceiversRequest()).toPromise();if(ne&&!ne.error){const _e=se.updateStore.getState()||{},pe=_e.corridor?_e.corridor.receiverCountry.isoCode:"",Ae=_e.selectedProduct?_e.selectedProduct.payOut:"";ne=se.checkSybaseEnabled(Q,ne);const ve=se.populateReceiverModel(ne),Ie=se.arrangeReceivers(ve,pe,Ae);return sessionStorage.setItem("GetReceivers_v",JSON.stringify(ne)),se.updateStore.updateReceiverList(Ie),{addReceiversResp:J,getReceiversResp:Ie||{}}}return{addReceiversResp:J,getReceiversResp:ne}}return{addReceiversResp:J}})()}checkSybaseEnabled(ee,se){return this.utilService.isSybaseEnabled(ee)&&se.receivers&&se.receivers.receiver?this.convertCSToPSReceiversList(se):se}arrangeReceivers(ee,se,le){if(!ee||ee&&!ee.receivers)return;if(!se)return ee.receivers.sort((ne,_e)=>ne.address.countryIsoCode.localeCompare(_e.address.countryIsoCode)),ee;let F=ee.receivers;F=F.filter(ne=>"Q"!==ne.generalInformation.type),M.Y.MILITARY_BASE_COUNTRY_CODES.includes(se.toUpperCase())&&(se="US");const J=this.sortReceivers(F.filter(ne=>ne.address.countryIsoCode===se),le),Q=this.sortReceivers(F.filter(ne=>ne.address.countryIsoCode!==se),le);return this.filteredReceiverList$.next({receiversWithOtherCountry:Q,receiversWithSameCountry:J}),ee.receivers=[...J,...Q],ee}sortReceivers(ee,se){return ee.sort((le,F)=>{const J=this.isReceiverReadyForSelectedPayOut(le,se),Q=this.isReceiverReadyForSelectedPayOut(F,se);return J&&!Q?-1:!J&&Q||le.consumerToBusinessName&&!F.consumerToBusinessName?1:F.consumerToBusinessName&&!le.consumerToBusinessName?-1:le.consumerToBusinessName&&F.consumerToBusinessName?le.consumerToBusinessName.localeCompare(F.consumerToBusinessName):le.name?.firstName.trim()&&!F.name?.firstName.trim()?-1:!le.name?.firstName.trim()&&F.name?.firstName.trim()?1:le.name?.firstName.trim()&&F.name?.firstName.trim()?le.name.firstName.trim().localeCompare(F.name.firstName.trim()):0})}isReceiverReadyForSelectedPayOut(ee,se){switch(se){case N.Zr.BA:return!!(ee.wallet?.bankAccounts?.length>0&&(ee.wallet.bankAccounts[0].account_number||ee.wallet.bankAccounts[0].upi_id));case N.Zr.MT:return!(!ee.contactDetails||!ee.contactDetails.mobileNumber);default:return!0}}getReceivers(ee,se){const le=sessionStorage.getItem("ForceRefreshReceiverList"),F=se||null;if(!this.receiversList||f.isEqual(le,"TRUE")){sessionStorage.setItem("ForceRefreshReceiverList","FALSE");const J="/GetReceivers";return this.restMethod.POST(J,this.getReceiversRequest()).pipe((0,E.T)(Q=>{if(Q&&!Q.error){this.utilService.isSybaseEnabled(J)&&(Q.receivers&&Q.receivers.receiver||Q.billers&&Q.billers.biller)&&(Q=this.convertCSToPSReceiversList(Q));const ne=this.populateReceiverModel(Q);return this.updateStore.updateReceiverList(ne),"bill-pay"===this.userJourneyStore?Q:ee?this.arrangeReceivers(ne,ee,F):ne}return Q}))}{const J=this.populateReceiverModel(this.receiversList);return this.updateStore.updateReceiverList(J),(0,a.of)(ee?this.arrangeReceivers(J,ee,F):J)}}updateReceiverRequest(ee,se,le){const F=this.ifAddAccountNbr(le),J=this.updateStore.getState()||{},Q=J.sender?J.sender.myWuNumber:"";this.v3optimusServiceEnable=this.getReceiverOptimusVersion(this.receivingCountryIsoCode);let ne={};if(ee.consumerToBusinessName)ne={consumer_to_business_name:ee.consumerToBusinessName},ee.consumerToBusinessRef&&(ne={...ne,consumer_to_business_reference:ee.consumerToBusinessRef});else if(ee.name){const Ie={first_name:ee.name.firstName?.trim(),last_name:ee.name.lastName?.trim(),...ee.name.middleName&&{middle_name:ee.name.middleName?.trim()}};!Ie.middle_name&&ee.name.maternalName&&(Ie.middle_name=ee.name.maternalName),ne={name:Ie}}if(se&&(ne={...ne,uid:se.uid,id:se.id,type:se.type,creation_date:se.creationDate,favorite:se.favourite}),ee.address){const Ie={addr_line1:ee.address.addressLine1||null,addr_line2:ee.address.addressLine2||null,city:ee.address.city||null,state:ee.address.state||null,postal_code:ee.address.zipCode||null,country_iso_code:ee.address.countryIsoCode};this.utilService.isResumeTransferAltEnabled()&&ee.address.postalCode&&(Ie.postal_code=ee.address.postalCode||null);const Fe=this.updateStore.getState().selectedProduct?.payOut;this.featureFlagService.isFeatureEnabledForReceiver("RELATIONSHIPTORECEIEVER_IN_RECEIVER_NODE",this.receivingCountryIsoCode)&&(Fe===N.Zr.BA||Fe===N.Zr.WA)&&(ne.compliance_details={sender_receiver_relationship:ee.selfDeclaredQuestions?.relationshipToReceiver}),ne={...ne,address:Ie,permanent_city:ee.address.permanentCity,permanent_country:ee.address.permanentCountry}}const _e=this.updateStore.getState().selectedProduct?.payOut;if(f.get(ee,"wallet")&&_e!==N.Zr.AG){const Ie={};switch(_e){case N.Zr.WA:let Fe=ee.wallet.wuWallet;const Ye=this.updateStore.getState();!(!Ye||!Ye.fromResumeTransfer)&&Ye.fromResumeTransfer&&ee?.wallet.wu_wallet&&(Fe=ee.wallet.wu_wallet),M.Y.receiver_National_IdFieldCorridor.includes(this.receivingCountryIsoCode)&&void 0!==Fe&&Fe.financial_id&&(ee.receiver_national_id=Fe.financial_id),M.Y.receiver_National_IdFieldCorridor.includes(this.receivingCountryIsoCode)&&ee.receiver_national_id&&["05702","05701"].includes(Fe.service_provider_code)&&delete ee.receiver_national_id,Ie.wu_wallet={service_provider_code:Fe.service_provider_code,service_provider_name:Fe.service_provider_name,wallet_account_number:Fe.walletAccountNumber,currency:this.receivingCurrency,reason:ee.selfDeclaredQuestions?.purposeOfTransaction},ee.wallet.wuWallet=Ie.wu_wallet;break;case N.Zr.D2C:const Ne=ee.wallet.wuD2c;Ie.wu_d2c={currency:this.receivingCurrency,debit_card_number:Ne.debit_card_number,network:Ne.network,reason:ee.selfDeclaredQuestions?.purposeOfTransaction},ee.wallet.wuD2c=Ie.wu_d2c;break;case N.Zr.D2C_PS:const Le=ee.wallet.wuD2c;Ie.wu_d2c={currency:this.receivingCurrency,debit_card_number:Le.debit_card_number,network:Le.network,reason:ee.selfDeclaredQuestions?.purposeOfTransaction},ee.wallet.wuD2c=Ie.wu_d2c;break;default:const Re=ee.wallet?.bankAccounts&&ee.wallet.bankAccounts[0]||{};"IN"===f.toUpper(this.urlService.getCountryFromURL())&&p.K.NO_BANK_NAME_COUNTRIES.includes(this.receivingCountryIsoCode)&&_e===N.Zr.BA&&this.updateStoreSelectedReceiver(ee);const Me={account_number:Re.account_number,branch_name:Re.branch_name,bank_code:Re.bank_code,bank_name:Re.bank_name,routing_number:Re.routing_number,currency:this.receivingCurrency,financial_id:ee.name.nationalId||Re.financial_id,swift_code:Re.swift_code,branch_code:Re.branch_code,bank_location:Re.bank_location,account_type:Re.account_type,account_prefix:Re.account_prefix,sort_code:Re.sort_code,account_suffix:Re.account_suffix,account_selected_type:Re.account_selected_type,iban_account_number:Re.iban_account_number?Re.iban_account_number.replace(/\s/g,""):Re.iban_account_number,reason:ee.selfDeclaredQuestions?.purposeOfTransaction,upi_id:Re.upi_id,accountTypeListField:Re.accountTypeListField,confirm_acc_number:Re.confirm_acc_number,acc_number:Re.acc_number};Re.city&&(Me.address={city:Re.city}),p.K.NO_BANK_NAME_COUNTRIES.includes(this.receivingCountryIsoCode)&&delete Me.bank_name,"IN"===this.receivingCountryIsoCode&&("UPI"===Me.account_selected_type?(ne.payout_type="BANK_ACCOUNT",Me.upi_id=this.getFormattedUpi(Me.upi_id),delete Me.bank_name,delete Me.bank_code,delete Me.account_number):"BANK"===Me.account_selected_type&&delete Me.upi_id,this.updateStore.getState().selectedProduct.payIn===N.mt.Cash&&delete Me.account_selected_type),"BR"===this.receivingCountryIsoCode&&"PIX"===Me.account_selected_type&&(Re.pix_id&&(Me.account_number=Re.pix_id,Me.account_type="PIX"),delete Me.account_selected_type),M.Y.accountTypeMexico.includes(this.receivingCountryIsoCode)&&this.v3optimusServiceEnable&&_e===N.Zr.BA&&(delete Me.acc_number,delete Me.accountTypeListField,delete Me.confirm_acc_number,delete Me.confirm_account_number,delete Me.debit_card_number,delete Me.walletAccountNumber,Me.bank_code=Re.bank_code,Re.accountTypeListField===M.Y.clabeInfoNumber?Me.account_type=M.Y.mexicoAccountType.CLABE:Re.accountTypeListField===M.Y.bankInfoAccNumber?(Me.account_type=M.Y.mexicoAccountType.BANK,Me.account_number=Re.acc_number):Re.accountTypeListField===M.Y.DEBIT_CARD_ACCOUNT_TYPE&&(Me.account_type=M.Y.mexicoAccountType.CARD,Me.account_number=Re.debit_card_number,Me.network=Re.network),ee.wallet.bankAccounts[0]=Me),Ie.bank_accounts={bank_account:[Me]}}ne={...ne,wallet:Ie}}if(ee.contactDetails){let Ie=ee.contactDetails.countryCode;_e===N.Zr.WA&&(Ie=Number(Ie));const Fe=ee.contactDetails.mobileNumber?{mobile_phone:{phone_number:{country_code:Ie,national_number:ee.contactDetails.mobileNumber,vv_status:ee?.contactDetails?.vv_status}}}:{};ne={...ne,...Fe},ee.contactDetails.email&&(ne.email=ee.contactDetails.email)}ne?.address&&"MX"===ne?.address?.country_iso_code&&_e===N.Zr.WA&&(ne.email=ne.email||ne.wallet.wu_wallet.wallet_account_number,ee.contactDetails.email=ne.email),ee.nationality&&(ne={...ne,nationality:ee.nationality});const pe=this.updateStore.getState().selectedProduct?.code;JSON.parse(sessionStorage.getItem("paysendD2CPayoutEnabled")||"null")&&_e===N.Zr.D2C_PS&&(ee.serviceCode=pe),this.utilService.isDSREnabledCorridor()&&_e===N.Zr.BA&&pe===this.utilService.isDSREnabledCorridor()&&(ee.serviceCode=pe),this.utilService.isReceiverDSREnabledCorridor()&&_e===N.Zr.BA&&"500"!==pe&&(ee.serviceCode=pe),this.utilService.isSplitTileEnabled()&&_e===N.Zr.WA&&"800"!==pe&&(ee.serviceCode=pe),ee.secretQuestion&&(ne={...ne,security_details:{question_answers:{question_answer:[{question:ee.secretQuestion.question,answer:ee.secretQuestion.answer}]}}}),ne={...ne,date_of_birth:ee.dob,receiver_national_id:ee.receiver_national_id,flow_name:ee.flowName,receiver_digest:ee.receiverDigest,serviceCode:ee.serviceCode};const ve={...F&&{accountNbr:Q},receivers:{receiver:[ne]},...this.baseRequest.getBaseRequest()};return this.utilService.isReceiverMobileNumberMandatoryEnabled()&&(ve.isTamrValidateRequired="true"),this.utilService.getPartnerName()===M.Y.POSTEITALIANE_PARTNER.toUpperCase()&&ve&&ve.accountNbr&&delete ve.accountNbr,ve}updateReceivers(ee,se){var le=this;return(0,$.A)(function*(){const F="/UpdateReceivers",J=yield le.restMethod.POST(F,le.updateReceiverRequest(ee,se,F)).toPromise();return J.error&&"C1445"===J.error.code?(yield le.restMethod.POST("/GetReceivers",le.getReceiversRequest()).toPromise(),yield le.restMethod.POST(F,le.updateReceiverRequest(ee,se,F)).toPromise()):J})()}convertCSToPSReceiversList(ee){const se=Object.assign({},ee);let le=this.utilService.keysToCamel(ee);return"bill-pay"!==this.userJourneyStore&&se.receivers&&se.receivers.receiver&&(le=this.modifyReceiverWallet(se,le)),le}modifyReceiverWallet(ee,se){return ee.receivers.receiver.forEach((le,F)=>{le.wallet&&(le.wallet.bank_accounts&&le.wallet.bank_accounts.bank_account.length>0&&(se.receivers.receiver[F].wallet.bankAccounts.bankAccount[0].upi_id=le.wallet.bank_accounts.bank_account[0].upi_id,delete se.receivers.receiver[F].wallet.bankAccounts.bankAccount[0].upiId),le.wallet.wu_wallet&&(se.receivers.receiver[F].wallet.wu_wallet=le.wallet.wu_wallet,delete se.receivers.receiver[F].wallet.wuWallet),le.wallet.wu_d2c&&(se.receivers.receiver[F].wallet.wu_d2c=le.wallet.wu_d2c,delete se.receivers.receiver[F].wallet.wuD2c))}),se}getReceiverOptimusVersion(ee){return this.featureFlagService.isFeatureEnabledForReceiver("RECEIVER_OPTIMUMS_VERSION_V3",ee)}validatePayoutDetails(ee){const le=this.addReceiverRequest(ee);return le.security.requestHeader=[{key:"flowType",value:"RD"}],le.mtcn=sessionStorage.getItem("currentMTCN"),delete le.bashPath,le.accountNbr&&delete le.accountNbr,this.restMethod.POST("/GwpValidatePayoutDetails",le,"","","",!0).pipe((0,E.T)(F=>F))}validatePayStore(ee){const le=this.addReceiverRequest(ee);return le.security.requestHeader=[{key:"flowType",value:"RD"}],le.mtcn=sessionStorage.getItem("currentMTCN"),le.receiver=le.receivers.receiver[0],delete le.receivers,delete le.channel,delete le.bashPath,le.accountNbr&&delete le.accountNbr,this.restMethod.POST("/GwpPayoutStore",le,"","","",!0).pipe((0,E.T)(F=>F))}static#e=this.\u0275fac=function(se){return new(se||fe)(C.KVO(_.b),C.KVO(V.il),C.KVO(U.k),C.KVO(w.R),C.KVO(O.E),C.KVO(r.y),C.KVO(g.H),C.KVO(h.a))};static#t=this.\u0275prov=C.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();t(82520);var S=t(82492),m=t(69900),b=t(64347),Y=t(46937),R=t(96386),k=t(27310),L=t(65578),y=t(12038),I=t(83921),T=t(74526);let te=(()=>{class fe{constructor(ee,se){this.baseService=ee,this.restMethod=se}getCaptcha(){const se=this.getCaptchRequestBody();return this.restMethod.POST("/GetCaptcha",se).pipe((0,E.T)(le=>le),(0,I.W)(le=>(0,T.$)(le.message||le)))}getCaptchRequestBody(){const ee={};return ee.security=this.baseService.getSecurity(),ee.channel=this.baseService.getChannel(),ee}static#e=this.\u0275fac=function(se){return new(se||fe)(C.KVO(O.E),C.KVO(w.R))};static#t=this.\u0275prov=C.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();var Z=t(8788);let de=(()=>{class fe{constructor(ee,se,le,F,J,Q,ne){this.restMethod=ee,this.updateStore=se,this.smoConfig=le,this.utilService=F,this.readURLService=J,this.countryConfigService=Q,this.featureFlagService=ne}priceCorridorMethod(){const ee=this.updateStore.getState();this.corridor=ee?ee.corridor:{};const le=f.get(this.corridor,"senderCountry.isoCode")?f.get(this.corridor,"senderCountry.isoCode"):this.readURLService.getCountryFromURL()?.toUpperCase(),F=f.get(this.corridor,"senderCurrency")?f.get(this.corridor,"senderCurrency"):this.countryConfigService.getCurrencyCode();return this.restMethod.GET("/price/corridors/"+le+"/"+F).pipe((0,E.T)(Q=>{if(Q.error){const ne={};ne.errorCode=Q.error.code,ne.errorMessage=Q.error.message,this.updateStore.updatePageLevelNotification(ne)}else if(Q&&Q.countries){Q.countries.forEach(_e=>{const pe=f.get(_e,"country.currencies",[]);pe.forEach((Ae,ve)=>{if("SS"===_e.country.isoCode&&"USD"===Ae.currency.isoCode&&pe.splice(ve,1),"PH"===f.get(_e,"country.isoCode")&&"USD"===f.get(Ae,"currency.isoCode")){const Ie=pe[ve];pe.splice(ve,1),pe.push(Ie)}})});const ne=this.updateCountryCurrencyDefaults(Q);this.updateStore.updateCountryCurrencies(ne),this.updateSmoConfig(ne,le),this.updateReceiverCurrencyArray()}}))}updateCountryCurrencyDefaults(ee){let se;const le=this.updateStore.getState();this.corridor=le?le.corridor:{};const F=f.get(this.corridor,"senderCountry.isoCode","").toUpperCase(),J=f.find(ee.countries,{country:{isoCode:F}});if(f.isEmpty(J)&&this.smoConfig.countryCurrencyDefaults()){const Q=f.find(this.smoConfig.countryCurrencyDefaults().countries,{country:{isoCode:F}});Q.country.currencies.forEach(function(ne,_e){Q.country.currencies[_e].currency={isoCode:ne.currency,order:(_e+1).toString()}}),se=ee,se.countries.push(Q)}else se=ee;return se.countries.forEach((Q,ne)=>{const _e=Q.country.isd,pe=f.get(Q,"country.currencies",[]);Q.country.dialCode=_e,delete Q.country.isd,Q.country.active="Y",this.utilService.isCloudPricingEnabled()&&this.featureFlagService.isFeatureEnabled("PRICE_CORRIDOR")?pe.forEach((Ae,ve)=>{const Ie=f.get(Ae,"currency.isoCode");Q.country.currencies[ve]={currency:Ie}}):pe.forEach((Ae,ve)=>{const Ie=f.get(Ae,"currency.fxFixFlag");if(Ae.currency.active="Y",Ae.currency.lockOnReceive="N",Ie&&Ie.indexOf("R")>-1){Ae.currency.lockOnReceive="Y";const Fe=Ie.split(";");Fe.length>1&&Fe.forEach(Ye=>{Ae.currency.FOLockOnReceive=Ye.replace(/,R/g,"").replace(/R,/g,"").replace(/000/g,"AG").replace(/500/g,"BA").replace(/600/g,"MT")})}Q.country.currencies[ve]=Ae}),se.countries[ne]=Q}),se.countries}updateReceiverCurrencyArray(){const ee=f.get(this.corridor,"receiverCountry.isoCode");if(!ee)return;const se=this.smoConfig.getReceiverCurrencyList(ee),le={receiverCurrencyArray:se};this.updateReceiverCurrencyFromCurrencyArray(se),this.updateStore.updateReceiverCurrencyArray(le)}updateReceiverCurrencyFromCurrencyArray(ee){1===ee.length&&this.updateStore.updateReceiverCurrency({receiverCurrency:ee[0].currency})}updateSmoConfig(ee,se){const F=(this.updateStore.getState()||{}).smoConfig;F&&(this.updatePriceCorridorMultiCurrency(ee,se,F),F.countryCurrencyDefaults={countries:ee},this.updateStore.updateSmoConfig({...F}))}updatePriceCorridorMultiCurrency(ee,se,le){if(this.utilService.isCorridorMultiCountryEnabled()){const F=le.countryCurrencyDefaults.countries;for(let J=0;J<F.length;J++)if(-1!==se.indexOf(F[J].country.isoCode)){const Q=F[J];let ne=0;const _e=ee.find(function(pe,Ae){return ne=Ae,pe.country.isoCode===Q.country.isoCode});if(_e&&Q.country.currencies[0].currency!==_e.country.currencies[0].currency){const pe=_e.country.currencies.findIndex(ve=>ve.currency===Q.country.currencies[0].currency),Ae=_e.country.currencies[pe];ee[ne].country.currencies.splice(pe,1),ee[ne].country.currencies.unshift(Ae)}}}}static#e=this.\u0275fac=function(se){return new(se||fe)(C.KVO(w.R),C.KVO(U.k),C.KVO(D.l9),C.KVO(h.a),C.KVO(Z.F),C.KVO(D.qd),C.KVO(r.y))};static#t=this.\u0275prov=C.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),oe=(()=>{class fe{constructor(ee,se,le){this.restMethod=ee,this.baseRequest=se,this._store=le,this._store.pipe((0,V.Lt)(P.w8)).subscribe(F=>{this.senderStore=F})}validateTransactionInfo(ee){if(ee&&ee.transactions&&ee.transactions.transaction&&ee.transactions.transaction[0]){const le=this.getRequestBody(ee.transactions.transaction[0]);return this.restMethod.POST("/ValidateTransactionInfo",le).pipe((0,E.T)(J=>J))}}getRequestBody(ee){return{channel:this.baseRequest.getChannel(),security:this.getSecurity(),bashPath:this.baseRequest.getBashPath(),money_transfer_control:this.getMTCN(ee),keyedinSender:this.getSender(),keyedinReceiver:this.getReceiver(ee),payment_details:this.getPaymentDetails(ee)}}getMTCN(ee){if(ee.moneyTransferControl&&ee.moneyTransferControl.mtcn)return{mtcn:ee.moneyTransferControl.mtcn}}getSender(){let ee={};return this.senderStore.givenName&&this.senderStore.paternalName?(ee={given_name:this.senderStore.givenName?this.senderStore.givenName:this.senderStore.firstName,paternal_name:this.senderStore.paternalName},this.senderStore.maternalName&&(ee.maternal_name=this.senderStore.maternalName)):(ee={first_name:this.senderStore.firstName,last_name:this.senderStore.lastName},this.senderStore.middleName&&(ee.middle_name=this.senderStore.middleName)),{name:ee}}getPaymentDetails(ee){if(ee.paymentDetails&&ee.paymentDetails.origination){const se=ee.paymentDetails.origination;return{originating_state:this.getOriginationState(ee),origination:{country_iso_code:se.countryIsoCode,currency_iso_code:se.currencyIsoCode,principal_amount:this.getPrincipalAmount(se)}}}}getPrincipalAmount(ee){if(ee.principalAmount)return(Number(ee.principalAmount)/100).toString()}getSecurity(){return{session:{id:this.baseRequest.getSecurity().session?this.baseRequest.getSecurity().session.id:""},requestHeader:[{key:"flowType",value:"RASD"}]}}getReceiver(ee){if(ee.receiver&&ee.receiver.name){const se={first_name:ee.receiver.name.firstName,last_name:ee.receiver.name.lastName};return ee.receiver.name.middleName&&(se.middle_name=ee.receiver.name.middleName),{name:se}}}getOriginationState(ee){return ee&&ee.sender&&ee.sender.address&&ee.sender.address.state?ee.sender.address.state:""}static#e=this.\u0275fac=function(se){return new(se||fe)(C.KVO(w.R),C.KVO(O.E),C.KVO(V.il))};static#t=this.\u0275prov=C.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();var ae=t(44642),he=t(56294),B=t(82685),z=t(67867);let ie=(()=>{class fe{constructor(ee,se,le){this.baseService=ee,this.smoConfig=se,this.restRequest=le,this.countryCode=this.smoConfig._getCountryIsoCode().toLowerCase()}getCityState(ee){const le=this.getCityStateBodyRequest(ee);return this.restRequest.POST("/GetCityStatesByPostalCode",le,"retail").pipe((0,E.T)(F=>(F.error&&console.error(`Retail GetCityStatesByPostalCode failed, errorCode: ${F.error.code}, errorMessage: ${F.error.message}`),F)))}getCityStateBodyRequest(ee){const se={iso_address:{country_iso_code:this.countryCode.toUpperCase(),postal_code:ee},security:this.baseService.getRetailSecurity()};return se.security.requestHeader=[],se}getCityListsForItaly(ee){return this.restRequest.GET("/getcitylist/"+ee,"content").pipe((0,E.T)(se=>se.cityList))}static#e=this.\u0275fac=function(se){return new(se||fe)(C.KVO(O.E),C.KVO(W.l),C.KVO(z.N))};static#t=this.\u0275prov=C.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();var re=t(33033),Ce=t(10707),X=t(3164),De=(t(13765),t(54100))},72478:(n,d,t)=>{"use strict";t.d(d,{v:()=>w});var o=t(68002),e=t(95006),x=t(79928),$=t(45817),W=t(75194),K=t(16619),V=t(54831),P=t(47058),D=t(34781),f=t(67376),A=t(59073),E=t(78863),N=t(77202),_=t(64932),M=t(54438),U=t(21626);let w=(()=>{class O{constructor(s,a,c,r,g,p,h){this.smoConfig=s,this.baseRequest=a,this.restMethod=c,this.updateStore=r,this.http=g,this.readURLService=p,this.utilService=h,this.customerVerificationStatusSuccess=new x.t(!1),this.isDssFlowEnabled=!1}initiateCustomerVerification(){const s={sender:{name:{firstName:"TOM",lastName:"LIYDSSD"},address:{city:"SAN FRANCISCO",state:"CA",addrLine1:"186 BERRY STREET",postalCode:"94107",countryIsoCode:"US"},preferredCustomer:{totalPointsEarned:"10",newPointsEarned:"10"},email:"USUATRSPG1.ZQBTDIHB@MAILOSAUR.IO",contactPhone:"2018787667",mobilePhone:{countryCode:"1",nationalNumber:"2018787667"}},receiver:{name:{firstName:"RECFIRST",lastName:"POSTKYCAPP"},address:{state:"ID",countryIsoCode:"US"},mobilePhone:{countryCode:"",nationalNumber:""},type:"D",uid:"865028133701243886"},wuProduct:{name:"Money In Minutes",code:"000",routingCode:"62000000"},paymentDetails:{origination:{principalAmount:"500",grossAmount:"1413",currencyIsoCode:"USD",countryIsoCode:"US"},destination:{expectedPayoutAmount:"500",currencyIsoCode:"USD",countryIsoCode:"US"},promotion:{code:"",discount:"0"},fees:"913",exchangeRate:"1.0",paymentType:"CreditCard",creditDebitCard:{paymentInstrumentId:"865028133701243887",customerName:{firstName:"TOM",lastName:"LIYDSSD"},address:{city:"SAN FRANCISCO",state:"CA",addrLine1:"186 BERRY STREET",postalCode:"94107",countryIsoCode:"US"},cardNumber:"",cardType:"VISA",expirationDate:"11/2022",authorizationCode:""},totalUndiscountedCharges:"913",totalDiscount:"0",totalDiscountedCharges:"913",fixedOnSend:"Y"},transactionId:"1906684611848120",moneyTransferControl:{date:"March 7, 2019",mtcn:"4611848120"},wupayAccount:"",filingDate:"03-07",filingTime:"10:37am EST",kycAvailableDate:"20190312",identityVerificationStatus:"N",isEligibleToTransact:"Y",customerStatus:"0000",token:"968b1054827cacbcbbb371bb63f91f17",durDocType:"A0,A1,C0,E0",token_time_in_minutes:"30",ps_version:"Build-"};return new $.c(a=>{this.initiateCustVerificationRes=s,a.next(s),a.complete()})}getStoredInitiateCustVerificationRes(){return this.initiateCustVerificationRes={sender:{name:{firstName:"TOM",lastName:"LIYDSSD"},address:{city:"SAN FRANCISCO",state:"CA",addrLine1:"186 BERRY STREET",postalCode:"94107",countryIsoCode:"US"},preferredCustomer:{totalPointsEarned:"10",newPointsEarned:"10"},email:"USUATRSPG1.ZQBTDIHB@MAILOSAUR.IO",contactPhone:"2018787667",mobilePhone:{countryCode:"1",nationalNumber:"2018787667"}},receiver:{name:{firstName:"RECFIRST",lastName:"POSTKYCAPP"},address:{state:"ID",countryIsoCode:"US"},mobilePhone:{countryCode:"",nationalNumber:""},type:"D",uid:"865028133701243886"},wuProduct:{name:"Money In Minutes",code:"000",routingCode:"62000000"},paymentDetails:{origination:{principalAmount:"500",grossAmount:"1413",currencyIsoCode:"USD",countryIsoCode:"US"},destination:{expectedPayoutAmount:"500",currencyIsoCode:"USD",countryIsoCode:"US"},promotion:{code:"",discount:"0"},fees:"913",exchangeRate:"1.0",paymentType:"CreditCard",creditDebitCard:{paymentInstrumentId:"865028133701243887",customerName:{firstName:"TOM",lastName:"LIYDSSD"},address:{city:"SAN FRANCISCO",state:"CA",addrLine1:"186 BERRY STREET",postalCode:"94107",countryIsoCode:"US"},cardNumber:"",cardType:"VISA",expirationDate:"11/2022",authorizationCode:""},totalUndiscountedCharges:"913",totalDiscount:"0",totalDiscountedCharges:"913",fixedOnSend:"Y"},transactionId:"1906684611848120",moneyTransferControl:{date:"March 7, 2019",mtcn:"4611848120"},wupayAccount:"",filingDate:"03-07",filingTime:"10:37am EST",kycAvailableDate:"20190312",identityVerificationStatus:"N",isEligibleToTransact:"Y",customerStatus:"0000",token:"968b1054827cacbcbbb371bb63f91f17",durDocType:"A0,A1,C0,E0",token_time_in_minutes:"30",ps_version:"Build-"},this.initiateCustVerificationRes}getStoredCustVerificationRes(){return this.customerVerificationRes={sender:{name:{first_name:"USFIRST",last_name:"USLAST"},address:{city:"SAN FRANCISCO",state:"CA",addr_line1:"186 BERRY STREET",postal_code:"94107",country_iso_code:"US"},compliance_details:{id_documents:{},dateOfBirth:"1998-11-11-05:00"},email:"USUATPG1.ZQBTDIHB@MAILOSAUR.IO",contact_phone:"2018209810",mobile_phone:{phone_number:{country_code:"1",national_number:"2018209810"}},kyc_details:{dur:{status:"IN PROGRESS",durDelivery:{available:"true",durDocTypes:{durDocType:["A0","E0","A1","C0"]}}}}},receiver:{name:{first_name:"TOM",last_name:"POSTKYCAPP"},address:{country_iso_code:"PK"},mobile_phone:{phone_number:{country_code:"",national_number:""}},type:"I",id:"30",uid:"865065568498288108"},wu_product:{name:"Money In Minutes",code:"000",routing_code:"NONE",speed_indicator:"0"},payment_details:{origination:{principal_amount:"1600",gross_amount:"2140",currency_iso_code:"USD",country_iso_code:"US"},destination:{expected_payout_amount:"227608",actual_payout_amount:"227608",currency_iso_code:"PKR",country_iso_code:"PK"},promotion:{discount:"0"},fees:{charges:"540"},exchange_rate:"142.2551",payment_digest:"1103FEE120354013035400103MSG020100301021030002201023010961901032000202100302209703NNN9811CQ6PAKCCPE0",payment_type:"CreditCard",credit_debit_card:{paymentInstrumentId:"865026485973288117",customer_name:{first_name:"USFIRST",last_name:"USLAST"},address:{city:"SAN FRANCISCO",state:"CA",addr_line1:"186 berry street",postal_code:"94107",country_iso_code:"US"},card_number:"XXXXXXXXXXX11111",card_type:"VISA",expiration_date:"11/2020"},total_undiscounted_charges:"540",total_discount:"0",total_discounted_charges:"540"},transaction_id:"1914086081076790",currencies:{currency:[{name:"Pakistan Rupee",units:{main:"Rupee",mainPlural:"Rupees",fractional:"Paisa",fractionalPlural:"Paisas",equivalence:"100 paisa = rupee"},minAmount:"0.00",maxAmount:"21474836.46",currencyIsoCode:"PKR",exchangeRate:"142.2551"}]},customerStatus:"0001",isEligibleToTransact:"N",token:"eb942db53532ab77467ceef93a329dd9",paymentType:"CreditCard,DebitCard,Cash,ACH,DebitCardInterchange,ServiPag,GooglePay,BankAccount,TapNGo,BA,Paramount,",trdCounter:"5",money_transfer_control:{date:"May 20, 2019",mtcn:"6081076790"},ps_version:"Build-",verificationStatusReponseTime:1558353583183},this.customerVerificationRes}updateCompliance(s){const a={message:"Update identity details is successfully."};return new $.c(c=>{c.next(a),c.complete()})}uploadDMSDoc(s){const a={error:null,security:null,uploadStatus:"SUCCESS",docIdentifier:"USIDA09C6AD37463C8",doc_identifiers:[{docType:"ID",docSubType:"A0",docIdentifier:"USIDA09C6AD37463C8"}],ps_version:"Build-"};return new $.c(c=>{c.next(a),c.complete()}).pipe((0,o.c)(2e3))}uploadDMSDocs(s){const a="/UploadDMSDoc";if(this.utilService.isPVDocTypeOverride()){let r={};try{r=JSON.parse(this.updateStore.getState().countryDynamicParams.PV_DOCTYPE_OVERRIDE)}catch{r={}}s?.docTypesData?.forEach(g=>{r[g?.docType]&&(g.docTypeLowerCase=r[g?.docType].toLowerCase(),g.docType=r[g?.docType])})}const c=this.buildUploadDMSDocRequest(s);return this.restMethod.POST(a,c).pipe((0,e.T)(r=>(this.utilService.isSybaseEnabled(a)&&(r=this.utilService.objectRenaming(r,"dms_doc","doc_identifiers"),(r=this.utilService.objectRenaming(r,"doc_identifier","docIdentifier")).doc_identifiers=this.utilService.formatToCamelCase(r.doc_identifiers)),r)))}verifyCustomers(s,a){const r=this.buildVerifyCustomerRequest(s);return a&&(r.self_attestation=a),this.restMethod.POST("/VerifyCustomer",r)}getCustomerVerificationStatus(){const s="/GetCustomerVerificationStatus",a=this.getCustomerVerificationStatusRequest(),c=this.utilService.isSybaseEnabled(s);return this.restMethod.POST(s,a).pipe((0,e.T)(r=>{if(r.error){const g={};g.errorCode=r.error.code,g.errorMessage=r.error.message,this.updateStore.updatePageLevelNotification(g),sessionStorage.setItem("ErrorResponse",r.error),sessionStorage.setItem("VerifyCustomerResp",r),c&&r.identity_verification_status&&r.isEligibleToTransact&&(r=this.convertCSObj(r)),r.identityVerificationStatus&&r.isEligibleToTransact&&this.updateSenderVerificationStatus(r,!0)}else c&&(r=this.convertCSObj(r)),sessionStorage.setItem("CustomerVerificationStatus",JSON.stringify(r)),this.updateSenderVerificationStatus(r,!1);return this.customerVerificationStatusSuccess.next(!r.error),r}))}convertCSObj(s){const a=Object.assign({},s);return a.paymentTypes&&(s.paymentType=a.paymentTypes.payment_type&&a.paymentTypes.payment_type.length>0?a.paymentTypes.payment_type.join(","):"",delete s.paymentTypes),s.occasionalFlag=a.occasional_flag,delete s.occasional_flag,s.identityVerificationStatus=a.identity_verification_status,delete s.identity_verification_status,s.customerUnverifiedFlag=a.customer_unverified_flag,delete s.customer_unverified_flag,s.pinstatus=a.pin_status,delete s.pin_status,a.sender&&a.sender.kyc_methods&&a.sender.kyc_methods.kyc_method.length>0&&(s.sender.kycMethods={},s.sender.kyc_methods.kycMethod=a.sender.kyc_methods.kyc_method,delete s.sender.kyc_methods),s}updateSenderVerificationStatus(s,a){const r=this.updateStore.getState().sender,g=new V._7;s.verificationStatusReponseTime=Date.now(),a?(g.isEligibleToTransact=s.isEligibleToTransact,g.identityFlag=s.identityVerificationStatus):(g.customerStatus=s.customerStatus,g.isEligibleToTransact=s.isEligibleToTransact,g.identityFlag=s.identityVerificationStatus?s.identityVerificationStatus:r&&r.verificationStatus,g.occasionalFlag=s.occasionalFlag,g.transactionId=s.transaction_id,g.sendersKyc=s.sender,g.token=s.token,g.token_time_in_minutes=s.token_time_in_minutes,g.verificationStatusReponseTime=s.verificationStatusReponseTime,g.pinStatus=s.pinStatus,g.customerUnverifiedFlag=s.customerUnverifiedFlag,g.kycStatus=s.kycStatus,g.verificationFlag=s.verificationFlag),r&&(r.customerVerificationStatus=g),this.updateStore.updateSender(r),this.updateStore.updateCustomerVerificationStatus(s)}getCustomerVerificationStatusRequest(){return{security:this.baseRequest.getSecurity(),bashPath:this.baseRequest.getBashPath(),sender:{preferred_customer:{account_nbr:this.getCustomerAccountNumber()}}}}getCustomerAccountNumber(s,a){const c=this.updateStore.getState(),r=c.sender;let g=null;return r&&r.myWuNumber&&(g=r.myWuNumber),s===_.do.DSS2&&a?.accountNumber&&(g=a.accountNumber),(this.utilService.isDssNewdocUploadEnabled()||this.utilService.isNewDocHubEnabledForDSS())&&(g=c?.dssCustomerLookupResponse?.customerNumber[0]?.value),g}verifyCustomer(s){const a={error:{code:"C9003",message:"TRANSACTION APPROVED."},ps_version:"Build-"};return new $.c(c=>{c.next(a),c.complete()})}validateCustomerVerification(s){const a={error:{code:"C9003",message:"TRANSACTION APPROVED."},ps_version:"Build-"};return new $.c(c=>{c.next(a),c.complete()})}buildUpdateCompliancRequest(s){const a={sender:{compliance_details:{id_documents:{id_document:[{data:s.id,expiration_date:s.expiryDate,id_level:s.idLevel,issue_date:s.issueDate,issuer:s.issuingCountry,type:s.type}]}}}};return{security:this.baseRequest.getSecurity(),...this.baseRequest.getExternalRef(),...a,bashPath:this.baseRequest.getBashPath()}}getDocumentDetails(s,a,c){const r=[];let g;if(s&&s.docTypesData&&s.docTypesData.length>0)for(let p=0;p<s.docTypesData.length;p++){const h=s.docTypesData[p];(c===_.do.DSS2||this.utilService.isDssNewdocUploadEnabled()||this.utilService.isNewDocHubEnabledForDSS())&&(this.isDssFlowEnabled=!0),h&&(g={dms_doc:{doc_type:h.docType,doc_sub_type:a&&this.isDssFlowEnabled?a:h.docSubType,doc_num:h.docMetaData?h.docMetaData.number:"",expiry_date:h.docMetaData?h.docMetaData.expiryDate:"",issue_place:h.docMetaData?h.docMetaData.issuePlace:"",issue_country:h.docMetaData?h.docMetaData.issueCountry:"",issue_date:h.docMetaData?h.docMetaData.issueDate:""},image:[]});let l=1;for(let v=0;v<h.pages.length;v++){const S=h.pages[v];if(S&&S.fileData){const m={binary:S.fileData.content,format:S.fileData.format,file_name:S.fileData.name?S.fileData.name.split(".")[0]:"",page_num:l};g.image.push(m),l++}}r.push(g)}return r}buildUploadDMSDocRequest(s){let a;const c=this.updateStore.getState();this.dssCustomerResponse=c?.dssCustomerLookupResponse;const r=c.sender;if(this.utilService.isDssNewdocUploadEnabled()||this.utilService.isNewDocHubEnabledForDSS()){const m={};m.name={firstName:this.dssCustomerResponse?.firstName,lastName:this.dssCustomerResponse?.lastName},m.address={addressLine1:this.dssCustomerResponse?.address[0]?.addr_line1,city:this.dssCustomerResponse?.address[0]?.city,state:this.dssCustomerResponse?.address[0]?.state,zipCode:this.dssCustomerResponse?.address[0]?.postal_code,countryIsoCode:this.dssCustomerResponse?.address[0]?.country_code?.iso_code?.country_code},a=m}else a=c.dss2Details?.lookupResponse?.customer;const g=a?.name,p=a?.address,h=a?.contactInfo,l=c.flowType,v=c.sendMoneyObjects?JSON.parse(c.sendMoneyObjects):null;if(this.utilService.isNewDocHubEnabledForDSS()){const m=v?.sender?.kycDetails?.duc?.ducDelivery?.ducDocuments?.ducDocument;m&&s&&s.docTypesData&&m.forEach(b=>{s?.docTypesData?.forEach(Y=>{b?.docType===Y?.docType&&!b?.subType&&(b.subType=Y?.docSubType),b?.docType===Y?.docType&&b?.subType&&(this.subKey=b?.subType)})})}else this.subKey=v?.sender?.kycDetails?.duc?.ducDelivery?.ducDocuments?.ducDocument[0]?.subType;const S={source:"DSS2"===l?"DUTFSS":"WUWEB",token:this.getDUCResponseObject().token,customerIdType:"WUCARDNUM",customerIdValue:this.getCustomerAccountNumber(l,a),doc_info:this.getDocumentDetails(s,this.subKey,l),gateway_customer:{name:this.getSenderName(r,g),address:this.getSenderAddress(r,p),contact_phone_country_prefix:(r?r.contactPhoneCountryPrefix:"")||h?.countryIsoCode,contact_phone:(r?r.contactPhone:"")||h?.primaryPhone}};return(this.utilService.isDssNewdocUploadEnabled()||this.utilService.isNewDocHubEnabledForDSS())&&(S.source="DSS"),{channel:this.baseRequest.getChannel(),security:this.baseRequest.getSecurity(),...S,bashPath:this.baseRequest.getBashPath()}}getSenderName(s,a){let c={};return s||a?(c={first_name:s?.firstName||a?.firstName,last_name:s?.lastName||a?.lastName,given_name:s?.givenName,paternal_name:s?.paternalName,maternal_name:s?.maternalName},this.utilService.isShowPOADocumentCollectionFlow()&&s?.middleName&&(c.middle_name=s?.middleName||a?.middleName),f.pickBy(c,f.identity)):c}getSenderAddress(s,a){let c={};return(s&&s.address||a)&&(c={addr_line1:s?.address?.addressLine1||a?.addressLine1,city:s?.address?.city||a?.city,state:s?.address?.state||a?.state,postal_code:(s?.address?.postalCode?s?.address?.postalCode:s?.address?.zipCode)||a?.zipCode,country_iso_code:s?.address?.countryIsoCode||a?.countryIsoCode},(s?.address?.addressLine2||a?.addressLine2)&&(c.addr_line2=s?.address?.addressLine2||a?.addressLine2)),c}getDUCResponseObject(){return this.getICVResponse()||this.getGCVResponse()||{}}getGCVResponse(){const s=sessionStorage.getItem("CustomerVerificationStatus");return s?JSON.parse(s):null}getValidationResponse(){const s=sessionStorage.getItem("ValidationResponse");return s?JSON.parse(s):null}getICVResponse(){const s=sessionStorage.getItem("initiateCustomerVerificationResp");return s?JSON.parse(s):null}getAccountNumber(){const s=sessionStorage.getItem("AccountNumber");return s?JSON.parse(s):null}getQuestionAnswer(s){let a=[];return s.kycDeliveryFlag&&"chq"===s.kycDeliveryFlag&&(a=s.question_answer),a||null}getDocInfo(s){const a=[];if(s&&void 0!==s.length&&s.length>1)for(let Y=0;Y<s.length;Y++)s[Y].resp.doc_identifiers.forEach(function(R){a.push({dms_doc:{doc_type:R.docSubType,doc_identifier:R.docIdentifier,doc_sub_type:R.docType}})});else if(s&&s.resp&&s.resp.doc_identifiers&&s.resp.doc_identifiers.length>0)s.resp.doc_identifiers.forEach(function(Y){a.push({dms_doc:{doc_type:Y.docSubType,doc_identifier:Y.docIdentifier,doc_sub_type:Y.docType}})});else{const Y={dms_doc:{doc_type:s.selectedDocTypeID}};Y.dms_doc.doc_identifier=s.resp.docIdentifier||s.resp.doc_identifier,Y.dms_doc.doc_sub_type=s.resp.docType,a.push(Y)}const c=this.getICVResponse(),r=this.getValidationResponse(),g=f.get(r,"sender.kyc_details.duc.ducDelivery.ducDocuments.ducDocument"),p=f.get(c,"sender.kyc_details.duc.ducDelivery.ducDocuments.ducDocument"),h=g&&g.find(Y=>Y.docType===A.LC.docTypeID&&Y.dmsRef),l=p&&p.find(Y=>Y.docType===A.LC.docTypeID&&Y.dmsRef),v=g&&g.find(Y=>Y.doc_type===A.LC.docTypeID&&Y.dms_ref),S=p&&p.find(Y=>Y.doc_type===A.LC.docTypeID&&Y.dms_ref),m=l||h,b=S||v;if(h||l||v||S){const Y={dms_doc:{doc_type:m.docSubType||b.doc_sub_type}};Y.dms_doc.doc_identifier=m.dmsRef||b.dms_ref,Y.dms_doc.doc_sub_type=m.docType||b.doc_type,a.push(Y)}return a}buildVerifyCustomerRequest(s){const a={token:this.getDUCResponseObject().token,question_answer:this.getQuestionAnswer(s),doc_info:this.getDocInfo(s)};return{channel:this.baseRequest.getChannel(),security:this.baseRequest.getSecurity(),...this.baseRequest.getExternalRef(),...a,bashPath:this.baseRequest.getBashPath()}}cancelTransaction(){const s={message:"Cancel Transaction Success",ps_version:"Build-"};return new $.c(a=>{a.next(s),a.complete()}).pipe((0,o.c)(2e3))}buildValidateCustomerVerificationRequest(s){return{channel:this.baseRequest.getChannel(),security:this.baseRequest.getSecurity(),...this.baseRequest.getExternalRef(),...s,bashPath:this.baseRequest.getBashPath()}}getCountryWiseKycConfig(){const s=this.getKycConfigUrl(this.smoConfig._getCountryIsoCode());return this.http.get(s)}getKycConfigUrl(s){const a=this.readURLService.getDomainUrl();return A.LC.kycConfigurationUrl.replace("{0}",a).replace("{1}",s)}getIdVerificationStatus(s){const c=this.getGetIdVerificationStatusRequest(s);return this.restMethod.POST("/GetIdVerificationStatus",c,"retail").pipe((0,e.T)(r=>r))}getGetIdVerificationStatusRequest(s){return{channel:this.baseRequest.getDSSRetailChannel("idVerification"),security:this.baseRequest.getRetailSecurity(),id_detail:s?.idDetails,doc_ref_number:s?.docRefNumber,gateway_customer:{preferred_customer:{pcp_nbr:s?.accountNumber},address:{country_iso_code:s?.countryIsoCode}}}}static#e=this.\u0275fac=function(a){return new(a||O)(M.KVO(P.l9),M.KVO(K.E),M.KVO(W.R),M.KVO(D.k),M.KVO(U.Qq),M.KVO(E.Fq),M.KVO(N.a))};static#t=this.\u0275prov=M.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},67890:(n,d,t)=>{"use strict";t.d(d,{U:()=>$});var o=t(78863),e=t(47058),x=t(54438);let $=(()=>{class W{constructor(V,P,D){this.lazyLoadingLibraryService=V,this.countryConfigService=P,this.smoConfig=D,this.allowedAuthMethods=["PAN_ONLY","CRYPTOGRAM_3DS"],this.allowedCardNetworks=["MASTERCARD","VISA"],this.assuranceDetailsRequired=!0,this.billingAddressRequired=!0,this.billingAddressParameters={format:"FULL",phoneNumberRequired:!0}}loadLibrary(){this.lazyLoadingLibraryService.loadJs("https://microapps.google.com/apis/v1alpha/microapps.js")}getIdentity(V){return microapps.getIdentity(V||{}).then(D=>D).catch(D=>D)}getPeerInfo(){return microapps.getPeerInfo().then(V=>V).catch(V=>V)}requestPayment(V,P){const D=this.buildPaymentRequest(V);microapps.requestPayment(D).then(function(f){P(f,"Request Payment Response")}).catch(function(f){console.error(f),P(f,"Error in Request Payment API")})}buildPaymentRequest(V){const P=this.getMerchantParams(),D=V&&V.origination&&V.origination?V.origination:null;return{apiVersion:2,apiVersionMinor:0,merchantInfo:{merchantId:P[1],merchantName:"Western Union"},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:this.allowedAuthMethods,allowedCardNetworks:this.allowedCardNetworks,assuranceDetailsRequired:this.assuranceDetailsRequired,billingAddressRequired:this.billingAddressRequired,billingAddressParameters:this.billingAddressParameters},tokenizationSpecification:{type:"DIRECT",parameters:{protocolVersion:"ECv2",publicKey:P[0]}}}],transactionInfo:{totalPriceStatus:"FINAL",transactionId:sessionStorage.getItem("SessionId")||"",totalPrice:D.gross_amount?(Number(D.gross_amount)/100).toFixed(2).toString():"",currencyCode:D.currency_iso_code,countryCode:D.country_iso_code}}}getMerchantParams(){const V=["",""];return"NA"!==this.countryConfigService.getPartnerTokenPublicKey()&&(V[0]=this.smoConfig.getGlobalConfig("switches","SpotPK")?this.smoConfig.getGlobalConfig("switches","SpotPK"):this.countryConfigService.getPartnerTokenPublicKey(),V[1]=this.countryConfigService.getPartnerMerchantId()),V}createOrder(V,P){const D=this.buildCreateOrder(V);microapps.createOrder(D).then(function(f){console.log("createOrder Details",f),f.APIResponseObject=this.buildAPIResponseObject("success","createOrder"),P(f,"createOrder Success"),500===f.status&&microapps.createOrder(D)}).catch(function(f){console.error(f),f.ApiErrorObject=this.buildAPIResponseObject("failed","createOrder"),P(f,"createOrder failed")})}buildAPIResponseObject(V,P){const C=(new Date).getMilliseconds();return{sessionID:sessionStorage.getItem("SessionId")||"",status:V,apiName:P,timeTaken:C}}buildCreateOrder(V){const P=V&&V.paymentDetails&&V.paymentDetails.origination?V.paymentDetails.origination:null,D=V&&V.paymentDetails&&V.paymentDetails.payment_type?V.paymentDetails.payment_type:null,f={title:"Your money transfer through Western Union",total:{currency:P.currency_iso_code?P.currency_iso_code:"",value:P.gross_amount?(Number(P.gross_amount)/100).toFixed(2).toString():""},status:{type:V.status,label:"The transfer is initiated."},orderId:V.MTCN?V.MTCN+"-sender":"",actions:[{label:"Check Status",url:"https://microapps.google.com/14830348295447265065?link=global-service%2Ftrack-transfer%3FpartnerName%3Dgooglespot"},{label:"Get Help",url:"tel:+18003256000"}]};return D&&"GooglePay"===D&&(f.payments=[{id:sessionStorage.getItem("SessionId")||""}]),f}createPeerOrder(V,P){const D=this.buildCreatePeerOrder(V);microapps.createPeerOrder(D).then(function(f){console.log("PeerOrder Details",f),f.APIResponseObject=this.buildAPIResponseObject("success","createPeerOrder"),P(f,"createPeerOrder Success"),500===f.status&&microapps.createPeerOrder(D)}).catch(function(f){console.error(f),f.ApiErrorObject=this.buildAPIResponseObject("failed","createPeerOrder"),P(f,"createPeerOrder Failed")})}buildCreatePeerOrder(V){const P=V&&V.paymentDetails&&V.paymentDetails.destination?V.paymentDetails.destination:null;return{title:"Make sure you received the Western Union money transfer",total:{currency:P.currency_iso_code?P.currency_iso_code:"",value:P.expected_payout_amount?(Number(P.expected_payout_amount)/100).toFixed(2).toString():""},status:{type:V.status,label:"The transfer is initiated."},orderId:V.MTCN?V.MTCN+"-recipient":"",actions:[{label:"Check Status",url:"https://microapps.google.com/14830348295447265065?link=global-service%2Ftrack-transfer%3FpartnerName%3Dgooglespot"}]}}static#e=this.\u0275fac=function(P){return new(P||W)(x.KVO(o.$0),x.KVO(e.qd),x.KVO(e.l9))};static#t=this.\u0275prov=x.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},37940:(n,d,t)=>{"use strict";t.d(d,{n:()=>N});var o=t(16619),e=t(75194),x=t(95006),$=t(67376);class W{}class K{}class V{}class P{}var D=t(64646),f=t(66726),C=t(34781),A=t(77202),E=t(54438);let N=(()=>{class _{constructor(U,w,O,G,s){this.baseService=U,this.restMethod=w,this.store=O,this.updateStoreUsingActionService=G,this.utilService=s,this.store.pipe((0,D.Lt)(f.J5)).subscribe(a=>this.receiverStoreData=a),this.store.pipe((0,D.Lt)(f.rb)).subscribe(a=>{this.selectedProduct=a}),this.store.pipe((0,D.Lt)(f.w8)).subscribe(a=>{this.senderData=a}),this.store.pipe((0,D.Lt)(f.mA)).subscribe(a=>{this.corridorData=a})}getSavedBank(){const U="/GetBanks",w=this.getSavedBankBodyRequest();return this.restMethod.POST(U,w).pipe((0,x.T)(O=>(O.error||(this.utilService.isSybaseEnabled(U)&&(O=this.utilService.formatToCamelCase(O)),this.transactionBanks=O.gatewayCustomer,this.transactionBanks&&this.transactionBanks.wallet&&this.transactionBanks.wallet.bankAccounts&&this.transactionBanks.wallet.bankAccounts.bankAccount&&this.updateStoreUsingActionService.updateBanksData(this.transactionBanks.wallet.bankAccounts.bankAccount)),O)))}getSavedBankBodyRequest(){const U={};return U.security=this.baseService.getSecurity(),U.bashPath=this.baseService.getBashPath(),U}deleteBank(U){const O=this.createDeleteBankRequestBody(U);return this.restMethod.POST("/DeleteBanks",O).pipe((0,x.T)(G=>G))}createDeleteBankRequestBody(U){const w={};return w.security=this.baseService.getSecurity(),w.bashPath=this.baseService.getBashPath(),w.gateway_customer=this.getGatewayCustomerForDeletion(U),w}getGatewayCustomerForDeletion(U){const w={wallet:{}};return w.wallet.bank_accounts={bank_account:[{id:U[0].id,paymentInstrumentId:U[0].paymentInstrumentId}]},w}addNewBank(U){const w="/AddBanks",O=this.createAddBankRequestPayload(U);return this.restMethod.POST(w,O).pipe((0,x.T)(G=>(this.utilService.isSybaseEnabled(w)&&!G.error&&(G=this.utilService.keysToCamel(G)),G)))}createAddBankRequestPayload(U){const w=new P,O=new V;let G;O.addr_line1=this.senderData.address.addressLine1,O.city=this.senderData.address.city,O.state=this.senderData.address.state,O.postal_code=this.senderData.address.postalCode||this.senderData.address.zipCode,O.country_iso_code=this.senderData.address.countryIsoCode,this.senderData.firstName&&(G=new K,G.first_name=this.senderData.firstName,G.last_name=this.senderData.lastName);const s=new W;return s.customer_name=G,s.address=O,s.bank_name=U.bankName,s.account_number=U.accountNumber,s.routing_number=U.routingNumber,s.account_type=U.accountType,s.bank_code=U.bankCode?U.bankCode:"",s.branch_code=U.branchCode,this.corridorData&&this.corridorData.senderCountry&&this.corridorData.senderCountry.isoCode&&"AR"===this.corridorData.senderCountry.isoCode&&(delete s.bank_code,s.currency=this.corridorData&&this.corridorData.senderCurrency?this.corridorData.senderCurrency:"",s.financial_id=sessionStorage.getItem("unMaskedFinancialId")?sessionStorage.getItem("unMaskedFinancialId"):""),w.gateway_customer={preferred_customer:{pcp_nbr:this.senderData.myWuNumber||this.senderData.additionalPreferedAccountNumber||""},wallet:{bank_accounts:{bank_account:[s]}}},w.security=this.baseService.getSecurity(),w.bashPath=this.baseService.getBashPath(),w}getTransactionDataForBank(U){const w={};return w.receiver=this.createSMVReceiverPayload(this.receiverStoreData),w.paymentDetails={paymentType:this.selectedProduct.payIn},w.sender={wallet:this.updateSenderWallet(U)},w}getTransactionDataFor3rdPartyBankAdditionFlow(){const U={};return U.receiver=this.createSMVReceiverPayload(this.receiverStoreData),U.paymentDetails={paymentType:this.selectedProduct.payIn},U.sender=this.senderData||{},U}createSMVReceiverPayload(U){const w={},O={};return U.address.addressLine1?O.addrLine1=U.address.addressLine1:U.address.addrLine1&&(O.addrLine1=U.address.addrLine1),U.address.addressLine2?O.addrLine2=U.address.addressLine2:U.address.addrLine2&&(O.addrLine2=U.address.addrLine2),U.address.city&&(O.city=U.address.city),U.address.zipCode&&(O.postalCode=U.address.zipCode),U.address.state&&(O.state=U.address.state),w.id=U.generalInformation?.id||U.id,w.uid=U.generalInformation?.uid||U.uid,O.country_iso_code=U.address.countryIsoCode,w.mobilePhone={phoneNumber:{countryCode:U.contactDetails?.countryCode||U.mobilePhone?.phoneNumber?.countryCode,nationalNumber:U.contactDetails?.mobileNumber||U.mobilePhone?.phoneNumber?.nationalNumber}},U&&U.dob&&(w.dateOfBirth=U.dob),w.address=O,U.wallet&&(w.wallet=U.wallet),w}updateSenderWallet(U){const w={},O=$.get(this.transactionBanks,"wallet.bankAccounts.bankAccount");if(O){const G=O.find(s=>s.paymentInstrumentId===U);G&&(w.bankAccounts={bankAccount:[G]})}return w}getGwpPreAuth(U){return this.restMethod.POST("/GwpPreAuth",this.getGwpPreAuthRequest(U),"","","",!0,"").pipe((0,x.T)(O=>O))}getGwpPreAuthRequest(U){let w={};const O=JSON.parse(sessionStorage.getItem("SummaryObjects")),G=$.get(this.transactionBanks,"wallet.bankAccounts.bankAccount"),s=JSON.parse(sessionStorage.getItem("selectedReceiver"));G&&(w=G.find(p=>p.paymentInstrumentId===U));const a=$.get(O,"receiver_wallet.bankAccounts[0].account_number"),c="500"===$.get(O,"payout_method_code")?a.substr(a.length-4):"0000";return{locale:{country_code:$.get(this.corridorData,"senderCountry.isoCode")},transactionId:$.get(w,"transactionId"),merchantReference:$.get(O,"pwmbSignature.pwmb_info.merchant_reference"),splitToken:$.get(w,"accessToken"),amount:$.get(O,"transfer_amount"),countryCorridor:$.get(this.corridorData,"senderCountry.isoCode"),withdrawalMethod:$.get(O,"payout_method_code"),accountLastFour:c,beneficiaryName:$.get(s,"name.firstName"),beneficiaryCountry:$.get(this.receiverStoreData,"address.countryIsoCode"),paymentType:"Deferred",currency:$.get(this.corridorData,"senderCurrency"),security:this.baseService.getSecurity()}}static#e=this.\u0275fac=function(w){return new(w||_)(E.KVO(o.E),E.KVO(e.R),E.KVO(D.il),E.KVO(C.k),E.KVO(A.a))};static#t=this.\u0275prov=E.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},65578:(n,d,t)=>{"use strict";t.d(d,{P:()=>w});var o=t(16619),e=t(75194),x=t(95006),$=t(87801),W=t(79928),K=t(48070),V=t(25277),P=t(93885),D=t(34781),f=t(67376),A=t(77202),E=t(47058),N=t(78863),_=t(3902),M=t(54438),U=t(35900);let w=(()=>{class O{constructor(s,a,c,r,g,p,h,l,v){this.baseService=s,this.restMethod=a,this.logger=c,this.updateStoreUsingActionService=r,this.utilService=g,this.countryConfigService=p,this.urlService=h,this.regexservice=l,this.featureFlagService=v,this._cardNumber="",this._addCardCvv="",this._savedCardCvv="",this._savedCardCvvOnEdit="",this.deleteCardSuccess=new W.t(!1),this.updateCardSuccess=new W.t(!1)}getCreditCards(s){const a="/GetCreditCards",c=this.getSavedCardBodyRequest();this.countryConfigService.isDebitCardEnabled()&&(c.security.requestHeader?c.security.requestHeader.push({key:"isRREnabled",value:"true"}):c.security.requestHeader=[{key:"isRREnabled",value:"true"}]);const r=this.utilService.isSybaseEnabled(a);return this.restMethod.POST(a,c).pipe((0,x.T)(g=>{if(!g.error){if(!this.checkEmptyCard(g,r)){r&&(g=this.mapGetCreditCardsCSResToPs(g));const p=this.createPaymentCardModel(g.gatewayCustomer.creditDebitCards.creditDebitCard);return this.updateStoreUsingActionService.updateCardsData(p),sessionStorage.setItem("savedCards",JSON.stringify(g)),p}if(this.utilService.isHostedPartnerType()&&s&&s.expiryDate){g=this.getPartnerCards(g);const p=this.createPartnerPaymentCardModel(g.gatewayCustomer.creditDebitCards.partnerCreditDebitCard,s);return this.updateStoreUsingActionService.updateCardsData(p),sessionStorage.setItem("savedCards",JSON.stringify(g)),p}this.clearStorageValues("GetCreditCards"),this.updateStoreUsingActionService.updateCardsData([])}return g}))}checkEmptyCard(s,a){return a?!s.gateway_customer||s.gateway_customer&&s.gateway_customer.credit_debit_cards&&s.gateway_customer.credit_debit_cards.credit_debit_card&&0===s.gateway_customer.credit_debit_cards.credit_debit_card.length:!!(s.gatewayCustomer&&s.gatewayCustomer.creditDebitCards&&s.gatewayCustomer.creditDebitCards.creditDebitCard&&0===s.gatewayCustomer.creditDebitCards.creditDebitCard.length||s.message)}mapGetCreditCardsCSResToPs(s){const a=s.gateway_customer.credit_debit_cards.credit_debit_card;s=this.utilService.keysToCamel(s);for(let c=0;c<a.length;c++)s.gatewayCustomer.creditDebitCards.creditDebitCard[c].card_consent_flag=s.gatewayCustomer.creditDebitCards.creditDebitCard[c].cardConsentFlag,delete s.gatewayCustomer.creditDebitCards.creditDebitCard[c].cardConsentFlag;return s}getPartnerCards(s){const a=this.updateStoreUsingActionService.getState().partnerData.retrieveResponseData;return a&&a.paymentDetails&&a.paymentDetails.paymentInstrument&&a.paymentDetails.paymentInstrument.creditDebitCards&&a.paymentDetails.paymentInstrument.creditDebitCards.length>0&&(s.gatewayCustomer={},s.gatewayCustomer.creditDebitCards={},s.gatewayCustomer.creditDebitCards.partnerCreditDebitCard=a.paymentDetails.paymentInstrument.creditDebitCards),s}createPartnerPaymentCardModel(s,a){const c=[],r=this.updateStoreUsingActionService.getState();this.senderData=r.sender;const g=this.getAddressFromProfile();for(let p=0;p<s.length;p++){const h={id:a.response[0].id,binNumber:s[p].bin||s[p].binNumber,paymentInstrumentId:a.paymentInstrumentId,cardNumber:"XXXXXXXXXXXX"+s[p].cardNumber,cardType:s[p].cardType,cardCategory:s[p].cardCategory,expirationDate:a.expiryDate,isCreditCardScanned:!1,customerName:this.getPartnerSenderName(s[p]),...g&&{address:{addrLine1:g.addrLine1,addrLine2:g.addrLine2,city:g.city,state:g.state,zipCode:g.zipCode,postalCode:g.postalCode,countryIsoCode:g.countryIsoCode,countryCode:g.countryCode,countryName:g.countryName,localDeliveryArea:g.localDeliveryArea}},card_consent_flag:"N",card_consent_mtcn:s[p].card_consent_mtcn};c.push(h)}return c}getPartnerSenderName(s){const a=this.senderData||s.customerName;return{...a.attention&&{attention:a.attention},...a.givenName&&{givenName:a.givenName},firstName:a.firstName,lastName:a.lastName,...a.middleName&&{middleName:a.middleName},...a.maternalName&&{maternalName:a.maternalName},...a.paternalName&&{paternalName:a.paternalName}}}createPaymentCardModel(s){const a=[],c=this.updateStoreUsingActionService.getState();this.senderData=c.sender;for(let r=0;r<s.length;r++){const g={id:s[r].id,binNumber:s[r].bin||s[r].binNumber,paymentInstrumentId:s[r].paymentInstrumentId?s[r].paymentInstrumentId:null,cardNumber:s[r].cardNumber,cardType:s[r].cardType,cardCategory:s[r].cardCategory,expirationDate:s[r].expirationDate?s[r].expirationDate:"",isCreditCardScanned:s[r].isCreditCardScanned,customerName:this.getSenderName(s[r]),...s[r].address&&{address:{addrLine1:s[r].address.addrLine1,addrLine2:s[r].address.addrLine2,city:s[r].address.city,state:s[r].address.state,zipCode:s[r].address.zipCode,postalCode:s[r].address.postalCode,countryIsoCode:s[r].address.countryIsoCode,countryCode:s[r].address.countryCode,countryName:s[r].address.countryName,localDeliveryArea:s[r].address.localDeliveryArea}},card_consent_flag:s[r].card_consent_flag,card_consent_mtcn:s[r].card_consent_mtcn};a.push(g)}return a}deleteCard(s){const c=this.getSavedCardBodyRequest();return c.external_reference_no=s.external_reference_no,c.gateway_customer=s.gateway_customer,this.logger.info("delete card api triggering"),this.restMethod.POST("/DeleteCreditCards",c).pipe((0,x.T)(r=>(this.logger.info("delete card api successfully triggered"),this.deleteCardSuccess.next(!r.error),r)))}addNewCard(s){const a="/AddCreditCards",c=this.getSavedCardBodyRequest();return c.external_reference_no=s.external_reference_no,c.gateway_customer=s.gatweway_customer,this.logger.info("add credit card api triggered"),this.restMethod.POST(a,c).pipe((0,x.T)(r=>!r.error&&(this.utilService.isSybaseEnabled(a)&&(r=this.utilService.formatToCamelCase(r)),r.gatewayCustomer&&r.gatewayCustomer.wallet&&r.gatewayCustomer.wallet.creditDebitCards&&r.gatewayCustomer.wallet.creditDebitCards.creditDebitCard&&r.gatewayCustomer.wallet.creditDebitCards.creditDebitCard.length>0)?this.createPaymentCardModel(r.gatewayCustomer.wallet.creditDebitCards.creditDebitCard):r))}getTransactionDataForSMV(s,a){const c=this.updateStoreUsingActionService.getState();this.transactionCardsVM={preferredCustomer:{accountNbr:""},transactionCards:c.cardsData},this.receiverStoreData=c.selectedReceiver;let g=this.transactionCardsVM.transactionCards.find(p=>p.paymentInstrumentId===s);if(g||(g=c.selectedCard),g){const p={};return p.receiver=this.createSMVReceiverPayload(this.receiverStoreData,c),g.cvvii_code=a,p.paymentDetails={creditDebitCard:g},p.sender={},p}}getSavedCardBodyRequest(){const s={};return s.security=this.baseService.getSecurity(),s.bashPath=this.baseService.getBashPath(),s}updateCard(s){const c=this.getUpdateCardBodyRequest(s);return this.restMethod.POST("/UpdateCreditCards",c).pipe((0,x.T)(r=>(this.logger.info("update card api successfully triggered",r),this.updateCardSuccess.next(!r.error),r)))}getUpdateCardBodyRequest(s){return s.security=this.baseService.getSecurity(),s.bashPath=this.baseService.getBashPath(),s}clearStorageValues(s){sessionStorage.removeItem(s+"_k"),sessionStorage.removeItem(s+"_v")}getAddressFromProfile(){const s=this.updateStoreUsingActionService.getState();this.senderData=s.sender;const a=new K.pV;return this.senderData&&this.senderData.address&&(a.addrLine1=this.senderData.address.addressLine1,a.addrLine2=this.senderData.address.addressLine2?this.senderData.address.addressLine2:"",a.city=this.senderData.address.city,a.state=this.senderData.address.state,a.postalCode=this.senderData.address.zipCode),a}createUpdateCardPayload(s,a){const c=new V.NL,r=new V.pV,g=this.updateStoreUsingActionService.getState();this.senderData=g.sender;const p=this.countryConfigService.showBillingAddress();r.addr_line1=p?s.addressLine1:this.senderData.address.addressLine1,r.addr_line2=p?s.addressLine2:this.senderData.address.addressLine2,r.city=p?s.city:this.senderData.address.city,r.state=p?s.state:this.senderData.address.state,r.postal_code=p?s.zipCode:this.senderData.address.zipCode,c.external_reference_no="1",c.gateway_customer={email:this.senderData.email,contact_phone_country_prefix:"1",wallet:{credit_debit_cards:{credit_debit_card:[{id:a.id,paymentInstrumentId:a.paymentInstrumentId,customer_name:this.getCustomerName(),address:r,card_number:this.getFormattedCardNumber(a.cardNumber),card_type:a.cardType,expiration_date:this.getFormattedExpirationDate(s.expirationDate)}]}}};const h=c.gateway_customer.wallet.credit_debit_cards.credit_debit_card[0].address;return h&&(Object.keys(h).forEach(l=>void 0===h[l]&&delete h[l]),0===Object.keys(h).length&&delete c.gateway_customer.wallet.credit_debit_cards.credit_debit_card[0].address),this.countryConfigService.doZDA()&&(c.gateway_customer.wallet.credit_debit_cards.credit_debit_card.doZDA=!0),f.get(this.senderData,"mobileNumber.mobileNumber")&&(c.gateway_customer.contact_phone=this.senderData.mobileNumber.mobileNumber.toString()),c}getCustomerName(){const s={};return this.senderData&&this.senderData.firstName?s.first_name=this.senderData.firstName:this.senderData&&this.senderData.givenName&&(s.given_name=this.senderData.givenName),this.senderData&&this.senderData.lastName?s.last_name=this.senderData.lastName:this.senderData&&this.senderData.paternalName&&(s.paternal_name=this.senderData.paternalName),this.senderData&&this.senderData.maternalName&&(s.maternal_name=this.senderData.maternalName),f.isEmpty(s)?void 0:s}getSenderName(s){const a=s.customerName||this.senderData;return{...a.attention&&{attention:a.attention},...a.givenName&&{givenName:a.givenName},firstName:a.firstName,lastName:a.lastName,...a.middleName&&{middleName:a.middleName},...a.maternalName&&{maternalName:a.maternalName},...a.paternalName&&{paternalName:a.paternalName}}}createSMVReceiverPayload(s,a){const c={},r={};return s&&s.address&&s.address.addrLine1&&(r.addrLine1=s.address.addrLine1),s&&s.address&&s.address.addressLine1&&(r.addrLine1=s.address.addressLine1),s&&s.address&&s.address.addrLine2&&(r.addrLine2=s.address.addrLine2),s&&s.address&&s.address.addressLine2&&(r.addrLine2=s.address.addressLine2),s&&s.address&&s.address.city&&(r.city=s.address.city),s&&s.address&&s.address.postalCode&&(r.postalCode=s.address.postalCode),s&&s.address&&s.address.state&&(r.state=s.address.state),r.country_iso_code=f.get(a,"userJourney")===P.Y.userJourneyBillPay||f.get(a,"userJourney")===P.Y.userJourneyInmatePay||f.get(a,"userJourney")===P.Y.userJourneyMobileReload?f.get(a,"selectedProduct.destination.countryIsoCode"):f.get(s,"address.countryIsoCode"),f.get(a,"userJourney")===P.Y.userJourneyMobileReload?(c.id=f.get(a,"selectedBiller.billerReceiverId"),c.uid=f.get(a,"selectedBiller.billerReceiverUid")):s&&s.generalInformation&&(c.id=s.generalInformation.id,c.uid=s.generalInformation.uid),s&&s.wallet&&(c.wallet=s.wallet),s&&s.dob&&(c.dateOfBirth=s.dob),f.get(a,"userJourney")===P.Y.userJourneyMobileReload?c.mobilePhone={phoneNumber:{countryCode:f.get(a,"selectedBiller.billerReceiverAreaCode"),nationalNumber:f.get(a,"selectedBiller.billerReceiverPhoneNumber")}}:s&&s.contactDetails?c.mobilePhone={phoneNumber:{countryCode:s.contactDetails.countryCode,nationalNumber:s.contactDetails.mobileNumber}}:s&&s.mobilePhone&&(c.mobilePhone={phoneNumber:{countryCode:s.mobilePhone.phoneNumber.countryCode,nationalNumber:s.mobilePhone.phoneNumber.nationalNumber}}),c.address=r,c}getFormattedCardNumber(s){return void 0!==s&&(s="XXXXXXXXXXXX"+(s=s.replace(/[^\d]/g,""))),s}getFormattedExpirationDate(s){const a=sessionStorage.getItem("acceptYYFormatCreditCardExpiry");if(a&&"enabled"===a){const c=s.replace(/\s|\//g,"");return c.slice(0,2)+"/20"+c.slice(2,4)}return s}getCardType(s,a){let c="null";try{s=s&&s.replace(/\s/g,"");let r=$.K.CONST_CARD_TYPES.UNKNOWN_CARD;const g=this.countryConfigService.getCardType(),p=this.updateStoreUsingActionService.getState();"CU"===f.get(p,"selectedProduct.destination.countryIsoCode")&&(g.CUBACARD="TRUE");for(const h of Object.keys(g)){const l=h?h.toUpperCase():"";switch($.K.CONST_CARD_TYPE_ID[l]){case 1:!s.match(a.maestroCardPrefix)&&!s.match(a.electronCardPrefix)&&s.match(a.visaCardPrefix)&&(r=$.K.CONST_CARD_TYPES.VISA_CARD);break;case 2:s.match(a.masterCardPrefix)&&(r=$.K.CONST_CARD_TYPES.MASTER_CARD);break;case 3:s.match(a.discoverCardPrefix)&&(r=$.K.CONST_CARD_TYPES.DISCOVER_CARD);break;case 4:s.match(a.electronCardPrefix)&&(r=$.K.CONST_CARD_TYPES.ELECTRON_CARD);break;case 5:s.match(a.eloCardPrefix)||s.match(a.maestroCardPrefix)&&(r=$.K.CONST_CARD_TYPES.MAESTRO_CARD);break;case 6:s.match(a.mirCardPrefix)&&(r=$.K.CONST_CARD_TYPES.MIR_CARD);break;case 7:s.match(a.testCard)&&(r=$.K.CONST_CARD_TYPES.UNKNOWN_CARD);break;case 8:this.featureFlagService.isFeatureEnabled("CUBA_NEW_REGEX")?s.match(a.cubaCardPrefixNew)&&(r=$.K.CONST_CARD_TYPES.CUBA_CARD):s.match(a.cubaCardPrefix)&&(r=$.K.CONST_CARD_TYPES.CUBA_CARD);break;case 9:s.match(a.eloCardPrefix)&&(r=$.K.CONST_CARD_TYPES.ELO_CARD);break;case 10:s.match(a.amexCardPrefix)&&(r=$.K.CONST_CARD_TYPES.AMEX_CARD)}if(r!==$.K.CONST_CARD_TYPES.UNKNOWN_CARD)break}c=r}catch{}return c}getInstallementOptions(s){const a=this.getInstallmentOptionskRequest(s);return this.restMethod.POST("/GwpGetInstallmentOptions",a,"","","",!0).pipe((0,x.T)(c=>c))}getInstallmentOptionskRequest(s){const a=this.urlService.getCountryFromURL().toLowerCase(),c=this.updateStoreUsingActionService.getState(),r={security:{session:{id:"SESSION ID GOES HERE"},client_ip:"CLIENT IP GOES HERE"},channel:{type:"WEB",name:"Western Union",version:"9Z00",device_identifier:this.utilService.isMobileDevice()?"RESPONSIVE_MOB":"RESPONSIVE_WEB"}};return r.country_code=a.toUpperCase(),r.gross_amount=f.get(c,"selectedProduct.origination.grossAmount"),r.card_type=s,r.security.session.id=this.utilService.getCookieItem("SessionId"),r.security.client_ip=this.utilService.getCookieItem("ClientIp")?this.utilService.getCookieItem("ClientIp"):this.updateStoreUsingActionService.getState().clientIp?this.updateStoreUsingActionService.getState().clientIp:"",r}set cardNumber(s){this._cardNumber=s}get cardNumber(){return this._cardNumber}set addCardCvv(s){this._addCardCvv=s}get addCardCvv(){return this._addCardCvv}set savedCardCvv(s){this._savedCardCvv=s}get savedCardCvv(){return this._savedCardCvv}set savedCardCvvOnEdit(s){this._savedCardCvvOnEdit=s}get savedCardCvvOnEdit(){return this._savedCardCvvOnEdit}static#e=this.\u0275fac=function(a){return new(a||O)(M.KVO(o.E),M.KVO(e.R),M.KVO(U.so),M.KVO(D.k),M.KVO(A.a),M.KVO(E.qd),M.KVO(N.Fq),M.KVO(E.Bj),M.KVO(_.y))};static#t=this.\u0275prov=M.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},96386:(n,d,t)=>{"use strict";t.d(d,{F:()=>U});var o=t(64646),e=t(75194),x=t(37486),$=t(76205),W=t(34781),K=t(95006),V=t(98010),P=t(66726),D=t(14421),f=t(90696),C=t(83053),A=t(47058),E=t(78863),N=t(67376),M=t(54438);let U=(()=>{class w{constructor(G,s,a,c,r,g,p,h,l,v){this._store=G,this.restMethod=s,this.calculation=a,this.updateStore=c,this.feeInquiryService=r,this._spinnerService=g,this.updateStoreUsingActionService=p,this.updateGetLimitsService=h,this.smoConfig=l,this.countryConfigService=v,this._store.pipe((0,o.Lt)(P.mA)).subscribe(S=>this.corridor=S),this._store.pipe((0,o.Lt)(P.mz)).subscribe(S=>this.principalAmount=S),this._store.pipe((0,o.Lt)(P.Qm)).subscribe(S=>this.receiveAmount=S),this._store.pipe((0,o.Lt)(P.d$)).subscribe(S=>this.products=S),this._store.pipe((0,o.Lt)(P.rb)).subscribe(S=>this.selectedProduct=S),this._store.pipe((0,o.Lt)(P.vp)).subscribe(S=>this.senderAmountLimit=S),this._store.pipe((0,o.Lt)(P.w8)).subscribe(S=>this.sender=S)}priceQuoteFeeInquiryRetail(){const G=this.smoConfig.isRetailOnlyCorridors()?(0,D.of)({}):this.priceQuoteMethod(),s=this.countryConfigService.getAirEnabled()?this.feeInquiryService.getFeeInquiryRetail():(0,D.of)({});(0,f.p)([G,s]).subscribe(a=>{const c=this.mapResponseToProduct(a);this.feeInquiryService.updateProductsToStore(JSON.parse(JSON.stringify(c)))})}priceQuoteMethod(){this._spinnerService.startCall();const s=N.get(this.corridor,"senderCountry.isoCode"),a=N.get(this.corridor,"senderCurrency"),c=N.get(this.corridor,"receiverCountry.isoCode"),r=N.get(this.corridor,"receiverCurrency");return this.restMethod.GET("/price/quote/"+s+"/"+a+"/"+c+"/"+r+"/"+(this.sender&&this.sender.address&&this.sender.address.zipCode?this.sender.address.zipCode:"00000")).pipe((0,K.T)(h=>{if(this._spinnerService.endCall(),!h.error)return this.updateStore.updatePriceQuoteServicesMeta(h),this.updateStore.updatePageLevelNotification(null),h;{const l={};l.errorCode=h.error.code,l.errorMessage=h.error.message,this.updateStore.updatePageLevelNotification(l)}}))}handlePriceQuoteBands(G){"send_amount"===G?this.updateProductsOnSendAmountChange():"receive_amount"===G&&this.updateProductsOnReceiveAmountChange()}updateProductsOnSendAmountChange(){this.products.map(G=>{if(G.payIn!==x.mt.Cash||G.payOut!==x.Zr.AG){const s=this.calculation.sortMeta(G.fxBand),a=this.calculation.getSendAmountFee(this.principalAmount,G.feeBand),c=this.calculation.getExchangeRate(this.principalAmount,s),r=this.calculation.getExpectedPayoutAmount(this.principalAmount,c);G.fees=a/100,G.exchangeRate=c||0;const g=G.destination;g&&g.expectedPayoutAmount&&(g.expectedPayoutAmount=r||0);const p=G.origination;p&&p.principalAmount&&p.grossAmount&&(p.principalAmount=this.getPAmountForProducts(),p.grossAmount=this.getGAmountForProducts(this.principalAmount,a,"send_amount"))}if(G.payIn===x.mt.Cash){const s=G.origination,a=parseInt((100*G.fees).toFixed(),10),c=this.calculation.getExpectedPayoutAmount(this.principalAmount,G.exchangeRate),r=G.destination;r&&r.expectedPayoutAmount&&(r.expectedPayoutAmount=c||0),s&&s.principalAmount&&s.grossAmount&&(s.principalAmount=this.getPAmountForProducts(),s.grossAmount=this.getGAmountForProducts(this.principalAmount,a,"send_amount"))}}),this.updateStoreUsingActionService.updateProducts(JSON.parse(JSON.stringify(this.products))),this.selectedProduct&&this.selectedProduct.payIn!==x.mt.Cash&&this.selectedProduct.origination&&this.selectedProduct.origination.principalAmount&&this.selectedProduct.maxAmount>=this.selectedProduct.origination.principalAmount/100&&this.feeInquiryService.updateSelectedProductFromProducts(),this.updateGetLimitsService.getAvailTxnLimits()}updateProductsOnReceiveAmountChange(){this.products.map(G=>{if(G.payIn!==x.mt.Cash||G.payOut!==x.Zr.AG){let s=this.calculation.fxBasedOnReceiveAmount(G.fxBand);s=this.calculation.sortMeta(s);const a=this.calculation.getExchangeRate(this.receiveAmount,s),c=this.calculation.getSendAmount(this.receiveAmount,a),r=this.calculation.getSendAmountFee(c/100,G.feeBand),g=100*parseFloat(this.receiveAmount);G.fees=r/100,G.exchangeRate=a||0;const p=G.destination;p&&p.expectedPayoutAmount&&(p.expectedPayoutAmount=g||0);const h=G.origination;h&&h.principalAmount&&h.grossAmount&&(h.principalAmount=c,h.grossAmount=this.getGAmountForProducts(c,r,"receive_amount"))}}),this.updateStoreUsingActionService.updateProducts(JSON.parse(JSON.stringify(this.products))),this.selectedProduct&&this.selectedProduct.payIn!==x.mt.Cash&&this.selectedProduct.origination&&this.selectedProduct.origination.principalAmount&&this.selectedProduct.maxAmount>=this.selectedProduct.origination.principalAmount/100&&this.feeInquiryService.updateSelectedProductFromProducts(),this.updateGetLimitsService.getAvailTxnLimits()}mapPQResponseToProduct(G){const s=[];if(G&&G.servicesMeta&&G.servicesMeta.length>0){const a=G.servicesMeta;for(let c=0;c<a.length;c++)if(a[c].payGroupsMeta&&a[c].payGroupsMeta.length>0)for(let r=0;r<a[c].payGroupsMeta.length;r++){const g={code:a[c].service,name:a[c].deliveryOptionDescription};if("800"===a[c].service&&"MB"===a[c].deliveryOptionMnem&&!g.name&&(g.name=x.aU.DC),"200"===a[c].service&&(g.name=x.aU.D2),"PF"===a[c].payGroupsMeta[r].paymentType&&(a[c].payGroupsMeta[r].paymentTypeDescription="PartnerFunds"),"BA"===a[c].payGroupsMeta[r].paymentType&&(a[c].payGroupsMeta[r].paymentTypeDescription="BankAccount"),void 0!==x.mt[a[c].payGroupsMeta[r].paymentTypeDescription]){const p=this.getFundsInOption(a[c].payGroupsMeta[r],g.code),h=this.getMinMaxAmount(p);s.push(this.mappingFunc(a[c].payGroupsMeta[r],g,h))}}}return s}mappingFunc(G,s,a){const c=this.calculation.sortMeta(G.feeMeta),r=this.calculation.sortMeta(G.fxConversionMeta),g=this.calculation.getSendAmountFee(this.principalAmount,c),p=this.calculation.getExchangeRate(this.principalAmount,r),h=this.calculation.getExpectedPayoutAmount(this.principalAmount,p);return{feeBand:c,fxBand:G.fxConversionMeta,code:s.code,name:s.name,routingCode:G.routingCode,payIn:x.mt[G.paymentTypeDescription],payOut:this.getPayOut(s.code),deliverySpeed:G.speedDays,destination:{countryIsoCode:N.get(this.corridor,"receiverCountry.isoCode"),currencyIsoCode:N.get(this.corridor,"receiverCurrency"),expectedPayoutAmount:h},origination:{principalAmount:this.getPAmountForProducts(),grossAmount:this.getGAmountForProducts(this.principalAmount,g,"send_amount"),currencyIsoCode:N.get(this.corridor,"senderCurrency"),countryIsoCode:N.get(this.corridor,"senderCountry.isoCode")},minAmount:a?a[0]:G.minAmount,maxAmount:a?a[1]:this.senderAmountLimit,fees:g/100,destinationFees:0,exchangeRate:p,speedIndicator:this.getSpeedIndicator(G.speedDays),location:"",pricingContext:G.pricingContext}}getPayOut(G){let s=null;return"000"===G?s=x.Zr.AG:"500"===G?s=x.Zr.BA:"600"===G?s=x.Zr.MT:"800"===G?s=x.Zr.WA:"200"===G&&(s=x.Zr.D2C),s}getPAmountForProducts(){return 100*+this.principalAmount}getGAmountForProducts(G,s,a){return"receive_amount"===a?G+s:100*+G+s}getSpeedIndicator(G){let s=G;return null===G&&(s="0"),s}mapResponseToProduct(G){if(2===G.length){const s=G[0],a=[];a.push(G[1]);const c=this.mapPQResponseToProduct(s),r=this.feeInquiryService.mapResponseToProduct(a);return a[0]&&a[0].serviceOptions&&"Cash"===a[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG[0].paymentDetails.paymentType&&(a[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG[0].paymentDetails.paymentType="AG",sessionStorage.setItem("feeInquiryResponseRetail",JSON.stringify(a[0]))),c.concat(r)}}mapRetailResponseToProduct(G){let s=[];if(G.serviceOptions){const a=[];a.push(G);const c=this.feeInquiryService.mapResponseToProduct(a);return a[0]&&a[0].serviceOptions&&"Cash"===a[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG[0].paymentDetails.paymentType&&(a[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG[0].paymentDetails.paymentType="AG",sessionStorage.setItem("feeInquiryResponseRetail",JSON.stringify(a[0]))),s=c,s}return s}getFundsInOption(G,s){return{wuProduct:{code:s},paymentDetails:{paymentType:G.paymentTypeDescription}}}getMinMaxAmount(G){return this.feeInquiryService.getMinMaxAmount(G)}static#e=this.\u0275fac=function(s){return new(s||w)(M.KVO(o.il),M.KVO(e.R),M.KVO($.P),M.KVO(W.k),M.KVO(V.M),M.KVO(E.Dx),M.KVO(W.k),M.KVO(C.h),M.KVO(A.l9),M.KVO(A.qd))};static#t=this.\u0275prov=M.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},35234:(n,d,t)=>{"use strict";t.d(d,{l:()=>e});var o=t(54438);let e=(()=>{class x{updateProductRanking(W,K,V,P,D){this.addExtraPropertiesInProduct(W,V,K,P,D),this.rankProduct(W),this.updateProductRankingDetails(W,P)}updateProductRankingDetails(W,K){const V=this.getFastestSortArray(W),P=this.getLowestCostSortArray(W),D=this.getBestValueSortArray(W),f=this.getBestFxSortArray(W,K),C=this.getBestFeeSortArray(W);W.map(A=>{A.payIn===V[0].payIn&&A.payOut===V[0].payOut&&A.code===V[0].code&&(A.rankingDetails.isFastest=!0),A.payIn===P[0].payIn&&A.payOut===P[0].payOut&&A.code===P[0].code&&(A.rankingDetails.isLowestCost=!0),A.payIn===D[0].payIn&&A.payOut===D[0].payOut&&A.code===D[0].code&&(A.rankingDetails.isBestValue=!0),A.payIn===f[0].payIn&&A.payOut===f[0].payOut&&A.code===f[0].code&&(A.rankingDetails.isBestFx=!0),A.payIn===C[0].payIn&&A.payOut===C[0].payOut&&A.code===C[0].code&&(A.rankingDetails.isBestFee=!0)})}rankProduct(W){const K=[...W].sort((P,D)=>P.rankingDetails.speedTime-D.rankingDetails.speedTime),V=[...W].sort((P,D)=>D.rankingDetails.newFxRate-P.rankingDetails.newFxRate);W.map(P=>{P.rankingDetails.fastest=K.findIndex(D=>D.rankingDetails.speedTime===P.rankingDetails.speedTime)+1,P.rankingDetails.lowestCost=V.findIndex(D=>D.rankingDetails.newFxRate===P.rankingDetails.newFxRate)+1,P.rankingDetails.bestValue=(P.rankingDetails.fastest+P.rankingDetails.lowestCost)/2})}addExtraPropertiesInProduct(W,K,V,P,D){W.forEach(f=>{const C={isFastest:!1,isLowestCost:!1,isBestValue:!1,isBestFx:!1,isBestFee:!1,speedTime:50,newFxRate:"0.0",isEligibleForTxn:!1};!(P>f.maxAmount)&&!(P<f.minAmount)&&f.payIn&&(K["AG"===f.payIn?"Cash":f.payIn]||K[f.payIn])&&("Y"===K["AG"===f.payIn?"Cash":f.payIn]||"Y"===K[f.payIn])&&f.payOut&&V[f.payOut]&&"Y"===V[f.payOut]&&f.speedIndicator&&("US"===f.origination.countryIsoCode&&"MX"===f.destination.countryIsoCode?("AG"===f.payOut&&D===f.code||"AG"!==f.payOut)&&this.setRankingDetails(f,C):this.setRankingDetails(f,C)),f.rankingDetails=C})}setRankingDetails(W,K){const V=W.speedIndicator.split("-");K.speedTime=Number(V.length>1?V[1]:V[0]),K.newFxRate=Number((W.destination&&W.destination.expectedPayoutAmount/100)/(W.origination&&W.origination.grossAmount/100)).toFixed(4),K.isEligibleForTxn=!0}getBestValueSortArray(W){return[...W].sort((V,P)=>V.rankingDetails.bestValue-P.rankingDetails.bestValue)}getFastestSortArray(W){const K=[...W].sort((V,P)=>V.rankingDetails.fastest-P.rankingDetails.fastest);return K.sort((V,P)=>V.rankingDetails.fastest===P.rankingDetails.fastest?V.rankingDetails.bestValue<P.rankingDetails.bestValue?-1:1:V.rankingDetails.fastest<P.rankingDetails.fastest?-1:1),K}getBestFxSortArray(W,K){const V=[...W].sort((P,D)=>D.exchangeRate-P.exchangeRate);return V.sort((P,D)=>K>D.maxAmount||K<D.minAmount||"0.0"===D.rankingDetails.newFxRate?-1:P.exchangeRate===D.exchangeRate?P.rankingDetails.bestValue<D.rankingDetails.bestValue?-1:1:D.exchangeRate<P.exchangeRate?-1:1),V}getBestFeeSortArray(W){const K=[...W].sort((V,P)=>V.fees-P.fees);return K.sort((V,P)=>"0.0"===V.rankingDetails.newFxRate?1:"0.0"===P.rankingDetails.newFxRate?-1:V.fees===P.fees?V.rankingDetails.bestValue<P.rankingDetails.bestValue?-1:1:V.fees<P.fees?-1:1),K}getLowestCostSortArray(W){const K=[...W].sort((V,P)=>V.rankingDetails.lowestCost-P.rankingDetails.lowestCost);return K.sort((V,P)=>V.rankingDetails.lowestCost===P.rankingDetails.lowestCost?V.rankingDetails.bestValue<P.rankingDetails.bestValue?-1:1:V.rankingDetails.lowestCost<P.rankingDetails.lowestCost?-1:1),K}static#e=this.\u0275fac=function(K){return new(K||x)};static#t=this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},10960:(n,d,t)=>{"use strict";t.d(d,{m:()=>N});var o=t(64646),e=t(66726),x=t(84787),$=t(98197),W=t(16619),K=t(75194),V=t(87465),P=t(78863),D=t(77202),f=t(67376),C=t.n(f),A=t(54438),E=t(35900);let N=(()=>{class _{constructor(U,w,O,G,s,a,c,r){this._store=U,this.restMethod=w,this.dynamicScripLoader=O,this.baseRequest=G,this._handShakeService=s,this.logger=a,this.readURLService=c,this.utilService=r,this.isnewSDKPwmbABEnabled=!0}generatePwmbSignature(){const w=this.getPwmbSignatureRequest();return this.restMethod.POST("/pwmb/signature",w)}getPwmbSignatureRequest(){const U={security:{},bashPath:{},params:{param:[]}};U.security=this.baseRequest.getSecurity(),U.bashPath=this.baseRequest.getBashPath(),U.params.param=this.getParams().param,U.isPwmbABEnabled=!0;const O=sessionStorage.getItem("reviewSignature");if(O&&"true"===O){const G=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus"));G&&G.sender&&G.sender.wallet&&G.sender.wallet.bank_accounts&&G.sender.wallet.bank_accounts.bank_account&&(U.paymentInstrumentId=G.sender.wallet.bank_accounts.bank_account[0].paymentInstrumentId)}return U}getParams(){const U=sessionStorage.getItem("reviewSignature"),w={},O=new Array,G={},s={},a={},c={},r={},g={};let p={},h={},l={},v={},S={},m={},b={},Y={},R={},k={};const L=this.utilService.isRealTimeACHviaTrustlyEnabled()?"Deferred":"Retrieval",y=JSON.parse(sessionStorage.getItem("SummaryObjects"));if("returnUser"===sessionStorage.getItem("KycPwmb")){const I=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus"));y.defaultCurrencyIsoCode=I.payment_details.origination.currency_iso_code,y.transfer_amount=I.payment_details.origination.principal_amount,y.receive_amount=I.payment_details.destination.expected_payout_amount,y.transaction_total=I.payment_details.origination.gross_amount,y.transfer_fee=(y.transaction_total-y.transfer_amount).toFixed(2).toString(),y.country_name="US"===I.receiver.address.country_iso_code?"United Status":I.receiver.address.country_iso_code,sessionStorage.setItem("SummaryObjects",JSON.stringify(y))}if(G.key="currency",G.value=y?y.defaultCurrencyIsoCode?y.defaultCurrencyIsoCode:y.currencyIsoCode:"USD",O.push(G),s.key="amount",s.value="payment-preference"===sessionStorage.getItem("page_name")?"400.00":this.utilService.isRealTimeACHviaTrustlyEnabled()?"0.00":y?.transfer_amount,O.push(s),null===U){if(a.key="paymentType",a.value=L,O.push(a),this.utilService.isRealTimeACHviaTrustlyEnabled()){const I=JSON.parse(sessionStorage.getItem("GatewayCustomer")),T=JSON.parse(sessionStorage.getItem("app")||"{}"),te=T.sender.firstName?T.sender.firstName:T.sender.lastName;this._store.pipe((0,o.Lt)("app")).subscribe(Z=>{this.sessionFromStore=Z});try{c.key="customer.name",c.value=te||"",O.push(c),r.key="customer.externalId",r.value=C().get(I,"preferredCustomer.accountNbr")?C().get(I,"preferredCustomer.accountNbr"):"",O.push(r),g.key="customer.address.address1",g.value=C().get(I,"address.addrLine1")?C().get(I,"address.addrLine1"):"",O.push(g),p.key="customer.address.address2",p.value=C().get(I,"address.addrLine2")?C().get(I,"address.addrLine2"):"",O.push(p),h.key="customer.address.city",h.value=C().get(I,"address.city")?C().get(I,"address.city"):"",O.push(h),l.key="customer.address.state",l.value=C().get(I,"address.state")?C().get(I,"address.state"):"",O.push(l),v.key="customer.address.zip",v.value=C().get(I,"address.postalCode")?C().get(I,"address.postalCode"):"",O.push(v),S.key="customer.address.country",S.value=C().get(I,"address.countryIsoCode")?C().get(I,"address.countryIsoCode"):"",O.push(S),m.key="customer.phone",m.value=C().get(I,"contactPhone")?C().get(I,"contactPhone"):"",O.push(m),b.key="customer.email",b.value=C().get(I,"email")?C().get(I,"email"):"",O.push(b)}catch(Z){console.error(Z)}}}else if(U&&"true"===U)if(a.key="paymentType",a.value="Verification",O.push(a),"returnUser"===sessionStorage.getItem("KycPwmb")){const I=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus"));if(I&&I.sender&&I.sender.wallet&&I.sender.wallet.bank_accounts&&I.sender.wallet.bank_accounts.bank_account){c.key="account.accountNumber",c.value=I.sender.wallet.bank_accounts.bank_account[0].account_number,O.push(c),r.key="account.routingNumber",r.value=I.sender.wallet.bank_accounts.bank_account[0].routing_number,O.push(r),g.key="account.type",g.value=I.sender.wallet.bank_accounts.bank_account[0].account_type.replace(/\w\S*/g,function(Z){return Z.charAt(0).toUpperCase()+Z.substr(1).toLowerCase()}),O.push(g);const T=I&&I.sender&&I.sender.address&&I.sender.address.addr_line2?I.sender.address.addr_line2:"",te=JSON.parse(sessionStorage.getItem("ValidationRequest"));try{p={key:"customer.name",value:`${I.sender.name.first_name} ${I.sender.name.last_name}`},O.push(p),R={key:"customer.externalId",value:te.sender.preferred_customer.account_nbr},O.push(R),h={key:"customer.address.address1",value:I.sender.address.addr_line1},O.push(h),k={key:"customer.address.address2",value:T},O.push(k),l={key:"customer.address.city",value:I.sender.address.city},O.push(l),v={key:"customer.address.state",value:I.sender.address.state},O.push(v),S={key:"customer.address.zip",value:I.sender.address.postal_code},O.push(S),m={key:"customer.address.country",value:I.sender.address.country_iso_code},O.push(m),b={key:"customer.phone",value:I.sender.contact_phone},O.push(b),Y={key:"customer.email",value:I.sender.email},O.push(Y)}catch(Z){console.error(Z)}}}else{const I=JSON.parse(sessionStorage.getItem("StoreResponse"));if(I&&I.sender&&I.sender.wallet&&I.sender.wallet.bankAccounts&&I.sender.wallet.bankAccounts.bankAccount){c.key="account.accountNumber",c.value=I.sender.wallet.bankAccounts.bankAccount[0].accountNumber,O.push(c),r.key="account.routingNumber",r.value=I.sender.wallet.bankAccounts.bankAccount[0].routingNumber,O.push(r),g.key="account.type",g.value=I.sender.wallet.bankAccounts.bankAccount[0].accountType.replace(/\w\S*/g,function(Z){return Z.charAt(0).toUpperCase()+Z.substr(1).toLowerCase()}),O.push(g);const T=I&&I.sender&&I.sender.address&&I.sender.address.addrLine2?I.sender.address.addrLine2:"",te=JSON.parse(sessionStorage.getItem("ValidationRequest"));try{p={key:"customer.name",value:I.sender.name.firstName+" "+I.sender.name.lastName},O.push(p),R={key:"customer.externalId",value:te.sender.preferred_customer.account_nbr},O.push(R),h={key:"customer.address.address1",value:I.sender.address.addrLine1},O.push(h),k={key:"customer.address.address2",value:T},O.push(k),l={key:"customer.address.city",value:I.sender.address.city},O.push(l),v={key:"customer.address.state",value:I.sender.address.state},O.push(v),S={key:"customer.address.zip",value:I.sender.address.postalCode},O.push(S),m={key:"customer.address.country",value:I.sender.address.countryIsoCode},O.push(m),b={key:"customer.phone",value:I.sender.contactPhone},O.push(b),Y={key:"customer.email",value:I.sender.email},O.push(Y)}catch(Z){console.error(Z)}}}return w.param=O,w}establishPWMB(U,w){this.establishDataObj=this.getRequiredPwmbParams(U);const O=this.utilService.isRealTimeACHviaTrustlyEnabled()?"Deferred":"Retrieval";this.establishDataObj&&this.establishDataObj.establishData&&"reset"!==U&&(0,x.H)(this.dynamicScripLoader.loadScript("pwmb",this.establishDataObj.establishData.accessId)).subscribe(()=>{const s=window.PayWithMyBank;switch(U){case"confirmbank-pwmb":default:break;case"payment-preference":case"payment":s?.reset(),this.isnewSDKPwmbABEnabled?s.selectBankWidget(this.establishDataObj.establishData,this.establishDataObj.PayWithMyBankOptions):s?.selectBankLightBox({merchantId:this.establishDataObj.establishData.merchantId,accessId:this.establishDataObj.establishData.accessId,paymentType:O,metadata:[{key:"lang",value:"en"}]},this.establishDataObj.PayWithMyBankOptions),s?.addPanelListener((a,c)=>{"open"===a&&document.getElementById("payment-widget-iframe-pwmb")&&(document.getElementById("payment-widget-iframe-pwmb").style.display="none"),"event"===a&&"bank_selected"===c.type&&(0!==c.data?(this.establishDataObj.establishData.paymentProviderId=c.data,s?.destroy(),s?.establish(this.establishDataObj.establishData),this._handShakeService.startNavigation()):w&&w(c))})}})}getRequiredPwmbParams(U){const w=JSON.parse(sessionStorage.getItem("GatewayCustomer")),O=JSON.parse(sessionStorage.getItem("app")||"{}"),G=C().get(O,"sender.firstName")?O.sender.firstName:(C().get(O,"sender.lastName"),O.sender?.lastName);this._store.pipe((0,o.Lt)("app")).subscribe(m=>{this.sessionFromStore=m});const s=this.utilService.isRealTimeACHviaTrustlyEnabled()?"Deferred":"Retrieval",a={};let c="",r="",g="",p="";const h="payment-preference"===sessionStorage.getItem("page_name");switch(U){case"payment":case"payment-preference":case"reset":c="payment-iframe-pwmb",r=h?"web/send-money/payment-preference":"web/payment",g=this.readURLService.getCurrentUrl();break;case"confirmbank-pwmb":c="review-iframe-pwmb",r="confirmbank-pwmb",g=this.readURLService.getCurrentUrl().replace(r,"start")}p="true"==sessionStorage.getItem("ngMigrationProgress")||this.utilService.isFeatureEnabled("PROGRESS_NG_New_Page")?this.readURLService.getCurrentUrl().replace(r,"web/send-money/progress"):this.readURLService.getCurrentUrl().replace(r,"send-money/app/progress");const v={closeButton:!1,dragAndDrop:!1,mobilePopup:!1,containerId:c,embedded:!0};this.isnewSDKPwmbABEnabled&&(v.widgetContainerId="payment-widget-iframe-pwmb");let S={};if(this._store.pipe((0,o.Lt)(e.RS)).subscribe(m=>{S=m,this.logger.log(S)}),this._store.pipe((0,o.Lt)("app")).subscribe(m=>{this.sessionFromStore=m}),S&&S.pwmb_info){const m=S.pwmb_info,b={accessId:m.pwmb_access_id||m.access_id,requestSignature:m.signature,merchantId:m.merchant_id,description:m.description,currency:h?"USD":this.sessionFromStore.corridor.senderCurrency,amount:this.utilService.isRealTimeACHviaTrustlyEnabled()?"0.00":h?"400.00":this.sessionFromStore.senderAmount,merchantReference:m.merchant_reference,paymentType:s,returnUrl:p,cancelUrl:g};this.isnewSDKPwmbABEnabled&&(b.metadata=[{key:"lang",value:this.readURLService.getLanguageFromURL()}]),this.utilService.isRealTimeACHviaTrustlyEnabled()&&(b.customer={externalId:w.preferredCustomer.accountNbr,name:G||"",address:{address1:C().get(w,"address.addrLine1")?C().get(w,"address.addrLine1"):"",address2:C().get(w,"address.addrLine2")?C().get(w,"address.addrLine2"):"",city:C().get(w,"address.city")?C().get(w,"address.city"):"",state:C().get(w,"address.state")?C().get(w,"address.state"):"",zip:C().get(w,"address.postalCode")?C().get(w,"address.postalCode"):"",country:C().get(w,"address.countryIsoCode")?C().get(w,"address.countryIsoCode"):""},phone:C().get(w,"contactPhone")?C().get(w,"contactPhone"):"",email:C().get(w,"email")?C().get(w,"email"):""});const Y={};Y.lang=this.readURLService.getLanguageFromURL(),b.metadata=Y,a.PayWithMyBankOptions=v,a.establishData=b}return a}getUserBankDetails(){const w=this.getBankDetailsRequest();return this.restMethod.POST("/pwmb/user/bank",w)}getBankDetailsRequest(){const U={};return U.security=this.baseRequest.getSecurity(),U.transaction_id=this.getTransaction(),U.isPwmbABEnabled=!0,U}getTransaction(){let U={};return U=sessionStorage.getItem("transactionId"),U}static#e=this.\u0275fac=function(w){return new(w||_)(A.KVO(o.il),A.KVO(K.R),A.KVO($.n),A.KVO(W.E),A.KVO(V.i),A.KVO(E.so),A.KVO(P.Fq),A.KVO(D.a))};static#t=this.\u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},82520:(n,d,t)=>{"use strict";t.d(d,{G:()=>A});var o=t(16619),e=t(34781),x=t(95006),$=t(83921),W=t(75194),K=t(45286),V=t(74526),P=t(64646),D=t(66726),f=t(77202),C=t(54438);let A=(()=>{class E{constructor(_,M,U,w,O){this.baseService=_,this.restMethod=M,this.updateStore=U,this._store=w,this.utilService=O,this.destroyed$=new K.B7,this.receiverApiCalledCount=0,this.receiverInfo={},this._store.pipe((0,P.Lt)(D.T7)).subscribe(G=>{this.countryConfig=G})}getDeleteReceiverBodyRequest(){const _={};return _.security=this.baseService.getSecurity(),_.external_reference_no="1",_.receivers=this.getReceiverIDInfo(),_}getReceivers(_){if(!this.utilService.isWuPartner()){const M="/GetReceivers",U=this.getReceiversBodyRequest();return this.restMethod.POST(M,U).pipe((0,x.T)(w=>{if(this.utilService.isSybaseEnabled("/GetReceivers")&&(w=this.utilService.formatToCamelCase(w)),this.apiCalledIncrementer(),w&&(w.error||(!w.receivers||w.receivers&&w.receivers.receiver&&0==w.receivers.receiver.length)&&this.clearStorageReceiversListValues(),w&&_)){const O=this.countryConfig&&this.countryConfig.ConfigTemplate&&this.countryConfig.ConfigTemplate.PhoneVerification&&"TRUE"===this.countryConfig.ConfigTemplate.PhoneVerification.toUpperCase(),G=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}");if(O&&null!=G&&null!=G){const s=JSON.parse(sessionStorage.getItem("SummaryObjects")||"{}"),a=sessionStorage.getItem("idRU"),c=w.receivers.receiver.filter(r=>r.id===a)[0];a&&c&&(s.first_name=c.name.firstName,null!=s.middle_name&&(s.middle_name=c.name.middleName),s.last_name=c.name.lastName,sessionStorage.setItem("SummaryObjects",JSON.stringify(s)))}}return w}))}this.getPartnerReceiversList(),(0,$.W)(M=>(0,V.$)(M.message||M))}getReceiversBodyRequest(){const _={};return _.security=this.baseService.getSecurity(),_.external_reference_no="1",_.gateway_customer=this.getGatewayCustomer(),_.search_key="ALL",_}getGatewayCustomer(){const _=this.updateStore.getState(),M={},U={};return U.account_nbr=_.sender.myWuNumber,M.preferred_customer=U,M}clearStorageReceiversListValues(){const _="GetReceivers";sessionStorage.removeItem(_+"_k"),sessionStorage.removeItem(_+"_v")}getPartnerReceiversList(){const M=sessionStorage.getItem("GetReceivers_v_p");if(M)return JSON.parse(M)}getReceiverIDInfo(){const _={},M=[],U={},w=JSON.parse(sessionStorage.getItem("ReceiverInformation"));return U.id=w.id,U.uid=w.uid,M.push(U),_.receiver=M,_}apiCalledIncrementer(){return this.receiverApiCalledCount++,this.receiverApiCalledCount}getReceiverApiCalledCount(){return this.receiverApiCalledCount}deleteReceiver(){return this.restMethod.POST("/DeleteReceivers",this.getDeleteReceiverBodyRequest()).pipe((0,x.T)(M=>{if(M){const U="/GetReceivers";sessionStorage.removeItem(U+"_k"),sessionStorage.removeItem(U+"_v")}return M}))}getSendAgainTransactionHistory(_){return this.restMethod.POST("/SendAgain/TransactionHistory",this.getSendAgainTransactionHistoryBodyRequest()).pipe((0,x.T)(U=>U))}getSendAgainTransactionHistoryBodyRequest(){const _={};return _.security=this.baseService.getSecurity(),_.external_reference_no="1",_.gateway_customer=this.getGatewayPreferredCustomer(),_.transactions=this.getTransactionsObj(_),_}getGatewayPreferredCustomer(){const _=this.updateStore.getState(),M={},U={};return M.account_nbr=_.sender.myWuNumber,U.preferred_customer=M,U}getTransactionsObj(_){const M={},U=[],w={},O={};return O.mtcn=_.moneyTransferControl.mtcn,O.date=_.moneyTransferControl.date,w.money_transfer_control=O,w.filing_date=_.filingDate,w.filing_time=_.filingTime,U.push(w),M.transaction=U,M}static#e=this.\u0275fac=function(M){return new(M||E)(C.KVO(o.E),C.KVO(W.R),C.KVO(e.k),C.KVO(P.il),C.KVO(f.a))};static#t=this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},64347:(n,d,t)=>{"use strict";t.d(d,{h:()=>c});var o=t(75194),e=t(64646),x=t(67374),$=t.n(x),W=t(7605),K=t(95006),V=t(93885),P=t(67376),f=t(66726),C=t(21239),A=t(16619),E=t(77202),N=t(11535),_=t(3902),M=t(47058),U=t(78863),w=t(45286),O=t(21626),G=t(34781),s=t(54438),a=t(2490);let c=(()=>{class r{constructor(p,h,l,v,S,m,b,Y,R,k){this.restMethod=p,this.urlService=h,this.siteBehaviourService=l,this._store=v,this.featureFlag=S,this.baseRequest=m,this.utilService=b,this.countryConfigService=Y,this.updateStore=R,this.cookieService=k,this.destroyed$=new w.B7,this.validateTokenUrl="/ValidateToken",this._store.pipe((0,e.Lt)(f.KZ)).subscribe(L=>{this.isHostedPartner=L}),this._store.pipe((0,e.Lt)(f.Yr),(0,W.Q)(this.destroyed$)).subscribe(L=>{this.userJourney=L}),this._store.pipe((0,e.Lt)(f.rb),(0,W.Q)(this.destroyed$)).subscribe(L=>{this.selectedProductsStore=L}),this.countryCode=this.urlService.getCountryFromURL(),this.isPhoneVerification=this.countryConfigService.getPhoneVerification(),this.isEmaiPinNewPageEnable=window.location.href.includes("web/account/emailpin")&&(sessionStorage.getItem("isEmaiPinNewPageEnable")||this.featureFlag.isFeatureEnabled("New_Email_Pin_Migration"))}validateToken(p,h,l){const v=this.isEmaiPinNewPageEnable?this.enterEmailBodyRequest(p):this.getValidateTokenRequestBody(p,h,l);return this.restMethod.POST(this.validateTokenUrl,v).pipe((0,K.T)(S=>S))}getRedeliverToken(p){const h="/RedeliverToken",l=this.getRedeliverTokenRequestBody(p,h);return this.restMethod.POST(h,l).pipe((0,K.T)(v=>v))}emailValidation(p,h){const v=this.getEmailValidationRequestBody(p,h);return this.restMethod.POST("/EmailValidation",v).pipe((0,K.T)(S=>S))}registerCustomer(p,h){const v=this.getRegisterCustomerRequestBody(p,h);return this.restMethod.POST("/RegisterCustomer",v).pipe((0,K.T)(S=>S))}registerPostCJEvents(p){if(this.featureFlag.isFeatureEnabled("CJ_EVENT_TAGGING")){const h=localStorage.getItem("cjevent")||sessionStorage.getItem("cjevent"),l=p?.gateway_customer?.preferred_customer?.account_nbr||p?.gatewayCustomer?.preferredCustomer?.accountNbr;if(h&&l){const v={umn:l,referralCode:h,referralPartner:"CJ"};return new Promise((m,b)=>{const R=(new O.Lr).append("x-wu-sessionId",this.utilService.getCookieItem("SessionId"));this.httpService.post("postCJEventReferral",v,{headers:R}).pipe((0,W.Q)(this.destroyed$)).subscribe(k=>{m(k)},k=>{console.error(k),b("rejected")})})}}}registerOnSuccess(p,h,l){this.utilService.inFrame()&&this.cookieService.set("overlaySignupRegister","true"),sessionStorage.setItem("Track_PH_Register_Event","true"),sessionStorage.setItem("sc_register_success","true"),sessionStorage.setItem("RegMessageFlag","true"),p&&DTM_Trigger("DTM-THIRDPARTY-CONSENT",p),h&&DTM_Trigger("Refer-a-friend","accept"===l),this.updateUserJourney()}updateUserJourney(){"refer-friend"===this.userJourney||"receive-money"===this.userJourney||"rcx-refer-friend"===this.userJourney||"lookup_flow"===this.userJourney||this.updateStore.updateUserJourney(this.selectedProductsStore&&this.selectedProductsStore.payOut?"sending_money":"new_user")}postCJEvent(p){return this.restMethod.POST("/CJEventReferral",p).pipe((0,K.T)(l=>l))}enterEmailBodyRequest(p){const h={},l={},v={},S=JSON.parse(this.utilService.getSessionStorageItem("GatewayCustomer"));if(S&&S.email){const m=sessionStorage.getItem("Email");l.email=m&&m!=S.email?m:S.email}else sessionStorage.getItem("Email")?l.email=this.utilService.getSessionStorageItem("Email"):localStorage.getItem("User_Email")&&(l.email=localStorage.getItem("User_Email"));return v.temp_password=p,v.temp_password_type="REGISTRATION",l.security_details=v,h.security=this.baseRequest.getSecurity(),h.gateway_customer=l,h}getValidateTokenRequestBody(p,h,l){if(!h||h&&0===h.trim().length){const m=this.cookieService.get("User_Email").trim().length>0?this.cookieService.get("User_Email"):null,b=JSON.parse(sessionStorage.getItem("app")),Y=b&&b.sender&&b.sender.email?b.sender.email:null;h=(sessionStorage.getItem("Email")?sessionStorage.getItem("Email"):null)||Y||m}return{security:this.baseRequest.getSecurity(),gateway_customer:{email:h,security_details:{temp_password:p,temp_password_type:l}},bashPath:this.baseRequest.getBashPath()}}getRedeliverTokenRequestBody(p,h){return{security:this.utilService.isSybaseEnabled(h)?this.baseRequest.getSecurity(h):this.baseRequest.getSecurity(),gateway_customer:{email:p,security_details:{temp_password_type:this.utilService.isCSTLogin()?"LOGIN":"REGISTRATION"}},bashPath:this.baseRequest.getBashPath()}}getEmailValidationRequestBody(p,h){const l="/EmailValidation",v={email:p,security:this.baseRequest.getSecurity(l),bashPath:this.baseRequest.getBashPath()};if(this.featureFlag.isFeatureEnabled("CAPTCHA_EMAILVERIFY")||(v.security.version=2),h.captcha){const S=new N.bW;S.answer=h.captcha,S.image=h.captchaObject.data.image,S.sound=h.captchaObject.data.sound,S.clear_screen="true",v.security.captcha=S}return this.utilService.isPhoneLoginEnabled()&&(v.contact_phone=P.toString(P.get(h,"mobileNumber")),v.contact_phone_country_prefix=P.toString(P.get(h,"mobileCountryCode"))),this.utilService.isSybaseEnabled(l)&&delete v.security.client_ip,this.utilService.isScvProxyEnabled()&&(v.registration_type=V.Y.requestBodyEmail,v.channel=this.baseRequest.getChannelLookup()),v}getRegisterCustomerRequestBody(p,h){this.utilService.promoCampaignFromLocalToSessionStorage("promoPricingCampaignNameUrlParam");const v=this.getWebCampaignInfo(),S={external_reference_no:"1"};return S.security=this.baseRequest.getSecurity(),S.security.version=h?"1":"2",S.security.black_box_data=this.baseRequest.getGlobalBlackBoxData(),S.analytics=this.siteBehaviourService.getRegisterSiteBehaviour(p),S.bashPath=this.baseRequest.getBashPath(),S.gateway_customer=this.getGateWayCustomer(p,h),h&&(S.progressive_registration="true"),v&&(v.promoPricingCampaign||v.subscriptionId)&&this.utilService.isRegisterCustomerV2Enabled()&&(S.campaign={campaign_name:v.promoPricingCampaign?v.promoPricingCampaign:"",subscription_id:v.subscriptionId?v.subscriptionId:""}),this.utilService.isSybaseEnabled("/RegisterCustomer")&&(S.analytics.analytic_event=[S.analytics.analytic_event]),"true"===sessionStorage.getItem("isSkipEmailValidation")&&(S.skip_email_verification="true"),this.utilService.isDOBPhoneLookupEnable()&&"retailToDigital"===p?.flow&&p.umnNumber&&(S.umn_number=p.umnNumber),this.utilService.isRegisterMfaEnabled()&&(S.security.requestHeader=[],S.security.requestHeader.push({key:"A4kgk7nd_afm",value:sessionStorage.getItem("dcaasVersion")}),(this.utilService.isScvProxyEnabled()&&"retailToDigital"!==p?.flow||V.Y.US_AFFILIATE_PARTNERS.includes(this.utilService.getPartnerName()?.toLowerCase()))&&(S.mfa_type=this.getMFAType(p))),"retailToDigital"===p?.flow&&this.utilService.isScvProxyEnabled()&&(S.mfa_type=V.Y.requestBodySms),S}getMFAType(p){return p?.otpSourceMobile?V.Y.requestBodySms:p?.otpSourceMobile?void 0:V.Y.requestBodyEmail}getWebCampaignInfo(){return{promoPricingCampaign:this.utilService.promoPricingWebCampaign().promoPricingCampaign,subscriptionId:this.utilService.getCookieItem("promoCampaignSubscriptionId")}}generatePartnerCustomerPassword(p,h,l,v){const S=["ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz","0123456789@!#","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"];return[p,h,l,v].map(function(m,b){return Array(m).fill(S[b]).map(function(Y){return Y[Math.floor(Math.random()*Y.length)]}).join("")}).concat().join("").split("").sort(function(){return.5-Math.random()}).join("")}getGateWayCustomer(p,h){const l={};if(l.email=p.email,l.name=this.getName(p),!p.password&&this.utilService.getCookieItem("partnerName")===V.Y.POSTEITALIANE_PARTNER&&(p.password=this.generatePartnerCustomerPassword(1,1,1,10)),l.identities=this.getIdentities(p.password),l.terms_condition_flag=this.countryConfigService.getMyWuEnabled()&&(p.mywuTermConditionFlag||"US"===this.countryCode.toUpperCase()||this.isPhoneVerification)?1:0,V.Y.commonMyWuAndMarketingCountries.indexOf(this.countryCode.toUpperCase())>-1&&this.featureFlag.isFeatureEnabled("MARKETING_ON_PR")&&this.countryConfigService.getMyWuEnabled()&&(l.terms_condition_flag=p.marketingOptionFlag?1:0),this.utilService.isDOBPhoneLookupEnable()&&"retailToDigital"===p?.flow&&(l.terms_condition_flag="1"===p.termsAndCondition?1:0),this.utilService.isLoyaltyProgramEnabled()&&(l.terms_condition_flag=p.myWuTermsNConditions||"1"===p.termsAndCondition?1:0),l.account_preferences=this.getAccountPreference(p),this.utilService.getCookieItem("lbptrack")===V.Y.LBP_PARTNER&&this.gatewaycustomerdatadutlbp(p,l),p.referralDetails){const S={};S.referral_code=p.referralDetails,S.referral_site="referralsasquatch",l.referral_details=S}const v=this.utilService.checkIfUserIsFromMyWuSite();if(h){if(h&&(this.utilService.isPhoneLoginEnabled()||this.utilService.isPhoneFieldOnPR()||p.otpSourceMobile))l.contact_phone=p.mobileNumber,l.contact_phone_country_prefix=p.mobileCountryCode,"MOBILE"===p.selectedPrimaryPhoneTypes&&(l.mobile_phone=this.getMobileData(p.mobileCountryCode,p.mobileNumber));else if(v||p.isMyWuSite){l.contact_phone=p.mobileNumber,l.contact_phone_country_prefix=p.phoneCountryCode.key,l.date_of_birth=this.getDateOfBirth(p.dob),l.mobile_phone=this.getMobileData(p.phoneCountryCode.key,p.mobileNumber),l.terms_condition_flag=p.myWuTermsNConditions?1:0;const S={};S.country_iso_code=this.countryCode.toUpperCase(),l.address=S}}else{l.contact_phone=p.mobileNumber,l.address=this.getAddress(p),l.previous_address=this.getPreviousAddress(p),l.contact_phone_country_prefix=p.mobileCountryCode,l.date_of_birth=this.getDateOfBirth(p.dob),"MOBILE"===p.selectedPrimaryPhoneTypes&&(l.mobile_phone=this.getMobileData(p.mobileCountryCode,p.mobileNumber));const S="us"===this.countryCode.toLowerCase();S&&"enable"!==V.Y.removeSecurityQuestionsSwitch?l.security_details=this.getSecurityDetails(p):!S&&V.Y.removeSecurityQuestionsGlobalSwitch&&(V.Y.removeSecurityQuestionsGlobalSwitch[this.countryCode.toUpperCase()]||(l.security_details=this.getSecurityDetails(p))),p.gender&&(l.gender=p.gender),p.countryOfBirth&&(l.country_of_birth=p.countryOfBirth),p.countryOfResidence&&(l.country_of_residence=p.countryOfResidence),p.nationality&&(l.nationality=p.nationality),p.occupation&&-1!==p.occupation.toUpperCase().indexOf("OTHERS")&&p.occupationTxt?l.occupation="IN"===this.countryCode.toUpperCase()?"Others+"+p.occupationTxt:p.occupationTxt:p.occupation&&(l.occupation=p.occupation)}return l}getGatewayCustomerDeatsils(p,h){return this.getGateWayCustomer(p,h)}gatewaycustomerdatadutlbp(p,h){if(h.contact_phone=p.mobileNumber,h.address=this.getAddress(p),h.previous_address=this.getPreviousAddress(p),h.contact_phone_country_prefix=p.mobileCountryCode,h.date_of_birth=this.getDateOfBirth(p.dob),"MOBILE"===p.selectedPrimaryPhoneTypes&&(h.mobile_phone=this.getMobileData(p.mobileCountryCode,p.mobileNumber)),p.referralDetails){const l={};l.referral_code=p.referralDetails,l.referral_site="referralsasquatch",h.referral_details=l}p.gender&&(h.gender=p.gender),p.countryOfBirth&&(h.country_of_birth=p.countryOfBirth),p.nationality&&(h.nationality=p.nationality),p.occupation&&-1!==p.occupation.toUpperCase().indexOf("OTHERS")&&p.occupationTxt?h.occupation=p.occupationTxt:p.occupation&&(h.occupation=p.occupation)}getName(p){const h={};return p.lastName&&(h.last_name=p.lastName.trim()),p.paternalName?(h.paternal_name=p.paternalName.trim(),h.given_name=p.firstName.trim()):p.firstName&&(h.first_name=p.firstName.trim()),p.maternalName&&(h.maternal_name=p.maternalName.trim()),p.middleName&&(h.middle_name=p.middleName.trim()),h}getIdentities(p){return{identity:[{data:p,type:"PASSWORD"}]}}isConsentEnabled(p,h){let l=!1;const v={email:"EMAIL_MARKETING_ON_PR",sms:"SMS_MARKETING_ON_PR",phone:"PHONE_MARKETING_ON_PR"};switch(p){case"email":case"sms":case"phone":this.featureFlag.isFeatureEnabled("MARKETING_ON_PR")?this.featureFlag.isFeatureEnabled(v[p])&&(l=!!this.featureFlag.isFeatureEnabled("IMPLICIT_MARKETING_ON_PR")||h):l=!!this.featureFlag.isFeatureEnabled("IMPLICIT_MARKETING_ON_PR")||h;break;case"post":l=!this.featureFlag.isFeatureEnabled("MARKETING_ON_PR")&&(!!this.featureFlag.isFeatureEnabled("IMPLICIT_MARKETING_ON_PR")||h);break;case"whatsApp":(this.featureFlag.isFeatureEnabled("MARKETING_ON_PR")||this.featureFlag.isFeatureEnabled("MARKETING_ON_NON_PR"))&&this.featureFlag.isFeatureEnabled("WHATSAPP_OPT_IN_ENABLE")&&(l=!this.featureFlag.isFeatureEnabled("WHATSAPP_OPT_IN_DEFAULT_FALSE"));break;default:return l}return l}getAccountPreference(p){const h={direct_mail:this.isConsentEnabled("post",p.marketingOptionFlag),email:this.isConsentEnabled("email",p.marketingOptionFlag),telephone_call:this.isConsentEnabled("phone",p.marketingOptionFlag),message:this.isConsentEnabled("sms",p.marketingOptionFlag)};return this.featureFlag.isFeatureEnabled("WHATSAPP_OPT_IN_ENABLE")&&!this.utilService.getPartnerName()&&"PPS"!==sessionStorage.getItem("applicationName")&&(h.whatsAppMsg=this.isConsentEnabled("whatsApp",p.marketingOptionFlag)),h.opt_out_marketing="US"===this.countryCode.toUpperCase()||p.marketingOptionFlag,this.featureFlag.isFeatureEnabled("THIRD_PARTY_DATASHARING_CONSENT")&&(h.thirdparty_datasharing_consent=!!this.utilService.isThirdPartyConsentImplicit()||p.thirdPartyConsentFlag),this.utilService.isImplicitThirdPartyDatasharingConsentNonUsEnabled()&&(this.isHostedPartner?delete h.thirdparty_datasharing_consent:h.thirdparty_datasharing_consent=!0),h}getAddress(p){const h={};return h.addr_line1=p.address1,p.address2&&(h.addr_line2=p.address2),h.city=p.city,h.country_iso_code=p.countryAddress?p.countryAddress:this.countryCode.toUpperCase(),p.postalCode&&(h.postal_code=p.postalCode.replace(/ +/g,"")),p.state&&(h.state=p.state),p.stateText&&(h.state=p.stateText),p.raw_address&&(h.raw_address=p.raw_address),h}getSecurityDetails(p){const h={},l={},v={};return this.isPhoneVerification&&!p.securityQuestion?(h.answer=p.lastName,h.question="lastname"):!p.securityQuestion&&this.isHostedPartner?(h.answer="nationlity",h.question="birthPlace"):(h.answer=p.securityAnswer,h.question=p.securityQuestion),h.id="1",h.type_id="1",v.question_answer=new Array(h),l.question_answers=v,l}getPreviousAddress(p){const h={};return p.dropdwnAddress&&"less"===p.dropdwnAddress?(h.addr_line1=p.previousAddress1,h.addr_line2=p.previousAddress2,h.city=p.previousCity,h.postal_code=p.previousPostalCode.replace(/ +/g,""),h.state=p.previousState,h.country_iso_code=p.countryAddress?p.countryAddress:this.countryCode.toUpperCase()):(h.addr_line1=null,h.addr_line2=null,h.city=null,h.postal_code=null,h.state=null),h}getMobileData(p,h){const l={},v={};return l.country_code=p||1,l.national_number=h,v.phone_number=l,v}getDateOfBirth(p){return"US"===this.countryCode.toUpperCase()?$()(p,"MM/DD/YYYY").format("YYYY-MM-DD"):$()(p,"DD/MM/YYYY").format("YYYY-MM-DD")}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#e=this.\u0275fac=function(h){return new(h||r)(s.KVO(o.R),s.KVO(U.Fq),s.KVO(C.A),s.KVO(e.il),s.KVO(_.y),s.KVO(A.E),s.KVO(E.a),s.KVO(M.qd),s.KVO(G.k),s.KVO(a.O))};static#t=this.\u0275prov=s.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},44642:(n,d,t)=>{"use strict";t.d(d,{B:()=>w});var o=t(34781),e=t(75194),x=t(16619),$=t(95006),W=t(67376),V=t(37486),P=t(60988),D=t(56294),f=t(77202),C=t(64646),A=t(66726),E=t(3902),N=t(47058),_=t(93885),M=t(8117),U=t(54438);let w=(()=>{class O{constructor(s,a,c,r,g,p,h,l,v){this.updateStoreUsingActionService=s,this.restMethodService=a,this.baseRequestService=c,this.utilService=r,this.store=g,this.sendMoneyValidationService=p,this.featureFlagService=h,this.instantTransferService=l,this.countryConfigService=v,this.store.pipe((0,C.Lt)(A.A6)).subscribe(S=>this.resumeTransferToken=S),this.store.pipe((0,C.Lt)(A.WZ)).subscribe(S=>this.idealBankInfo=S)}updateAbandonCart(s){const a=this.getRequestBody(s);return this.restMethodService.POST("/data",a).pipe((0,$.T)(r=>(W.get(r,"data.token",null)&&"true"!==sessionStorage.getItem("isPennyDrop1MYRTransaction")&&(this.updateStoreUsingActionService.updateAbandonedToken(r.data.token),sessionStorage.setItem("abandonedCartToken",r.data.token)),r)))}markFavTransaction(s){const a=this.RequestBodyForFav(s);return this.restMethodService.POST("/data",a).pipe((0,$.T)(r=>r))}RequestBodyForFav(s){return{bashPath:this.baseRequestService.getBashPath(),json_data:{json:{mtcn:s?.moneyTransferControl?.mtcn,favorite:s?.isFavorite},type:"favorite_request"},security:this.baseRequestService.getSecurity()}}getRequestBody(s){this.storeData=this.updateStoreUsingActionService.getState(),this.selectedProduct=this.storeData.selectedProduct||{};const a=this.getPaymentMethod(),c=this.getCreditDebitCard(),r=W.get(c,"credit_debit_card.card_consent_flag");-1!==_.Y.RESUME_STATES_POST_PAYMENT.indexOf(s)&&-1!==["DebitCard","CreditCard"].indexOf(a?.payment_type)&&"N"===r&&(s="payment");const g={bashPath:this.baseRequestService.getBashPath(),json_data:this.getJsonData(s),security:this.baseRequestService.getSecurity()};return W.isEmpty(this.resumeTransferToken)||(g.token=this.resumeTransferToken),g}getJsonData(s){return{json:this.getJson(),page_info:s,type:"ABANDON_TRANSACTION"}}getJson(){return{payment_details:this.getPaymentDetails(),sender:this.getSender(),receiver:this.getReceiver(),wu_product:this.getWuProduct()}}getPaymentDetails(){const s={origination:this.getOrigination(),destination:this.getDestination(),fees:this.getFees(),exchange_rate:this.getExchangeRate(),payment_type:this.selectedProduct.payIn,payment_method:this.getPaymentMethod(),pricing_context:this.selectedProduct.pricingContext};this.selectedProduct.expectedPayoutLocation&&(s.expected_payout_location={city:this.selectedProduct.expectedPayoutLocation.city,state_code:this.selectedProduct.expectedPayoutLocation.stateCode,state_name:this.selectedProduct.expectedPayoutLocation.stateName});const a=this.getCreditDebitCard();("CreditCard"===s.payment_type||"DebitCard"===s.payment_type)&&a.hasOwnProperty("credit_debit_card")&&(s.credit_debit_card=a.credit_debit_card);const c=W.get(this.selectedProduct,"promotion.discount"),r=W.get(this.selectedProduct,"promotion.code");return(c||this.utilService.isNewCustomerBFPromoEnabled()&&null!=c&&c>=0&&r)&&(s.promotion=this.getPromotion()),s}getPromotion(){const s={},a=W.get(this.selectedProduct,"promotion.discount"),c=W.get(this.selectedProduct,"promotion.code");return(a&&c||this.utilService.isNewCustomerBFPromoEnabled()&&null!=a&&a>=0&&c)&&(s.discount=Math.round(100*a)+"",s.code=c),s}getCreditDebitCard(){const s=this.storeData.selectedCard||null,a={};return s&&(a.credit_debit_card={paymentInstrumentId:s.paymentInstrumentId,customer_name:this.getBillingName(s.customerName),address:this.getBillingAddress(s.address),card_type:s.cardType,id:s.id,is_credit_card_scanned:s.isCreditCardScanned,card_number:s.cardNumber,card_consent_flag:s?.card_consent_flag?s.card_consent_flag:s?.cardConsentFlag,expiration_date:s.expirationDate}),a}getBillingAddress(s){const a=this.storeData.sender||null,c={};return c.addr_line1=s?.addressLine1||s?.addrLine1||a?.address?.addressLine1,c.addr_line2=s?.addressLine2||s?.addrLine2||a?.address?.addressLine2,s&&s.city?c.city=s.city:a&&a.address&&a.address.city&&(c.city=a.address.city),s&&s.state?c.state=s.state:a&&a.address&&a.address.state&&(c.state=a.address.state),c.postal_code=s?.zipCode||s?.postalCode||a?.address?.zipCode,s&&s.countryIsoCode?c.country_iso_code=s.countryIsoCode:a&&a.address&&a.address.countryIsoCode&&(c.country_iso_code=a.address.countryIsoCode),c}getBillingName(s){const a={};return s&&(a.first_name=s.firstName,a.last_name=s.lastName,s.middleName&&(a.middle_name=s.middleName)),a}getBankDetails(){const s=this.storeData.selectedBank||null,a={};return s&&(a.bank_account={bank_name:s.bankName,account_number:s.accountNumber,routing_number:s.routingNumber,account_type:s.accountType},this.selectedProduct.payIn===V.mt.Paramount&&(a.bank_account.routing_number=s.transitNumber,a.bank_account.bank_code=s.transitNumber,a.bank_account.account_type=s.accountTypeCanada,a.bank_account.branch_code=s.institutionNumber)),a}getOrigination(){const s={},a=W.get(this.selectedProduct,"origination.principalAmount"),c=W.get(this.selectedProduct,"origination.grossAmount");return"AG"===this.selectedProduct.payIn?(s.principal_amount=Number(W.get(this.selectedProduct,"origination.principalAmount",null)),s.gross_amount=Number(W.get(this.selectedProduct,"origination.grossAmount",null))):(s.principal_amount=Number(a),s.gross_amount=Number(c)),s.currency_iso_code=W.get(this.selectedProduct,"origination.currencyIsoCode"),s.country_iso_code=W.get(this.selectedProduct,"origination.countryIsoCode"),s}getDestination(){const s=this.storeData.selectedReceiver||{},a={};return a.expected_payout_amount=Number(W.get(this.selectedProduct,"destination.expectedPayoutAmount")),a.currency_iso_code=W.get(this.selectedProduct,"destination.currencyIsoCode"),a.country_iso_code=W.get(this.selectedProduct,"destination.countryIsoCode"),s&&s.address&&(a.state_code=s.address.state),this.selectedProduct&&this.selectedProduct.destination&&this.selectedProduct.destination.splitPayOut&&(a.split_payout=this.getSplitPayOutFromStore(this.selectedProduct.destination.splitPayOut)),a}getSplitPayOutFromStore(s){return 0===s.length?[]:s.map(a=>({expected_payout_amount:a.expectedPayoutAmount,currency_iso_code:a.currencyIsoCode,exchange_rate:a.exchangeRate}))}getFees(){let s=this.selectedProduct.fees;return this.selectedProduct.promotion&&this.selectedProduct.promotion.discount&&(s=Number(this.selectedProduct.fees)-Number(this.selectedProduct.promotion.discount)),s=Math.floor(Number((100*s).toFixed(2))),{charges:s}}getExchangeRate(){let s="0";const a=W.get(this.selectedProduct,"exchangeRate");return a&&(s=(+a).toFixed(4)),s}getPaymentMethod(){const a=W.get(this.storeData?.corridor||{},"senderCountry.isoCode"),c={payment_type:"",payment_processor:"",payment_sub_type:""};switch(c.payment_type=this.selectedProduct.payIn,c.payment_processor="Apollo",this.selectedProduct.payIn){case V.mt.POLI:c.payment_sub_type=V.mt.POLI,c.payment_processor="APOLLO";break;case V.mt.FPX:c.payment_sub_type="MY"===a?V.mt?.IPAY88:V.mt?.FPX,c.payment_processor="APOLLO";break;case V.mt.Trustly:c.payment_sub_type=V.mt.Trustly.toUpperCase(),c.payment_processor="APOLLO";break;case V.mt.IDEAL:c.payment_sub_type=V.mt.IDEAL,c.params=this.getPaymentTypeParam(),c.payment_processor="APOLLO";break;case V.mt.Sofort:c.payment_sub_type=V.mt.Sofort.toUpperCase(),c.payment_processor="APOLLO";break;case V.mt.WUPay:c.payment_sub_type="Push";break;case V.mt.PartnerFunds:case V.mt.BankAccount:c.payment_sub_type="GoodFunds";break;case V.mt.CreditCard:case V.mt.DebitCard:break;case V.mt.TapNGo:c.payment_sub_type=this.selectedProduct.payIn;break;case V.mt.PayNow:c.payment_sub_type="Push",c.payment_processor="APOLLO";break;default:c.payment_sub_type=this.selectedProduct.payIn}return c}getPaymentTypeParam(){const s={},a=[],c={Key:"ibp_cub_bankid",Value:null};if(this.selectedProduct.payIn===V.mt.IDEAL&&(c.Value=this.idealBankInfo.code),a.push(c),this.selectedProduct.payIn===V.mt.IDEAL&&this.utilService.isIdealNewUserExp()){a.push({Key:"NEW_IDEAL_VERSION",Value:"Y"})}return s.param=a,s}getSender(){const s=this.storeData.sender||{},a={name:this.getSenderName(s),address:this.getSenderAddress(s),preferred_customer:{account_nbr:s.myWuNumber},compliance_details:this.getComplianceDetails(s),email:s.email,contact_phone_country_prefix:s.mobileNumber&&s.mobileNumber.countryCode?s.mobileNumber.countryCode.toString():"",contact_phone:s.mobileNumber&&s.mobileNumber.mobileNumber?s.mobileNumber.mobileNumber.toString():"",mobile_phone:this.getSenderMobilePhone(s),additional_preferred_customers:this.updateAdditionalPreferredCustomer(s),date_of_birth:s?.dateOfBirth?s.dateOfBirth:"",gender:s?.gender?s.gender:"",country_of_birth:s?.countryOfBirth?s.countryOfBirth:"",mywuTermConditionFlag:s.mywuTermConditionFlag},c=JSON.parse(sessionStorage.getItem("ComplianceData")||"{}");if(W.isEmpty(c)||(c.industry&&(a.industry=c.industry),c.occupation&&(a.occupation=c.occupation)),W.has(s,"registrationDetails.occupation")&&(a.occupation=s.registrationDetails.occupation),void 0===s.wallet&&(s.wallet={}),s.wallet){a.wallet=s.wallet,void 0===a.wallet.bank_accounts&&(a.wallet.bank_accounts={bank_account:[]});const r=this.getBankDetails();(this.selectedProduct.payIn===V.mt.ACH||this.selectedProduct.payIn===V.mt.Paramount)&&r.hasOwnProperty("bank_account")&&(a.wallet.bank_accounts.bank_account=[r.bank_account])}return a&&a.compliance_details&&a.compliance_details.email&&_.Y.USER_PAGE_NAME.includes(window.location.pathname.split("/")[4])&&delete a.compliance_details.email,a}getSenderName(s){const a={};return a.first_name=s.firstName||"",s.middleName&&(a.middle_name=s.middleName),a.last_name=s.lastName||"",a}getSenderAddress(s){const a=this.storeData.corridor||{},c={};return c.addr_line1=s.address?.addressLine1,c.addr_line2=s.address?.addressLine2?s.address.addressLine2:void 0,c.city=s.address?.city,c.state=W.get(s,"address.state")||"NA",c.postal_code=s.address?.zipCode,c.country_iso_code=s.address?.countryIsoCode,"AG"===this.selectedProduct.payIn&&(c.country_name=W.get(a,"senderCountry.name")),c}updateAdditionalPreferredCustomer(s){return s.additionalPreferedAccountNumber?{preferred_customer:{account_nbr:s.additionalPreferedAccountNumber}}:{preferred_customer:{account_nbr:""}}}getComplianceDetails(s){const a=new P.D(this.utilService,this.baseRequestService,this.store,this.featureFlagService,this.countryConfigService,this.instantTransferService).getSenderCompliance();a&&Object.keys(a).length&&(s.registrationDetails&&s.registrationDetails.occupation&&(a.occupation=s.registrationDetails.occupation),s.registrationDetails&&s.registrationDetails.nationality&&s.registrationDetails.nationality.isoCode&&(a.nationality=s.registrationDetails.nationality.isoCode),s.dateOfBirth&&(a.date_of_birth=s.dateOfBirth),s.registrationDetails&&s.registrationDetails.countryOfBirth&&(a.country_of_birth=s.registrationDetails.countryOfBirth.isoCode));const c=JSON.parse(sessionStorage.getItem("ComplianceData")||"{}");return W.has(c,"sender_receiver_relationship")&&(a.sender_receiver_relationship=c.sender_receiver_relationship),a}getSenderMobilePhone(s){return{phone_number:{country_code:W.get(s,"mobileNumber.countryCode","").toString(),national_number:W.get(s,"mobileNumber.mobileNumber","").toString()}}}getReceiver(){const s=this.storeData.selectedReceiver||{},a={name:this.getReceiverName(s),address:this.getReceiverAddress(s),mobile_phone:this.getReceiverMobilePhone(s),email:this.getReceiverEmail(s)};return 0!==Object.keys(s).length&&(a.uid=s.generalInformation?s.generalInformation.uid:s.uid?s.uid:"",a.id=s.generalInformation?s.generalInformation.id:s.id?s.id:"",this.selectedProduct&&this.selectedProduct.payOut===V.Zr.WA?a.wallet=this.getReceiverWuWallet(s):this.selectedProduct&&this.selectedProduct.payOut===V.Zr.BA?a.wallet=this.sendMoneyValidationService.updateReceiverWalletFromStore():this.selectedProduct&&(this.selectedProduct.payOut===V.Zr.D2C||this.selectedProduct.payOut===V.Zr.D2C_PS)&&(s.wallet?.wu_d2c||s.wallet?.wuD2c)&&(a.wallet={wu_d2c:s.wallet?.wu_d2c||s.wallet?.wuD2c}),this.utilService.isScheduledTransferEnabledViaEvergage()&&!W.isEmpty(s.reminderId)&&(a.reminder_id=s.reminderId),W.isEmpty(s.nationality)||(a.nationality=s.nationality),W.isEmpty(s.dob)||(a.date_of_birth=s.dob)),a}getReceiverName(s){if(0===Object.keys(s).length)return{};const a={};return a.first_name=s.name&&s.name.firstName?s.name.firstName.toUpperCase():"",s.name&&s.name.lastName?a.last_name=s.name.lastName.toUpperCase():s.name&&s.name.paternalName?a.paternalName=s.name.paternalName.toUpperCase():a.last_name="",s&&s.name&&s.name.middleName&&(a.middle_name=s.name.middleName),a}getReceiverAddress(s){if(0===Object.keys(s).length)return{country_iso_code:W.get(this.storeData,"corridor.receiverCountry.isoCode","")};const a={};return s.address&&s.address.addressLine1&&(a.addr_line1=s.address.addressLine1),s.address&&s.address.addressLine2&&(a.addr_line2=s.address.addressLine2),s.address&&s.address.city&&(a.city=s.address.city),s.address&&s.address.zipCode&&(a.postal_code=s.address.zipCode),s.address&&s.address.postalCode&&(a.postal_code=s.address.postalCode),s.address&&s.address.state&&(a.state=s.address.state),a.country_iso_code=s.address.countryIsoCode,a}getReceiverMobilePhone(s){return{phone_number:{country_code:s.contactDetails&&s.contactDetails.countryCode?s.contactDetails.countryCode.toString():"",national_number:s.contactDetails&&s.contactDetails.mobileNumber?s.contactDetails.mobileNumber.toString():""}}}getReceiverEmail(s){return s.contactDetails&&s.contactDetails.email?s.contactDetails.email:""}getReceiverWuWallet(s){if(s.wallet&&s.wallet.wuWallet){s.wallet.wuWallet.wing_number&&delete s.wallet.wuWallet.wing_number;const a={...s.wallet.wuWallet};return a.walletAccountNumber&&(a.wallet_account_number=a.walletAccountNumber,delete a.walletAccountNumber),{wu_wallet:a}}return{}}getWuProduct(){const s={name:this.selectedProduct.name,code:this.selectedProduct.code,routing_code:this.selectedProduct.routingCode||void 0,speed_indicator:this.selectedProduct.speedIndicator};return this.selectedProduct.isDirected&&(s.is_directed="Y"===this.selectedProduct.isDirected?"Y":"N"),this.selectedProduct.location&&(s.location=this.selectedProduct.location),s}static#e=this.\u0275fac=function(a){return new(a||O)(U.KVO(o.k),U.KVO(e.R),U.KVO(x.E),U.KVO(f.a),U.KVO(C.il),U.KVO(D.T),U.KVO(E.y),U.KVO(M.E),U.KVO(N.qd))};static#t=this.\u0275prov=U.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},64988:(n,d,t)=>{"use strict";t.d(d,{X:()=>U});var o=t(47058),e=t(64646),x=t(87801),$=t(98197),W=t(16619),K=t(21626),V=t(77202),P=t(98735),D=t(66726),f=t(78863),C=t(31457),A=t(67376),N=t(7605),_=t(45286),M=t(54438);let U=(()=>{class w{constructor(G,s,a,c,r,g,p,h){this.smoConfigService=G,this.store=s,this.dynamicScriptLoader=a,this.baseService=c,this.http=r,this.utilService=g,this.cloudRestService=p,this.readURLService=h,this.destroyed$=new _.B7,this.store.pipe((0,e.Lt)(D.u0)).subscribe(l=>this.sessionId=l),this.store.pipe((0,e.Lt)(D.w8)).subscribe(l=>{l&&(this.senderEmail=l.email)}),this.store.pipe((0,e.Lt)(D.T1)).subscribe(l=>this.clientIp=l),this.store.pipe((0,e.Lt)(D.A5)).subscribe(l=>this.thMetrixPayload=l),this.isThreatMatrix=this.smoConfigService.getGlobalConfig("switches","threatMetrix"),this.isNuData=this.smoConfigService.getGlobalConfig("switches","nuData")}insertThreatMetrixTags(){if(!window.disableAnayltics&&"true"===this.isThreatMatrix&&"us"===this.readURLService.getCountryFromURL().toLowerCase()){const G=-1!==this.readURLService.getCurrentUrl().indexOf("www.westernunion.com")||-1!==this.readURLService.getCurrentUrl().indexOf("www2.westernunion.com")?"6ixnqnmy":"1i4qoodu",s=(new Date).getTime(),a=navigator.userAgent||navigator.vendor||window.opera,c=`${window.location.protocol}//h.online-metrix.net/fp/tags.js?org_id=${G}&session_id=${this.sessionId}${s}&allow_reprofile=1`,r="6ixnqnmy"===G?"production":"staging";this.clientIp=this.clientIp?this.clientIp:"245024209201";const g={org_id:G,api_key:"",session_id:this.sessionId+s,api_type:"session-query",service_type:"all",event_type:"",policy:"",page_id:"1",account_login:"",input_ip_address:this.formatClientIp(),customer_event_type:"",condition_attrib_5:this.utilService.isMobileOrTabletBrowser(a)?"mobile_browser":"desktop_browser",web_session_id:this.sessionId,output_format:"json"};this.store.dispatch({type:P.k.SET_THREATMATRIX_PAYLOAD,payload:g}),x.PK.push({name:"threatMetrix",src:c,params:{env:[r]}}),this.dynamicScriptLoader.loadScript("threatMetrix").subscribe()}}insertNuDatatags(G,s){if("true"===this.isNuData&&"us"===this.readURLService.getCountryFromURL().toLowerCase()){const c=`https://api-westernunion.nd.nudatasecurity.com/2.2/w/${-1!==this.readURLService.getCurrentUrl().indexOf("www.westernunion.com")||-1!==this.readURLService.getCurrentUrl().indexOf("www2.westernunion.com")?"w-624239":"w-343588"}/sync/js/`;!function(g,p,h,l){const v=g.ndsapi||(g.ndsapi={});v.config={q:[],ready:function(b){this.q.push(b)}};const S=p.createElement(h),m=p.getElementsByTagName(h)[0];S.src=l,m.parentNode.insertBefore(S,m),S.onload=function(){v.load(l)}}(window,document,"script",c);const r=window.ndsapi;try{r.config.ready(()=>{r.setSessionId(this.sessionId),r.setPlacement(G),r.setPlacementPage(s),r.bindNewFields(),document.getElementsByName("nds-pmd")[0]&&(this.nuDataPayload=document.getElementsByName("nds-pmd")[0].value)})}catch{}}}invokePSDataApi(G,s,a){if(this.thMetrixPayload){this.thMetrixPayload.event_type=G,this.thMetrixPayload.customer_event_type=s,this.thMetrixPayload.policy=a,this.thMetrixPayload.account_login=this.senderEmail;const c=`${window.location.protocol}//${this.readURLService.getDomainUrl()}/wuconnect/rest/api/v1.0/data`,r=this.createReqPayload("THREAT_METRIX");this.http.post(c,r).subscribe(g=>{(A.isEmpty(g)||A.has(g,"error"))&&this.cloudRestService.SplunkLogger("/data","response"+g,g).pipe((0,N.Q)(this.destroyed$)).subscribe(()=>{})})}}invokePSDataApiForNuData(){if(this.nuDataPayload){const G=this.createReqPayload("NU_DATA"),s=new K.Lr({RemoteIPAddress:this.formatClientIp(),RequestURL:window.location.pathname,"Content-Type":"application/json"}),a=`${window.location.protocol}//${this.readURLService.getDomainUrl()}/wuconnect/rest/api/v1.0/data`;this.http.post(a,G,{headers:s}).subscribe()}}createReqPayload(G){const s={};return s.security=this.baseService.getSecurity(),s.bashPath=this.baseService.getBashPath(),s.json_data={type:G,blob:window.btoa(JSON.stringify("THREAT_METRIX"===G?this.thMetrixPayload:this.nuDataPayload))},s}formatClientIp(){return`${this.clientIp.slice(0,3)}.${this.clientIp.slice(3,6)}.${this.clientIp.slice(6,9)}.${this.clientIp.slice(9,12)}`.split(".").map(Number).join(".")}static#e=this.\u0275fac=function(s){return new(s||w)(M.KVO(o.l9),M.KVO(e.il),M.KVO($.n),M.KVO(W.E),M.KVO(K.Qq),M.KVO(V.a),M.KVO(C.p),M.KVO(f.Fq))};static#t=this.\u0275prov=M.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},90592:(n,d,t)=>{"use strict";t.d(d,{i:()=>D});var o=t(84787),e=t(98197),x=t(87801),$=t(67376),K=t(66726),V=t(64646),P=t(54438);let D=(()=>{class f{constructor(A,E){this._store=A,this.dynamicScripLoader=E,this._store.pipe((0,V.Lt)(K.T7)).subscribe(N=>{this.countryConfig=N})}insertRiskifiedScript(){const A=this.getCookieItemWithoutDecoding("EncryptedSessionId"),E=A&&btoa(A);if(void 0!==typeof this.countryConfig&&"TRUE"===$.get(this.countryConfig,"ConfigTemplate.isRiskifiedEnabled")&&A&&"null"!==A)if(window.RISKX&&window.RISKX.setSid)window.RISKX.setSid(E);else{const M="https://beacon.riskified.com?shop=westernunion_sync.com&sid="+E;x.PK.push({name:"riskified",src:M,params:{env:["staging"]}}),x.PK.push({name:"riskified",src:M,params:{env:["production"]}}),(0,o.H)(this.dynamicScripLoader.loadScript("riskified")).subscribe(()=>{const w=window.RISKX;this.currentRouteUrl="/"+window.location.pathname.split("/")[window.location.pathname.split("/").length-1],w.go(this.currentRouteUrl)})}}getCookieItemWithoutDecoding(A){const E=sessionStorage.getItem("cookiestore");if(E&&JSON.parse(E)&&JSON.parse(E)[A])return JSON.parse(E)[A];{const _=document.cookie.match(new RegExp("(^| )"+A+"=([^;]+)"));return _?_[2]:null}}static#e=this.\u0275fac=function(E){return new(E||f)(P.KVO(V.il),P.KVO(e.n))};static#t=this.\u0275prov=P.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},82685:(n,d,t)=>{"use strict";t.d(d,{b:()=>s});var o=t(75194),e=t(34781),x=t(95006),$=t(16619),W=t(37486),K=t(77202),V=t(93885),P=t(21148),D=t(1027),f=t(47058),C=t(67376),A=t.n(C),E=t(21239),N=t(3902),_=t(31457),M=t(67374),U=t.n(M),w=t(78863),O=t(54438),G=t(41780);let s=(()=>{class a{constructor(r,g,p,h,l,v,S,m,b,Y,R,k){this.restMethod=r,this.updateStoreUsingActionService=g,this.utilService=p,this.baseRequestService=h,this.routingService=l,this.smoConfig=v,this.countryConfigService=S,this.siteBehaviourService=m,this.featureFlagService=b,this.cloudRestService=Y,this.translate=R,this.spinnerService=k,this.isPinDebitTrx=!1}SMSPostCall(){const r="/SendMoneyStore",g=this.getSelectedProduct();return this.restMethod.POST(r,this.getSMSRequestBody(),g.payIn===W.mt.Cash?"retail":null).pipe((0,x.T)(p=>(this.utilService.isSybaseEnabled(r)&&(p=this.mapGwpResponse(p)),p)))}mapGwpResponse(r){let g,p,h,l;if(r.sender){let v,S;r.sender.address&&(v={addressLine1:r.sender.address.addr_line1,addressLine2:r.sender.address.addr_line2,city:r.sender.address.city,countryIsoCode:r.sender.address.country_iso_code,postalCode:r.sender.address.postal_code,state:r.sender.address.state}),r.sender.compliance_details&&(S={nationality:r.sender.compliance_details.nationality,senderReceiverRelationship:r.sender.compliance_details.sender_receiver_relationship,sourceOfFunds:r.sender.compliance_details.source_of_funds,cuba:{cubaSenderReceiverRelationship:{cuba_sender_receiver_relationship_answer:r.sender.compliance_details.cuba?.cuba_sender_receiver_relationship.cuba_sender_receiver_relationship_answer,cuba_sender_receiver_relationship_question:r.sender.compliance_details.cuba?.cuba_sender_receiver_relationship.cuba_sender_receiver_relationship_question},cubaQuestionAnswers:[]},transaction_purpose:r.sender.compliance_details.transaction_purpose,occupation:r.sender.compliance_details.occupation,gender:r.sender.compliance_details.gender}),g={firstName:r.sender.name.first_name,lastName:r.sender.name.last_name,address:v,mobileNumber:{mobileNumber:r.sender.mobile_phone.phone_number},contactPhone:r.sender.contact_phone,contactPhoneCountryPrefix:r.sender.contact_phone_country_prefix,dateOfBirth:r.sender.date_of_birth,email:r.sender.email,complianceDetails:S}}if(r.receiver){let v;r.receiver.address&&(v={addressLine1:r.receiver.address.addr_line1,addressLine2:r.receiver.address.addr_line2,city:r.receiver.address.city,countryIsoCode:r.receiver.address.country_iso_code,postalCode:r.receiver.address.postal_code,state:r.receiver.address.state}),p={firstName:r.receiver.name.first_name,lastName:r.receiver.name.last_name,address:v,contactDetails:{countryCode:r.receiver.mobile_phone.phone_number.country_code,mobileNumber:r.receiver.mobile_phone.phone_number.national_number}}}return r.wu_product&&(h={code:r.wu_product.code,name:r.wu_product.name,routingCode:r.wu_product.routing_code,speedIndicator:r.wu_product.speed_indicator}),r.payment_details&&(l=this.mapResponsePaymentDetails(r)),{receiver:p,sender:g,apolloFlag:r.apollo_flag||"",tempTransaction_id:r.temp_transaction_id,transactionDigest:r.temp_transaction_id,wuProduct:h,paymentDetails:l,additionalInformation:r.additional_information}}mapGwpRequest(r){let g={},p={},h={},l={};if(r.sender){let v={};r.sender.address&&(v={addr_line1:r.sender.address.addressLine1,addr_line2:r.sender.address.addressLine2,city:r.sender.address.city,country_iso_code:r.sender.address.countryIsoCode,postal_code:r.sender.address.postalCode,state:r.sender.address.state});let S={};r.sender.mobileNumber&&(S={phone_number:{country_code:Number(r.sender.mobileNumber.countryCode),national_number:Number(r.sender.mobileNumber.mobileNumber)}}),g={name:{first_name:r.sender.firstName,last_name:r.sender.lastName},address:v,mobile_phone:S,contact_phone:r.sender.contactPhone,contact_phone_country_prefix:r.sender.contactPhoneCountryPrefix,date_of_birth:r.sender.dateOfBirth,email:r.sender.email,gender:r.sender.gender}}if(r.receiver){let v={};r.receiver.address&&(v={addr_line1:r.receiver.address.addressLine1,addr_line2:r.receiver.address.addressLine2,city:r.receiver.address.city,country_iso_code:r.receiver.address.countryIsoCode,postal_code:r.receiver.address.postalCode,state:r.receiver.address.state}),p={name:{first_name:r.receiver.firstName,last_name:r.receiver.lastName},address:v,mobile_phone:{phone_number:{country_code:Number(r.receiver.contactDetails?.countryCode),national_number:Number(r.receiver.contactDetails?.mobileNumber)}}}}return r.wuProduct&&(h={code:r.wuProduct.code,name:r.wuProduct.name,routing_code:r.wuProduct.routingCode,speed_indicator:r.wuProduct.speedIndicator,deliverySpeed:null,destinationFees:0,exchangeRate:0,fees:0,maxAmount:0,minAmount:0,payIn:null,payOut:null}),r.paymentDetails&&(l=this.mapRequestPaymentDetails(r)),{receiver:p||null,sender:g||null,wu_product:h||null,payment_details:l||null,transaction_digest:r.transactionDigest,channel:{name:"",type:"",version:"",device_identifier:""},apollo_flag:r.apolloFlag?"TRUE":"FALSE"}}getSMSRequestBody(){const r=this.updateStoreUsingActionService.getState()||{},g=this.getSelectedProduct(),p=r.smvResponse||{};let h;h=this.utilService.isSybaseEnabled("/SendMoneyStore")?this.mapGwpRequest(p):p,g.payIn===W.mt.Cash?(h.channel=this.baseRequestService.getRetailChannel(),h.security=this.baseRequestService.getRetailSecurity()):(h.channel=this.baseRequestService.getChannel(),h.security=this.baseRequestService.getSecurity()),void 0!==h.apollo_flag&&"true"==h.apollo_flag&&(h.store_type="INIT"),h.bashPath=this.baseRequestService.getBashPath();const l=JSON.parse(sessionStorage.getItem("ReceiverTemplate_v")||"{}");return!h?.receiver?.last_name&&this.utilService.enableReceiverNoLastNameCheckbox()&&("O"===l?.ctrTemplate?.noLastNameField||"M"===l?.ctrTemplate?.noLastNameField)&&delete h?.receiver?.name?.last_name,h}mapRequestPaymentDetails(r){let g,p,h;return r.paymentDetails.origination&&(g={country_iso_code:r.paymentDetails.origination.countryIsoCode,currency_iso_code:r.paymentDetails.origination.currencyIsoCode,gross_amount:Number(r.paymentDetails.origination.grossAmount),principal_amount:Number(r.paymentDetails.origination.principalAmount)}),r.paymentDetails.destination&&(p={actual_payout_amount:Number(r.paymentDetails.destination.actualPayoutAmount),country_iso_code:r.paymentDetails.destination.countryIsoCode,currency_iso_code:r.paymentDetails.destination.currencyIsoCode,expected_payout_amount:Number(r.paymentDetails.destination.expectedPayoutAmount),efl:r.paymentDetails.origination.efl}),r.paymentDetails.creditDebitCard&&(h={card_number:r.paymentDetails.creditDebitCard?.cardNumber,card_type:r.paymentDetails.creditDebitCard?.cardType,customer_name:r.paymentDetails.creditDebitCard?.customerName,address:r.paymentDetails.creditDebitCard?.address,expiration_date:r.paymentDetails.creditDebitCard?.expirationDate,id:r.paymentDetails.creditDebitCard?.id,paymentInstrumentId:r.paymentDetails.creditDebitCard?.paymentInstrumentId}),{origination:g,destination:p,card_updater_consent_flag:r.paymentDetails.creditDebitCard?.cardConsentFlag,credit_debit_card:h,exchange_rate:r.paymentDetails.exchangeRate,fees:{charges:Number(r.paymentDetails.fees?.charges),accuracy:Number(r.paymentDetails.fees?.accuracy)},payment_digest:r.paymentDetails.paymentDigest,pricing_context:r.paymentDetails.pricingContext,payment_type:r.paymentDetails.paymentType,taxes:{county_tax:Number(r.paymentDetails.taxes?.countyTax)||0,municipal_tax:Number(r.paymentDetails.taxes?.municipalTax)||0,state_tax:Number(r.paymentDetails.taxes?.stateTax)||0}}}mapResponsePaymentDetails(r){return{origination:{countryIsoCode:r.payment_details.origination.country_iso_code,currencyIsoCode:r.payment_details.origination.currency_iso_code,grossAmount:r.payment_details.origination.gross_amount,principalAmount:r.payment_details.origination.principal_amount},destination:{actualPayoutAmount:r.payment_details.destination.actual_payout_amount,countryIsoCode:r.payment_details.destination.country_iso_code,currencyIsoCode:"STD"===r.payment_details.destination.currency_iso_code?"STN":r.payment_details.destination.currency_iso_code,expectedPayoutAmount:r.payment_details.destination.expected_payout_amount,efl:r.payment_details.origination.efl},creditDebitCard:{card_number:r.payment_details.credit_debit_card?.card_number,card_type:r.payment_details.credit_debit_card?.card_type,customer_name:r.payment_details.credit_debit_card?.customer_name,address:r.payment_details.credit_debit_card?.address,expiration_date:r.payment_details.credit_debit_card?.expiration_date,id:r.payment_details.credit_debit_card?.id,paymentInstrumentId:r.payment_details.credit_debit_card?.paymentInstrumentId,cardConsentFlag:r.payment_details.card_updater_consent_flag},exchangeRate:r.payment_details.exchange_rate,fees:{charges:r.payment_details.fees&&r.payment_details.fees.charges?r.payment_details.fees.charges:"",accuracy:r.payment_details.fees&&r.payment_details.fees.accuracy?r.payment_details.fees.accuracy:""},paymentDigest:r.payment_details.payment_digest,pricingContext:r.payment_details.pricing_context,paymentType:r.payment_details.payment_type,taxes:{countyTax:r.payment_details.taxes?.county_tax||0,municipalTax:r.payment_details.taxes?.municipal_tax||0,stateTax:r.payment_details.taxes?.state_tax||0}}}getSelectedProduct(){return(this.updateStoreUsingActionService.getState()||{}).selectedProduct||{}}reformatSender(r){const g={name:r.name,address:r.address,email:r.email,mobilePhone:{phoneNumber:{}}};return g.mobilePhone.phoneNumber.country_code=r.mobilePhone.countryCode,g.mobilePhone.phoneNumber.national_number=r.mobilePhone.nationalNumber,g}reformatPaymentDetails(r){const g={destination:{},exchangeRate:r.exchangeRate,fees:r.fees,origination:{},paymentMethod:r.paymentMethod,pricingContext:r.pricingContext};return g.destination.countryIsoCode=r.destination.countryISOCode,g.destination.currencyIsoCode=r.destination.currencyISOCode,g.destination.actualPayoutAmount=(Number(r.destination.actualPayoutAmount)/100).toFixed(2),g.destination.expectedPayoutAmount=(Number(r.destination.expectedPayoutAmount)/100).toFixed(2),g.origination.countryIsoCode=r.origination.countryISOCode,g.origination.currencyIsoCode=r.origination.currencyISOCode,g.origination.grossAmount=(Number(r.origination.grossAmount)/100).toFixed(2),g.origination.principalAmount=(Number(r.origination.principalAmount)/100).toFixed(2),g}updatedPartnerPaymentDetails(r){if(!r&&!r.paymentDetails)return;const g=r.paymentDetails.origination,p=r.paymentDetails.destination,h=r.paymentDetails.fees;r.paymentDetails.origination.principalAmount=g&&g.principalAmount?Number(100*g.principalAmount):0,r.paymentDetails.origination.grossAmount=g&&g.grossAmount?Number(100*g.grossAmount):0,r.paymentDetails.destination.expectedPayoutAmount=p&&p.expectedPayoutAmount?Number(100*p.expectedPayoutAmount):0,r.paymentDetails.destination.actualPayoutAmount=p&&p.actualPayoutAmount?Number(100*p.actualPayoutAmount):0,r.paymentDetails.fees=h?Number(100*h):0}goToNextStep(r,g){const p=JSON.parse(sessionStorage.getItem("retrieveResponseData"));if(this.utilService.isHostedPartner()&&this.clearPartnerData(),"receipt"==g&&(this.utilService.isFeatureEnabled("RECEIPT_NG_New_Page")||"true"==sessionStorage.getItem("RECEIPT_NG_New_Page"))&&this.routingService.navigateTOReceipt(),p){const h=this.utilService.getEndOfTxnOwner();if(h){if("PARTNER"===h)return this.utilService.endOfTxnOwnerRedirect(r,p);"decline"===g?this.routingService.navigateTODecline():"receipt"===g&&this.routingService.navigateTOReceipt()}else"decline"===g?this.routingService.navigateTODecline():"receipt"===g&&this.routingService.navigateTOReceipt()}else"decline"===g?this.routingService.navigateTODecline():"receipt"===g&&this.routingService.navigateTOReceipt()}clearPartnerData(){this.utilService.clearPartnerStorageData(!0),this.utilService.setCompletedTxnCount()}handleIdealPaymentReturnResp(){sessionStorage.setItem("securestatus",localStorage.getItem("securestatus")),sessionStorage.setItem("securereasonCode",localStorage.getItem("securereasonCode")),localStorage.removeItem("securestatus"),localStorage.removeItem("securereasonCode");const r="https://"+location.host+"/"+this.utilService.getCurrentCountryFromURL()+"/"+this.utilService.getCurrentLanguageFromURL()+"/send-money/app/progress";window.location.href=r}handleBanContactPaymentReturnResp(){const r=localStorage.getItem("banContact_orderKey"),g=localStorage.getItem("banContact_paymentAmount"),p=localStorage.getItem("banContact_paymentCurrency"),h=localStorage.getItem("banContact_status");sessionStorage.setItem("banContact_orderKey",r),sessionStorage.setItem("banContact_paymentAmount",g),sessionStorage.setItem("banContact_paymentCurrency",p),sessionStorage.setItem("banContact_status",h),localStorage.removeItem("banContact_orderKey"),localStorage.removeItem("banContact_paymentAmount"),localStorage.removeItem("banContact_paymentCurrency"),localStorage.removeItem("banContact_status");const l="https://"+location.host+"/"+this.utilService.getCurrentCountryFromURL()+"/"+this.utilService.getCurrentLanguageFromURL()+"/send-money/app/paymentprocessing?country="+this.utilService.getCurrentCountryFromURL()+"&language="+this.utilService.getCurrentLanguageFromURL()+"&banContact_orderKey="+r+"&banContact_paymentAmount="+g+"&banContact_paymentCurrency="+p+"&banContact_status="+h;window.location.href=l}startLocalStorageEventListener(r){if(r.storageArea==localStorage&&"ibpPaymentReturnResp"===r.key){const g=localStorage.getItem("ibpPaymentReturnResp");this.stopLocalStorageEventListener(),localStorage.removeItem("handleIBPPaymentReturnResp"),localStorage.removeItem("ibpRedirectPaymentType"),localStorage.removeItem("ibpPaymentReturnResp"),this.ibpPaymentChildWindow&&this.ibpPaymentChildWindow.close(),"true"===g&&("true"===sessionStorage.getItem("isIDeal")?this.handleIdealPaymentReturnResp():"true"===sessionStorage.getItem("isBanContact")?this.handleBanContactPaymentReturnResp():"true"===sessionStorage.getItem("isSofort")?this.handleSofortPaymentReturnResp():"true"===sessionStorage.getItem("isKlarna")&&this.handleKlarnaPaymentReturnResp())}}handleKlarnaPaymentReturnResp(){const r=localStorage.getItem("responseCode"),g=localStorage.getItem("paymentMethod"),p=localStorage.getItem("auth_token"),h=localStorage.getItem("sid");sessionStorage.setItem("responseCode",r),sessionStorage.setItem("paymentMethod",g),sessionStorage.setItem("auth_token",p),sessionStorage.setItem("sid",h),localStorage.removeItem("responseCode"),localStorage.removeItem("paymentMethod"),localStorage.removeItem("auth_token"),localStorage.removeItem("sid");const l="https://"+location.host+"/"+this.utilService.getCurrentCountryFromURL()+"/"+this.utilService.getCurrentLanguageFromURL()+"/send-money/app/paymentprocessing?country="+this.utilService.getCurrentCountryFromURL()+"&language="+this.utilService.getCurrentLanguageFromURL()+"&responseCode="+r+"&paymentMethod="+g+"&auth_token="+p+"&token="+window.klarna_token+"&sid="+h;window.location.href=l}handleSofortPaymentReturnResp(){sessionStorage.setItem("securestatus",localStorage.getItem("securestatus")),sessionStorage.setItem("securereasonCode",localStorage.getItem("securereasonCode")),localStorage.removeItem("securestatus"),localStorage.removeItem("securereasonCode");const r="https://"+location.host+"/"+this.utilService.getCurrentCountryFromURL()+"/"+this.utilService.getCurrentLanguageFromURL()+"/send-money/app/progress";window.location.href=r}startStorageEventListener(r){this.utilService.handleIBPPaymentReturnResp()&&this.utilService.isMobileDevice()&&(localStorage.setItem("handleIBPPaymentReturnResp","true"),localStorage.setItem("ibpRedirectPaymentType",r),this.stopLocalStorageEventListener(),window.addEventListener("storage",this.startLocalStorageEventListener,!1))}stopLocalStorageEventListener(){window.removeEventListener("storage",this.startLocalStorageEventListener,!1)}thirdPartyRedirect(r,g){this.spinnerService.show(),window.setCountryAndLanguage();let h=!1;const l=this.utilService.getCurrentCountryFromURL(),v=this.utilService.getCurrentLanguageFromURL(),S=this.countryConfigService.getCC();l&&v&&(this.utilService.setSessionStorageItem("IBPSenderCountryCode",l),this.utilService.setSessionStorageItem("IBPSenderLanguageCode",v)),["AT","BE","DE","CH"].indexOf(S.ConfigTemplate.country)>-1&&"true"==sessionStorage.getItem("isKlarnaFundsInEnabled")&&(h=!0);const m=this.getSendMoneyStoreRequest(),b=m.payment_details.payment_type,Y=JSON.parse(sessionStorage.SummaryObjects);if(localStorage.removeItem("handleIBPPaymentReturnResp"),localStorage.removeItem("ibpRedirectPaymentType"),localStorage.removeItem("ibpPaymentReturnResp"),this.utilService.checkJSONProperties(Y,"paying_method")||m.payment_details.payment_method){if(("Sofort"===Y.paying_method||"Sofort"===b)&&!h){let R;sessionStorage.setItem("isSofort","true"),this.startStorageEventListener("sofort"),this.utilService.isHostedPartner()&&this.utilService.postPartnerHeight(900),r&&r.paymentDetails&&r.paymentDetails.redirectionURL?R=r.paymentDetails.redirectionURL:r&&r.payment_details&&r.payment_details.redirectionURL&&(R=r.payment_details.redirectionURL),this.utilService.handleIBPPaymentReturnResp()&&this.utilService.isMobileDevice()?this.ibpPaymentChildWindow=window.open(R,"_blank"):window.location.href=R}if("Sofort"!==Y.paying_method&&"Sofort"!==b||!h)if("POLI"===Y.paying_method||"POLI"===b){const R=this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null;R&&(sessionStorage.setItem("isPoli","true"),sessionStorage.setItem("poliRedirectionURL",this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null),this.utilService.isHostedPartner()&&this.utilService.postPartnerHeight(766),window.location.href=R)}else if("Paramount"===Y.paying_method||"Paramount"===b){let R=this.utilService.checkJSONProperties(r,"paymentDetails.paramountDetails.redirectionUrl")?r.paymentDetails.paramountDetails.redirectionUrl:null;if(R&&(sessionStorage.setItem("isParamount","true"),sessionStorage.setItem("paramountRedirectionURL",this.utilService.checkJSONProperties(r,"paymentDetails.paramountDetails.redirectionUrl")?r.paymentDetails.paramountDetails.redirectionUrl:null),r&&r.paymentDetails)){R=r.paymentDetails.paramountDetails.redirectionUrl;let I="<form target='_parent' id='paramount-form' action='"+R+"' name='paramount' method='post' target='paramountiframe'>";I=I+"<input  type='hidden' value="+r.paymentDetails.paramountDetails.merchantId+" name='merchant_id'/><input  type='hidden' value="+r.paymentDetails.paramountDetails.details+" name='details'/><input  type='hidden' value="+r.paymentDetails.paramountDetails.initializationVector+" name='iv'/><input type='submit' formmethod='post' value='Submit using POST' style='display:none;'>",I+="</form>",document.getElementById("paramount-container")&&(document.getElementById("paramount-container").innerHTML=I,document.getElementById("paramountiframe")&&(document.getElementById("paramountiframe").setAttribute("href",R),document.getElementById("paramount-form").submit()))}}else if("Trustly"===Y.paying_method||"Trustly"===b){const R=this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null;R&&(sessionStorage.setItem("isTrustly","true"),this.utilService.isHostedPartner()&&this.utilService.postPartnerHeight(391),window.location.href=R)}else if("FPX"!==Y.paying_method&&"MW"!==Y.paying_method&&"FPX"!==b&&"MW"!==b||!this.utilService.ipay88enabledCountries()){if("IDEAL"===Y.paying_method||"IDEAL"===b){sessionStorage.setItem("isIDeal","true"),this.utilService.isHostedPartner()&&this.utilService.postPartnerHeight(266),this.startStorageEventListener("ideal");let R=this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null;if(r&&r.paymentDetails&&r.paymentDetails.redirectionURL?(R=this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null,this.cloudRestService.SplunkLogger("POST","IdealRedirectionUrl 1",JSON.stringify(r))):r&&r.payment_details&&r.payment_details.redirectionURL&&(R=this.utilService.checkJSONProperties(r,"payment_details.redirectionURL")?r.payment_details.redirectionURL:null,this.cloudRestService.SplunkLogger("POST","IdealRedirectionUrl 2",JSON.stringify(r))),R)if(this.utilService.handleIBPPaymentReturnResp()&&this.utilService.isMobileDevice()){if(this.ibpPaymentChildWindow=window.open(R,"_blank"),!this.ibpPaymentChildWindow&&"iOS"===this.utilService.whichMobDevice()){sessionStorage.removeItem("isIDeal"),this.cloudRestService.SplunkLogger("POST","Started Ideal RedirectionUrl","User iOS Mobile Popup is blocked.");const k=new CustomEvent("triggerEnableBrowserPopupModal",{detail:{show:!0,redirectionUrl:R,showCta:!0}});window.dispatchEvent(k)}}else window.location.href=R}else if("TapNGo"===Y.paying_method||"TapNGo"===b){const R=this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null;if(R&&(sessionStorage.setItem("isTapNGo","true"),sessionStorage.setItem("tapngoRedirectionURL",this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null),r&&r.paymentDetails)){const k=r.paymentDetails.apolloJsonBuffer?JSON.parse(r.paymentDetails.apolloJsonBuffer):null;let de="<form action='"+R+"' name='tapngo-form' id='tapngo-form' method='post'>";de=de+"<input  type='hidden' value="+k.appId+" name='appId'/><input  type='hidden' value="+k.merTradeNo+" name='merTradeNo'/><input  type='hidden' value="+k.payload+" name='payload'/><input  type='hidden' value="+k.paymentType+" name='paymentType'/><input  type='hidden' value="+k.sign+" name='sign'/><input  type='hidden' value=CR name='transactionType'/><input type='submit' formmethod='post' value='Pay By Tap &amp; Go' style='display:none;'>",de+="</form>",document.getElementById("tapngo-container")&&(document.getElementById("tapngo-container").innerHTML=de,document.getElementById("tapngo-form").submit())}}else if("Plaid"===Y.paying_method||"Plaid"===b)g(r);else if("BanContact"===Y.paying_method){let R;if((r&&r.paymentDetails&&r.paymentDetails.redirectionURL||r&&r.paymentDetails&&r.paymentDetails.redirectionUrl)&&(R=this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:this.utilService.checkJSONProperties(r,"paymentDetails.redirectionUrl")?r.paymentDetails.redirectionUrl:null),R){sessionStorage.setItem("isBanContact","true"),this.startStorageEventListener("bancontact");const k=encodeURI(R);if(k)if(this.utilService.handleIBPPaymentReturnResp()&&this.utilService.isMobileDevice()){if(this.ibpPaymentChildWindow=window.open(k,"_blank"),this.utilService.handleIBPPaymentReturnResponseAfterPopupBtn()&&!this.ibpPaymentChildWindow){const L=new CustomEvent("triggerEnableBrowserPopupModal",{detail:{show:!0,redirectionUrl:k,showCta:!0}});window.dispatchEvent(L)}}else window.location.href=k}}else if("TK"===Y.paying_method||"TK"===b){let R;sessionStorage.setItem("isTink","true"),r&&r.paymentDetails&&r.paymentDetails.redirectionURL?R=r.paymentDetails.redirectionURL:r&&r.payment_details&&r.payment_details.redirectionURL&&(R=r.payment_details.redirectionURL),R?window.location.href=R:console.error(" Tink redirection URL is not available")}}else{let R=this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null;if(R){("FPX"===Y.paying_method||"FPX"===b)&&(sessionStorage.setItem("isFPX","true"),sessionStorage.setItem("fpxRedirectionURL",this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null)),("MW"===Y.paying_method||"MW"===b)&&(sessionStorage.setItem("isMobileWallet","true"),sessionStorage.setItem("MWRedirectionURL",this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:null));const k=JSON.parse(sessionStorage.getItem("StoreResponse"));let L;k&&k.paymentDetails&&k.paymentDetails.apolloJsonBuffer&&(L=JSON.parse(k.paymentDetails.apolloJsonBuffer));const I=JSON.parse(this.utilService.getSessionStorageItem("ValidationRequest")).payment_details.payment_method,T=I.payment_sub_type?I.payment_sub_type:void 0;if("MW"===Y.paying_method||"MW"===b){const te=location.hostname,Z=["wudispatcher-uatrs2.westernunion.com","wudispatcher-uatrs3.westernunion.com","wudispatcher-uatci2.westernunion.com","wudispatcher-qa11.qawesternunion.com","wudispatcher-qa11.digitalnonprod.awswuintranet.net"],de=sessionStorage.getItem("isSimulationURL");de&&Z.includes(te)&&(R=de)}if("IPAY88"===T||"IPAY88W"===T){const te=document.createElement("form");te.setAttribute("method","post"),te.setAttribute("action",R),te.setAttribute("Content-Type","application/x-www-form-urlencoded"),te.setAttribute("name","ePayment");for(const Z in L){const de=document.createElement("input");de.setAttribute("type","hidden"),de.setAttribute("name",Z),de.setAttribute("value",L[Z]),te.appendChild(de)}document.body.appendChild(te),te.submit()}else R=R+"?fpx_msgType="+L.fpx_msgType+"&fpx_msgToken="+L.fpx_msgToken+"&fpx_sellerExId="+L.fpx_sellerExId+"&fpx_sellerExOrderNo="+L.fpx_sellerExOrderNo+"&fpx_sellerTxnTime="+L.fpx_sellerTxnTime+"&fpx_sellerOrderNo="+L.fpx_sellerOrderNo+"&fpx_sellerId="+L.fpx_sellerId+"&fpx_sellerBankCode="+L.fpx_sellerBankCode+"&fpx_txnCurrency="+L.fpx_txnCurrency+"&fpx_txnAmount="+L.fpx_txnAmount+"&fpx_buyerEmail="+L.fpx_buyerEmail+"&fpx_checkSum="+L.fpx_checkSum+"&fpx_buyerName=&fpx_buyerBankId="+L.fpx_buyerBankId+"&fpx_buyerBankBranch=&fpx_buyerAccNo=&fpx_buyerId=&fpx_makerName=&fpx_buyerIban=&fpx_productDesc="+L.fpx_productDesc+"&fpx_version="+L.fpx_version,window.location.href=encodeURI(R)}}else{let R;(r&&r.paymentDetails&&r.paymentDetails.redirectionURL||r&&r.paymentDetails&&r.paymentDetails.redirectionUrl)&&(R=this.utilService.checkJSONProperties(r,"paymentDetails.redirectionURL")?r.paymentDetails.redirectionURL:this.utilService.checkJSONProperties(r,"paymentDetails.redirectionUrl")?r.paymentDetails.redirectionUrl:null),R&&(sessionStorage.setItem("isKlarna","true"),this.startStorageEventListener("klarna"),this.utilService.handleIBPPaymentReturnResp()&&this.utilService.isMobileDevice()?this.ibpPaymentChildWindow=window.open(encodeURI(R),"_blank"):window.location.href=encodeURI(R))}}}checkSongbirdScript(r){return new Promise(function(p,h){try{if(!r&&window.Cardinal||!this.utilService.is3DSv2())p();else{const l=window.Cardinal,v={_staging:"songbirdstag.cardinalcommerce.com/edge/v1/songbird.js",_prod:"songbird.cardinalcommerce.com/edge/v1/songbird.js"},m="https://"+(this.utilService.isProduction()&&!this.utilService.isWww2Environment()?v._prod:v._staging);this.utilService.loadScript(m,function(){sessionStorage.getItem("cardinalInitCompleted")&&sessionStorage.removeItem("cardinalInitCompleted"),l.configure({logging:{level:"on"}});const b=this.utilService.getCurrentPageName(),Y=sessionStorage.getItem("tdsJWT")?JSON.parse(sessionStorage.getItem("tdsJWT")):null;"review"===b&&Y&&Y.token&&(l.setup("init",{jwt:Y.token}),l.on("payments.setupComplete",function(){sessionStorage.setItem("cardinalInitCompleted","true"),l.off("payments.setupComplete"),p()}))})}}catch(l){h(l)}})}callTdsv2CardinalContinue(r){const g=JSON.parse(sessionStorage.getItem("ValidationResponse")),p=g.payment_details.origination.gross_amount,h=g.payment_details.origination.currency_iso_code,l=g.temp_transaction_id,v=r.paymentDetails.redirectionURL,S=r.paymentDetails.creditDebitCard.cardinalInfo.cardinalParams.card_digest,m=r.paymentDetails.creditDebitCard.cardinalInfo.transaction_id,b=!!sessionStorage.getItem("is3dsRetyTriggered");this.spinnerService.show(),this.checkSongbirdScript(b).then(function(){const Y=window.Cardinal;this.spinnerService.hide(),Y.on("payments.validated",function(R,k){sessionStorage.setItem("tdsv2DecodedResponseData",JSON.stringify(R)),sessionStorage.setItem("responseJWT",JSON.stringify(k)),sessionStorage.setItem("is3DSTrx","true"),sessionStorage.setItem("securestatus","apollo"),sessionStorage.setItem("is3DSv2Trx","true"),this.cloudRestService.SplunkLogger("POST","Cardinal validate response 1 tdsv2DecodedResponseData",JSON.stringify(R)),this.cloudRestService.SplunkLogger("POST","Cardinal validate response 2 responseJWT",JSON.stringify(k)),k?this.routingService.navigateTOPaymentProcessing():this.translate.get("decline.error_message_C9999").pipe((0,x.T)(L=>{if(this.utilService.setSessionStorageItem("ErrorResponse",JSON.stringify({code:"C9999",message:L})),!this.utilService.isNGMigrationEnabled("decline"))return this.goToNextStep("error","decline");this.routingService.navigateTODecline()}))}),Y.continue("cca",{AcsUrl:v,Payload:S},{OrderDetails:{OrderNumber:l,Amount:p,CurrencyCode:h,OrderChannel:"S",TransactionId:m}}),this.utilService.is3DSRetryEnabled()&&this.cloudRestService.SplunkLogger("POST",b?"3DS retry - Cardinal continue triggered.":"Cardinal continue triggered.")})}errorSendMoneyStoreForPartner(r,g,p){if(this.updatedPartnerPaymentDetails(r),this.utilService.setSessionStorageItem("StoreResponse",JSON.stringify(r)),!r.error){if(null!=this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT)){const l=parseInt(this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT));this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT,l+1)}else this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT,1);if(null!=this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT)){const l=parseInt(this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT));this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT,l+1)}else this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT,1);const h={};return h.moneyTransferControl=r.moneyTransferControl,h.filingDate=r.filingDate,h.filingTime=r.filingTime,h.kycAvailableDate=r.kycAvailableDate,h.accountOrPinNumber=r.wupayAccount?r.wupayAccount:r.stagedPin,h.senderEmail=r.sender.email,h.total=Number(100*r.paymentDetails.origination.grossAmount),h.paymentCurrency=r.paymentDetails.origination.currencyIsoCode,h.fees=Number(100*r.paymentDetails.fees),h.sendAmmount=Number(100*r.paymentDetails.origination.principalAmount),this.utilService.setSessionStorageItem("MtcObject",JSON.stringify(h)),this.goToNextStep("success","receipt")}{const h=r.error.code,l=JSON.stringify(r.error);if(this.utilService.setSessionStorageItem("ErrorResponse",l),null!=this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT)){const v=parseInt(this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT));this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT,v+1)}else this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT,1);if("C2001"==h)this.utilService.setSessionStorageItem("SendMoneyObjects",JSON.stringify(r)),this.routingService.navigateTOKycoptios();else if("C1282"==h||"C1996"==h||"C2012"==h||"C2013"==h||"C2015"==h||"C2016"==h||"C2017"==h||"C2038"==h)this.routingService.navigateToPayment();else if("C9151"==h&&r.paymentDetails.paramountDetails.redirectionUrl)this.thirdPartyRedirect(r);else if("C1146"==h)this.thirdPartyRedirect(r);else if("C1147"==h||"C1972"==h||"C1974"==h||"C1992"==h||"C1997"==h||"C2002"==h||"C2010"==h||"C2011"==h||"C2014"==h||"C2100"==h||"C2042"==h||"PS9999"==h||"C2125"==h){if(this.utilService.clearSessionStorageItem("AlternatePaymentTypes"),r.alternate_payment_types&&this.utilService.setSessionStorageItem("AlternatePaymentTypes",JSON.stringify(r.alternate_payment_types.payment_type)),!this.utilService.isNGMigrationEnabled("decline"))return this.goToNextStep("error","decline");this.routingService.navigateTODecline()}else if("C5241"==h)r.paymentDetails.creditDebitCard&&r.paymentDetails.creditDebitCard.cardinalInfo&&"true"==r.paymentDetails.creditDebitCard.cardinalInfo.available&&"2.0"==r.paymentDetails.creditDebitCard.cardinalInfo.wu_3ds_version?(this.callTdsv2CardinalContinue(r),this.utilService.is3DSRetryEnabled()&&p()):this.routingService.navigateTO3ds();else if("C5242"==h){const v=window.Acculynk,S=JSON.parse(this.utilService.getSessionStorageItem("ValidationResponse")||"{}");!this.utilService.isAccuylnkValidationCheck(S)&&v.browserCheck?(this.isPinDebitTrx=!0,this.utilService.launchapplloAcculynkPinPad(S,r.paymentDetails)):(window.sessionStorage.accuylnkResponse="NOPINPADBROWSER",this.spinnerService.show(),setTimeout(function(){this.getSendMoneyStore(),this.spinnerService.hide()},4e3))}else if("C3584"==h){const v=JSON.parse(this.utilService.getSessionStorageItem("SummaryObjects")||"{}");this.utilService.setSessionStorageItem("IsSendMoneyValidationError",JSON.stringify(r.error)),this.utilService.setSessionStorageItem("IsSendMoneyValidationFailedAmount",v.transfer_amount),this.utilService.clearSessionStorageItem("QuickResendFlow"),this.routingService.navigateTOSendMoneyOption()}else if("C1987"==h){const v=JSON.stringify(r.error);this.utilService.setSessionStorageItem("ErrorResponse",v)}else if("C3579"==h)this.utilService.setSessionStorageItem("isPWMB",!0),this.routingService.navigateTOpwmb();else if("C3577"==h){const v=JSON.stringify(r.error);this.utilService.setSessionStorageItem("ErrorResponse",v),r.error.reasons&&(null.validateSenderIdentityInfo(r.error.reasons.reason)||(this.utilService.clearSessionStorageItem("IsFromReview"),this.routingService.navigateToInterstial()))}else{if(this.utilService.clearSessionStorageItem("ValidationRequest"),this.utilService.clearSessionStorageItem("SendMoneyObjects"),this.utilService.clearSessionStorageItem("SendMoneyInmate"),this.utilService.clearSessionStorageItem("ReceiverInformation"),this.utilService.clearSessionStorageItem("DataInputField"),this.utilService.clearSessionStorageItem("KycObject"),this.utilService.clearSessionStorageItem("MtcObject"),this.utilService.clearSessionStorageItem("BankName"),this.utilService.clearSessionStorageItem("Bank_Name"),this.utilService.clearSessionStorageItem("SendAgainTxnDetails"),this.utilService.clearSessionStorageItem("QuickResendFlow"),r.error.errorOption="hardDecline",!this.utilService.isNGMigrationEnabled("decline"))return this.goToNextStep("error","decline");this.routingService.navigateTODecline()}}}getSendMoneyPartnerStore(r,g,p){const h=JSON.parse(this.utilService.getSessionStorageItem("submitFormData")).apikey,l=JSON.parse(sessionStorage.getItem("ValidationResponse"));return window.wuhost.partnerApi.SendMoneyStore(h,{tempTransactionId:l.data.tempTransactionId,transactionDigest:l.data.transactionDigest}).pipe((0,x.T)(S=>{if(S&&!S.error){const m=S.data,b={sender:this.reformatSender(m.sender),receiver:m.receiver,paymentDetails:this.reformatPaymentDetails(m.pricing),wuProduct:m.wuProduct,transactionId:m.transactionId};this.errorSendMoneyStoreForPartner(b,r,p)}S&&S.error&&g&&g(S.error)}))}getSendMoneyStore(r,g,p){const h=this.getSelectedProduct();if(this.utilService.getSessionStorageItem("signicat_initiated")&&this.utilService.clearSessionStorageItem("signicat_initiated"),this.utilService.isWuPartner())return this.getSendMoneyPartnerStore(r,g,p);let v="/SendMoneyStore";const S=JSON.parse(this.utilService.getSessionStorageItem("SummaryObjects"));let m=this.getSendMoneyStoreRequest();"AG"!=S.paying_method&&"Cash"!=S.paying_method||!this.utilService.isAIREnabledCountry()?"IN"===this.utilService.getCurrentCountryFromURL()&&m.receiver.name&&""==m.receiver.name.first_name&&""==m.receiver.name.last_name&&delete m.receiver.name:m=this.getSendMoneyStoreRequestRetail(S),this.utilService.isGuestFlow()&&sessionStorage.setItem("sendMoneyStoreRequest",JSON.stringify(m));const b=m?.payment_details?.payment_type;return("AG"===b||"Cash"===b&&!this.utilService.isAIREnabledCountry())&&(v="/SendMoneyStoreStage"),this.restMethod.POST(v,m,h.payIn===W.mt.Cash?"retail":null).pipe((0,x.T)(Y=>{const R=this.countryConfigService.getCC();if(Y&&!Y.error&&"TRUE"===R.ConfigTemplate.isNCAEnabled&&R.ConfigTemplate.NCADuration){const k=JSON.parse(sessionStorage.getItem("transactionHistoryResp")||"[]");if(k&&k.length<=0||!k){const L=JSON.parse(sessionStorage.getItem("GatewayCustomer"));if(L&&L.registrationDate){L.registrationDate=L.registrationDate.replace(/-/g,"/");const y=new Date(L.registrationDate+" -0500");Math.abs((new Date-y)/1e3)<=parseInt(R.ConfigTemplate.NCADuration)&&(window.analyticsObject=window.analyticsObject||{},window.analyticsObject.sc_nca="yes")}}return!this.utilService.getPartnerName()&&!this.utilService.isHostedPartner()&&!this.utilService.isApplicationPPS()&&this.featureFlagService.isFeatureEnabled("SOFT_DECLINE_PAYMENT_ERROR_CODE_OPTIMIZATION")&&("true"===sessionStorage.getItem("softDeclineError_C2010")||"true"===sessionStorage.getItem("softDeclineError_C2016")||"true"===sessionStorage.getItem("softDeclineError_C2011")||"US"!==this.utilService.getCurrentCountryFromURL().toUpperCase())&&this.removeBankDeclineCards(),Y}if(Y.error)return Y.error.api="SMS",Y;this.errorSendMoneyStore(Y,r,g,p)}))}updateBrowserPopupReference(r){this.ibpPaymentChildWindow=r}errorSendMoneyStore(r,g,p,h){if(this.utilService.setSessionStorageItem("StoreResponse",JSON.stringify(r)),!r.error||"C9143"==r.error.code&&this.featureFlagService.isFeatureEnabled("NEXTGEN_RECEIPT_DRT_STATUS_REQUEST")){if(null!=this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT)){const m=parseInt(this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT));this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT,m+1)}else this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT,1);if(null!=this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT)){const m=parseInt(this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT));this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT,m+1)}else this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT,1);r&&r.paymentDetails&&r.paymentDetails.promotion&&this.getLoyaltyCards(function(m){m&&m.promoCodes&&!this.utilService.isEmpty(m.promoCodes.promoCode)?this.utilService.setSessionStorageItem("UseCasePromos",JSON.stringify(m.promoCodes.promoCode)):this.utilService.setSessionStorageItem("UseCasePromos",JSON.stringify([])),m&&m.gatewayCustomer&&m.gatewayCustomer.additionalPreferredCustomers&&m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer&&(this.utilService.setSessionStorageItem("loyaltyPoints",m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer.totalPointsEarned),this.utilService.setSessionStorageItem("resLoyalityCard",JSON.stringify(m)),this.utilService.isLoyaltyProgramEnabled()&&this.utilService.setSessionStorageItem("resLoyalityCardUpdated",!0),this.utilService.setSessionStorageItem("UseCasePromos",m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer.promoCodes&&m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer.promoCodes.promoCode?JSON.stringify(m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer.promoCodes.promoCode):JSON.stringify([])));try{m&&m.gatewayCustomer&&m.gatewayCustomer.additionalPreferredCustomers&&m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer&&m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer.promoCode&&this.utilService.setSessionStorageItem("PendingPromoCode",m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer.promoCode)}catch(b){console.error("Error while adding pending promo code to session storage"),console.error(b)}}),this.utilService.setSessionStorageItem("showHistoryRAFWidget",!0);const l={},S=this.getSendMoneyStoreRequest().payment_details.payment_type;if("AG"!==S&&"Cash"!==S)return l.moneyTransferControl=r.moneyTransferControl,l.filingDate=r.filingDate,l.filingTime=r.filingTime,l.kycAvailableDate=r.kycAvailableDate,l.accountOrPinNumber=r.wupayAccount?r.wupayAccount:r.stagedPin,l.senderEmail=r.sender.email,l.total=r.paymentDetails.origination.grossAmount,l.paymentCurrency=r.paymentDetails.origination.currencyIsoCode,l.fees=r.paymentDetails.fees,l.sendAmmount=r.paymentDetails.origination.principalAmount,this.utilService.setSessionStorageItem("MtcObject",JSON.stringify(l)),this.utilService.clearSessionStorageItem("CustomerVerificationStatus"),this.utilService.clearSessionStorageItem("SendAgainTxnDetails"),this.utilService.clearSessionStorageItem("QuickResendFlow"),this.utilService.clearSessionStorageItem("ReceiverTransactionsHistory"),this.utilService.clearSessionStorageItem("PendingPromoCode"),this.utilService.getPartnerName()&&"googlespot"===this.utilService.getPartnerName().toLowerCase()&&"GooglePay"===S&&(r&&g?g(r):this.routingService.navigateTOReceipt()),this.goToNextStep("success","receipt");if(l.contactPhone=r.sender.contactPhone,l.filingDate=r.filingDate,l.filingTime=r.filingTime,this.utilService.setSessionStorageItem("MtcObject",JSON.stringify(l)),this.utilService.clearSessionStorageItem("CustomerVerificationStatus"),this.utilService.clearSessionStorageItem("SendAgainTxnDetails"),this.utilService.clearSessionStorageItem("QuickResendFlow"),this.utilService.clearSessionStorageItem("ReceiverTransactionsHistory"),this.utilService.clearSessionStorageItem("PendingPromoCode"),r.scannerGenerator&&r.scannerGenerator.scanner_data&&this.utilService.isAIREnabledCountry()&&!this.utilService.isEmpty(this.utilService.getSessionStorageItem("SessionIdRetail"))){const m="/Generator?scannerData="+r.scannerGenerator.scanner_data+"&scannerType="+r.scannerGenerator.scanner_type+"&country="+this.utilService.getCurrentCountryFromURL()+"&session="+this.utilService.getSessionStorageItem("SessionIdRetail")+"&isRetail=true";this.restMethod.GET(m).pipe((0,x.T)(b=>{b&&!b.error&&(this.utilService.setSessionStorageItem("scannerCode",b.scannerCode),this.goToNextStep("success","receipt")),b.error&&this.goToNextStep("success","receipt")}))}else this.goToNextStep("success","receipt")}else{const l=r.error.code;l&&"C2001"!==l&&this.spinnerService.hide();const v=JSON.stringify(r.error);if(this.utilService.setSessionStorageItem("ErrorResponse",v),null!=this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT)){const k=parseInt(this.utilService.getSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT));this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT,k+1)}else this.utilService.setSessionStorageItem(V.Y.CONST_ANALYTICS_OBJECT.TXN_ATTEMPT,1);const S=["C9011","C9012","C9013","C1415","C9014","C9015","C9016","C9017","C9018","C9019","C9020","C9021","C9022","C9023","C9024","C9025","C9026","C9027","C9028","C9029","C9030","C9031","C9032","C9033","C9034","C9035","C9036","C9037","C9038","C9039","C9040","C9041","C9042","C9043","C9044","C9045","C9046","C9047","C9048","C9049","C9050","C9051","C9052","C9053","C9054","C9055","C9056","C9057","C9058","C9059","C9060","C9061","C9062","C9063","C9064","C9065","C9066","C9067","C9068","C9069","C9070","C9071","C9072","C9073","C9074","C9075","C9076","C9077","C9078","C9079","C9080","C9081","C9082","C9083","C9084","C9085","C9086","C9087","C9088","C9089","C9090","C9091","C9092","C9093","C9094","C9095","C9096","C9097","C9098","C9099","C9100","C9101","C9102","C9103","C9104","C9105","C9106","C9107","C9108"],m=["C2206"],b=["C2203"],Y=["C2204","C2205"],R=JSON.parse(this.utilService.getSessionStorageItem("SummaryObjects"));if("C1282"==l||"C1996"==l||"C2012"==l||"C2013"==l&&!this.featureFlagService.isFeatureEnabled("C2013_OPT_DECLINE_PAGE")||"C2015"==l||"C2017"==l||"C2038"==l||"C2069"==l||"C8618"==l||"C2201"==l)this.routingService.navigateToPayment();else{if("C2001"==l)return;if("C1146"==l)this.thirdPartyRedirect(r,p);else if("C9151"==l&&r.paymentDetails.paramountDetails.redirectionUrl)this.thirdPartyRedirect(r);else if("C1147"==l||"C1972"==l||"C1974"==l||"C1992"==l||"C2013"==l&&this.featureFlagService.isFeatureEnabled("C2013_OPT_DECLINE_PAGE")||"C1997"==l||"C2002"==l||"C2010"==l||"C2011"==l||"C2014"==l||"C2100"==l||"C2016"==l||"C2042"==l||"PS9999"==l||"C2125"==l||"C9157"==l||"C9158"==l||"C9159"==l||"C2228"==l||"C2065"==l||"C2068"==l){if(this.utilService.clearSessionStorageItem("AlternatePaymentTypes"),r.alternate_payment_types&&this.utilService.setSessionStorageItem("AlternatePaymentTypes",JSON.stringify(r.alternate_payment_types.payment_type)),sessionStorage.removeItem("abandonedCartToken"),sessionStorage.removeItem("ResumeComplianceObject"),!this.utilService.isNGMigrationEnabled("decline"))return this.goToNextStep("error","decline");this.routingService.navigateTODecline()}else if("C8189"==l||"C1805"==l||"C5090"==l){if(!this.utilService.isNGMigrationEnabled("decline"))return this.goToNextStep("error","decline");this.routingService.navigateTODecline()}else if("C5241"==l)r.paymentDetails.creditDebitCard&&r.paymentDetails.creditDebitCard.cardinalInfo&&"true"==r.paymentDetails.creditDebitCard.cardinalInfo.available&&"2.0"==r.paymentDetails.creditDebitCard.cardinalInfo.wu_3ds_version&&!this.utilService.isRussia3DSV2EnabledR3(A().get(r,"paymentDetails.creditDebitCard.cardType"))?(this.callTdsv2CardinalContinue(r),this.utilService.is3DSRetryEnabled()&&h()):(this.utilService.isRussia3DSV2EnabledR3(A().get(r,"paymentDetails.creditDebitCard.cardType"))&&sessionStorage.setItem("isRussia3DSV2Trx","true"),this.routingService.navigateTO3ds());else if("C5242"==l){const k=JSON.parse(this.utilService.getSessionStorageItem("ValidationResponse"));!this.isAccuylnkValidationCheck(k)&&window.Acculynk.browserCheck?(this.isPinDebitTrx=!0,this.utilService.launchapplloAcculynkPinPad(k,r.paymentDetails)):(window.sessionStorage.accuylnkResponse="NOPINPADBROWSER",this.spinnerService.show(),setTimeout(function(){this.getSendMoneyStore(),this.spinnerService.hide()},4e3))}else if("C3584"==l){const k=JSON.parse(this.utilService.getSessionStorageItem("SummaryObjects"));this.utilService.setSessionStorageItem("IsSendMoneyValidationError",JSON.stringify(r.error)),this.utilService.setSessionStorageItem("IsSendMoneyValidationFailedAmount",k.transfer_amount),this.utilService.clearSessionStorageItem("QuickResendFlow"),this.routingService.navigateTOSendMoneyOption()}else if("C1987"==l){const k=JSON.stringify(r.error);this.utilService.setSessionStorageItem("ErrorResponse",k)}else if("C3579"==l)this.utilService.setSessionStorageItem("isPWMB",!0),this.routingService.navigateTOpwmb();else if("C3577"==l||"C1891"==l)this.utilService.setSessionStorageItem("CollectIdErrorRespCode",l),this.utilService.setSessionStorageItem("IdentityData",JSON.stringify(r)),this.utilService.setSessionStorageItem("SMSSubErrorCode",JSON.stringify(r.error.reasons)),this.routingService.navigateTOGlobalCollectid();else if("C6325"===l)sessionStorage.setItem("sendMoneyErrorResponse",JSON.stringify(r)),this.routingService.navigateTOReceiver();else if(S.indexOf(l)>-1&&("AG"==R.paying_method||"Cash"==R.paying_method))if("C9011"==l||"C9012"==l||"C9017"==l||"C9036"==l||"C9042"==l||"C9044"==l||"C9060"==l||"C9079"==l||"C9080"==l||"C9081"==l)this.routingService.navigateTOGlobalCollectid();else if("C9013"==l||"C9022"==l||"C9023"==l||"C9024"==l||"C9025"==l||"C9026"==l||"C9039"==l||"C9015"==l||"C9016"==l||"C9018"==l||"C9032"==l||"C9033"==l||"C9034"==l||"C9035"==l||"C9037"==l||"C9040"==l||"C9041"==l||"C9043"==l||"C9045"==l||"C9048"==l||"C9049"==l||"C9050"==l||"C9051"==l||"C9052"==l||"C9053"==l||"C9054"==l||"C9055"==l||"C9056"==l||"C9057"==l||"C9058"==l||"C9059"==l||"C9062"==l||"C9063"==l||"C9066"==l||"C9067"==l||"C9068"==l||"C9069"==l||"C9070"==l||"C9071"==l||"C9072"==l||"C9073"==l||"C9074"==l||"C9075"==l||"C9076"==l||"C9077"==l||"C9078"==l||"C9095"==l||"C9096"==l||"C9097"==l||"C9103"==l||"C9104"==l||"C9105"==l||"C9106"==l||"C9107"==l||"C9108"==l)this.routingService.navigateToReview();else if("C9020"==l||"C9027"==l||"C9028"==l||"C9029"==l||"C9030"==l)this.utilService.clearSessionStorageItem("QuickResendFlow"),this.utilService.getNg6Enable()?this.routingService.navigateTOSendmoneystart():this.routingService.navigateTOSendMoneyOption();else{if("C9065"!=l)return sessionStorage.removeItem("abandonedCartToken"),sessionStorage.removeItem("ResumeComplianceObject"),this.utilService.isNGMigrationEnabled("decline")?void this.routingService.navigateTODecline():this.goToNextStep("error","decline");this.routingService.navigateTOReceiver()}else b.indexOf(l)>-1||m.indexOf(l)>-1?this.utilService.getNg6Enable()?(sessionStorage.setItem("myeKycValidationError",l),this.routingService.navigateTOSendmoneystart()):this.routingService.navigateTOSendMoneyOption():Y.indexOf(l)>-1?this.utilService.getNg6Enable()?(sessionStorage.setItem("myeKycValidationError",l),this.routingService.navigateTOReceiver()):this.routingService.navigateTOReceiver():"C5343"==l?(sessionStorage.setItem("paymentErrorResponse",r.error.message),sessionStorage.setItem("isPaymentRNError","true"),this.routingService.navigateToPayment()):"C5541"==l?(sessionStorage.setItem("3ds_failure_sms_response",JSON.stringify(r)),this.routingService.navigateToPayment()):(this.utilService.clearSessionStorageItem("ValidationRequest"),this.utilService.clearSessionStorageItem("SendMoneyInmate"),this.utilService.clearSessionStorageItem("ReceiverInformation"),this.utilService.clearSessionStorageItem("DataInputField"),this.utilService.clearSessionStorageItem("KycObject"),this.utilService.clearSessionStorageItem("MtcObject"),this.utilService.clearSessionStorageItem("BankName"),this.utilService.clearSessionStorageItem("Bank_Name"),this.utilService.clearSessionStorageItem("SendAgainTxnDetails"),this.utilService.clearSessionStorageItem("QuickResendFlow"),this.utilService.clearSessionStorageItem("ReceiverTransactionsHistory"),r.error.errorOption="hardDecline")}}}getLoyaltyCards(r,g){const p=JSON.parse(sessionStorage.getItem("GatewayCustomer"));this.utilService.isLoyaltyProgramEnabled()&&p&&"0"===p.termsConditionFlag?(r&&r({}),g&&g({})):this.restMethod.POST("/GetLoyaltyCards",this.getLoyaltyCardsBodyRequest()).pipe((0,x.T)(h=>{if(r){if(this.utilService.isLoyaltyProgramEnabled()&&h&&h.rewardList&&h.rewardList.rewards&&h.rewardList.rewards.reward){const l=JSON.parse(sessionStorage.getItem("app"))||"{}",v=l&&l.sender?l.sender:{},S=A().get(h,"rewardList.rewards.reward").map(function(m){return{promoCode:m.promoCode,promoType:m.promoType,points:m.points,value:m.value}});if(v&&p){const m={gatewayCustomer:{additionalPreferredCustomers:{preferredCustomer:{accountNbr:p.preferredCustomer.accountNbr,totalPointsEarned:h.rewardList.totalPointsEarned,promoCode:v&&v.promoCode?v.promoCode:null}}}},b=m.gatewayCustomer.additionalPreferredCustomers.preferredCustomer;b&&(b.promoCodes={promoCode:[]},b.promoCodes.promoCode=S),h=Object.assign(h,m)}}this.utilService.setSessionStorageItem("resLoyalityCard",JSON.stringify(h)),r(h)}h.error&&g(h.error)}))}getLoyaltyCardsBodyRequest(){const r={};return r.security=this.baseRequestService.getSecurity(),r.gateway_customer=this.getLoyaltyCardsGatewayCustomer(),r.bashPath=this.utilService.getLocale(),r.external_reference_no="1",this.utilService.isLoyaltyProgramEnabled()&&(r.params={param:[]},r.params.param=[{name:"REWARD_TYPE",value:"DISCT"}]),r}getLoyaltyCardsGatewayCustomer(){const r={},g={};return r.account_nbr=null!==this.utilService.getSessionStorageItem("GatewayCustomer")?JSON.parse(this.utilService.getSessionStorageItem("GatewayCustomer")).preferredCustomer.accountNbr:null,g.preferred_customer=r,g}removeBankDeclineCards(){const r=A().get(JSON.parse(sessionStorage.getItem("app")||"{}"),"selectedProduct"),g=A().get(JSON.parse(sessionStorage.getItem("app")||"{}"),"selectedBank"),p=JSON.parse(sessionStorage.getItem("declinedBankAccounts")||"[]"),h=A().get(JSON.parse(sessionStorage.getItem("app")||"{}"),"selectedCard"),l=JSON.parse(sessionStorage.getItem("declinedCards")||"[]");if("CreditCard"===r.payIn||"DebitCard"===r.payIn){if(h){if(l.length>0){const v=l.findIndex(function(S){return S.paymentInstrumentId===h.paymentInstrumentId});v>-1&&l.splice(v,1)}sessionStorage.setItem("declinedCards",JSON.stringify(l))}}else if(("ACH"===r.payIn||"D2B"===r.payIn||"BankAccount"===r.payIn||"Bank Transfer"===r.payIn)&&g){if(p.length>0){const v=p.findIndex(function(S){return S.paymentInstrumentId===g.paymentInstrumentId});v>-1&&p.splice(v,1)}sessionStorage.setItem("declinedBankAccounts",JSON.stringify(p))}}getMobileTransferTimeLimitRetail(r){const g=U()().add(this.utilService.getStageAndPayConfig("pay_in_cash_expiry_hours",r.toUpperCase()),"hours");return g.format(this.utilService.getStageAndPayConfig("email_date_format",r.toUpperCase())?this.utilService.getStageAndPayConfig("email_date_format",r.toUpperCase()):"DD/MM/YYYY HH:mm:ss")+(this.utilService.getStageAndPayConfig("mobile_ttl_with_day",r.toUpperCase())?" "+this.utilService.getDeliveryDay(g).toLowerCase():"")}getSendMoneyStoreRequestRetail(r){const g=JSON.parse(sessionStorage.getItem("app")||"{}"),p=JSON.parse(this.utilService.getSessionStorageItem("ValidationResponse")),h=JSON.parse(this.utilService.getSessionStorageItem("ValidationRequest"));let l={};l=this.utilService.isGuestFlow()?(JSON.parse(this.utilService.getSessionStorageItem("GuestInfo"))||{}).sender:JSON.parse(this.utilService.getSessionStorageItem("GatewayCustomer")),delete p.ps_version,p.wu_product&&"C2028"!==this.utilService.getSessionStorageItem("CollectIdErrorRespCode")&&(delete p.wu_product.routing_code,delete p.wu_product.speed_indicator),p.payment_details.taxes&&delete p.payment_details.taxes.total_display_tax_amount;let S={},m="";const b="C2028"===this.utilService.getSessionStorageItem("CollectIdErrorRespCode");b?(S=h.sender.compliance_details,m=this.utilService.getSessionStorageItem("senderMotherMaidenName")?this.utilService.getSessionStorageItem("senderMotherMaidenName"):null):S=h&&h.sender&&h.sender.compliance_details&&(h.sender.compliance_details.occupation||h.sender.compliance_details.relationship_to_sender_receiver)?h.sender.compliance_details:p.sender.compliance_details;const Y={bashPath:this.baseRequestService.getBashPath(),channel:{name:"MOB",type:"H2H",version:this.baseRequestService.getChannelVersionRetail()},security:this.baseRequestService.getRetailSecurity(),wu_product:p.wu_product,sender:{name:p.sender.name,address:{addr_line1:l.address.addrLine1,city:l.address.city,state:p.sender.address.state,postal_code:l.address.postalCode,country_iso_code:p.sender.address.country_iso_code,country_name:A().get(h,"sender.address.country_name")||this.utilService.getCountryNameFromUrl(this.smoConfig.countryCurrencyDefaults)},email:p.sender.email,contact_phone_country_prefix:p.sender.contact_phone_country_prefix,contact_phone:p.sender.contact_phone,mobile_phone:p.sender.mobile_phone,occupation:p.sender.occupation,preferred_customer:(p.sender.additional_preferred_customers||{}).preferred_customer||null,additional_preferred_customers:p.sender.additional_preferred_customers||null,compliance_details:this.getSenderCompliance(S)},receiver:{name:p.receiver.name,address:p.receiver.address,mobile_phone:p.receiver.mobile_phone,type:p.receiver.type},payment_details:{origination:{principal_amount:p.payment_details.origination.principal_amount,gross_amount:p.payment_details.origination.gross_amount,currency_iso_code:p.payment_details.origination.currency_iso_code,country_iso_code:p.payment_details.origination.country_iso_code,efl:this.utilService.retrieveEFL({},{type:"GET",efl:JSON.parse(this.utilService.getSessionStorageItem("Efl"))})},destination:{expected_payout_amount:p.payment_details.destination.expected_payout_amount,actual_payout_amount:p.payment_details.destination.actual_payout_amount,currency_iso_code:p.payment_details.destination.currency_iso_code,country_iso_code:p.payment_details.destination.country_iso_code},promotion:{},taxes:p.payment_details.taxes,fees:{charges:p.payment_details.fees.charges,accuracy:"EXACT"},exchange_rate:p.payment_details.exchange_rate,exchange_rate_USD:p.payment_details.exchange_rate_USD,payment_type:p.payment_details.payment_type},destination_available_date:p.destination_available_date,temp_transaction_id:p.temp_transaction_id,mtcn:p.money_transfer_control.mtcn,mobile_ttl:this.getMobileTransferTimeLimitRetail(p.sender.address.country_iso_code)};this.utilService.isAIREnabledCountry()&&this.utilService.isRetailPayOutEnabled("BA")&&"Bank account"===r.payout_method&&(Y.receiver.wallet=p.receiver.wallet,Y.receiver.id=p.receiver.id,Y.receiver.uid=p.receiver.uid),"US"===A().get(g,"corridor.senderCountry.isoCode")&&["CN","BR"].indexOf(A().get(g,"corridor.receiverCountry.isoCode"))>-1&&"AG"===r.paying_method&&"Bank account"===r.payout_method&&(Y.receiver.contact_phone_country_prefix=p.receiver.mobile_phone.phone_number.country_code,Y.receiver.contact_phone=p.receiver.mobile_phone.phone_number.national_number),p.receiver.date_of_birth&&"CU"===p.receiver.address.country_iso_code&&(Y.receiver.date_of_birth=p.receiver.date_of_birth),b&&(Y.sender.mother_maiden_name=m);const R=A().get(p,"payment_details.identification_question");return R&&Y.payment_details&&(Y.payment_details.identification_question=R),this.utilService.isNewBillPayTransaction()&&this.modifyBillPayRequestRetail(Y,p),p.payment_details.is_cloud_enabled&&p.payment_details.pricing_context&&(Y.payment_details.is_cloud_enabled=p.payment_details.is_cloud_enabled,Y.payment_details.pricing_context=p.payment_details.pricing_context),"true"==this.utilService.getSessionStorageItem("isCreditBuilderTransactionalConsent")&&(A().get(Y,"additional_information.param")||(Y.additional_information={},Y.additional_information.param=[]),Y.additional_information.param.push({type:"creditline_consent",value:"true"})),Y}modifyBillPayRequestRetail(r,g){g.receiver&&(r.receiver=g.receiver),g.biller&&(r.biller=g.biller),"US"===this.utilService.getSendingCountryIsoCode().toUpperCase()&&(r.fraud_warning_consent="N")}getXMetaBrowserDetails(){const r={};return r.BrowserLanguage=window.navigator.language,r.BrowserColorDepth=window.screen.colorDepth.toString(),r.BrowserScreenHeight=window.screen.height.toString(),r.BrowserScreenWidth=window.screen.width.toString(),r.BrowserTimeZone=(new Date).getTimezoneOffset().toString(),r.UserAgent=window.navigator.userAgent,r.IPAddress=this.utilService.getIpAddress(),r.DeviceChannel="browser",r.BrowserJavascriptEnabled="true",r.BrowserHeader=this.utilService.getBrowserHeader("content-type"),r.BrowserJavaEnabled=window.navigator.javaEnabled().toString(),JSON.stringify(r)}addBrowserDetails3DSv2(r){if(("CreditCard"===r.payment_details.payment_type||"DebitCard"===r.payment_details.payment_type)&&this.utilService.is3DSv2()&&void 0!==r.payment_details.credit_debit_card.cardinal_info&&this.featureFlagService.isFeatureEnabled("THREEDS_V2_BROWSER_DETAILS")){let g=0,p=!1;void 0===r.security.requestHeader&&(r.security.requestHeader=[],p=!0),!1===p&&(g=r.security.requestHeader.length),r.security.requestHeader[g]={},r.security.requestHeader[g].key="X-Meta-BrowserDetails",r.security.requestHeader[g].value=this.getXMetaBrowserDetails().replace(/"([^"]+)":/g,"$1:").slice(1,-1)}}getRedirectReceiverUrl(){const r=JSON.parse(this.utilService.getSessionStorageItem("ValidationResponse")),p=A().get(r,"temp_transaction_id").slice(6,16),h=this.utilService.getReceivingCountryIsoCode()?this.utilService.getReceivingCountryIsoCode().toLowerCase():"";let v="";return v=-1!==window.location.href.indexOf("www.westernunion.com")?"?mtcn=":"-np?mtcn=","https://go.wu.com/sd-ra-"+h+v+p+"&src=SD_RA&WUCountry="+h}getSenderCompliance(r){const g=JSON.parse(this.utilService.getSessionStorageItem("SummaryObjects")||"{}"),p=JSON.parse(this.utilService.getSessionStorageItem("GatewayCustomer")||"{}"),h=r||{};return h&&!h.nationality&&p&&p.nationality&&(h.nationality=p.nationality),h&&!h.occasional_flag&&g&&g.occasional_flag&&(h.occasional_flag=g.occasional_flag),this.utilService.getStageAndPayConfig("telemarketing")&&this.utilService.isSPTransaction()&&(h.is_telemarketer=!1),h}getSendMoneyStoreRequest(){let r={};const g=JSON.parse(this.utilService.getSessionStorageItem("ValidationResponse"));g&&delete g.ps_version;let p=this.utilService.getSessionStorageItem("testEnv");p&&(p=p.replace(/\'/g,'"'),p=JSON.parse(p),p=p.test_env);const h=JSON.parse(this.utilService.getSessionStorageItem("SummaryObjects")),l=this.countryConfigService.getCC();if("AG"==h.paying_method||"Cash"==h.paying_method){r.channel=this.baseRequestService.getChannel(),r.security=this.baseRequestService.getSecurity();let b={};b=this.utilService.isGuestFlow()?(JSON.parse(this.utilService.getSessionStorageItem("GuestInfo"))||{}).sender:JSON.parse(this.utilService.getSessionStorageItem("GatewayCustomer"));const Y={};Y.name=g.sender.name;const R={};if(R.addr_line1=b.address.addrLine1,R.city=b.address.city,R.state=g.sender.address.state,R.postal_code=b.address.postalCode,R.country_iso_code=g.sender.address.country_iso_code,this.utilService.isBrazilNewTemplateEnabled()){const te=this.smoConfig._getCountryIsoCode(),Z=this.smoConfig._getCountryNameFromIsoCode(te,this.smoConfig.countryCurrencyDefaults());R.country_name=Z}Y.address=R,Y.preferred_customer=(g.sender.additional_preferred_customers||{}).preferred_customer||null,Y.email=g.sender.email,Y.contact_phone_country_prefix=g.sender.contact_phone_country_prefix,Y.contact_phone=g.sender.contact_phone,Y.mobile_phone=g.sender.mobile_phone,Y.occupation=g.sender.occupation,Y.additional_preferred_customers=g.sender.additional_preferred_customers||{},g.sender.isTaxResidentStatus&&(Y.tax_residency=g.sender.isTaxResidentStatus),r.sender=Y;const k={};k.name=g.receiver.name,k.address=g.receiver.address,k.mobile_phone=g.receiver.mobile_phone,g.consumer_to_business_name&&(k.consumer_to_business_name=g.consumer_to_business_name),g.consumer_to_business_reference&&(k.consumer_to_business_reference=g.consumer_to_business_reference),g.receiver.nationality&&(k.nationality=g.receiver.nationality),r.receiver=k,g.wu_product&&(delete g.wu_product.routing_code,delete g.wu_product.speed_indicator),r.wu_product=g.wu_product;const L={},y={};y.principal_amount=g.payment_details.origination.principal_amount,y.gross_amount=g.payment_details.origination.gross_amount,y.currency_iso_code=g.payment_details.origination.currency_iso_code,y.country_iso_code=g.payment_details.origination.country_iso_code;const I={address:{}};I.address.country_iso_code=g.payment_details.origination.country_iso_code,y.efl=I,L.origination=y;const T={};if(T.expected_payout_amount=g.payment_details.destination.expected_payout_amount,T.currency_iso_code=g.payment_details.destination.currency_iso_code,T.country_iso_code=g.payment_details.destination.country_iso_code,T.state_code=g.receiver.address.state,L.destination=T,L.promotion={},g.payment_details.taxes&&delete g.payment_details.taxes.total_display_tax_amount,L.taxes=g.payment_details.taxes,L.fees=g.payment_details.fees,L.fees.accuracy="ESTIMATED",g.payment_details.expectedPayoutLocation){const te={};te.state_code=g.payment_details.expectedPayoutLocation.stateCode,te.state_name=g.payment_details.expectedPayoutLocation.stateName,te.city=g.payment_details.expectedPayoutLocation.city,L.expected_payout_location=te}l&&l.ConfigTemplate.isRetail&&"TRUE"==l.ConfigTemplate.isRetail.toUpperCase()&&g.payment_details.txn_reason_code&&(L.txn_reason_code=g.payment_details.txn_reason_code),L.exchange_rate=g.payment_details.exchange_rate,this.utilService.isStrikethroughEnabled()&&(A().isUndefined(g.payment_details.strike_fx_rate)||(L.strike_fx_rate=g.payment_details.strike_fx_rate)),L.exchange_rate_USD=g.payment_details.exchange_rate_USD,g.payment_details.identification_question&&(L.identification_question={},L.identification_question.question=g.payment_details.identification_question.question,L.identification_question.answer=g.payment_details.identification_question.answer),L.payment_type=g.payment_details.payment_type,g.payment_details.pricing_context&&(L.pricing_context=g.payment_details.pricing_context),g.payment_details.is_cloud_enabled&&"TRUE"===A().get(l,"ConfigTemplate.isRetail")&&(L.is_cloud_enabled=g.payment_details.is_cloud_enabled),L.destination.split_payout&&(L.destination.split_payout=L.destination.split_payout),r.payment_details=L,r.mtcn=g.money_transfer_control.mtcn,r.temp_transaction_id=g.temp_transaction_id,r.mobile_ttl=this.getMobileTransferTimeLimit()}else{r=g,r.bashPath=this.baseRequestService.getBashPath(),g.sender.name.given_name&&" "!=g.sender.name.given_name&&(delete r.sender.name.first_name,delete r.sender.name.last_name),(g.sender.campaign_name||g.sender.end_date)&&(delete r.sender.campaign_name,delete r.sender.end_date),void 0!==this.utilService.getCurrentCountryFromURL()&&"BR"===this.utilService.getCurrentCountryFromURL().toUpperCase()&&(r.sender.name.is_name_verified="Y");const b=this.getSiteBehavior();r.security=this.baseRequestService.getSecurity();const Y=window.SDConf;if(typeof Y<"u"){const L=Y.receiverAssist?Y.receiverAssist.senderCountries:[],y=Y.receiverAssist?Y.receiverAssist.corridors:[],I=Y.localCurr?Y.localCurr.corridors:[],T=this.utilService.getCurrentCountryFromURL().toUpperCase(),te=this.utilService.getReceivingCountryIsoCode()?this.utilService.getReceivingCountryIsoCode().toUpperCase():"",Z=A().get(g,"payment_details.destination.currency_iso_code");let de=!1;I.indexOf(te)>-1&&"USD"===Z&&(de=!0),L.indexOf(T)>-1&&y.indexOf(te)>-1&&!de&&(r.security.requestHeader=[],r.security.requestHeader[0]={},r.security.requestHeader[0].key="Payment_Link",r.security.requestHeader[0].value=this.getRedirectReceiverUrl())}this.addBrowserDetails3DSv2(r),r.channel=this.baseRequestService.getChannel(),r.channel.device_identifier=this.utilService.isMobileDevice()?"RESPONSIVE_MOB":"RESPONSIVE_WEB";let R={};if(R=g.payment_details,this.utilService.getSessionStorageItem("showCAUDisclaimer")&&JSON.parse(this.utilService.getSessionStorageItem("showCAUDisclaimer"))&&(R.card_updater_consent_flag="Y"),g.payment_details.expectedPayoutLocation){const L={};L.state_code=g.payment_details.expectedPayoutLocation.stateCode,L.state_name=g.payment_details.expectedPayoutLocation.stateName,L.city=g.payment_details.expectedPayoutLocation.city,R.expected_payout_location=L,r.payment_details=R,g.wu_product.isDirected&&(delete g.wu_product.isDirected,g.wu_product.is_directed="Y"),r.wu_product=g.wu_product,delete r.payment_details.expectedPayoutLocation,delete r.payment_details.wuProduct}if("true"==sessionStorage.getItem("isFPXInitiated")||"true"==sessionStorage.getItem("isMobileWalletInitiated")){const L=sessionStorage.getItem("apolloJsonBuffer");L&&(R.apollo_json_buffer=L)}this.utilService.getLoggedInStatus()&&this.utilService.promoPricingWebCampaign().subscriptionId&&(r.sender.subscription_id=this.utilService.promoPricingWebCampaign().subscriptionId),r.analytics=b,this.setPaymentDetails(r),r.sender.compliance_details=this.getSenderCompliance(g.sender.compliance_details);const k=JSON.parse(this.utilService.getSessionStorageItem("GatewayCustomer")||"{}");this.utilService.isSelfieKycFeatureEnabledForPayin()&&!r.sender.customer_category&&(k.customerCategory?r.sender.customer_category=k.customerCategory:k.customer_category&&(r.sender.customer_category=k.customer_category)),r.sender.customerCategory&&delete r.sender.customerCategory}const v=this.featureFlagService.isFeatureEnabled("ZUMIGO_INTEGRATION_SMV"),S=g.zumigo_session_id;S&&v&&this.utilService.isMobileOrTabletDevice()&&(r.frontendInformation=this.utilService.getFrontendInfo(S)),h.fbMsgEnabled&&(r.sender.fb_msg_enabled=h.fbMsgEnabled),"true"==p&&(r.security.automationSv="true"),("D2C"==h.payout_method||"D2C_PS"==h.payout_method)&&r.receiver&&r.receiver.debitCardToken&&delete r.receiver.debitCardToken,A().get(r,"zumigo_session_id")&&delete r.zumigo_session_id,this.utilService.isGMOPaymentGatewayEnabledViaEvergage()&&"C3"!==h.paying_method&&(A().get(r,"additional_information.param")||(r.additional_information={},r.additional_information.param=[]),r.additional_information.param.push({type:"WUPAY_PROCESSOR",value:"GMO"})),this.featureFlagService.isFeatureEnabled("NEXTGEN_RECEIPT_DRT_STATUS_REQUEST")&&A().get(r,"additional_information.param")&&r.additional_information.param.push({type:"nextgen_drt_status_requested",value:"true"}),this.utilService.isRealTimeACHviaTrustlyEnabled()&&"iACH"===h.paying_method&&A().has(r,"sender.wallet.bank_accounts.bank_account[0]")&&(r.sender.wallet.bank_accounts.bank_account[0].access_token=A().get(h,"wallet.bank_accounts.bank_account[0].access_token")?A().get(h,"wallet.bank_accounts.bank_account[0].access_token"):A().get(h,"wallet.bankAccounts.bankAccount[0].access_token"),r.sender.wallet.bank_accounts.bank_account[0].transactionId=A().get(h,"wallet.bank_accounts.bank_account[0].transactionId")?A().get(h,"wallet.bank_accounts.bank_account[0].transactionId"):A().get(h,"wallet.bankAccounts.bankAccount[0].transactionId"));const m=JSON.parse(this.utilService.getSessionStorageItem("ReceiverTemplate_v")||"{}");return this.utilService.enableReceiverNoLastNameCheckBox()&&!(r.receiver&&r.receiver.name&&r.receiver.name.last_name)&&m&&m.ctrTemplate&&("O"===m.ctrTemplate.noLastNameField||"M"===m.ctrTemplate.noLastNameField)&&delete r.receiver.name.last_name,r}getMobileTransferTimeLimit(){const r=new Date((new Date).getTime()+864e5);return r.getDate()+"/"+Number(r.getMonth()+1)+"/"+r.getFullYear()+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()}getSiteBehavior(){const r={state:null,analytic_event:{}};return r.analytic_event.fields={},r.analytic_event.fields.field=[],r.analytic_event.fields.field=this.siteBehaviourService.getSiteBehaviourData(),r}removeCardinalInfo(r){null!=r.payment_details.credit_debit_card&&null!=r.payment_details.credit_debit_card.cardinal_info&&(void 0!==r.payment_details.credit_debit_card.cardinal_info.signature3ds&&delete r.payment_details.credit_debit_card.cardinal_info.signature3ds,void 0!==r.payment_details.credit_debit_card.cardinal_info.merchantID&&delete r.payment_details.credit_debit_card.cardinal_info.merchantID,void 0!==r.payment_details.credit_debit_card.cardinal_info.clearerID&&delete r.payment_details.credit_debit_card.cardinal_info.clearerID,void 0!==r.payment_details.credit_debit_card.cardinal_info.returnURL&&delete r.payment_details.credit_debit_card.cardinal_info.returnURL)}isAccuylnkValidationCheck(r){return!(r&&null!=r.payment_details&&null!=r.payment_details.credit_debit_card&&null!=r.payment_details.credit_debit_card.pin_debit&&null!=r.payment_details.credit_debit_card.pin_debit.available&&"true"==r.payment_details.credit_debit_card.pin_debit.available)}getPinPadObj(){let r="";const g={},p={};if(r=window.sessionStorage.accuylnkResponse,void 0!==sessionStorage.appollopinpag&&"yes"==sessionStorage.appollopinpag)p.trans_id=sessionStorage.accuylnkTransId,p.guid=sessionStorage.acculynkGuId,p.modulus=sessionStorage.acculynkModulus,p.exponent=sessionStorage.acculynkExponent,delete sessionStorage.appollopinpag,delete sessionStorage.accuylnkTransId,delete sessionStorage.acculynkGuId,delete sessionStorage.acculynkModulus,delete sessionStorage.acculynkExponent;else{const l=JSON.parse(window.sessionStorage.ValidationResponse).payment_details.credit_debit_card.pin_debit;p.trans_id=l.pinpad_params.trans_id,p.guid=l.pinpad_params.guid,p.modulus=l.pinpad_params.modulus,p.exponent=l.pinpad_params.exponent}return p.entry_result="NOPINPADBROWSER"==r?null:r,g.available="true",("ACCU200"==r||"ACCU400"==r||"NOPINPADBROWSER"==r)&&(p.trans_id=null,p.guid=null,p.modulus=null,p.exponent=null),g.pinpad_params=p,delete window.sessionStorage.accuylnkResponse,g}getBanContactParams(){const r={},g=[];return g.push(this.getBanContactResponseCode()),r.param=g,r}getBanContactResponseCode(){const r={};let g=null;r.Key="response_code";const p=sessionStorage.getItem("banContact_status");return sessionStorage.securereasonCode&&null!=sessionStorage.securereasonCode&&(g=sessionStorage.securereasonCode.toLowerCase()),g="AUTHORISED"===p||"OPEN"===p||"ERROR"===p||"FAILURE"===p||"EXPIRED"===p||"CANCEL"===p?window.location.protocol+"//"+window.location.hostname+"/bin/westernunion/securehandler?response="+p:window.location.protocol+"//"+window.location.hostname+"/bin/westernunion/securehandler?response=cancel",r.Value=g,r}getKlarnaParams(){const r={},g=[];return g.push(this.getKlarnaResponseCode()),r.param=g,r}getKlarnaResponseCode(){const r={};let g=null;r.Key="response_code";const p=sessionStorage.getItem("responseCode"),h=sessionStorage.getItem("paymentMethod"),l=sessionStorage.getItem("auth_token"),v=sessionStorage.getItem("sid");if(sessionStorage.securereasonCode&&null!=sessionStorage.securereasonCode&&(g=sessionStorage.securereasonCode.toLowerCase()),"Klarna"==sessionStorage.paymentMethod){const S=window.location.protocol+"//"+window.location.hostname+"/bin/westernunion/securehandler?responseCode=";"success"===p?g=S+p+"&paymentMethod="+h+"&auth_token="+l:"cancel"===p||"back"===p||"fail"===p||"error"===p?g=S+p+"&paymentMethod="+h+"&sid="+v:!l&&!v&&(g=window.location.protocol+"//"+window.location.hostname+"/bin/westernunion/securehandler?response=error")}return r.Value=g,r}getTinkParams(){const r={},g=[];return g.push(this.getTinkResponseCode()),r.param=g,r}getTinkResponseCode(){const r={};let g=null;r.Key="response_code";const p=sessionStorage.getItem("tink_payment_request_id"),h=sessionStorage.getItem("tink_paymentSource"),l=sessionStorage.getItem("tink_error"),v=sessionStorage.getItem("tink_error_type"),S=sessionStorage.getItem("tink_error_reason"),m=sessionStorage.getItem("tink_message"),b=sessionStorage.getItem("tink_tracking_id");return h&&"tink"==h.toLowerCase()&&(g=window.location.protocol+"//"+window.location.hostname+"/bin/westernunion/securehandler?"+(h?"&amp;paymentSource="+h:"")+(p?"&amp;payment_request_id="+p:"")+(l?"&amp;error="+l:"")+(v?"&amp;error_type="+v:"")+(S?"&amp;error_reason="+S:"")+(m?"&amp;message="+m:"")+(b?"&amp;tracking_id="+b:"")),r.Value=g,r}setPaymentDetails(r){if(void 0!==r.sender&&void 0!==r.sender.address&&"PL"===r.sender.address.country_iso_code&&this.removeCardinalInfo(r),void 0!==r.apollo_flag&&"true"==r.apollo_flag){r.store_type="INIT";const v=JSON.parse(this.utilService.getSessionStorageItem("ValidationResponse"));this.isAccuylnkValidationCheck(v)||(r.payment_details.payment_type="DebitCard"),("CreditCard"===r.payment_details.payment_type||"DebitCard"===r.payment_details.payment_type)&&this.utilService.isRussia3DSv2Enabled(A().get(r,"payment_details.payment_method.payment_sub_type"))&&(r.payment_details.redirectionURL=this.utilService.getRedirectionUrl()),this.removeCardinalInfo(r)}if(this.isPinDebitTrx&&(r.payment_details.payment_type="DebitCard",r.payment_details.credit_debit_card.pin_debit=this.getPinPadObj(),void 0!==r.apollo_flag&&"true"==r.apollo_flag&&(r.store_type="AUTH")),this.utilService.isTrustlyExpressEnabled()&&(r.payment_details.credit_debit_card.card_consent_flag=this.utilService.getSessionStorageItem("saveBankAccountValue")),"true"==window.sessionStorage.is3DSTrx&&void 0!==r.payment_details.credit_debit_card.cardinal_info){if(null!=r.payment_details.credit_debit_card.cardinal_info.cardinal_params&&"true"!==sessionStorage.getItem("is3DSv2Trx")){const v={},S={};let m={};m=r.payment_details.credit_debit_card.cardinal_info.cardinal_params.card_digest,"apollo"==window.sessionStorage.securestatus?(v.status="null",r.store_type="AUTH",r.apollo_flag="true"):v.status=window.sessionStorage.securestatus;let b=window.sessionStorage.secureacsVerificationID;b=b?b.replace(/ /g,"+"):"",v.acs_verification_id=b.replace(" ","+");let Y=window.sessionStorage.securereasonCode;Y=Y?Y.replace(/ /g,"+"):"",v.reason_code=Y,void 0!==m&&(v.card_digest=m),"apollo"==window.sessionStorage.securestatus&&(v.card_digest=sessionStorage.cardDigestAppollo,delete sessionStorage.card_digest),r.payment_details.credit_debit_card.cardinal_info=null,S.available="true",S.cardinal_params=v,r.payment_details.credit_debit_card.cardinal_info=S}if("true"===sessionStorage.getItem("is3DSv2Trx")){let v={};const S=sessionStorage.getItem("StoreResponse")?JSON.parse(sessionStorage.getItem("StoreResponse")):null,m=sessionStorage.getItem("responseJWT")?JSON.parse(sessionStorage.getItem("responseJWT")):null;"apollo"==window.sessionStorage.securestatus&&(r.store_type="AUTH",r.apollo_flag="true"),S&&(v=S.paymentDetails.creditDebitCard.cardinalInfo,v.cardinal_params=v.cardinalParams,v.cardinal_params.reason_code=m||null,delete v.cardinalParams),r.payment_details.credit_debit_card.cardinal_info=v}delete window.sessionStorage.is3DSv2Trx,delete window.sessionStorage.securestatus,delete window.sessionStorage.secureacsVerificationID,delete window.sessionStorage.secureeciCode,delete window.sessionStorage.securereasonCode,delete window.sessionStorage.is3DSTrx}if(void 0!==sessionStorage.getItem("transactionId")&&null!==sessionStorage.getItem("transactionId")&&""!==sessionStorage.getItem("transactionId")&&"null"!==sessionStorage.getItem("transactionId")){const v={};this.utilService.getSessionStorageItem("isPWMB")&&(r.store_type="AUTH",delete window.sessionStorage.isPWMB),v.pwmb_response="",v.pwmb_transaction_id=sessionStorage.getItem("transactionId"),delete window.sessionStorage.transactionId,r.sender.wallet.bank_accounts.bank_account[0].pwmb_info=v}let g=!1;g=window.sessionStorage&&window.sessionStorage.isSofortTxnCancelled&&"true"==window.sessionStorage.isSofortTxnCancelled;const p=JSON.parse(sessionStorage.getItem("featureFlags")),h=!!(p.SOFORT_REDIRECT_TO_PROGRESS_ON_CANCEL&&p.SOFORT_REDIRECT_TO_PROGRESS_ON_CANCEL.countries.indexOf(this.utilService.getCurrentCountryFromURL().toUpperCase())>-1);"true"===sessionStorage.getItem("isSofort")&&g&&(p.SOFORT_REDIRECT_TO_PROGRESS_ON_CANCEL_Flow||h)&&(r.store_type="AUTH",r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.utilService.getSofortParams(!1)));let l=!1;if(l=window.sessionStorage&&window.sessionStorage.securestatus&&"apollo"==window.sessionStorage.securestatus,"true"===sessionStorage.getItem("isSofort")&&l&&(sessionStorage.removeItem("isSofort"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH",r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.utilService.getSofortParams(!1))),"true"===sessionStorage.getItem("isPoli")&&l&&(sessionStorage.removeItem("isPoli"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH",r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.utilService.getSofortParams(!1))),"true"===sessionStorage.getItem("isParamount")&&"true"==sessionStorage.getItem("paramountProcessingDone")&&(sessionStorage.removeItem("isParamount"),sessionStorage.removeItem("paramountProcessingDone"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH"),"true"===sessionStorage.getItem("isFPX")&&l&&(sessionStorage.removeItem("isFPX"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH"),"true"===sessionStorage.getItem("isMobileWallet")&&l&&(sessionStorage.removeItem("isMobileWallet"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH"),"true"===sessionStorage.getItem("isIDeal")&&l&&(sessionStorage.removeItem("isIDeal"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH",r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.utilService.getSofortParams(!1),this.utilService.isIdealNewUserExp()))){r.payment_details.payment_method.params.param.push({Key:"NEW_IDEAL_VERSION",Value:"Y"})}if("true"===sessionStorage.getItem("isTrustly")&&l&&(sessionStorage.removeItem("isTrustly"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH",r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.utilService.getSofortParams(!1))),"true"===sessionStorage.getItem("isTapNGo")&&(sessionStorage.removeItem("isTapNGo"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH",r.payment_details)){const v=sessionStorage.getItem("tapNGoFormPostData")?sessionStorage.getItem("tapNGoFormPostData"):null;v&&(r.payment_details.apollo_json_buffer=v)}if("true"===sessionStorage.getItem("isRussia3DSV2Trx")||this.utilService.isRussia3DSV2EnabledR3()&&"paymentprocessing"==this.utilService.getCurrentPageName()){const v=sessionStorage.getItem("russia3DSv2PSBdata")?sessionStorage.getItem("russia3DSv2PSBdata"):null;r.store_type="AUTH",A().get(r,"payment_details.credit_debit_card.cardinal_info.cardinal_params")&&v&&(r.payment_details.credit_debit_card.cardinal_info.cardinal_params.reason_code=v)}"true"===sessionStorage.getItem("isPlaidSuccess")?(sessionStorage.removeItem("isPlaidSuccess"),r.store_type="AUTH",r.payment_details.payment_method.params={},r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.getPlaidParams(!0))):"false"===sessionStorage.getItem("isPlaidSuccess")&&(sessionStorage.removeItem("isPlaidSuccess"),r.store_type="AUTH",r.payment_details.payment_method.params={},r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.getPlaidParams(!1))),"true"===sessionStorage.getItem("isBanContact")&&l&&(sessionStorage.removeItem("isBanContact"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH",r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.getBanContactParams())),"true"===sessionStorage.getItem("isKlarna")&&(sessionStorage.removeItem("isKlarna"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH",r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.getKlarnaParams())),"true"===sessionStorage.getItem("isTink")&&l&&(sessionStorage.removeItem("isTink"),sessionStorage.removeItem("securestatus"),r.store_type="AUTH",r.payment_details&&r.payment_details.payment_method.params&&(r.payment_details.payment_method.params=this.getTinkParams())),r.payment_details&&"Paramount"===r.payment_details.payment_type&&(r.isNotThirdParty="false")}getPlaidParams(r){const g={},p=[];return p.push(this.getPlaidResponseCode(r)),g.param=p,g}getPlaidResponseCode(r){const g={};let p=null;return g.Key="response_code",sessionStorage.securereasonCode&&null!=sessionStorage.securereasonCode&&(p=sessionStorage.securereasonCode.toLowerCase()),p=r?window.location.protocol+"//"+window.location.hostname+"/bin/westernunion/securehandler?response=success":window.location.protocol+"//"+window.location.hostname+"/bin/westernunion/securehandler?response=cancel",g.Value=p,g}static#e=this.\u0275fac=function(g){return new(g||a)(O.KVO(o.R),O.KVO(e.k),O.KVO(K.a),O.KVO($.E),O.KVO(P.O),O.KVO(D.l),O.KVO(f.qd),O.KVO(E.A),O.KVO(N.y),O.KVO(_.p),O.KVO(G.c$),O.KVO(w.Dx))};static#t=this.\u0275prov=O.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},60988:(n,d,t)=>{"use strict";t.d(d,{D:()=>D});class o{}var e=t(64646),x=t(66726),$=t(67376),W=t(37486),K=t(67374),V=t.n(K),P=t(93885);class D{constructor(C,A,E,N,_,M){this._utilService=C,this.baseRequestService=A,this._store=E,this.featureFlagService=N,this.countryConfigService=_,this.instantTransferService=M,this.isStrikePricingEnabled=!1,this._smvRequestPayload=new o,this._store.pipe((0,e.Lt)(x.T1)).subscribe(U=>{this.clientIp=U}),this._store.pipe((0,e.Lt)(x.w8)).subscribe(U=>{this.sender=U}),this._store.pipe((0,e.Lt)(x.mA)).subscribe(U=>{this.corridor=U}),this._store.pipe((0,e.Lt)(x.rb)).subscribe(U=>{this.selectedProduct=U}),this._store.pipe((0,e.Lt)(x.J5)).subscribe(U=>{this.selectedReceiver=U}),this._store.pipe((0,e.Lt)(x.si)).subscribe(U=>{this.pepDetails=U}),this._store.pipe((0,e.Lt)(x.Ui)).subscribe(U=>{this.complianceWeb=U}),this._store.pipe((0,e.Lt)(x.GI)).subscribe(U=>{this.efl=U}),this._store.pipe((0,e.Lt)(x.Ql)).subscribe(U=>{this.selectedBiller=U}),this._smvRequestPayload=this.getRequestForSMV(),this.isStrikePricingEnabled=this._utilService.isStrikethroughEnabled()}build(){return this._smvRequestPayload}buildChannel(){return this._smvRequestPayload.channel=this.baseRequestService.getChannel(),this}buildSecurity(){return this._smvRequestPayload.security=this.baseRequestService.getSecurity(),this._smvRequestPayload.security.black_box_data=this.baseRequestService.getGlobalBlackBoxData(),this}buildSender(C,A=!1){return this.getSenderObject(C,A),this}buildReceiver(C,A){return this.getReceiverDetails(C,A),this}buildWuProduct(C){const A={name:this.selectedProduct.name,code:this.selectedProduct.code,routing_code:this.selectedProduct.routingCode||void 0,speed_indicator:this.selectedProduct.speedIndicator};this.selectedProduct.isDirected&&this.selectedProduct.payIn!==W.mt.Cash&&A&&A.name&&"BILL_PAYMENT"!==A.name&&(A.is_directed="Y"===this.selectedProduct.isDirected?"Y":"N"),"IN"===this.corridor.senderCountry?.isoCode&&(A.routing_code="1111\\EBD"),$.get(C,"resumeSmvCall")&&$.get(C,"wuProduct.location")?A.location=C.wuProduct.location:this.selectedProduct.location&&(A.location=this.selectedProduct.location);let E=!1;return this._store.pipe((0,e.Lt)(x.yI)).subscribe(N=>{E=N}),E&&(A.speed_indicator="0",A.is_directed="N"),this._smvRequestPayload.wu_product=A,this}setStrikeFxRate(){this.isStrikePricingEnabled&&this.selectedProduct.strikeThrough&&($.isUndefined(this.selectedProduct.strikeThrough?.strike_fx_rate)||(this._smvRequestPayload.payment_details.strike_fx_rate=this.selectedProduct.strikeThrough.strike_fx_rate),$.isUndefined(this.selectedProduct.strikeThrough?.strike_gross_fee)||(this._smvRequestPayload.payment_details.fees.strike_gross_fee=Math.floor(Number((100*this.selectedProduct.strikeThrough.strike_gross_fee).toFixed(2)))))}buildPaymentDetails(C,A){const E=C;if(this.updateOrigination(),this.updateDestination(C,A),this._smvRequestPayload.payment_details.fees.charges=this.getFees(),this._smvRequestPayload.payment_details.exchange_rate=this.getExchangeRate(),this.setStrikeFxRate(),$.get(E,"paymentDetails.identificationQuestion")&&(this._smvRequestPayload.payment_details.identification_question=E.paymentDetails.identificationQuestion),this.selectedReceiver&&this.selectedReceiver.secretQuestion&&(this._smvRequestPayload.payment_details.identification_question=this.selectedReceiver.secretQuestion),"BR"===this.countryConfigService.getCountry()){const N=$.get(C,"paymentDetails.txnReasonCode")||$.get(this.selectedReceiver,"selfDeclaredQuestions.purposeOfTransaction");this._smvRequestPayload.payment_details.txn_reason_code=N||null,this._smvRequestPayload.repeat_mtcn=C.mtcn}if(this.selectedProduct.taxes&&this.selectedProduct.taxes.taxAmount&&(this._smvRequestPayload.payment_details.taxes={municipal_tax:Math.round(100*Number(this.selectedProduct.taxes.taxAmount))}),$.get(C,"resumeSmvCall")&&$.get(C,"paymentDetails.expected_payout_location")?this._smvRequestPayload.payment_details.expected_payout_location=C.paymentDetails.expected_payout_location:this.corridor&&this.corridor.receiverCity&&this.corridor.receiverState&&(this._smvRequestPayload.payment_details.expected_payout_location={city:this.corridor.receiverCity,state_code:this.corridor.receiverState.isoCode,state_name:this.corridor.receiverState.name}),this._utilService.isRealTimeACHEnabled()||this._utilService.isRealTimeACHviaTrustlyEnabled()){const N=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus"));if(this.instantTransferService.checkFundInAllowedForRealTime(this.selectedProduct.payIn,this.getReceivingCountry())&&$.has(N,"wACH")){let _="";const M=C?.receiver?.wallet;if(this.selectedProduct.payOut===W.Zr.WA&&M)_=M.wuWallet?M.wuWallet.service_provider_code:M.wu_wallet.service_provider_code;else if(this.selectedProduct.payOut===W.Zr.BA&&M){const w=M.bankAccounts?M.bankAccounts:M.bank_accounts;_=w&&w[0]?w[0]?.bank_code?w[0].bank_code:w[0].bankCode:$.get(w,"['bankAccount'][0]")?w.bankAccount[0].bank_code?w.bankAccount[0].bank_code:w.bankAccount[0].bankCode:w.bank_account[0].bank_code}const U=this.instantTransferService.checkIfRealTime(_,this.selectedProduct.payOut,this.selectedProduct.payIn);this._smvRequestPayload.payment_details.is_apn_allow_instance=U}}return this}handleComplianceData(C,A){$.get(C,"resumeSmvCall")&&(A={...A,...C.sender.compliance_details},$.get(C,"sender.occupation")&&(this._smvRequestPayload.sender.occupation=C.sender.occupation)),this._smvRequestPayload.sender.compliance_details=A,A&&Object.keys(A).length&&this._smvRequestPayload.sender.compliance_details&&(this.sender?.registrationDetails&&(this.sender.registrationDetails.occupation&&(this._smvRequestPayload.sender.compliance_details.occupation=this.sender.registrationDetails.occupation),this.sender.registrationDetails.nationality&&this.sender.registrationDetails.nationality.isoCode&&(this._smvRequestPayload.sender.compliance_details.nationality=this.sender.registrationDetails.nationality.isoCode),this.sender.registrationDetails.countryOfBirth&&(this._smvRequestPayload.sender.compliance_details.country_of_birth=this.sender.registrationDetails.countryOfBirth.isoCode)),this.complianceDOB())}complianceDOB(){if(this.sender?.dateOfBirth&&this._smvRequestPayload?.sender?.compliance_details){const C=this.dateReformater(this.sender.dateOfBirth);this._smvRequestPayload.sender.compliance_details.date_of_birth="BR"===this.corridor.senderCountry?.isoCode?C.replace(/\//gi,"-"):C}}dateReformater(C){let A="";const E=C.split("-"),N=Number(E.length-2);for(let _=E.length-N;_>=0;_--)A+=E[_],4!==E[_].length&&(A+="/");return A}updateSenderObj(C){if(this.selectedProduct.payIn!==W.mt.Cash&&this._utilService.promoPricingWebCampaign().subscriptionId&&this.sender?.isLoggedIn&&(this._smvRequestPayload.sender.subscription_id=this._utilService.promoPricingWebCampaign().subscriptionId),this.selectedProduct.payIn!==W.mt.Cash&&this._utilService.promoPricingWebCampaign()&&this._utilService.isPostLoginPromoCampaignEnabled()){const A=this._utilService.promoPricingWebCampaign();this._smvRequestPayload.sender.campaign_name=A.promoPricingCampaign?A.promoPricingCampaign:void 0}if(C?.sender&&C?.sender?.wallet&&("ACH"===C.paymentDetails.paymentType||"Paramount"===C.paymentDetails.paymentType||"BankAccount"===C.paymentDetails.paymentType||"iACH"===C.paymentDetails.paymentType||"Plaid"===C.paymentDetails.paymentType||this._utilService.isTrustlyEnabledCountry(C.paymentDetails.paymentType)&&C.sender.wallet?.bankAccounts?.bankAccount?.length>0||"AR"===this.sender.address.countryIsoCode&&"WUPay"===C.paymentDetails.paymentType)&&(this._smvRequestPayload.sender.wallet=this.updateSenderWallet(C)),sessionStorage.getItem("SenderOccupation")&&(this._smvRequestPayload.sender.occupation=sessionStorage.getItem("SenderOccupation")||void 0),this._utilService.isAnnualIncomeEnabled()&&C.sender&&C.sender.registrationDetails&&(this._smvRequestPayload.sender.annual_income=C.sender.registrationDetails.annual_income),sessionStorage.getItem("CountryOfBirth")&&(this._smvRequestPayload.sender.country_of_birth=sessionStorage.getItem("CountryOfBirth")||void 0),$.get(C,"resumeSmvCall")&&$.get(C,"sender.industry")){this._smvRequestPayload.sender.industry=C.sender.industry;const A=JSON.parse(sessionStorage.getItem("ComplianceData")||"{}");$.get(A,"industry")||(A.industry=C.sender.industry,sessionStorage.setItem("ComplianceData",JSON.stringify(A)))}}handleBrazilFlow(C,A){if("BR"===this.countryConfigService.getCountry()){const E=$.get(C,"sender.compliance_details.id_documents");if(E&&(A.id_documents=this.getIdDocuments(E)),this.getReceivingCountry()&&"IN"===this.getReceivingCountry().toUpperCase())A.transaction_purpose=this.selectedReceiver.selfDeclaredQuestions.purposeOfTransaction;else if(A.transaction_purpose=this.selectedReceiver.selfDeclaredQuestions.purposeOfTransactionText||$.get(C,"sender.compliance_details.transaction_purpose"),!A.transaction_purpose){const U=JSON.parse(sessionStorage.getItem("ReceiverTemplate_v")||"{}").ctrTemplate?.dataPurpose;U.hasOwnProperty(C?.receiver?.selfDeclaredQuestions?.purposeOfTransaction)&&(A.transaction_purpose=U[C?.receiver?.selfDeclaredQuestions?.purposeOfTransaction])}const N=$.get(this.sender,"registrationDetails.countryOfBirth.isoCode");this._smvRequestPayload.sender.country_of_birth=N||null,this._smvRequestPayload.sender.date_of_birth=this.sender.dateOfBirth;const _=$.get(this.sender,"registrationDetails.occupation",null);this._smvRequestPayload.sender.occupation=_,A.occupation=_,this._smvRequestPayload.sender.name.is_name_verified="Y",delete this._smvRequestPayload.sender.compliance_details?.country_of_birth,delete A?.country_of_birth}else if("AG"!==this.selectedProduct.payIn&&(this._smvRequestPayload.sender.date_of_birth=this.sender?.dateOfBirth,this._smvRequestPayload.sender.compliance_details)){const E=$.get(this.sender,"registrationDetails.occupation");this.featureFlagService.isFeatureEnabled("SG_SDQ_COLLECTION_SUPPORT")&&E&&(this._smvRequestPayload.sender.occupation=E.replaceAll("##","/")),delete this._smvRequestPayload.sender.compliance_details.occupation,delete this._smvRequestPayload.sender.compliance_details.country_of_birth,delete this._smvRequestPayload.sender.compliance_details.date_of_birth,delete this._smvRequestPayload.sender.compliance_details.industry}}getSenderObject(C,A=!1){if(this.getSenderName(),this.getSenderAddress(C),this.getPhoneNumber(),this._smvRequestPayload.sender.email=this.sender?.email,!A){const E=this.getSenderCompliance();this.handleComplianceData(C,E),this.updateSenderObj(C),this._smvRequestPayload.sender.preferred_customer={account_nbr:this.sender?.myWuNumber},this.sender?.additionalPreferedAccountNumber&&(this._smvRequestPayload.sender.additional_preferred_customers=this._utilService.isSybaseEnabled("/SendMoneyValidation",this.selectedProduct.payIn===W.mt.Cash?"retail":void 0)?{preferred_customer:[{account_nbr:this.sender.additionalPreferedAccountNumber}]}:{preferred_customer:{account_nbr:this.sender.additionalPreferedAccountNumber}}),this._smvRequestPayload.sender.contact_phone_country_prefix=this.sender?.contactPhoneCountryPrefix?this.sender?.contactPhoneCountryPrefix?.toString():"",this._smvRequestPayload.sender.contact_phone=this.sender?.contactPhone?this.sender?.contactPhone?.toString():"",this.handleBrazilFlow(C,E),E&&"BR"===this.countryConfigService.getCountry()&&(this._smvRequestPayload.sender.compliance_details=E),this._utilService.isSelfieKycFeatureEnabledForPayin()&&this.sender?.customerCategory&&(this._smvRequestPayload.sender.customer_category=this.sender?.customerCategory)}this.selectedProduct.payIn===W.mt.Cash&&this.updateRetailDOB()}updateRetailDOB(){const C=this._smvRequestPayload.sender.compliance_details;if(!C)return;const A=C&&!C.transaction_purpose&&!C.source_of_funds&&!C.nationality,E=this.sender.dateOfBirth?V()(this.sender.dateOfBirth,"YYYY-MM-DD-hh:ss"):null;if(A)delete C?.date_of_birth;else if(P.Y.CountriesWithRetailCustomerProfileCallDisabled.includes(this.corridor.senderCountry?.isoCode||"")){const M=this.countryConfigService.getDateFormat()&&this.countryConfigService.getDateFormat().toUpperCase()||"MM/DD/YYYY";C.date_of_birth=E?E.format(M.toUpperCase()):void 0}else C.date_of_birth=this.sender.dateOfBirth?this.sender.dateOfBirth:void 0}getIdDocuments(C){const A=C.id_document;if(A)for(let E=0;E<A.length;E++){const N={data:$.get(A[E],"data",null),issuer:$.get(A[E],"issuer",null),type:$.get(A[E],"type",null),id_level:$.get(A[E],"idLevel",null)||$.get(A[E],"id_level",null),is_expired:$.get(A[E],"isExpired",null)||$.get(A[E],"is_expired",null),issue_place:$.get(A[E],"issuePlace",null)||$.get(A[E],"issue_place",null),isPrimary:$.get(A[E],"isPrimary",null)||$.get(A[E],"is_primary",null)};($.get(A[E],"issueDate")||$.get(A[E],"issue_date"))&&(N.issue_date=$.get(A[E],"issueDate",null)||$.get(A[E],"issue_date",null)),($.get(A[E],"expirationDate")||$.get(A[E],"expiration_date"))&&(N.expiration_date=$.get(A[E],"expirationDate",null)||$.get(A[E],"expiration_date",null)),($.get(A[E],"issueCountry")||$.get(A[E],"issue_country"))&&(N.issue_country=$.get(A[E],"issueCountry",null)||$.get(A[E],"issue_country",null)),C.id_document[E]=N}return C}updateSenderWallet(C){const A=C.sender.wallet.bankAccounts.bankAccount[0],E={},N=[],_={},M={};_.id=A.id,_.paymentInstrumentId=A.paymentInstrumentId,_.customer_name=this.getCustomerBankBillingName(A.customerName),_.address=this.getCustomerBankBillingAddress(A.address),_.bank_name=A.bankName,_.account_number=A.accountNumber,_.routing_number=A.routingNumber,_.account_type=A.accountType,_.bank_code=A.bankCode,this._utilService.isTrustlyEnabledCountry(this.selectedProduct.payIn)&&A.nationalIdentificationNumber&&(_.national_identification_number=A.nationalIdentificationNumber);const U=this.countryConfigService.isParamountEnabled();return this.selectedProduct.payIn&&U&&(_.branch_code=A.branchCode),A&&A.bank_code&&A.branch_code&&(_.bank_code=A.bank_code,_.branch_code=A.branch_code),"AR"===this.sender.address.countryIsoCode&&(_.currency=this.selectedProduct.origination?.currencyIsoCode),A&&A.itemId&&(_.item_id=A.itemId,_.access_token=A.accessToken,_.financial_id=A.financialId,_.branch_code=A.financialId),this._utilService.isAchPmwbEnabled()&&A&&A.accountNumberLastFour&&(_.account_number_last_four=A.accountNumberLastFour,_.virtual_account_routing_pair=A.virtualAccountRoutingPair),this._utilService.isRealTimeACHviaTrustlyEnabled()&&($.has(A,"transactionId")&&(_.transactionId=A.transactionId),$.has(A,"accessToken")&&(_.access_token=A.accessToken)),N.push(_),E.bank_account=N,M.bank_accounts=E,M}getCustomerBankBillingName(C){const A={};return C&&C.firstName?A.first_name=C.firstName:this.sender.firstName&&(A.first_name=this.sender.firstName),C&&C.lastName?A.last_name=C.lastName:this.sender.lastName&&(A.last_name=this.sender.lastName),C&&C.middleName&&(A.middle_name=C.middleName),A}getCustomerBankBillingAddress(C){const A={};return C&&C.addrLine1?A.addr_line1=C.addrLine1:this.sender.address&&this.sender.address.addressLine1&&(A.addr_line1=this.sender.address.addressLine1),C&&C.addrLine2?A.addr_line2=C.addrLine2:this.sender.address&&this.sender.address.addressLine2&&(A.addr_line2=this.sender.address.addressLine2),C&&C.city?A.city=C.city:this.sender.address&&this.sender.address.city&&(A.city=this.sender.address.city),C&&C.state?A.state=C.state:this.sender.address&&this.sender.address.state&&(A.state=this.sender.address.state),C&&C.postalCode?A.postal_code=C.postalCode:this.sender.address&&this.sender.address.zipCode&&(A.postal_code=this.sender.address.zipCode),C&&C.countryIsoCode?A.country_iso_code=C.countryIsoCode:this.sender.address&&this.sender.address.countryIsoCode&&(A.country_iso_code=this.sender.address.countryIsoCode),A}getPhoneNumber(){this._smvRequestPayload.sender.mobile_phone=this.sender?.mobileNumber&&this.sender?.mobileNumber?.mobileNumber?{phone_number:{country_code:this.sender.mobileNumber.countryCode.toString(),national_number:this.sender.mobileNumber.mobileNumber.toString()}}:{phone_number:{country_code:this.sender?.contactPhoneCountryPrefix?.toString(),national_number:this.sender?.contactPhone?this.sender?.contactPhone.toString():""}}}getSenderCompliance(){const C={},A=this.countryConfigService.isRetail();if(this.selectedReceiver&&this.selectedReceiver.selfDeclaredQuestions){const E=this.selectedReceiver.selfDeclaredQuestions;(E&&E.purposeOfTransaction&&!A||E&&E.purposeOfTransaction&&"BR"===this.countryConfigService.getCountry()&&this.selectedProduct.payIn!==W.mt.Cash)&&(C.transaction_purpose=this.selectedReceiver.selfDeclaredQuestions.purposeOfTransaction),E.sourceOfFunds&&(C.source_of_funds=this.selectedReceiver.selfDeclaredQuestions.sourceOfFunds),E.relationshipToReceiver&&(C.sender_receiver_relationship=this.selectedReceiver.selfDeclaredQuestions.relationshipToReceiver);const N=this.getReceivingCountry(),_=["cn","in","pl","ru","eg","lk"];"AU"===this.corridor.senderCountry?.isoCode&&-1!==_.indexOf(N)&&(C.transaction_purpose=this.selectedReceiver.selfDeclaredQuestions.purposeOfTransactionText||this.selectedReceiver.selfDeclaredQuestions.purposeOfTransaction)}if(!C.transaction_purpose&&this.selectedReceiver&&this.selectedReceiver.complianceDetails&&this.selectedReceiver.complianceDetails.transactionPurpose&&(C.transaction_purpose=this.selectedReceiver.complianceDetails.transactionPurpose),this.sender?.registrationDetails&&this.sender?.registrationDetails?.nationality&&this.sender?.registrationDetails?.nationality?.isoCode&&(C.nationality=this.sender.registrationDetails.nationality.isoCode),this.sender?.registrationDetails&&this.sender?.registrationDetails?.countryOfBirth&&this.sender?.registrationDetails?.countryOfBirth?.isoCode&&(C.country_of_birth=this.sender.registrationDetails.countryOfBirth.isoCode),this.selectedProduct.payIn===W.mt.Cash&&(C.is_telemarketer=!1),this.getIdDetails(C),this.getPepDetails(C),this.featureFlagService.isFeatureEnabled("MAILING_ADDRESS_CONFIRMATION")&&$.get(this.selectedProduct,"origination.principalAmount",null)/100>=3e3){const E=JSON.parse(sessionStorage.getItem("additionalInfo")||null)||{};$.isUndefined(E.is_diff_mailing_address)||$.set(C,"is_mail_addr_differ_from_resd_addr",E.is_diff_mailing_address?"Y":"N"),$.isEmpty(E.mailing_address)||($.get(E,"mailing_address.country_name")&&delete E.mailing_address.country_name,$.set(C,"mailing_address",E.mailing_address))}return C}getReceivingCountry(){return this.corridor&&this.corridor.receiverCountry?this.corridor?.receiverCountry?.isoCode?.toLowerCase():""}getIdDetails(C){this.complianceWeb&&(this.complianceWeb.idDetails&&(C.id_documents={},C.id_documents.id_document=this.complianceWeb.idDetails),C.id_documents&&C.id_documents.id_document&&0===C.id_documents.id_document.length&&delete C.id_documents,this.complianceWeb.relationshipToReceiver&&(C.sender_receiver_relationship=this.complianceWeb.relationshipToReceiver))}getPepDetails(C){this.pepDetails&&this.pepDetails.is_politically_exposed&&(C.is_politically_exposed=this.pepDetails.is_politically_exposed,this.pepDetails.pepCategory&&(C.pep_category=this.pepDetails.pepCategory))}getSenderName(){this.sender?.firstName&&(this._smvRequestPayload.sender.name.first_name=this.sender.firstName),this.sender?.middleName&&this.sender?.middleName.trim()&&(this._smvRequestPayload.sender.name.middle_name=this.sender.middleName),this.sender?.lastName&&(this._smvRequestPayload.sender.name.last_name=this.sender.lastName),this.sender?.givenName&&(this._smvRequestPayload.sender.name.given_name=this.sender.givenName),this.sender?.maternalName&&(this._smvRequestPayload.sender.name.maternal_name=this.sender.maternalName),this.sender?.paternalName&&(this._smvRequestPayload.sender.name.paternal_name=this.sender.paternalName)}getSenderAddress(C){this._smvRequestPayload.sender.address.addr_line1=this.sender?.address?.addressLine1,this._smvRequestPayload.sender.address.addr_line2=this.sender?.address?.addressLine2?this.sender?.address?.addressLine2:void 0,this._smvRequestPayload.sender.address.city=this.sender?.address?.city,this._smvRequestPayload.sender.address.state=this.getSenderState(this.sender),this._smvRequestPayload.sender.address.postal_code=this.sender?.address?.zipCode,this._smvRequestPayload.sender.address.country_iso_code=this.sender?.address?.countryIsoCode,this.isLBP=sessionStorage.getItem("partnerName"),this.isLBP!==P.Y.LBP_PARTNER&&(C.paymentDetails&&("AG"===C.paymentDetails.paymentType||"Cash"===C.paymentDetails.paymentType)||"AG"===this.selectedProduct.payIn)&&(this._smvRequestPayload.sender.address.country_name=$.get(this.corridor,"senderCountry.name"))}getSenderState(C){if(this._utilService.isSPTransaction())return C.address.state||"NA";const A=sessionStorage.getItem("applicationName"),E=JSON.parse(sessionStorage.getItem("CustomerProfile")||"{}");return E&&A&&E.address&&E.address.state&&"PPS"===A?E.address.state:C?.address?.state}getReceiverDetails(C,A){if("resend"===A){C?.receiver&&C?.receiver?.address&&C?.receiver?.address?.addrLine1&&(this._smvRequestPayload.receiver.address.addr_line1=C.receiver.address.addrLine1),C.receiver&&C.receiver.address&&C.receiver.address.addrLine2&&(this._smvRequestPayload.receiver.address.addr_line2=C.receiver.address.addrLine2),C.receiver&&C.receiver.address&&C.receiver.address.city&&(this._smvRequestPayload.receiver.address.city=C.receiver.address.city),C.receiver&&C.receiver.address&&C.receiver.address.postalCode&&(this._smvRequestPayload.receiver.address.postal_code=C.receiver.address.postalCode),C.receiver&&C?.receiver?.address&&C.receiver.address.state&&(this._smvRequestPayload.receiver.address.state=C.receiver.address.state),this._smvRequestPayload.receiver.address.country_iso_code=this.selectedReceiver?.address?.countryIsoCode;const N={phone_number:{country_code:C?.receiver?.mobilePhone&&C?.receiver?.mobilePhone?.phoneNumber?C?.receiver?.mobilePhone?.phoneNumber?.countryCode:null,national_number:C?.receiver?.mobilePhone&&C?.receiver?.mobilePhone?.phoneNumber?C?.receiver?.mobilePhone?.phoneNumber?.nationalNumber:null}};this._smvRequestPayload.receiver.receiver_national_id=this.selectedReceiver?.receiver_national_id,this._smvRequestPayload.receiver.mobile_phone=N,this._smvRequestPayload.receiver.email=C?.receiver?.email,C.receiver&&C.receiver.consumer_to_business_reference&&(this._smvRequestPayload.receiver.consumer_to_business_reference=C.receiver.consumer_to_business_reference),C.receiver&&C.receiver.consumer_to_business_name?(this._smvRequestPayload.receiver.consumer_to_business_name=C.receiver.consumer_to_business_name,delete this._smvRequestPayload.receiver.name):(this._smvRequestPayload.receiver.name.first_name=this.selectedReceiver&&this.selectedReceiver.name&&this.selectedReceiver.name.firstName?this.selectedReceiver.name.firstName.toUpperCase():"",this._smvRequestPayload.receiver.name.last_name=this.selectedReceiver?.name&&this.selectedReceiver?.name?.lastName?this.selectedReceiver?.name?.lastName?.toUpperCase():this.selectedReceiver?.name?.paternalName?.toUpperCase()),this.selectedReceiver&&this.selectedReceiver.name&&this.selectedReceiver.name.middleName&&(this._smvRequestPayload.receiver.name.middle_name=this.selectedReceiver.name.middleName),C.receiver&&C.receiver.nationality&&(this._smvRequestPayload.receiver.nationality=C.receiver.nationality),C.receiver&&(C.receiver.date_of_birth||C.receiver.dateOfBirth)&&(this._smvRequestPayload.receiver.date_of_birth=C.receiver.date_of_birth||C.receiver.dateOfBirth),this.updateRelationToRcvr(),this._smvRequestPayload.receiver.uid=C.receiver?.uid,this._smvRequestPayload.receiver.id=C.receiver?.id}else if("bill-pay"===this.selectedProduct.type)this._smvRequestPayload.receiver.address.country_iso_code=C.receiver.address.country_iso_code;else if("inmate-pay"===this.selectedProduct.type)this._smvRequestPayload.receiver.address.country_iso_code=C.receiver.address.country_iso_code,this._smvRequestPayload.receiver.name.first_name=this.selectedBiller.billerReceiverFirstName,this._smvRequestPayload.receiver.name.last_name=this.selectedBiller.billerReceiverLastName,this.selectedBiller&&this.selectedBiller.billerReceiverMiddleName&&(this._smvRequestPayload.receiver.name.middle_name=this.selectedBiller.billerReceiverMiddleName);else{if("reload-options"!==this.selectedProduct.type)return this.getReceiverDetailsFromStore();this._smvRequestPayload.receiver.mobile_phone={phone_number:{country_code:C?.receiver?.mobilePhone&&C?.receiver?.mobilePhone?.phoneNumber?C?.receiver?.mobilePhone?.phoneNumber?.countryCode:null,national_number:C?.receiver?.mobilePhone&&C?.receiver?.mobilePhone?.phoneNumber?C?.receiver?.mobilePhone?.phoneNumber?.nationalNumber:null}},this._smvRequestPayload.receiver.address.country_iso_code=C.receiver.address.country_iso_code,this._smvRequestPayload.receiver.name.first_name=this.selectedBiller.billerReceiverFirstName,this._smvRequestPayload.receiver.name.last_name=this.selectedBiller.billerReceiverLastName,this._smvRequestPayload.receiver.id=C.receiver?.id,this._smvRequestPayload.receiver.uid=C.receiver?.uid,this.selectedBiller&&this.selectedBiller.billerReceiverMiddleName&&(this._smvRequestPayload.receiver.name.middle_name=this.selectedBiller.billerReceiverMiddleName)}const E=JSON.parse(sessionStorage.getItem("ReceiverTemplate_v")||"{}");!this._smvRequestPayload?.receiver?.name?.last_name&&this._utilService.enableReceiverNoLastNameCheckbox()&&("O"===E?.ctrTemplate?.noLastNameField||"M"===E?.ctrTemplate?.noLastNameField)&&delete this._smvRequestPayload?.receiver?.name?.last_name}updateRelationToRcvr(){this.featureFlagService.isFeatureEnabledForReceiver("RELATIONSHIPTORECEIEVER_IN_RECEIVER_NODE",this.selectedReceiver?.address?.countryIsoCode)&&(this.selectedProduct?.payOut===W.Zr.BA||this.selectedProduct?.payOut===W.Zr.WA)&&(this.selectedReceiver&&this.selectedReceiver.complianceDetails&&this._smvRequestPayload.receiver.compliance_details?this._smvRequestPayload.receiver.compliance_details.sender_receiver_relationship=this.selectedReceiver.selfDeclaredQuestions.relationshipToReceiver:this._smvRequestPayload.receiver.compliance_details={sender_receiver_relationship:this.selectedReceiver.selfDeclaredQuestions.relationshipToReceiver})}updateOrigination(){this.selectedProduct?.origination?.grossAmount&&(this.selectedProduct.origination.grossAmount=Math.round(Number(this.selectedProduct.origination.grossAmount)));const C=$.get(this.selectedProduct,"origination.principalAmount"),A=$.get(this.selectedProduct,"origination.grossAmount");"AG"===this.selectedProduct.payIn?(this._smvRequestPayload.payment_details.origination.principal_amount=$.get(this.selectedProduct,"origination.principalAmount",null),this._smvRequestPayload.payment_details.origination.gross_amount=$.get(this.selectedProduct,"origination.grossAmount",null),this._smvRequestPayload.payment_details.origination.efl={address:{country_iso_code:"",postal_code:"",state:""}},this._smvRequestPayload.payment_details.origination.efl.address.country_iso_code=$.get(this.efl,"address.country_iso_code"),this._smvRequestPayload.payment_details.origination.efl.address.postal_code=$.get(this.efl,"address.postal_code"),this._smvRequestPayload.payment_details.origination.efl.address.state=$.get(this.efl,"address.state")):(this._smvRequestPayload.payment_details.origination.principal_amount=C,this._smvRequestPayload.payment_details.origination.gross_amount=A),this._smvRequestPayload.payment_details.origination.currency_iso_code=$.get(this.selectedProduct,"origination.currencyIsoCode"),this._smvRequestPayload.payment_details.origination.country_iso_code=$.get(this.selectedProduct,"origination.countryIsoCode")}updateDestination(C,A){this._smvRequestPayload.payment_details.destination.expected_payout_amount=$.get(this.selectedProduct,"destination.expectedPayoutAmount"),this._smvRequestPayload.payment_details.destination.currency_iso_code="ST"===this.corridor.receiverCountry?.isoCode?this.corridor.receiverCurrency:$.get(this.selectedProduct,"destination.currencyIsoCode"),this._smvRequestPayload.payment_details.destination.country_iso_code=$.get(this.selectedProduct,"destination.countryIsoCode"),"resend"===A?(C?.receiver?.address&&C?.receiver?.address?.state&&(this._smvRequestPayload.payment_details.destination.state_code=C?.receiver?.address?.state),$.get(C,"paymentDetails.destination.split_payout")&&(this._smvRequestPayload.payment_details.destination.split_payout=C.paymentDetails.destination.split_payout)):(this.selectedReceiver&&this.selectedReceiver.address&&(this._smvRequestPayload.payment_details.destination.state_code=this.selectedReceiver.address.state),this.selectedProduct&&this.selectedProduct.destination&&this.selectedProduct.destination.splitPayOut&&(this._smvRequestPayload.payment_details.destination.split_payout=this.getSplitPayOutFromStore(this.selectedProduct.destination.splitPayOut)))}getSplitPayOutFromStore(C){return 0===C.length?[]:C.map(A=>({expected_payout_amount:A.expectedPayoutAmount,currency_iso_code:A.currencyIsoCode,exchange_rate:A.exchangeRate}))}getFees(){let C=this.selectedProduct.fees;return this.selectedProduct.promotion&&this.selectedProduct.promotion.discount&&(C=Number(this.selectedProduct.fees)-Number(this.selectedProduct.promotion.discount)),Math.floor(Number((100*C).toFixed(2)))}getExchangeRate(){let C="0";const A=$.get(this.selectedProduct,"exchangeRate");return A&&(C=(+A).toFixed(4)),C}getRequestForSMV(){const C=new o;return C.security={session:{id:""}},C.channel={name:"",type:"",version:"",device_identifier:""},C.sender={name:{},address:{country_iso_code:""},contact_phone_country_prefix:"",contact_phone:"",mobile_phone:{phone_number:{country_code:"",national_number:""}}},C.payment_details={origination:{principal_amount:1,gross_amount:1,currency_iso_code:"",country_iso_code:""},destination:{expected_payout_amount:1,currency_iso_code:"",country_iso_code:""},fees:{charges:1},exchange_rate:"",payment_type:""},C.wu_product={name:"",code:""},C.receiver={name:{first_name:"",last_name:""},address:{country_iso_code:""},id:""},C.bashPath="",C}getReceiverDetailsFromStore(){if(this.selectedReceiver){this.selectedReceiver.address&&this.selectedReceiver.address.addressLine1?this._smvRequestPayload.receiver.address.addr_line1=this.selectedReceiver.address.addressLine1:this.selectedReceiver.address&&this.selectedReceiver.address.addrLine1&&(this._smvRequestPayload.receiver.address.addr_line1=this.selectedReceiver.address.addrLine1),this.selectedReceiver.address&&this.selectedReceiver.address.addressLine2?this._smvRequestPayload.receiver.address.addr_line2=this.selectedReceiver.address.addressLine2:this.selectedReceiver.address&&this.selectedReceiver.address.addrLine2&&(this._smvRequestPayload.receiver.address.addr_line2=this.selectedReceiver.address.addrLine2),this.selectedReceiver.address&&this.selectedReceiver.address.city&&(this._smvRequestPayload.receiver.address.city=this.selectedReceiver.address.city),this.selectedReceiver.address&&this.selectedReceiver.address.zipCode&&(this._smvRequestPayload.receiver.address.postal_code=this.selectedReceiver.address.zipCode),this.selectedReceiver.address&&this.selectedReceiver.address.postalCode&&(this._smvRequestPayload.receiver.address.postal_code=this.selectedReceiver.address.postalCode),this.selectedReceiver.address&&this.selectedReceiver.address.country_name&&this.selectedProduct.payIn===W.mt.Cash&&P.Y.sendCountryNameInRequest.includes(this.sender.address.countryIsoCode)&&(this._smvRequestPayload.receiver.address.country_name=this.selectedReceiver.address.country_name),this.selectedReceiver.address&&this.selectedReceiver.address.state&&(this._smvRequestPayload.receiver.address.state=this.selectedReceiver.address.state),this.selectedReceiver.nationality&&(this._smvRequestPayload.receiver.nationality=this.selectedReceiver.nationality),this.selectedReceiver.complianceDetails&&(this._smvRequestPayload.receiver.compliance_details=$.cloneDeep(this.selectedReceiver.complianceDetails),this._smvRequestPayload.receiver.compliance_details.transactionPurpose&&(this._smvRequestPayload.receiver.compliance_details.transaction_purpose=this._smvRequestPayload.receiver.compliance_details.transactionPurpose,delete this._smvRequestPayload.receiver.compliance_details.transactionPurpose)),this.updateRelationToRcvr(),this.selectedReceiver.dob&&(this._smvRequestPayload.receiver.date_of_birth=this.selectedReceiver.dob),this._smvRequestPayload.receiver.address.country_iso_code=this.selectedReceiver?.address?.countryIsoCode;const A={phone_number:{country_code:(this.selectedReceiver.contactDetails?.mobileNumber||this.selectedReceiver.mobilePhone?.phoneNumber?.nationalNumber?Number(this.selectedReceiver.contactDetails?.countryCode)||Number(this.selectedReceiver.mobilePhone?.phoneNumber?.countryCode):void 0)||void 0,national_number:this.selectedReceiver.contactDetails?.mobileNumber?.toString()||this.selectedReceiver.mobilePhone?.phoneNumber?.nationalNumber?.toString()||""}};this._smvRequestPayload.receiver.receiver_national_id=this.selectedReceiver?.receiver_national_id,this._smvRequestPayload.receiver.mobile_phone=A,this._smvRequestPayload.receiver.email="MX"===this.selectedReceiver.address?.countryIsoCode&&this.selectedProduct.payOut===W.Zr.WA?this.selectedReceiver.wallet?.wuWallet.wallet_account_number:this.selectedReceiver.contactDetails?.email,this._smvRequestPayload.receiver.name.first_name=this.selectedReceiver.name?.firstName||void 0,this._smvRequestPayload.receiver.name.last_name=this.selectedReceiver.name?.lastName||void 0,this._smvRequestPayload.receiver.name.middle_name=this.selectedReceiver?.name?.middleName||void 0,this._smvRequestPayload.receiver.consumer_to_business_name=this.selectedReceiver.consumerToBusinessName,this._smvRequestPayload.receiver.consumer_to_business_reference=this.selectedReceiver.consumerToBusinessRef,this._smvRequestPayload.receiver.uid=this.selectedReceiver.generalInformation?.uid||this.selectedReceiver.uid||"",this._smvRequestPayload.receiver.id=this.selectedReceiver.generalInformation?.id||this.selectedReceiver.id||""}}}},56294:(n,d,t)=>{"use strict";t.d(d,{T:()=>Y});var o=t(75194),e=t(95006),x=t(64646),$=t(16619),W=t(66726),K=t(90979),V=t(34781),P=t(37486),D=t(77202),f=t(67376),C=t(60988),A=t(64988),E=t(17742),N=t(3902);class U{}class w{}class O{}class s{}var a=t(33216),c=t(42959);class r{}var g=t(68135),p=t(48070),h=t(54831),l=t(78863),v=t(21148),S=t(8117),m=t(9325),b=t(54438);let Y=(()=>{class R{constructor(L,y,I,T,te,Z,de,oe,ae,he,B,z){this.restMethod=L,this.updateStoreUsingActionService=y,this._store=I,this.utilService=T,this.baseRequestService=te,this.riskDataService=Z,this.countryConfigService=de,this.featureFlagService=oe,this.readURLService=ae,this.routingService=he,this.fundsInUtilService=B,this.instantTransferService=z,this.src="sendMoney",this.isGuestFlow=!1,this.isIpay88ResendFlow=!1,this.isFPXResendFlow=!1,this.isTelemarketer=!1,this._store.pipe((0,x.Lt)(W.Mb)).subscribe(ie=>{this.selectedCard=ie}),this._store.pipe((0,x.Lt)(W.XU)).subscribe(ie=>{this.isIpay88ResendFlow=ie}),this._store.pipe((0,x.Lt)(W.iC)).subscribe(ie=>{this.isFPXResendFlow=ie}),this._store.pipe((0,x.Lt)(W.cG)).subscribe(ie=>{this.cardsData=ie}),this._store.pipe((0,x.Lt)(W.w8)).subscribe(ie=>{this.sender=ie}),this._store.pipe((0,x.Lt)(W.J5)).subscribe(ie=>{this.selectedReceiver=ie}),this._store.pipe((0,x.Lt)(W.rb)).subscribe(ie=>{this.selectedProduct=ie}),this._store.pipe((0,x.Lt)(W.mA)).subscribe(ie=>{this.corridor=ie}),this._store.pipe((0,x.Lt)(W.WZ)).subscribe(ie=>{this.idealBankInfo=ie}),this._store.pipe((0,x.Lt)(W.f9)).subscribe(ie=>{this.fpxBankInfo=ie}),this._store.pipe((0,x.Lt)(W.C6)).subscribe(ie=>{this.walletBankInfo=ie}),this._store.pipe((0,x.Lt)(W.yI)).subscribe(ie=>{this.isGuestFlow=ie}),this._store.pipe((0,x.Lt)(W.Ht)).subscribe(ie=>{this.tdsJWT=ie}),this._store.pipe((0,x.Lt)(W.hJ)).subscribe(ie=>this.isSignicat="true"===ie),this._store.pipe((0,x.Lt)(W.Ql)).subscribe(ie=>{this.selectedBiller=ie}),this._store.pipe((0,x.Lt)(W.T7)).subscribe(ie=>{this.countryConfigData=ie})}mapSMVResponse(L){if(L){let y=new h.U1;L.sender&&(y=this.mapSMVResponseSender(L));let I=new c.i;L.receiver&&(I=this.mapSMVResponseReceiver(L));const T=new K.Y;let te;return L.wu_product&&(T.name=L.wu_product.name,T.code=L.wu_product.code,T.routingCode=L.wu_product.routing_code,T.speedIndicator=L.wu_product.speed_indicator),L.payment_details&&(te=this.mapSMVResponsePayment(L)),{paymentDetails:te,receiver:I,sender:y,wuProduct:T,apolloFlag:!1,transactionDigest:"",tempTransactionId:""}}return{}}mapSMVResponseSender(L){const y=new h.U1;if(y.firstName=L.sender.name?.first_name,y.middleName=L.sender.name?.middle_name,y.lastName=L.sender.name?.last_name,y.givenName=L.sender.name?.given_name,y.maternalName=L.sender?.name.maternal_name,y.paternalName=L.sender?.name.paternal_name,y.email=L.sender.email,y.contactPhoneCountryPrefix=L.sender.contact_phone_country_prefix,y.contactPhone=L.sender.contact_phone,L.sender.additional_preferred_customers&&L.sender.additional_preferred_customers.preferred_customer&&(y.additionalPreferedAccountNumber=L.sender.additional_preferred_customers.preferred_customer.account_nbr),y.dateOfBirth=L.sender.date_of_birth,L.sender.mobile_phone&&L.sender.mobile_phone.phone_number){const I=new a.K;I.countryCode=L.sender.mobile_phone.phone_number.country_code,I.mobileNumber=L.sender.mobile_phone.phone_number.national_number,y.mobileNumber=I}if(L.sender.address){const I=new P.pV;I.addressLine1=L.sender.address.addr_line1,I.addressLine2=L.sender.address.addr_line2,I.city=L.sender.address.city,I.state=L.sender.address.state,I.postalCode=L.sender.address.postal_code,I.countryIsoCode=L.sender.address.country_iso_code,y.address=I}return y}mapSMVResponseReceiver(L){const y=new c.i;if(y.firstName=L.receiver.name?.first_name,y.middleName=L.receiver.name?.middle_name,y.lastName=L.receiver.name?.last_name,L.receiver.address){const I=new P.pV;I.city=L.receiver.address.city,I.countryCode=L.receiver.address.country_code,I.countryIsoCode=L.receiver.address.country_iso_code,I.countryName=L.receiver.address.country_name,I.postalCode=L.receiver.address.postal_code,I.state=L.receiver.address.state,I.stateName=L.receiver.address.state_name,I.zipCode=L.receiver.address.zip_code,I.addressLine1=L.receiver.address.address_line1,I.addressLine2=L.receiver.address.address_line2,I.advvStatus=L.receiver.address.advv_status,I.permanentCity=L.receiver.address.permanent_city,I.permanentCountry=L.receiver.address.permanent_country,y.address=I}if(L.receiver.mobile_phone&&L.receiver.mobile_phone.phone_number){const I=new P.HK;I.mobileNumber=L.receiver.mobile_phone.phone_number.national_number,I.countryCode=L.receiver.mobile_phone.phone_number.country_code,y.contactDetails=I}return y}mapSMVResponsePayment(L){const y=new w;L.payment_details.origination&&(y.countryIsoCode=L.payment_details.origination.country_iso_code,y.currencyIsoCode=L.payment_details.origination.currency_iso_code,y.grossAmount=L.payment_details.origination.gross_amount,y.principalAmount=L.payment_details.origination.principal_amount);const I=new O;L.payment_details.destination&&(I.countryIsoCode=L.payment_details.destination.country_iso_code,I.currencyIsoCode="STD"===L.payment_details.destination.currency_iso_code?"STN":L.payment_details.destination.currency_iso_code,I.expectedPayoutAmount=L.payment_details.destination.expected_payout_amount,I.actualPayoutAmount=L.payment_details.destination.actual_payout_amount,I.stateCode=L.payment_details.destination.state_code);const T=new s;L.payment_details.fees&&(T.accuracy=L.payment_details.fees.accuracy,T.charges=L.payment_details.fees.charges);const te=new r;L.payment_details.promotion&&(te.code=L.payment_details.promotion.code,te.description=L.payment_details.promotion.description,te.discount=L.payment_details.promotion.discount,te.promoCode=L.payment_details.promotion.promo_code,te.status=L.payment_details.promotion.status,te.name=L.payment_details.promotion.name,te.message=L.payment_details.promotion.message);const Z=new K.Q;L.payment_details.taxes&&(Z.countyTax=L.payment_details.taxes.county_tax,Z.municipalTax=L.payment_details.taxes.municipal_tax,Z.stateTax=L.payment_details.taxes.state_tax,Z.taxAmount=L.payment_details.taxes.tax_amount,Z.taxableAmount=L.payment_details.taxes.taxable_amount);const de=new p.gW;L.payment_details.credit_debit_card&&L.payment_details.credit_debit_card.customer_name&&(de.firstName=L.payment_details.credit_debit_card.customer_name.first_name,de.middleName=L.payment_details.credit_debit_card.customer_name.middle_name,de.lastName=L.payment_details.credit_debit_card.customer_name.last_name,de.givenName=L.payment_details.credit_debit_card.customer_name.given_name,de.attention=L.payment_details.credit_debit_card.customer_name.attention);const oe=new p.pV;L.payment_details?.credit_debit_card?.address&&(oe.addrLine1=L.payment_details.credit_debit_card.address.addr_line1,oe.addrLine2=L.payment_details.credit_debit_card.address.addr_line2,oe.city=L.payment_details.credit_debit_card.address.city,oe.countryCode=L.payment_details.credit_debit_card.address.country_code,oe.countryIsoCode=L.payment_details.credit_debit_card.address.country_iso_code,oe.countryName=L.payment_details.credit_debit_card.address.country_name,oe.postalCode=L.payment_details.credit_debit_card.address.postal_code,oe.state=L.payment_details.credit_debit_card.address.state,oe.zipCode=L.payment_details.credit_debit_card.address.zip_code);const ae=new g.F;ae.customerName=de,ae.address=oe,L.payment_details?.credit_debit_card&&(ae.paymentInstrumentId=L.payment_details.credit_debit_card.paymentInstrumentId,ae.cardNumber=L.payment_details.credit_debit_card.card_number,ae.cardType=L.payment_details.credit_debit_card.card_type,ae.expirationDate=L.payment_details.credit_debit_card.expiration_date);const he=new U;return he.destination=I,he.origination=y,he.taxes=Z,he.promotion=te,he.fees=T,he.creditDebitCard=ae,he.exchangeRate=L.payment_details.exchange_rate,he.paymentDigest=L.payment_details.payment_digest,he.paymentType=L.payment_details.payment_type,he.pricingContext=L.payment_details.pricing_context,he.fxThresholdFlag=L.payment_details?.fx_threshold_flag,he.feeThresholdFlag=L.payment_details?.fee_threshold_flag,he}servicePostCall(L){this.smvRequestBuilder=L||this.smvRequestBuilder,"IN"===this.smvRequestBuilder.payment_details.origination.country_iso_code&&"CA"===this.smvRequestBuilder.payment_details.destination.country_iso_code&&void 0!==this.smvRequestBuilder.receiver.name.first_name&&(this.smvRequestBuilder.sender.compliance_details.transaction_purpose="Overseas Education");const y="/SendMoneyValidation";return this.restMethod.POST(y,this.smvRequestBuilder,"AG"===this.selectedProduct.payIn?"retail":null).pipe((0,e.T)(I=>(this.utilService.isSybaseEnabled(y)&&!I.error&&(I.error||(I=this.utilService.convertBoolAndNumValuesToString(I),this.modifyGWPSMVResponse(I))),sessionStorage.setItem("sendMoneyResponse",JSON.stringify(I)),sessionStorage.getItem("enableReview"),this.updateStoreUsingActionService.updateSendMoneyValidationResponse(I),this.updateStoreUsingActionService.updateSendMoneyValidationBody(this.smvRequestBuilder),this.riskDataService.invokePSDataApi("payment","payment","wu_payment"),this.utilService.addSubscriptionDetails(I.sender),this.utilService.updateSubscriptionMessage(I.sender),this.utilService.handleUserAppliedPromoCampaign(I.sender),I.error&&I.error.code&&"C2008"===I.error.code&&this.utilService.isC2008RedirectToGCREnabled()&&this.routingService.navigateTODecline(),I)))}setTelemarketerFlagInSmv(L){this.isTelemarketer=L}modifyGWPSMVResponse(L){delete L?.Status,delete L?.UnstructuredData,delete L?.payment_details?.origination?.principal_amount_modified,delete L?.receiver?.addresses,delete L?.receiver?.fx_alert_details,delete L?.receiver?.verification_kyc,delete L?.receiver?.wu_partners,delete L?.sender?.addresses,delete L?.sender?.fx_alert_details,delete L?.sender?.verification_kyc,delete L?.sender?.wu_partners,delete L?.payment_details?.payment_method?.UnstructuredData,this.modifyPaymentDetails(L),L&&L.sender&&L.sender.additional_preferred_customers&&L.sender.additional_preferred_customers.preferred_customer&&(L.sender.additional_preferred_customers.preferred_customer=L.sender.additional_preferred_customers.preferred_customer[0])}modifyPaymentDetails(L){if(L.payment_details&&L.payment_details.credit_debit_card?.cardinal_info?.cardinal_params){const y=Object.assign({},L.payment_details.credit_debit_card.cardinal_info.cardinal_params);delete L.payment_details.credit_debit_card.cardinal_info.cardinal_params.clearerID,delete L.payment_details.credit_debit_card.cardinal_info.cardinal_params.digitalSig,delete L.payment_details.credit_debit_card.cardinal_info.cardinal_params.merchantId,delete L.payment_details.credit_debit_card.cardinal_info.cardinal_params.returnURL,L.payment_details.credit_debit_card.cardinal_info.clearerID=y.clearerID,L.payment_details.credit_debit_card.cardinal_info.signature3ds=y.digitalSig,L.payment_details.credit_debit_card.cardinal_info.merchantID=y.merchantId,L.payment_details.credit_debit_card.cardinal_info.returnURL=y.returnURL}}sendMoneyValidation(L,y){return this.src=y||"sendMoney",sessionStorage.setItem("smvTransactionData",JSON.stringify(L)),this.initiateSMVRequestBuilder(L,this.src),this.sendMoneyValidationBodyRequest(L),this.updateSMVRequestFor3DSv2(),this.selectedProduct.payIn===P.mt.Cash&&this.retailAndGuestFlowHandler(),this.servicePostCall()}retailAndGuestFlowHandler(){if(this.smvRequestBuilder.channel=this.baseRequestService.getRetailChannel(),this.smvRequestBuilder.security=this.baseRequestService.getRetailSecurity(),this.smvRequestBuilder.payment_details.is_cloud_enabled=!0,this.smvRequestBuilder.payment_details.payment_type="Cash",this.smvRequestBuilder.sender.address.postal_code=this.sender.address.postalCode?this.sender.address.postalCode:this.sender.address.zipCode,"US"===f.get(this.smvRequestBuilder.sender.address,"country_iso_code")&&"CU"===f.get(this.smvRequestBuilder.receiver.address,"country_iso_code")&&"true"===sessionStorage.getItem("routing_code_enabled")){const y=this.smvRequestBuilder.payment_details.pricing_context?.split("/",10);if(this.smvRequestBuilder.wu_product){const I=y?.[8].replace(/\\/g,"");this.smvRequestBuilder.wu_product.routing_code=I}}this.smvRequestBuilder.receiver.wallet&&(this.smvRequestBuilder.receiver.wallet.confirm_account_number&&delete this.smvRequestBuilder.receiver.wallet.confirm_account_number,this.smvRequestBuilder.receiver.wallet.countryIsoCode&&delete this.smvRequestBuilder.receiver.wallet.countryIsoCode),""===this.smvRequestBuilder.receiver.uid&&delete this.smvRequestBuilder.receiver.uid,""===this.smvRequestBuilder.receiver.id&&delete this.smvRequestBuilder.receiver.id,this.smvRequestBuilder.receiver.nationality&&"AR"===this.selectedReceiver.address.countryIsoCode&&delete this.smvRequestBuilder.receiver.nationality,this.isGuestFlow&&(this.smvRequestBuilder.sender.preferred_customer={},this.smvRequestBuilder.sender.additional_preferred_customers=this.utilService.isSybaseEnabled("/SendMoneyValidation")?{preferred_customer:[{}]}:{preferred_customer:{}},this.smvRequestBuilder.sender.compliance_details={is_telemarketer:!1,transaction_purpose:this.selectedReceiver?.selfDeclaredQuestions?.purposeOfTransaction},this.smvRequestBuilder.sender.contact_phone_country_prefix=this.sender.contactPhoneCountryPrefix?this.sender.contactPhoneCountryPrefix.toString():"",this.smvRequestBuilder.sender.contact_phone=this.sender.contactPhone?this.sender.contactPhone.toString():"",this.smvRequestBuilder.sender.mobile_phone={phone_number:{country_code:this.sender.contactPhoneCountryPrefix?this.sender.contactPhoneCountryPrefix.toString():"",national_number:this.sender.contactPhone?this.sender.contactPhone.toString():""}},"US"!==this.corridor.senderCountry?.isoCode&&(this.smvRequestBuilder.payment_details.origination.efl={address:{country_iso_code:""}},this.smvRequestBuilder.payment_details.origination.efl.address.country_iso_code=f.get(this.selectedProduct,"origination.countryIsoCode"),delete this.smvRequestBuilder.sender.compliance_details.is_telemarketer))}updateSMVRequestFor3DSv2(){const L=f.get(this.tdsJWT,"referenceId");sessionStorage.removeItem("isRussia3DSV2Trx"),sessionStorage.removeItem("russia3DSv2PSBdata"),sessionStorage.removeItem("is3DSTrx"),this.smvRequestBuilder.payment_details.credit_debit_card&&(this.selectedProduct.payIn===P.mt.CreditCard||this.selectedProduct.payIn===P.mt.DebitCard)&&this.utilService.isRussia3DSv2Enabled(this.smvRequestBuilder.payment_details.credit_debit_card.card_type)?this.smvRequestBuilder.payment_details.credit_debit_card.cardinal_info={wu_3ds_version:"2.0"}:this.utilService.is3DSv2Enabled()&&L&&this.smvRequestBuilder.payment_details.credit_debit_card&&(this.selectedProduct.payIn===P.mt.CreditCard||this.selectedProduct.payIn===P.mt.DebitCard)&&(this.smvRequestBuilder.payment_details.credit_debit_card.cardinal_info={wu_3ds_version:"2.0",cc_3ds_version:"2.0",transaction_mode:"S",ref_id_3ds:L})}initiateSMVRequestBuilder(L,y){this.smvRequestBuilder=new C.D(this.utilService,this.baseRequestService,this._store,this.featureFlagService,this.countryConfigService,this.instantTransferService).buildChannel().buildSecurity().buildSender(L,this.isGuestFlow).buildReceiver(L,y).buildWuProduct(L).buildPaymentDetails(L,y).build()}validationRequest(){return this.smvRequestBuilder=new C.D(this.utilService,this.baseRequestService,this._store,this.featureFlagService,this.countryConfigService,this.instantTransferService).buildChannel().buildSecurity().build(),this.smvRequestBuilder}getSMVRequest(L,y){return this.src=y||"sendMoney",sessionStorage.setItem("smvTransactionData",JSON.stringify(L)),this.initiateSMVRequestBuilder(L,y),this.sendMoneyValidationBodyRequest(L),this.smvRequestBuilder}sendMoneyValidationBodyRequest(L){const y=JSON.parse(sessionStorage.getItem("app")||"{}");let T;sessionStorage.removeItem("isIdentifyMdnCalled"),sessionStorage.removeItem("identifyMdnResp"),this.selectedReceiver&&this.selectedReceiver.name&&this.selectedReceiver.name.middleName&&(this.smvRequestBuilder.receiver.name.middle_name=this.selectedReceiver.name.middleName.toUpperCase()),"US"===f.get(y,"corridor.senderCountry.isoCode")&&["CN","BR"].indexOf(f.get(y,"corridor.receiverCountry.isoCode"))>-1&&this.selectedProduct.payIn===P.mt.Cash&&this.selectedProduct.payOut===P.Zr.BA&&(this.smvRequestBuilder.receiver.contact_phone_country_prefix=L.receiver.contactDetails.countryCode,this.smvRequestBuilder.receiver.contact_phone=L.receiver.contactDetails.mobileNumber),this.selectedProduct.payOut===P.Zr.BA&&(this.smvRequestBuilder.receiver.wallet=this.updateReceiverWallet(L));const te=this.selectedReceiver?.generalInformation?.uid;if(y.receiverList&&y.receiverList?.receivers&&y.receiverList?.receivers?.length>0)for(let oe=0;oe<y.receiverList?.receivers?.length;oe++)if(te&&te==y.receiverList?.receivers?.[oe]?.generalInformation?.uid){T=y.receiverList?.receivers?.[oe];break}if(this.selectedProduct.payOut===P.Zr.WA&&(L?.receiver?.wallet?.wu_wallet||L?.receiver?.wallet?.wuWallet||T?.wallet?.wuWallet)){const oe={wu_wallet:f.cloneDeep(L?.receiver?.wallet?.wu_wallet||L?.receiver?.wallet?.wuWallet||T?.wallet?.wuWallet)};oe.wu_wallet&&(!oe.wu_wallet?.reason||!oe.wu_wallet.currency)&&y.selectedReceiver?.selfDeclaredQuestions?.purposeOfTransaction&&(oe.wu_wallet.reason=y.selectedReceiver?.selfDeclaredQuestions?.purposeOfTransaction,oe.wu_wallet.currency=y.corridor?.receiverCurrency),oe.wu_wallet.walletAccountNumber&&(oe.wu_wallet.wallet_account_number=oe.wu_wallet.walletAccountNumber,delete oe.wu_wallet.walletAccountNumber),"CN"===f.get(y,"corridor.receiverCountry.isoCode")&&(oe?.wu_wallet?.reason||(oe.wu_wallet.reason=y.selectedReceiver?.selfDeclaredQuestions?.purposeOfTransaction),oe?.wu_wallet?.currency||(oe.wu_wallet.currency=y.corridor?.receiverCurrency)),"CO"===f.get(y,"corridor.receiverCountry.isoCode")&&this.selectedProduct.payOut===P.Zr.WA&&(oe.wu_wallet&&oe.wu_wallet.financial_id&&delete oe.wu_wallet.financial_id,oe.wu_wallet.currency=y.corridor?.receiverCurrency),this.smvRequestBuilder.receiver.wallet=oe}if((this.selectedProduct.payOut===P.Zr.D2C||this.selectedProduct.payOut===P.Zr.D2C_PS)&&(L.receiver.wallet?.wu_d2c||L.receiver.wallet?.wuD2c||L.receiver.wallet?.wuD2C)){const oe={wu_d2c:L.receiver.wallet.wu_d2c||L.receiver.wallet.wuD2c||L.receiver.wallet?.wuD2C};oe.wu_d2c.debitCardNumber&&(oe.wu_d2c.debit_card_number=oe.wu_d2c.debitCardNumber,delete oe.wu_d2c.debitCardNumber),this.smvRequestBuilder.receiver.wallet=oe}if((this.selectedProduct.payIn===P.mt.CreditCard||this.selectedProduct.payIn===P.mt.DebitCard||this.selectedProduct.payIn===P.mt.GooglePay)&&L.paymentDetails&&(L.paymentDetails.creditDebitCard||L.paymentDetails.paymentType===P.mt.GooglePay)&&this.updateCreditDebitCard(L),this.selectedProduct.payIn!==P.mt.Cash&&this.getApolloFlag(L),this.selectedProduct.payIn!==P.mt.Cash&&(this.smvRequestBuilder.return_url=this.getReturnUrl()),(this.utilService.isRealTimeACHEnabled()||this.utilService.isRealTimeACHviaTrustlyEnabled())&&this.instantTransferService.checkFundInAllowedForRealTime(this.selectedProduct.payIn,this.corridor.receiverCountry?.isoCode?.toUpperCase())&&(this.smvRequestBuilder.wACH=this.instantTransferService.getwACHFlagStatus()),this.utilService.isReduceDeliveryEnabled()&&this.selectedProduct.payIn===P.mt.ACH){const oe=JSON.parse(sessionStorage.getItem("reducedDeliveryTimeObj")||null);if(oe&&oe?.reducedSpeedFlag&&oe?.reducedDeliveyTime&&this.instantTransferService.isReducedSpeedApplicable(this.selectedProduct)){const ae="0"===oe.reducedDeliveyTime?"0-0":oe.reducedDeliveyTime;f.get(this.smvRequestBuilder,"additional_information.param")?this.smvRequestBuilder?.additional_information?.param.push({type:"fund_io_speed",value:ae}):this.smvRequestBuilder.additional_information={param:[{type:"fund_io_speed",value:ae}]}}}this.utilService.isNewCustomerBFPromoEnabled()?("resend"===this.src&&!f.isEmpty(this.selectedProduct?.promotion)&&this.selectedProduct.promotion?.discount&&"string"==typeof this.selectedProduct.promotion.discount&&(this.selectedProduct.promotion.discount=parseFloat(this.selectedProduct.promotion.discount)),this.selectedProduct.promotion&&this.selectedProduct.promotion.code&&f.isFinite(this.selectedProduct.promotion.discount)&&void 0!==this.selectedProduct.promotion.discount&&this.selectedProduct?.promotion?.discount>=0&&(this.smvRequestBuilder.payment_details.promotion=this.getPromotion())):this.selectedProduct.promotion&&this.selectedProduct.promotion.discount&&(this.smvRequestBuilder.payment_details.promotion=this.getPromotion()),this.isMtcnRequired(L)&&L.moneyTransferControl&&(this.smvRequestBuilder.repeat_mtcn=L.moneyTransferControl.mtcn),!this.selectedProduct.routingCode&&this.corridor.senderCountry&&"IN"!==this.corridor.senderCountry.isoCode&&(this.smvRequestBuilder.payment_details.pricing_context=this.selectedProduct.pricingContext),this.corridor.senderCountry&&"IN"===this.corridor.senderCountry.isoCode&&this.utilService.isCloudPricingEnabled()&&(this.smvRequestBuilder.payment_details.pricing_context=this.selectedProduct.pricingContext),this.selectedProduct.pricingContext&&(this.selectedProduct.payIn===P.mt.Cash||"BR"===this.corridor.senderCountry?.isoCode)&&(this.smvRequestBuilder.payment_details.is_cloud_enabled=!0),(this.countryConfigService.isevProfileConfirmation()||f.get(L,"resumeSmvCall")&&this.utilService.isInlineEidEnabled())&&(this.smvRequestBuilder.additional_information={param:[{type:"signicate_initiated",value:this.isSignicat}]}),this.utilService.isGMOPaymentGatewayEnabledViaEvergage()&&this.selectedProduct.payIn!==P.mt.C3&&(f.get(this.smvRequestBuilder,"additional_information.param")?this.smvRequestBuilder?.additional_information?.param.push({type:"WUPAY_PROCESSOR",value:"GMO"}):this.smvRequestBuilder.additional_information={param:[{type:"WUPAY_PROCESSOR",value:"GMO"}]}),("bill-pay"===this.selectedProduct.type||"reload-options"===this.selectedProduct.type)&&this.updateBillerDetails(),"inmate-pay"===this.selectedProduct.type&&this.updateReceiverInmateWallet(),this.smvRequestBuilder.payment_details.payment_type=this.selectedProduct.payIn,this.corridor.senderCountry&&"MY"===this.corridor.senderCountry.isoCode&&"MW"===this.selectedProduct.payIn&&(this.smvRequestBuilder.payment_details.payment_type=P.mt.IBP);const Z=this.utilService.isNewSelfieKYCFlow();Z&&(this.smvRequestBuilder.new_selfie_kyc_available=Z);const de=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}");this.featureFlagService.isFeatureEnabled("CYP_DUC_FLAG")&&this.utilService.isNgDUCEnabled()&&de&&de.occupation&&de.nationality&&(this.smvRequestBuilder.evergageflag="true"),Z||(this.smvRequestBuilder.sender.occupation=L.sender&&L.sender.occupation?L.sender.occupation:void 0),this.smvRequestBuilder.payment_details.payment_type===P.mt.CreditCard&&this.fundsInUtilService.isCreditCardFundsInEnabled(this.corridor.senderCountry.isoCode)&&(this.smvRequestBuilder.payment_details.installment_option=L.paymentDetails.installmentOption),this.featureFlagService.isFeatureEnabled("OCCUPATION_COMPLIANCE_CALL")&&this.smvRequestBuilder.sender.compliance_details&&(this.smvRequestBuilder.sender.compliance_details.occupation=de&&de.occupation?de.occupation:void 0),this.utilService.isNewIdDetailsEnabled()&&f.get(this.smvRequestBuilder,"sender.compliance_details")&&f.get(L,"sender.compliance_details.id_documents")&&(this.smvRequestBuilder.sender.compliance_details.id_documents=f.get(L,"sender.compliance_details.id_documents")),this.smvRequestBuilder.bashPath=this.baseRequestService.getBashPath()}updateReceiverInmateWallet(){this.smvRequestBuilder.receiver.wallet={inmate_accounts:{inmate_account:{company_name:this.selectedBiller.companyName,account_no:this.selectedBiller.accountNumber,country_iso_code:this.selectedBiller.countryIsoCode,currency_iso_code:this.selectedBiller.currencyIsoCode,industry:this.selectedBiller.industry,code:this.selectedBiller.code}}}}updateBillerDetails(){const L={};this.selectedBiller&&this.selectedBiller.code&&(L.code=this.selectedBiller.code),this.selectedBiller&&this.selectedBiller.currencyIsoCode&&(L.currency_iso_code=this.selectedBiller.currencyIsoCode),this.selectedBiller&&this.selectedBiller.countryIsoCode&&(L.country_iso_code=this.selectedBiller.countryIsoCode),this.selectedBiller&&this.selectedBiller.accountNumber&&(L.account_no=this.selectedBiller.accountNumber),this.selectedBiller&&this.selectedBiller.companyName&&(L.company_name=this.selectedBiller.companyName),this.selectedBiller&&this.selectedBiller.industry&&(L.industry=this.selectedBiller.industry),this.smvRequestBuilder.biller=L}updateReceiverWallet(L,y){if("resend"===this.src||"resend"===y){const I=L.receiver?.wallet?.bankAccounts?.bankAccount?.[0]||L.receiver?.wallet?.bankAccounts?.[0];if(!I&&L.receiver.wallet?.bank_accounts)return L.receiver.wallet;const T={},te={},Z=[],de={};for(const oe of Object.keys(I)){const ae=oe.replace(/([a-zA-Z])(?=[A-Z])/g,"$1_").toLowerCase(),he={};if(null!=I[oe]&&"object"==typeof I[oe]){for(const B of Object.keys(I[oe]))he[B.replace(/([a-zA-Z])(?=[A-Z])/g,"$1_").toLowerCase()]=I[oe][B];de[ae]=he}else de[ae]=I[oe]}if(L.receiver.complianceDetails&&L.receiver.complianceDetails.transactionPurpose&&(de.reason=L.receiver.complianceDetails.transactionPurpose),"BR"===L.receiver?.address?.countryIsoCode&&de.account_number&&"4"===de.account_type&&(de.account_type="PIX"),Z.push(de),te.bank_account=Z,T.bank_accounts=te,T&&T.bank_accounts&&T.bank_accounts.bank_account&&T.bank_accounts.bank_account[0]&&T.bank_accounts.bank_account[0].bank_code&&T.bank_accounts.bank_account[0].bank_code.name&&T.bank_accounts.bank_account[0].bank_code.value&&(T.bank_accounts.bank_account[0].bank_code=T.bank_accounts.bank_account[0].bank_code.value),T?.bank_accounts?.bank_account?.[0]){const oe=["confirm_account_number","currency","countryIsoCode","payment_instrument_id"];for(const he of oe)T.bank_accounts.bank_account[0][he]&&delete T.bank_accounts.bank_account[0][he];T.bank_accounts.bank_account[0].account_number_suffix&&!T.bank_accounts.bank_account[0].account_suffix&&(T.bank_accounts.bank_account[0].account_suffix=T.bank_accounts.bank_account[0].account_number_suffix,delete T.bank_accounts.bank_account[0].account_number_suffix);const ae=f.cloneDeep(this.updateStoreUsingActionService.getState().selectedReceiver);T.bank_accounts.bank_account[0].city&&!T.bank_accounts.bank_account[0].address.city&&(T.bank_accounts.bank_account[0].address={city:T.bank_accounts.bank_account[0].city},delete T.bank_accounts.bank_account[0].city),ae?.name?.nationalId&&!T.bank_accounts.bank_account[0].financial_id&&(T.bank_accounts.bank_account[0].financial_id=ae.name.nationalId),"IN"===this.corridor.receiverCountry?.isoCode&&("UPI"===T.bank_accounts.bank_account[0].account_selected_type?(delete T.bank_accounts.bank_account[0].bank_name,delete T.bank_accounts.bank_account[0].bank_code,delete T.bank_accounts.bank_account[0].account_number):"BANK"===T.bank_accounts.bank_account[0].account_selected_type&&delete T.bank_accounts.bank_account[0].upi_id,this.selectedProduct.payIn===P.mt.Cash&&delete T.bank_accounts.bank_account[0].account_selected_type),T.bankAccounts&&delete T.bankAccounts}return T}return this.updateReceiverWalletFromStore()}updateCreditDebitCard(L){let y="resend"===this.src?L.paymentDetails.creditDebitCard:this.selectedCard;const I=T=>T.paymentInstrumentId===y.paymentInstrumentId;"resend"===this.src&&this.cardsData.some(I)&&(y=this.cardsData.find(I),!y.cvvii_code&&(f.get(L,"paymentDetails.creditDebitCard.cvvii_code")||f.get(L,"paymentDetails.creditDebitCard.cvviiCode"))&&(y.cvvii_code=f.get(L,"paymentDetails.creditDebitCard.cvvii_code")||f.get(L,"paymentDetails.creditDebitCard.cvviiCode"))),y&&"resend"!==this.src||L.paymentDetails.paymentType!==P.mt.GooglePay?(!y||"resend"===this.src)&&L.sender&&this.utilService.isSybaseEnabled("/SendMoneyValidation")&&y.customerName&&!y.customerName.firstName&&!y.customerName.lastName&&(y.customerName.firstName=L.sender.firstName?L.sender.firstName:L.sender.name?.firstName,y.customerName.middleName=L.sender.middleName?L.sender.middleName:L.sender.name?.middleName,y.customerName.lastName=L.sender.lastName?L.sender.lastName:L.sender.name?.lastName):y={customerName:{firstName:L.sender.firstName,middleName:L.sender.middleName,lastName:L.sender.lastName},address:{}},L.paymentDetails.paymentType!==P.mt.GooglePay&&(this.smvRequestBuilder.payment_details.credit_debit_card={id:y.id,paymentInstrumentId:y.paymentInstrumentId,customer_name:{first_name:y.customerName?.firstName,last_name:y.customerName?.lastName,middle_name:y.customerName?.middleName,given_name:y.customerName?.givenName,paternal_name:y.customerName?.paternalName,maternal_name:y.customerName?.maternalName},address:{addr_line1:y.address?.addrLine1,...y.address?.addrLine2&&{addr_line2:y.address?.addrLine2},city:y.address?.city,country_iso_code:y.address?.countryIsoCode,postal_code:y.address?.postalCode?y.address?.postalCode:this.sender.address?.zipCode,...y.address?.state&&{state:y.address?.state}},card_number:y.cardNumber,card_type:y.cardType,expiration_date:y.expirationDate,...y.hasOwnProperty("isCreditCardScanned")&&{is_credit_card_scanned:y.isCreditCardScanned?.toString()},...y.cvvii_code&&{cvvii_code:y.cvvii_code},...y.card_consent_flag&&{card_consent_flag:y.card_consent_flag},...y.card_consent_mtcn&&{card_consent_mtcn:y.card_consent_mtcn}}),y.customerName&&y.customerName.middleName&&y.customerName.middleName.trim()&&this.smvRequestBuilder.payment_details.credit_debit_card&&(this.smvRequestBuilder.payment_details.credit_debit_card.customer_name.middle_name=y.customerName.middleName),L.paymentDetails.paymentType===P.mt.GooglePay&&(this.smvRequestBuilder.payment_details.credit_debit_card={customer_name:{first_name:y.customerName?.firstName,last_name:y.customerName?.lastName,middle_name:y.customerName?.middleName,given_name:y.customerName?.givenName,paternal_name:y.customerName?.paternalName,maternal_name:y.customerName?.maternalName}}),this.utilService.isEmpty(y.address)&&L.paymentDetails.paymentType===P.mt.GooglePay&&delete this.smvRequestBuilder.payment_details.credit_debit_card?.address}getPaymentTypeParam(L){const y={},I=[],T={Key:"ibp_cub_bankid",Value:null};if(this.selectedProduct.payIn===P.mt.POLI&&(T.Value="000000"),this.selectedProduct.payIn===P.mt.FPX&&(T.Value=this.isParamValueExistInData(L)?this.isParamValueExistInData(L):f.get(this.fpxBankInfo,"code")?f.get(this.fpxBankInfo,"code"):""),this.selectedProduct.payIn===P.mt.MW&&(T.Value=this.isParamValueExistInData(L)?this.isParamValueExistInData(L):f.get(this.walletBankInfo,"code")?f.get(this.walletBankInfo,"code"):""),this.selectedProduct.payIn===P.mt.IDEAL&&(T.Value=this.isParamValueExistInData(L)?this.isParamValueExistInData(L):this.idealBankInfo.code),I.push(T),this.selectedProduct.payIn===P.mt.FPX&&"true"===sessionStorage.getItem("isPennyDrop1MYRTransaction")){I.push({Key:"penny_drop",Value:"Y"})}if(this.selectedProduct.payIn===P.mt.IDEAL&&this.utilService.isIdealNewUserExp()){I.push({Key:"NEW_IDEAL_VERSION",Value:"Y"})}return y.param=I,y}isParamValueExistInData(L){return f.get(L,"paymentDetails.paymentMethod.params.param[0].value")?f.get(L,"paymentDetails.paymentMethod.params.param[0].value"):f.get(L,"paymentDetails.paymentMethod.params.param[0].Value")?f.get(L,"paymentDetails.paymentMethod.params.param[0].Value"):null}isMtcnRequired(L){let y,I=null;return!(this.smvRequestBuilder.payment_details&&L.paymentDetails&&this.selectedProduct.payIn!==L.paymentDetails.paymentType||(this.smvRequestBuilder.payment_details&&this.smvRequestBuilder.payment_details.credit_debit_card?y=this.smvRequestBuilder.payment_details.credit_debit_card.paymentInstrumentId:this.smvRequestBuilder.sender&&this.smvRequestBuilder.sender.wallet&&this.smvRequestBuilder.sender.wallet.bank_accounts&&this.smvRequestBuilder.sender.wallet.bank_accounts.bank_account&&this.smvRequestBuilder.sender.wallet.bank_accounts.bank_account.length>0&&(y=this.smvRequestBuilder.sender.wallet.bank_accounts.bank_account[0].paymentInstrumentId),L.paymentDetails&&L.paymentDetails.creditDebitCard?I=L.paymentDetails.creditDebitCard.paymentInstrumentId:L.sender&&L.sender.wallet&&L.sender.wallet.bankAccounts&&L.sender.wallet.bankAccounts.bankAccount&&L.sender.wallet.bankAccounts.bankAccount.length>0&&(I=L.sender.wallet.bankAccounts.bankAccount[0].paymentInstrumentId),!y||!I||y!==I))}getReturnUrl(){let L;return L=void 0===f.get(document,"location.origin")?`${window.location.protocol}//${this.readURLService.getDomainUrl()}/bin/westernunion/securehandler`:location.origin+"/bin/westernunion/securehandler",L}getPromotion(){const L={},y=f.get(this.selectedProduct,"promotion.discount"),I=f.get(this.selectedProduct,"promotion.code");return(y&&I||this.utilService.isNewCustomerBFPromoEnabled()&&null!=y&&y>=0&&I)&&(L.discount=Math.round(100*y)+"",L.code=I),L}getCreditDebitCardSubType(L){const y=L&&L.paymentDetails&&L.paymentDetails.creditDebitCard;return!y.cardType&&["ELECTRON","MIR","MAESTRO"].includes(f.get(L,"paymentDetails.paymentMethod.payment_sub_type"))?L.paymentDetails.paymentMethod.payment_sub_type:y.cardType?y.cardType:this.selectedProduct.payIn}getApolloFlag(L){switch(this.smvRequestBuilder.payment_details.payment_method={payment_type:"",payment_processor:"",payment_sub_type:""},this.smvRequestBuilder.payment_details.payment_method.payment_type=this.selectedProduct.payIn,this.smvRequestBuilder.payment_details.payment_method.payment_processor="Apollo",this.selectedProduct.payIn){case P.mt.POLI:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=P.mt.POLI,this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO";break;case P.mt.FPX:const y=f.get(this.smvRequestBuilder,"payment_details.origination.country_iso_code");this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="MY"===y?P.mt.IPAY88:P.mt.FPX,(this.isIpay88ResendFlow||this.isFPXResendFlow)&&(this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="MY"===y&&this.isIpay88ResendFlow?P.mt.IPAY88:P.mt.FPX),this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO";break;case P.mt.MW:const I=f.get(this.smvRequestBuilder,"payment_details.origination.country_iso_code");this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="MY"===I&&this.utilService.isMobileWalletPayInEnabled()?P.mt.IPAY88W:P.mt.IBP,this.smvRequestBuilder.payment_details.payment_type=P.mt.IBP,this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_type=P.mt.IBP,this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO";break;case P.mt.Trustly:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=P.mt.Trustly.toUpperCase(),this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO";break;case P.mt.IDEAL:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=P.mt.IDEAL,this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO";break;case P.mt.Sofort:const T=f.get(this.smvRequestBuilder,"payment_details.origination.country_iso_code");this.fundsInUtilService.isKlarnaFundsInEnabled(T)?(this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="KLARNA",this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO"):(this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=P.mt.Sofort.toUpperCase(),this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO");break;case P.mt.WUPay:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="Push";break;case P.mt.PartnerFunds:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="GoodFunds";break;case P.mt.BankAccount:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="BankAccount";break;case P.mt.CreditCard:case P.mt.DebitCard:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=this.getCreditDebitCardSubType(L);break;case P.mt.TapNGo:this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=this.selectedProduct.payIn;break;case P.mt.Paramount:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=this.selectedProduct.payIn.toUpperCase();break;case P.mt.GooglePay:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=void 0;break;case P.mt.PayNow:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="Push",this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO";break;case P.mt.Plaid:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=P.mt.Plaid.toUpperCase();break;case P.mt.BanContact:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="BANCONTACT",this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_processor="APOLLO";break;case P.mt.C3:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="KONBINI",this.smvRequestBuilder.payment_details.payment_method.payment_processor="GMO";break;case P.mt.TK:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type="TINK",this.smvRequestBuilder.payment_details.payment_method.params=this.getPaymentTypeParam(L),this.smvRequestBuilder.payment_details.payment_method.payment_processor="TINK";break;default:this.smvRequestBuilder.payment_details.payment_method.payment_sub_type=this.selectedProduct.payIn}}isValidSendMoney(L,y){return!(!L||!y||P.mt[L.paymentDetails.paymentType]!==y.payIn||L.wuProduct.code!==y.code&&("US"!==L.paymentDetails.origination.countryIsoCode.toUpperCase()||"MX"!==L.receiver.address.countryIsoCode||"400"!==y.code))||L.wuProduct.code===y.code&&"AG"!==y.payIn&&("WUPay"!==y.payIn||"US"!==L.receiver.address.countryIsoCode)&&P.mt[L.paymentDetails.paymentType]===y.payIn&&this.countryConfigService.getEarlySendMoneyValidation().indexOf(y.payIn)>-1}checkRequiredDetailsOfReceivers(L,y,I){let T=!1;const te=this.utilService.isQuickResendEnabled(),Z=this.featureFlagService.isFeatureEnabled("HANDLING_INDIA_POT_VALUES");return L.sender&&L.sender.compliance_details&&("M"===y.purposeField&&I>=Number(y.purposeLimit)&&!L.sender.compliance_details.transactionPurpose&&(T=!0),"M"===y.sourceOfFundsField&&I>=Number(y.sourceOfFundsLimit)&&!L.sender.compliance_details.source_of_funds&&(T=!0),"M"===y.relationshipField&&I>=Number(y.relationshipLimit)&&!L.sender.compliance_details.senderReceiverRelationship&&(T=!0),!T&&y.dataPurpose&&"M"===y.purposeField&&L.sender.compliance_details.transactionPurpose&&(T=-1===y.dataPurpose.findIndex(oe=>oe.key.toUpperCase().replace(/#/g,"/")===L.sender.compliance_details.transactionPurpose.toUpperCase()))),(te||"true"===sessionStorage.getItem("enableQuickResend"))&&("M"===y.addressLine1Field||"M"===y.cityField||"PL"===this.corridor.receiverCountry?.isoCode&&"M"===y.mobileField)&&("M"===y.addressLine1Field&&!f.get(L,"receiver.address.addrLine1")&&(T=!0),"M"===y.cityField&&!f.get(L,"receiver.address.city")&&(T=!0),"M"===y.zipField&&!f.get(L,"receiver.address.postalCode")&&(T=!0),"M"===y.mobileField&&this.featureFlagService.isFeatureEnabled("MOBILE_NUMBER_MANDATORY_PO")&&!f.get(L,"receiver.mobilePhone.phoneNumber.nationalNumber")&&(T=!0)),this.featureFlagService.isFeatureEnabled("MOBILE_NUMBER_MANDATORY_RO")&&"M"===y.mobileField&&!f.get(L,"receiver.mobilePhone.phoneNumber.nationalNumber")&&(T=!0),T&&(this.countryConfigService.isA2AValid()||Z)}updateReceiverWalletFromStore(){const L=f.cloneDeep(this.updateStoreUsingActionService.getState().selectedReceiver);if(!L||!L.wallet||!L.wallet.bankAccounts)return{};const y=L.wallet.bankAccounts.bankAccount?L.wallet.bankAccounts.bankAccount[0]:L.wallet.bankAccounts[0],I={},T=["confirm_account_number","currency","countryIsoCode"];for(const te of T)y[te]&&delete y[te];return y.account_number_suffix&&(y.account_suffix=y.account_number_suffix,delete y.account_number_suffix),L&&L.selfDeclaredQuestions&&L.selfDeclaredQuestions.purposeOfTransaction&&(y.reason=L.selfDeclaredQuestions.purposeOfTransaction),y.city&&(y.address={city:y.city},delete y.city),L?.name?.nationalId&&!y?.financial_id&&(y.financial_id=L.name.nationalId),"IN"===this.corridor.receiverCountry?.isoCode&&("UPI"===y.account_selected_type?(delete y.bank_name,delete y.bank_code,delete y.account_number):"BANK"===y.account_selected_type&&delete y.upi_id,this.selectedProduct.payIn===P.mt.Cash&&delete y.account_selected_type),"BR"===this.corridor.receiverCountry?.isoCode&&"PIX"===y.account_selected_type&&(y.account_number=y.pix_id?y.pix_id:y.account_number,y.account_type="PIX",delete y.pix_id,delete y.account_selected_type),I.bank_accounts={bank_account:[y]},this.formatWallet(I)}formatWallet(L){return Array.isArray(L)?L.map(y=>this.formatWallet(y)):f.isEmpty(L)||L.constructor!==Object?L:Object.keys(L).reduce((y,I)=>({...y,[this.customSnakeCase(I)]:this.formatWallet(L[I])}),{})}customSnakeCase(L){return f.chain(L).split(/(\d+)/).map(f.snakeCase).join("").value()}cloudPricingRoadRunnerUpdates(){const L=this.countryConfigService.isDebitCardEnabled();!this.utilService.isCloudPricingEnabled()||!L||this.selectedCard&&this.selectedCard.cardCategory&&this.selectedProduct&&this.selectedProduct.payIn&&("CREDIT"===this.selectedCard.cardCategory&&this.selectedProduct.payIn===P.mt.DebitCard?this.updateSelectedProductRoadRunner(P.mt.CreditCard,this.selectedProduct.payOut,this.selectedProduct.code):"DEBIT"===this.selectedCard.cardCategory&&this.selectedProduct.payIn===P.mt.CreditCard&&this.updateSelectedProductRoadRunner(P.mt.DebitCard,this.selectedProduct.payOut,this.selectedProduct.code))}updateSelectedProductRoadRunner(L,y,I){const T=this.selectedProduct,te=this.updateStoreUsingActionService.getState().products;for(let de=0;de<te.length;de++)if(te[de].payIn===L&&te[de].payOut===y&&te[de].code===I){this.updateStoreUsingActionService.updateSelectedProduct(te[de]);break}sessionStorage.setItem("CPRoadRunnerUpdates",JSON.stringify({cpRoadRunner:!0,payInChangeFlag:!0,initialService:T,changeService:this.selectedProduct}))}clearComplianceDetails(){const L=JSON.parse(sessionStorage.getItem("app")||"{}"),y=L&&L.corridor&&L.corridor.receiverCountry&&L.corridor.receiverCountry.isoCode&&"CU"===L.corridor.receiverCountry.isoCode.toUpperCase();if("US"==this.readURLService.getCountryFromURL().toUpperCase()&&y&&sessionStorage.getItem("ComplianceData")){const I=JSON.parse(sessionStorage.getItem("ComplianceData"));I&&I.cuba&&(delete I.cuba,delete I.id_documents,sessionStorage.setItem("ComplianceData",JSON.stringify(I)),sessionStorage.getItem("sender_receiver_relationship")&&sessionStorage.removeItem("sender_receiver_relationship"),sessionStorage.getItem("SenderReceiverRelationship")&&sessionStorage.removeItem("SenderReceiverRelationship"))}if("TRUE"===f.get(this.countryConfigData,"ConfigTemplate.navigateWithIdStatus")&&!this.utilService.isSelfieKycFeatureEnabledForPayin()&&sessionStorage.getItem("ComplianceData")){const I=JSON.parse(sessionStorage.getItem("ComplianceData"));I.id_documents&&(delete I.id_documents,sessionStorage.setItem("ComplianceData",JSON.stringify(I)))}}setCountryListInEn(L){this.countryListInEn=L}static#e=this.\u0275fac=function(y){return new(y||R)(b.KVO(o.R),b.KVO(V.k),b.KVO(x.il),b.KVO(D.a),b.KVO($.E),b.KVO(A.X),b.KVO(E.q),b.KVO(N.y),b.KVO(l.Fq),b.KVO(v.O),b.KVO(m.B),b.KVO(S.E))};static#t=this.\u0275prov=b.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},20706:(n,d,t)=>{"use strict";t.d(d,{Q:()=>D});var o=t(75194),e=t(95006),x=t(1027),$=t(77202),W=t(45286),K=t(74814),V=t(54438),P=t(85717);let D=(()=>{class f{constructor(A,E,N,_,M){this.restMethod=A,this.utilService=E,this.smoConfig=N,this.urlService=_,this.router=M,this.showSesssionExpiryTimerPopupSubject=new W.B7,this.cancelSessionExpiryTimerPopupSubject=new W.B7,this.extendSessionSubject=new W.B7,this.expireSessionSubject=new W.B7,this.countryCode=this.smoConfig._getCountryIsoCode(),this.languageCode=this.smoConfig.getLanguageFromURL(),this.basePath="/"+this.countryCode.toLowerCase()+"/"+this.languageCode.toLowerCase()}sessionKeepAlive(){return this.restMethod.POST("/SessionKeepAlive",this.sessionKeepAliveRequestBody()).pipe((0,e.T)(E=>E))}terminateSession(){return this.restMethod.POST("/TerminateSession",this.terminateSessionRequestBody()).pipe((0,e.T)(E=>E))}sessionKeepAliveRequestBody(){return{security:{session:{id:this.utilService.getCookieItem("SessionId")}}}}terminateSessionRequestBody(){return{security:{session:{id:this.utilService.getCookieItem("SessionId")}},bashPath:this.basePath}}checkForLanguageChange(A){sessionStorage.getItem("initialLanguage")?"PPS"!==sessionStorage.getItem("applicationName")&&!sessionStorage.getItem("CustomerProfile")&&sessionStorage.getItem("initialLanguage")!==this.urlService.getLanguageFromURL()&&this.terminateSessionForLanguageChange(A):sessionStorage.setItem("initialLanguage",this.urlService.getLanguageFromURL())}terminateSessionForLanguageChange(A){this.terminateSession().subscribe(E=>{E&&!E.error&&(this.utilService.deleteCookieItem("SessionId"),this.utilService.deleteCookieItem("SessionInfo"),this.utilService.clearAllStorage(),this.router.navigateByUrl(A))},E=>console.error(E))}showSesssionExpiryTimerPopup(A){this.showSesssionExpiryTimerPopupSubject.next(A)}cancelSessionTimerPopup(A){this.cancelSessionExpiryTimerPopupSubject.next(A)}extendSession(A){this.extendSessionSubject.next(A)}expireSession(A){this.expireSessionSubject.next(A)}static#e=this.\u0275fac=function(E){return new(E||f)(V.KVO(o.R),V.KVO($.a),V.KVO(x.l),V.KVO(K.H),V.KVO(P.Ix))};static#t=this.\u0275prov=V.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},8114:(n,d,t)=>{"use strict";t.d(d,{K:()=>_});var o=t(10467),e=t(77202),x=t(64646),$=t(66726),W=t(67376),V=t(78863),P=t(3902),D=t(93885),f=t(75194),C=t(16619),A=t(7605),E=t(45286),N=t(54438);let _=(()=>{class M{constructor(w,O,G,s,a,c){this._store=w,this.urlService=O,this.featureFlagService=G,this.restMethod=s,this.baseService=a,this.utilService=c,this.destroyed$=new E.B7,this.isOIDCFlowEnabled=!1,this.isSAMLtoOIDC=!1,this.isOIDCPlatformUpgrade=!1,this._store.pipe((0,x.Lt)($.T1)).subscribe(r=>{this.clientIp=r}),this.isOIDCFlowEnabled=this.featureFlagService.isFeatureEnabled("ENABLE_OIDC_FLOW"),this.isSAMLtoOIDC=this.featureFlagService.isFeatureEnabled("SAML_TO_OIDC_ENABLE"),this.isOIDCPlatformUpgrade=this.featureFlagService.isFeatureEnabled("OIDC_PLATFORM_UPGRADE"),this._store.pipe((0,x.Lt)($.dY),(0,A.Q)(this.destroyed$)).subscribe(r=>{this.formTemplate=r}),this._store.pipe((0,x.Lt)($.w8),(0,A.Q)(this.destroyed$)).subscribe(r=>{this.senderData=r})}static getHost(){return e.a.isProduction()?"eid.westernunion.com":"preprod.signicat.com"}static getOIDCHost(){return e.a.isProduction()?"westernunion.app.signicat.com":"preprod.sandbox.signicat.com"}static getOIDCHostForBE(){return e.a.isProduction()?"signicat.westernunion.com":"preprod.sandbox.signicat.com"}getNationalId(w){return W.get(w,"id1.details.nationalIdNumber","")}getVerificationType(w){if(W.has(w,"type"))return W.get(w,"type").toUpperCase()}getQueryString(w){const O=w.params;return Object.keys(O).map(s=>s+"="+O[s]).join("&")}getLocale(){const w={no:"nb"},O=this.urlService.getLanguageFromURL().toLowerCase();return w[O]?w[O]:O}getLocaleForNO(){const w={no:"no"},O=this.urlService.getLanguageFromURL().toLowerCase();return w[O]?w[O]:O}getSignicatFranceConnectHost(){return e.a.isProduction()?"eid.westernunion.com/std/method/westernunion.eu":"preprod.signicat.com/std/method/westernunion.eu"}getConfigJson(){var w=this;return(0,o.A)(function*(){const O={BUYPASS:{url:"https://".concat(M.getHost()).concat("/std/method/westernunion"),NO:{params:{id:"buypass:plain:".concat(w.getLocale()),target:window.encodeURIComponent(w.getReturnUrl())}}},NEMID:{url:"https://".concat(M.getHost()).concat("/std/method/westernunion"),DK:{params:{id:"nemid-limited:plain:".concat(w.getLocale()),target:window.encodeURIComponent(w.getReturnUrl())}}},FRANCECONNECT:{url:"https://".concat(w.getSignicatFranceConnectHost()),FR:{params:{id:"franceconnect-ident::",target:window.encodeURIComponent(w.getReturnUrl())}}}};return w.isOIDCFlowEnabled&&w.isSAMLtoOIDC?(O.BANKID={url:"https://".concat(M.getOIDCHost()).concat("/auth/open/connect/authorize"),NO:{params:"NO"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""},SE:{params:"SE"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}},O.MOBILEID={url:"https://".concat(M.getOIDCHost()).concat("/auth/open/connect/authorize"),NO:{params:"NO"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""},SE:{params:"SE"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}},O.IDIN={url:"https://".concat(M.getOIDCHost()).concat("/auth/open/connect/authorize"),NL:{params:"NL"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}}):(O.BANKID={url:"https://".concat(M.getHost()).concat("/std/method/westernunion"),SE:{params:{id:"sbid:plain:".concat(w.getLocale()),target:window.encodeURIComponent(w.getReturnUrl()),"prefilled.subject":""}},NO:{params:{id:"nbid-fullscreen:plain:".concat(w.getLocale()),target:window.encodeURIComponent(w.getReturnUrl()),"prefilled.subject":""}}},O.MOBILEID={url:"https://".concat(M.getHost()).concat("/std/method/westernunion"),SE:{params:{id:"sbid-mobil:plain:".concat(w.getLocale()),target:window.encodeURIComponent(w.getReturnUrl()),"prefilled.subject":""}},NO:{params:{id:"nbid2-mobil-fullscreen:plain:".concat(w.getLocale()),target:window.encodeURIComponent(w.getReturnUrl()),"prefilled.subject":""}}},O.IDIN={url:"https://".concat(M.getHost()).concat("/std/method/westernunion.eu"),NL:{params:{id:"idin-andp:idin:".concat(w.getLocale()),target:window.encodeURIComponent(w.getReturnUrl()),"prefilled.subject":""}}}),w.isOIDCFlowEnabled&&w.isOIDCPlatformUpgrade?(O.FTN={url:"https://".concat(M.getOIDCHost()).concat("/auth/open/connect/authorize"),FI:{params:w.isOIDCFlowEnabled&&"FI"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}},O.MITID={url:"https://".concat(M.getOIDCHost()).concat("/auth/open/connect/authorize"),DK:{params:w.isOIDCFlowEnabled&&"nemid"!==W.get(w.formTemplate,"type")&&"DK"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}},O.ITSME={url:"https://".concat(M.getOIDCHostForBE()).concat("/auth/open/connect/authorize"),BE:{params:"BE"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}}):(O.FTN={url:"https://".concat(M.getHost()).concat("/oidc/authorize"),FI:{params:w.isOIDCFlowEnabled&&"FI"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}},O.MITID={url:"https://".concat(M.getHost()).concat("/oidc/authorize"),DK:{params:w.isOIDCFlowEnabled&&"nemid"!==W.get(w.formTemplate,"type")&&"DK"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}},O.ITSME={url:"https://".concat(M.getHost()).concat("/oidc/authorize"),BE:{params:w.isOIDCFlowEnabled&&"BE"===W.toUpper(w.urlService.getCountryFromURL())?yield w.getSignicatNonEncryptedRequest(W.toUpper(w.urlService.getCountryFromURL())):""}}),O})()}getReturnUrl(){const w=this.urlService.getCountryFromURL().toLowerCase(),O=this.urlService.getLanguageFromURL().toLowerCase();if(this.isOIDCFlowEnabled&&"nemid"!==W.get(this.formTemplate,"type")){let G;return-1!==decodeURIComponent(encodeURIComponent(window.location.origin)).indexOf("localhost")?(G="https://"+D.Y.DigitalHost+"/megatron/securehandler.optimus.json",sessionStorage.setItem("SIGNICAT_REDIRECTION_URL",G),G):(G=decodeURIComponent(encodeURIComponent(window.location.origin))+"/megatron/securehandler.optimus.json",sessionStorage.setItem("SIGNICAT_REDIRECTION_URL",G),G)}return decodeURIComponent(encodeURIComponent(window.location.origin))+"/megatron/securehandler.optimus.json?country="+w+"&language="+O}getRedirectionURL(w,O){var G=this;return(0,o.A)(function*(){try{const s=G.getVerificationType(O),a=yield G.getConfigJson(),c=a[s].url,r=G.urlService.getCountryFromURL().toUpperCase();return void 0!==a[s][r].params["prefilled.subject"]&&(a[s][r].params["prefilled.subject"]=G.getNationalId(w&&JSON.parse(w))),c+"?"+G.getQueryString(a[s][r])}catch(s){throw new Error(s)}})()}getSignicateOIDCClientID(w){let O="";switch(w){case"NO":O=e.a.isProduction()?"prod-stunning-throat-843":"sandbox-lethal-house-841";break;case"NL":O=e.a.isProduction()?"prod-shaky-tray-843":"sandbox-tasty-dragon-934";break;case"SE":O=e.a.isProduction()?"prod-helpful-jewel-883":"sandbox-curved-map-893";break;case"FI":O=e.a.isProduction()?"prod-joyous-pipe-625":"sandbox-clumsy-carriage-641";break;case"DK":O=e.a.isProduction()?"prod-kind-moose-585":"sandbox-red-monkey-263";break;case"BE":O=e.a.isProduction()?"prod-bewildered-school-537":"sandbox-foolish-sun-526"}return O}getSignicatEncryptedRequest(w){var O=this;return(0,o.A)(function*(){return new Promise((G,s)=>{O.restMethod.POST("/GetVendorEncryptData",O.buildPayloadForVendorEncryptionData(w)).subscribe(a=>{W.get(a,"encrypt_data")?G(O.isOIDCFlowEnabled&&O.isSAMLtoOIDC||O.isOIDCFlowEnabled&&O.isOIDCPlatformUpgrade?{client_id:O.getSignicateOIDCClientID(w),request:a.encrypt_data}:{request:a.encrypt_data}):(O.handleSessionStorageMapping(O.getConfigObjectForEncryption(w)?.eidverificationType),O.utilService.isRedirectedToOcr())},a=>{console.error(a),s(a)})})})()}getSignicatNonEncryptedRequest(w){var O=this;return(0,o.A)(function*(){return new Promise(G=>{const s=O.buildPayloadForVendorEncryptionData(w);G({response_type:s.additional_information.param[7].value,scope:s.additional_information.param[1].value,state:s.additional_information.param[5].value,client_id:s.additional_information.param[6].value,redirect_uri:s.additional_information.param[4].value,acr_values:s.additional_information.param[2].value,signicat_profile:s.additional_information.param[3].value,ui_locales:s.additional_information.param[0].value})})})()}buildPayloadForVendorEncryptionData(w){const O=this.getConfigObjectForEncryption(w),G={channel:this.baseService.getChannel(),security:this.baseService.getSecurity(),additional_information:{param:[{type:"ui_locales",value:O?.ui_locales},{type:"scope",value:O?.scope},{type:"acr_values",value:O?.acr_values},{type:"signicat_profile",value:O?.signicat_profile},{type:"redirect_uri",value:O?.redirect_uri},{type:"state",value:O?.state},{type:"client_id",value:O?.client_id},{type:"response_type",value:O?.response_type},{type:"login_hint",value:O?.login_hint}]}};return(this.isOIDCFlowEnabled&&this.isSAMLtoOIDC||this.isOIDCFlowEnabled&&this.isOIDCPlatformUpgrade)&&G.additional_information.param.push({type:"exp",value:O?.exp},{type:"iss",value:O?.iss},{type:"aud",value:O?.aud},{type:"iat",value:O?.iat}),G}isNewCollectIdPage(){const w="true"==sessionStorage.getItem("ngMigrationCollectIDCollect");return!("collectidcollect"!=sessionStorage.getItem("page_name")||!w&&!this.featureFlagService.isFeatureEnabled("CollectIDCollect_NG_New_Page"))}getConfigObjectForEncryption(w){const O=[{acr_values:"",signicat_profile:"",country:"",scope:"",ui_locales:"",redirect_uri:"",state:"",client_id:"",response_type:"",exp:"",iss:"",aud:"",iat:"",eidverificationType:"",login_hint:""}];if(this.isOIDCFlowEnabled&&this.isOIDCPlatformUpgrade?O.push({acr_values:"idp:ftn",signicat_profile:"FTN",country:"FI",scope:"openid profile nin",ui_locales:this.getLocale(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"fi",language:this.getLocale()})),client_id:this.getSignicateOIDCClientID(w),response_type:"code",exp:Math.round((new Date).getTime()/1e3+600).toString(),iss:this.getSignicateOIDCClientID(w),aud:"https://".concat(M.getOIDCHost()).concat("/auth/open"),iat:Math.round((new Date).getTime()/1e3).toString(),eidverificationType:"ftn"},{acr_values:"idp:mitid",country:"DK",scope:"openid profile nin",ui_locales:this.getLocale(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"dk",language:this.getLocale()})),client_id:this.getSignicateOIDCClientID(w),response_type:"code",exp:Math.round((new Date).getTime()/1e3+600).toString(),iss:this.getSignicateOIDCClientID(w),aud:"https://".concat(M.getOIDCHost()).concat("/auth/open"),iat:Math.round((new Date).getTime()/1e3).toString()},{acr_values:"idp:itsme",country:"BE",signicat_profile:"itsme",scope:"openid profile nin",ui_locales:this.getLocale(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"be",language:this.getLocale()})),client_id:this.getSignicateOIDCClientID(w),response_type:"code",exp:Math.round((new Date).getTime()/1e3+600).toString(),iss:this.getSignicateOIDCClientID(w),aud:"https://".concat(M.getOIDCHostForBE()).concat("/auth/open"),iat:Math.round((new Date).getTime()/1e3).toString(),eidverificationType:"itsme"}):O.push({acr_values:"urn:signicat:oidc:portal:ftn",signicat_profile:"ftn",country:"FI",scope:"address phone profile signicat.national_id email openid ftn",ui_locales:this.getLocale(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"fi",language:this.getLocale()})),client_id:e.a.isProduction()?"prod.westernunion.eu.423f3":"preprod.westernunion.75951",response_type:"code",eidverificationType:"ftn"},{acr_values:"urn:signicat:oidc:method:mitid",signicat_profile:"ftn",country:"DK",scope:"openid profile mitid signicat.national_id",ui_locales:this.getLocale(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"dk",language:this.getLocale()})),client_id:e.a.isProduction()?"prod.westernunion.eu.423f3":"preprod.westernunion.75951",response_type:"code",login_hint:(this.isNewCollectIdPage(),w)},{acr_values:"urn:signicat:oidc:method:itsme-register",signicat_profile:"",country:"BE",scope:"address phone profile signicat.itsme email openid",ui_locales:this.getLocale(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"be",language:this.getLocale()})),client_id:e.a.isProduction()?"prod.westernunion.eu.423f3":"preprod.westernunion.75951",response_type:"code",eidverificationType:"itsme"}),this.isOIDCFlowEnabled&&this.isSAMLtoOIDC&&O.push({acr_values:"idp:nbid",signicat_profile:"nbid",country:"NO",scope:"openid profile nin",ui_locales:this.getLocaleForNO(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"no",language:this.getLocaleForNO()})),client_id:this.getSignicateOIDCClientID(w),response_type:"code",login_hint:(this.isNewCollectIdPage(),w),exp:Math.round((new Date).getTime()/1e3+600).toString(),iss:this.getSignicateOIDCClientID(w),aud:"https://".concat(M.getOIDCHost()).concat("/auth/open"),iat:Math.round((new Date).getTime()/1e3).toString(),eidverificationType:""},{acr_values:"idp:idin",signicat_profile:"idin",country:"NL",scope:"openid profile idin-name",ui_locales:this.getLocale(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"nl",language:this.getLocale()})),login_hint:(this.isNewCollectIdPage(),w),client_id:this.getSignicateOIDCClientID(w),response_type:"code",exp:Math.round((new Date).getTime()/1e3+600).toString(),iss:this.getSignicateOIDCClientID(w),aud:"https://".concat(M.getOIDCHost()).concat("/auth/open"),iat:Math.round((new Date).getTime()/1e3).toString(),eidverificationType:""},{acr_values:"idp:sbid",signicat_profile:"sbid",country:"SE",scope:"openid profile nin",ui_locales:this.getLocale(),redirect_uri:this.getReturnUrl(),state:btoa(JSON.stringify({country:"se",language:this.getLocale()})),client_id:this.getSignicateOIDCClientID(w),response_type:"code",login_hint:(this.isNewCollectIdPage(),w),exp:Math.round((new Date).getTime()/1e3+600).toString(),iss:this.getSignicateOIDCClientID(w),aud:"https://".concat(M.getOIDCHost()).concat("/auth/open"),iat:Math.round((new Date).getTime()/1e3).toString(),eidverificationType:""}),this.isNewCollectIdPage()&&O){const G=W.toUpper(this.urlService.getCountryFromURL());return O.find(s=>s.country===G?s:"")}return O.find(G=>G.country===w?G:"")}handleSessionStorageMapping(w){sessionStorage.setItem("eidVerificationStatus",JSON.stringify({eidVerfyStatus:"N",eidverificationType:W.toUpper(w)})),sessionStorage.setItem("DTM-RecentlyFailedVerification","true")}decryptAtoBmitID(){return window.atob(this.senderData.nationalIdNumber)}static#e=this.\u0275fac=function(O){return new(O||M)(N.KVO(x.il),N.KVO(V.Fq),N.KVO(P.y),N.KVO(f.R),N.KVO(C.E),N.KVO(e.a))};static#t=this.\u0275prov=N.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},50051:(n,d,t)=>{"use strict";t.d(d,{r:()=>_});var o=t(64646),e=t(66726),x=t(84787),$=t(45817),W=t(98197),K=t(75194),V=t(16619),P=t(77202),D=t(11535),f=t(34781),C=t(67376),E=t(54438),N=t(32497);let _=(()=>{class M{constructor(w,O,G,s,a,c,r){this._store=w,this.restMethod=O,this.dynamicScripLoader=G,this.baseService=s,this.utilService=a,this.updateStoreUsingActionService=c,this.spinnerService=r,this._store.pipe((0,o.Lt)(e.rb)).subscribe(g=>{this.selectedProduct=g}),this._store.pipe((0,o.Lt)(e.cG)).subscribe(g=>{this.cardsData=g}),this._store.pipe((0,o.Lt)(e.Ht)).subscribe(g=>{this.tdsJWT=g})}createJWT(w){const G=this.getCreateJWTRequest(w);return this.restMethod.POST("/CreateJWT",G)}getCreateJWTRequest(w){this.sessionFromStore=this.updateStoreUsingActionService.getState();const O={security:new D.bW,originator:"",country:"",currency:"",payload:"",bashPath:""};return O.security=this.baseService.getSecurity(),O.originator="Cardinal",O.country=C.get(this.selectedProduct,"origination.countryIsoCode"),O.currency=C.get(this.selectedProduct,"origination.currencyIsoCode"),O.cardType=w,O.payload="",O.bashPath=this.baseService.getBashPath(),O}insertSongbirdScript(){this.utilService.is3DSv2Enabled()&&(0,x.H)(this.dynamicScripLoader.loadScript("songbird")).subscribe(O=>{window.Cardinal.configure({logging:{level:"on"}}),this.tdsJWT.cardinalInitCompleted&&(this.tdsJWT.cardinalInitCompleted=!1,this.updateStoreUsingActionService.updateTDSJWT(this.tdsJWT))})}initializeCardinal(w,O){return new $.c(s=>{const a=this.getCardBIN(O);this.spinnerService.startCall();const c=window.Cardinal;c.on("payments.setupComplete",r=>{this.tdsJWT.cardinalInitCompleted=!0,this.updateStoreUsingActionService.updateTDSJWT(this.tdsJWT),c.off("payments.setupComplete"),this.spinnerService.endCall(),r.modules[0].loaded&&c.trigger("bin.process",a).then(g=>{s.next()}).catch(g=>{console.error(g)})}),c.setup("init",{jwt:w.token})})}checkSongbirdScript(w){return new Promise(G=>{const s=C.get(w,"payment_details.credit_debit_card.card_type");C.get(this.tdsJWT,"cardinalInitCompleted")&&C.get(this.tdsJWT,"cardType")&&s!==C.get(this.tdsJWT,"cardType")?(delete window.Cardinal,document.querySelectorAll("script[src*='songbird']").forEach(g=>{g.parentNode&&g.parentNode.removeChild(g)}),document.querySelectorAll("iframe[src*='Songbird']").forEach(g=>{g.parentNode&&g.parentNode.removeChild(g)}),this.utilService.is3DSv2Enabled()?(this.spinnerService.startCall(),(0,x.H)(this.dynamicScripLoader.loadScript("songbird")).subscribe(p=>{window.Cardinal.configure({logging:{level:"on"}}),this.tdsJWT.cardinalInitCompleted&&(this.tdsJWT.cardinalInitCompleted=!1,this.updateStoreUsingActionService.updateTDSJWT(this.tdsJWT)),G()})):G()):G()})}binDetection(w){return new $.c(G=>{this.spinnerService.startCall();const s=this.getCardBIN(w);window.Cardinal.trigger("bin.process",s).then(c=>{G.next()})})}getCardBIN(w){const O=C.get(w,"payment_details.credit_debit_card.paymentInstrumentId"),G=this.cardsData.filter(s=>s.paymentInstrumentId===O);return G[0]?G[0].binNumber:""}static#e=this.\u0275fac=function(O){return new(O||M)(E.KVO(o.il),E.KVO(K.R),E.KVO(W.n),E.KVO(V.E),E.KVO(P.a),E.KVO(f.k),E.KVO(N.D))};static#t=this.\u0275prov=E.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},28279:(n,d,t)=>{"use strict";t.d(d,{Y:()=>P});var o=t(75194),e=t(95006),x=t(16619),$=t(93885),W=t(3902),K=t(77202),V=t(54438);let P=(()=>{class D{constructor(C,A,E,N){this.restMethod=C,this.baseRequest=A,this.featureFlagService=E,this.utilService=N,this.isTATFlow=!1}getTransactionInquiry(C,A,E){this.isTATFlow="true"===sessionStorage.getItem("isTATFlow");const N=!0!==A||this.isTATFlow&&!sessionStorage.getItem("SDFlow")?this.getTransactionInquiryRequest(C,A):this.getCancelTransactionInquiryRequest(C,A,E),_="/TransactionInquiry";return this.restMethod.POST(_,N).pipe((0,e.T)(M=>{if(M)return this.utilService.isSybaseEnabled(_)?this.modifyGwpTransactionInquiryResponse(M):M}))}getTransactionInquiryRequest(C,A){const E={channel:this.baseRequest.getChannel(),security:this.baseRequest.getSecurity(),bashPath:this.baseRequest.getBashPath()};if(C.txtCaptchaAnswer){const N={};N.answer=C.txtCaptchaAnswer,E.security.captcha=N}if(C.txtSenderFirstName&&C.txtSenderLastName&&(E.sender=this.getSenderName(C)),C.phoneNumber1){const N={};N.contact_phone=C.phoneNumber1,E.sender=N}if(!C.trackingNumber&&!C.ivrTrackingNumber&&(E.receiver=this.getReceiver(C),E.payment_details=this.getPaymentDetails(C),E.money_transfer_control||(E.money_transfer_control={})),C.trackingNumber){const N={};N.mtcn=C.trackingNumber,E.money_transfer_control=N}if(C.ivrTrackingNumber&&(E.money_transfer_control={}),C.txtTransferDate&&(E.money_transfer_control.date=C.txtTransferDate),C.inquiryType){const N=C.inquiryType;C.trackingNumber&&(E.inquiry_type="BILL_PAYMENT"===N.toUpperCase()?$.Y.transactionInquiryType.moneyTransfer:N.toUpperCase())}if(C.ivrTrackingNumber&&(E.encrypted_transaction_details=C.ivrTrackingNumber),C.flowType){let N="receiverRedirect"===C.flowType?"RASD":"SD";this.utilService.isRedirectReceiverToBank()&&sessionStorage.getItem("RDFlow")&&(N="RD"),E.security.requestHeader=[{key:"flowType",value:N}]}return this.featureFlagService.isFeatureEnabled("CAPTCHA_TRANSACTIONINQUIRY")&&(E.security.version="2"),this.utilService.isSybaseEnabled("/TransactionInquiry")?(E.UnstructuredData=[],E.query_params=this.getQueryParams(C)):(E.login=A,C.trackingNumber||(E.query_params=this.getQueryParams(C))),E}getSenderName(C){const A={};return A.name={first_name:C.txtSenderFirstName,last_name:C.txtSenderLastName},A}getReceiver(C){const A={};return C.destnCountry&&(A.address={country_iso_code:C.destnCountry.isoCode.toUpperCase()}),C.txtReceiverFirstName&&C.txtReceiverLastName&&(A.name={first_name:C.txtReceiverFirstName,last_name:C.txtReceiverLastName}),A}getPaymentDetails(C){return{destination:this.getDestinationDetails(C),origination:this.getOriginationDetails(C)}}getDestinationDetails(C){const A={country_iso_code:C.destnCountry&&C.destnCountry.isoCode?C.destnCountry.isoCode.toUpperCase():"",currency_iso_code:C.destnCountry&&C.destnCountry.selectedCurrency.isoCode?C.destnCountry.selectedCurrency.isoCode.toUpperCase():""};return $.Y.transactionInquiryType.trackingType.receiver===C.transferType&&(A.expected_payout_amount=100*C.paymentDetails.txtReceiveAmount),A}getOriginationDetails(C){const A={country_iso_code:C.sourceCountry&&C.sourceCountry.isoCode.toUpperCase(),currency_iso_code:C.sourceCountry&&C.sourceCountry.selectedCurrency.isoCode.toUpperCase()};return $.Y.transactionInquiryType.trackingType.sender===C.transferType&&(A.principal_amount=100*Number(C.paymentDetails.txtReceiveAmount)),A}getQueryParams(C){return{param:[{type:"TRACKING_SIDE",value:C.transferType?C.transferType.toUpperCase():"SENDER"}]}}getCancelTransactionInquiryRequest(C,A,E){const N={channel:this.baseRequest.getChannel(),security:this.baseRequest.getSecurity(),bashPath:this.baseRequest.getBashPath()};if(E&&(N.security.requestHeader=[{key:"flowType",value:E}]),C.mtcn){const _={};_.mtcn=C.mtcn,N.money_transfer_control=_}return this.utilService.isSybaseEnabled("/TransactionInquiry")?N.UnstructuredData=[]:N.login=A,N.inquiry_type="MONEY_TRANSFER",N.query_params=this.getQueryParams(C),N}getTransactionHistory(C,A){const E=this.getCancelTransactionHistoryRequest(C,A);return this.restMethod.POST("/ValidateSelfServTransaction",E).pipe((0,e.T)(_=>{if(_)return _}))}getCancelTransactionHistoryRequest(C,A){const E={channel:this.baseRequest.getChannel(),security:this.baseRequest.getSecurity(),bashPath:this.baseRequest.getBashPath()};return C.mtcn&&(E.mtcn=C.mtcn),C.receiver&&C.receiver.uid&&(E.umn_id=C.receiver.uid),C.status&&(E.current_state=A),E.transaction_type="DIGITAL",E.reason_for_action="Sample needed",E.self_serv_type="cancel",E}getCustomerInfo(){const C={bashPath:this.baseRequest.getBashPath(),channel:this.baseRequest.getChannel(),security:this.baseRequest.getSecurity(),flow_name:"selfserv"};return this.restMethod.POST("/GetCustomerInfo",C)}getMobileValidation(C,A){const E={channel:this.baseRequest.getChannel(),security:this.baseRequest.getSecurity(),contact_number:C,contact_type:A};return this.restMethod.POST("/MobileValidation",E)}getCancelReasonCode(){const C={...this.baseRequest.getBaseRequest(),database:{info:{name:"CANCEL_REASON_CODE",client_version:"0"}}};return this.restMethod.POST("/GetDatabase",C)}getTransactionbyMTCN(C){const A="/GetTransactionDetails";return this.restMethod.POST(A,this.getTransactionByMtcnBody(C)).pipe((0,e.T)(E=>this.utilService.isSybaseEnabled(A)?this.utilService.formatToCamelCase(E):E))}getTransactionByMtcnBody(C){const A={};return A.security=this.baseRequest.getSecurity(),A.security.version="2",A.type="t",A.id=C,A.bashPath=this.baseRequest.getBashPath(),sessionStorage.removeItem("getReceiverInfo"),A}modifyGwpTransactionInquiryResponse(C){if((C=this.utilService.formatToCamelCase(C)).statusDetails&&(C.statusDetails.isCancelAllowed=C.statusDetails?.isCancelAllowed.toString(),C.statusDetails.isNameChangeAllowed=C.statusDetails?.isNameChangeAllowed.toString(),C.statusDetails.isCancelPending=C.statusDetails?.isCancelPending.toString(),C.statusDetails.isRefundPending=C.statusDetails?.isRefundPending.toString(),C.statusDetails.isCaseCreationAllowed=C.statusDetails?.isCaseCreationAllowed.toString(),C.statusDetails.isRedirectable=C.statusDetails?.isRedirectable.toString()),C.sender?.mobilePhone?.phoneNumber){const A=C.sender.mobilePhone.phoneNumber;C.sender.mobilePhone.countryCode=A.countryCode,C.sender.mobilePhone.nationalNumber=A.nationalNumber,delete C.sender.mobilePhone.phoneNumber}if(C.cancelIndicator&&(C.cancel_indicator=C.cancelIndicator,delete C.cancelIndicator),C.statusDetails?.isTransactionIdentifier&&(C.statusDetails.transactionIdentifier=C.statusDetails.isTransactionIdentifier,delete C.statusDetails.isTransactionIdentifier),C.transactionStatus){const A=C.transactionStatus.toLowerCase();C.transactionStatus=A.charAt(0).toUpperCase()+A.slice(1)}return C}static#e=this.\u0275fac=function(A){return new(A||D)(V.KVO(o.R),V.KVO(x.E),V.KVO(W.y),V.KVO(K.a))};static#t=this.\u0275prov=V.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},98010:(n,d,t)=>{"use strict";t.d(d,{M:()=>m});var o=t(64646),e=t(37486),x=t(1027),$=t(75194),W=t(61862),K=t(34781),V=t(77202),P=t(66726),D=t(45286),f=t(14421),C=t(90696),A=t(95006),E=t(83921),N=t(82492),_=t(16619),M=t(31310),U=t(67376),O=t(75339),G=t(93885),s=t(36734),a=t(27310),c=t(17742),r=t(3902),g=t(83053),p=t(40967),h=t(54438),l=t(41445),v=t(32497),S=t(35234);let m=(()=>{class b{constructor(R,k,L,y,I,T,te,Z,de,oe,ae,he,B,z,ie,re,Ce){this._store=R,this.baseRequestService=k,this.smoConfig=L,this.restMethod=y,this.updateStoreUsingActionService=T,this.utilService=te,this.smoDefaults=Z,this.dtmAnalyticService=de,this._stageAndPayService=oe,this.priceCatalogService=ae,this.applyPromoService=he,this._spinnerService=B,this.countryConfig=z,this.featureFlagService=ie,this.updateGetLimitsService=re,this.productRankingService=Ce,this.westernUnion={},this.isPromoCodeLoading=!1,this.productsAfterGetLimit=[],this.fundsInTileSpinnerExp=new D.B7,this.isSpinnerCallAfterCatalog=!0,this.showLimitBasedOnCurrency=!1,this.isAutoSelectSingleFIFOEnable=!1,this.smoNavigateerrorcodes=["C2207","C9771","C9183","C9161"],this.westernUnion=I.westernUnion,this._store.pipe((0,o.Lt)(P.mA)).subscribe(X=>{this.corridor=X,this.isAPNEnabled=this.smoConfig.isRetailCorridorEnabled(U.get(this.corridor,"receiverCountry.isoCode"))}),this._store.pipe((0,o.Lt)(P.mz)).subscribe(X=>{this.senderAmount=X}),this._store.pipe((0,o.Lt)(P.d$)).subscribe(X=>{this.products=X}),this._store.pipe((0,o.Lt)(P.Qm)).subscribe(X=>{this.receiverAmount=X}),this._store.pipe((0,o.Lt)(P.rb)).subscribe(X=>{this.selectedProduct=X}),this._store.pipe((0,o.Lt)(P.w8)).subscribe(X=>{this.sender=X}),this._store.pipe((0,o.Lt)(P.pV)).subscribe(X=>{this.getLimits=X}),this._store.pipe((0,o.Lt)(P.vp)).subscribe(X=>{this.senderAmountLimit=X}),this._store.pipe((0,o.Lt)(P.dj)).subscribe(X=>{this.isPPSprofile=X}),this._store.pipe((0,o.Lt)(P.GI)).subscribe(X=>{this.efl=X}),this._store.pipe((0,o.Lt)(P.JF)).subscribe(X=>{this.promoCode=X}),this._store.pipe((0,o.Lt)(P.qO)).subscribe(X=>{this.productsAfterGetLimit=X||[]}),this._store.pipe((0,o.Lt)(P.SB)).subscribe(X=>{this.selectedAgentProduct=X||null}),this._store.pipe((0,o.Lt)(P.BY)).subscribe(X=>{this.selectedBestOption=X||null}),this._store.pipe((0,o.Lt)(P.Rs)).subscribe(X=>{this.lastSelectedProduct=X}),this._store.pipe((0,o.Lt)(P.xY)).subscribe(X=>{this.pageLevelNotification=X}),this.utilService.fifoTilesSelected.subscribe(X=>{this.isFifoTilesSelected=X}),this.showLimitBasedOnCurrency=this.utilService.showLimitBasedOnCurrency(),this.isAutoSelectSingleFIFOEnable=this.utilService.autoSelectSingleFIFO()}getFeeInquiryDetails(R){if(this.updateSenderMaxAmount=this.featureFlagService.isFeatureEnabled("UPDATE_SENDER_MAX_AMOUNT"),-1===this.smoNavigateerrorcodes.indexOf(U.get(this.pageLevelNotification,"errorCode"))&&this.updateStoreUsingActionService.updatePageLevelNotification(null),this.utilService.isCloudPricingEnabled())this.getPriceCatalogDetails(R);else if((!R||R&&!R.promoCode||this.sender&&this.sender.promoCode)&&this.updateStoreUsingActionService.cleanProducts(),this.isAIREnabled=this.countryConfig.getAirEnabled(),this.isAIREnabled){const L=(this.smoConfig.isRetailOnly()||this.smoConfig.isRetailOnlyCorridors()?(0,f.of)({}):this.getFeeInquiryDigital(R)).pipe((0,A.T)(I=>I),(0,E.W)(I=>(0,f.of)(I))),y=this.getRetailMaxAmount();if(y&&this.senderAmount<=y){const I=this.getValidRetailProducts();!I&&R&&R.promoCode&&delete R.promoCode;const T=this.getFeeInquiryRetail(R,!1).pipe((0,A.T)(te=>te),(0,E.W)(te=>(0,f.of)(te)));if(this.isAPNEnabled&&U.get(R,"promoCode")&&I){const te=this.getFeeInquiryRetail(R,!0).pipe((0,A.T)(Z=>Z),(0,E.W)(Z=>(0,f.of)(Z)));this.feeInquiryObsr=(0,C.p)([L,(0,C.p)([T,te,U.merge])])}else this.feeInquiryObsr=(0,C.p)([L,T])}else this.feeInquiryObsr=(0,C.p)([L]);this.feeInquiryObsr.subscribe(I=>{this.handleDtmTriggerForUseCasePromo(R),I&&I[0]&&I[0].error&&I[1]&&I[1].error?this.updateGenericErrorObj(I,R):((!R||R&&!R.promoCode)&&this.updateFeeInquiryResponseToSessionStorage(I),this.updateToProducts(I,R)),this.executeCallBackFnFlow(R,I)})}else this.getFeeInquiryDigitalOnly(R)}getValidRetailProducts(){let R;return this.products&&this.products.length>0&&(R=this.products.find(k=>k.payIn===e.mt.Cash)),R}updateFeeInquiryResponseToSessionStorage(R){if(R.length>1){let k=JSON.parse(JSON.stringify(R[0])),L=JSON.parse(JSON.stringify(R[1]));if(U.get(k,"serviceOptions.serviceOption.WEB")){const y=this.mergeRetailResp(k,"serviceOptions.serviceOption.WEB",U.get(L,"serviceOptions.serviceOption.RETAIL_MOBILE"),!0);k=y.digiRes,L=y.retailRes}else if(k.error||!k.serviceOptions){const y=this.mergeRetailResp(k,"serviceOptions.serviceOption.WEB",U.get(L,"serviceOptions.serviceOption.RETAIL_MOBILE"),!0);k=y.digiRes,L=y.retailRes}sessionStorage.setItem("feeInquiryResponse",JSON.stringify(k))}else{const k=JSON.parse(JSON.stringify(R[0]));if(G.Y.ONLY_S_AND_P_COUTRIES.indexOf(U.get(this.corridor,"senderCountry.isoCode"))>-1){if(k&&k.serviceOptions&&k.serviceOptions.serviceOption&&k.serviceOptions.serviceOption.WEB&&k.serviceOptions.serviceOption.WEB.AG){const L=k.serviceOptions.serviceOption.WEB.AG;for(let y=0;y<L.length;y++)L[y].paymentDetails&&L[y].paymentDetails.paymentType&&"Cash"===L[y].paymentDetails.paymentType&&(k.serviceOptions.serviceOption.WEB.AG[y].paymentDetails.paymentType="AG");sessionStorage.setItem("feeInquiryResponse",JSON.stringify(k))}}else sessionStorage.setItem("feeInquiryResponse",JSON.stringify(k))}if(R.length&&R[0].directedServiceReady){const k=JSON.parse(JSON.stringify(R[0]));k.serviceOptions&&k.serviceOptions.serviceOption.WEB.AG&&sessionStorage.setItem("SummaryObjectsOld",JSON.stringify(k.serviceOptions.serviceOption.WEB))}}updateRetailFeeInquiryResponseToSessionStorage(R){let k=JSON.parse(sessionStorage.getItem("feeInquiryResponse")||"{}"),L=JSON.parse(JSON.stringify(R[0]));if(U.get(k,"serviceOptions.serviceOption.WEB")){const y=this.mergeRetailResp(k,"serviceOptions.serviceOption.WEB",U.get(L,"serviceOptions.serviceOption.RETAIL_MOBILE"),!0);k=y.digiRes,L=y.retailRes,sessionStorage.setItem("feeInquiryResponse",JSON.stringify(k))}else sessionStorage.setItem("feeInquiryResponse",JSON.stringify(L))}updateGenericErrorObj(R,k){if(!k||k&&!k.promoCode){const L={};L.errorCode=R[0].error.code,L.errorMessage=R[0].error.message,this.updateStoreUsingActionService.updatePageLevelNotification(L)}else k&&k.promoCode&&this.updatePromoToProducts(R)}getFeeInquiryDigitalOnly(R){(0,C.p)([this.getFeeInquiryDigital(R).pipe((0,A.T)(L=>L),(0,E.W)(L=>(0,f.of)(L)))]).subscribe(L=>{L&&L[0]&&L[0].error?this.updateGenericErrorObj(L,R):(this.updateDigitalToProducts(L,R),(!R||R&&!R.promoCode)&&this.updateFeeInquiryResponseToSessionStorage(L)),this.executeCallBackFnFlow(R,L)})}getFeeInquiryRetailOnly(R){if(!this.countryConfig.getAirEnabled())return;if(this.utilService.isCloudPricingEnabled())return-1===this.smoNavigateerrorcodes.indexOf(U.get(this.pageLevelNotification,"errorCode"))&&this.updateStoreUsingActionService.updatePageLevelNotification(null),void this.getPriceCatalogDetails(R);let k;const L=this.isAPNEnabled&&R&&U.get(R,"promoCode"),y=this.getFeeInquiryRetail(R,!1).pipe((0,A.T)(I=>I),(0,E.W)(I=>(0,f.of)(I)));if(L){const I=this.getFeeInquiryRetail(R,!0).pipe((0,A.T)(T=>T),(0,E.W)(T=>(0,f.of)(T)));k=(0,C.p)([y,I,U.merge]).pipe((0,O.$)())}else k=(0,C.p)([y]);k.subscribe(I=>{I[0]&&I[0].error?this.updateGenericErrorObj(I,R):(this.updateRetailToProducts(I,R),this.updateRetailFeeInquiryResponseToSessionStorage(I))})}getFeeInquiryDigital(R){const L=this.getFeeInquiryDigitalRequest(R);return this.restMethod.POST("/FeeInquiryEstimated",L,"digital").pipe((0,A.T)(y=>y))}getFeeInquiryRetail(R,k){const y=this.getFeeInquiryRetailRequest(R,k);return this.restMethod.POST("/FeeInquiryEstimated",y,"retail").pipe((0,A.T)(I=>{if(I&&I.serviceOptions){let T={};return T=this.mergeRetailResp(T,"serviceOptions.serviceOption.RETAIL_MOBILE",U.get(I,"serviceOptions.serviceOption.RETAIL_MOBILE"),!1).digiRes,T}return I}))}mergeRetailResp(R,k,L,y){if(this.smoConfig.isRetailPayoutEnabled(e.Zr.AG)&&U.get(L,e.Zr.AG,[]).length>0){if(U.get(R,k+".AG",[]).length>0){const I=U.findIndex(U.get(R,k).AG,T=>"RETAIL_MOBILE"===U.get(T,"channel.type"));I>-1?U.set(R,k+".AG["+I+"]",L.AG[0]):U.get(R,k).AG.push(L.AG[0])}else U.set(R,k+".AG[0]",L.AG[0]);L.AG[0].paymentDetails.paymentType=y&&"Cash"===L.AG[0].paymentDetails.paymentType?"AG":L.AG[0].paymentDetails.paymentType}if(this.isAPNEnabled&&U.get(L,e.Zr.BA,[]).length>0){if(U.get(R,k+".BA",[]).length>0){const I=U.findIndex(U.get(R,k).BA,T=>"RETAIL_MOBILE"===U.get(T,"channel.type"));I>-1?U.set(R,k+".BA["+I+"]",L.BA[0]):U.get(R,k).BA.push(L.BA[0])}else U.set(R,k+".BA[0]",L.BA[0]);L.BA[0].paymentDetails.paymentType=y&&"Cash"===L.BA[0].paymentDetails.paymentType?"AG":L.BA[0].paymentDetails.paymentType}return{digiRes:R,retailRes:L}}updateToProducts(R,k){this.feeInquiryEstimated=R;let L=!1;if(L=!!(k&&k.promoCode&&this.products&&this.products.length>0),L&&!k.amountChanged)this.updatePromoToProducts(R);else{const y=this.mapResponseToProduct(R);this.updateProductsToStore(y)}}updateProductsToStore(R){const k=[],L=this.smoConfig.getFundsInOptions(U.get(this.corridor,"receiverCountry.isoCode"));for(let y=0;y<R.length;y++)this.isFundsInOptionRemoved(L,R[y])||k.push(R[y]);this.updateStoreUsingActionService.updateProducts(k),this.updateSenderMaxAmount=this.featureFlagService.isFeatureEnabled("UPDATE_SENDER_MAX_AMOUNT"),(this.showLimitBasedOnCurrency||this.updateSenderMaxAmount)&&this.updateMaxSenderAmount(k),this.utilService.isProductRankingEnabled()&&(!this.selectedBestOption||this.selectedBestOption&&this.selectedBestOption.disable)?this.updateSelectedProductFromSelectedOption():this.updateSelectedProductFromProducts()}updateSelectedProductFromSelectedOption(){const R=this.lastSelectedProduct?this.lastSelectedProduct.payIn:null,k=this.lastSelectedProduct?this.lastSelectedProduct.payOut:null,y=this.products.filter(I=>I.rankingDetails&&I.rankingDetails.isEligibleForTxn&&!0===I.rankingDetails.isEligibleForTxn).find(I=>I.payIn===R&&I.payOut===k);this.lastSelectedProduct&&y?this.updateStoreUsingActionService.updateSelectedProduct(y):this.updateSelectedProductFromProducts()}updateDigitalToProducts(R,k){let L=!1;if(L=!(!k||!k.promoCode),L)this.updatePromoToProducts(R);else{const y=this.mapResponseToProduct(R);this.updateProductsToStore(y)}}updateRetailToProducts(R,k){this.feeInquiryEstimated=R;let L=!1;if(L=!(!k||!k.promoCode),L)this.updatePromoToProducts(R);else{const y=this.mapResponseToProduct(R);let I=JSON.parse(JSON.stringify(this.products));if(0===I.length)I=y;else for(let T=0;T<I.length;T++)for(let te=0;te<y.length;te++)I[T].payOut===y[te].payOut&&I[T].payIn===y[te].payIn&&(I[T]=y[te]);this.updateStoreUsingActionService.updateProducts(I),this.updateSelectedProductFromProducts()}}updateSscMessage(){let R=sessionStorage.getItem("sscContent");R&&this.getPromoPricingFeatureDetails().subscriptionId&&(R=null,sessionStorage.removeItem("sscContent")),this.updateStoreUsingActionService.updateSscContent(R)}updateSelectedProductFromProducts(){const R=this.updateStoreUsingActionService?.getState()?.countryDynamicParams,k=this.featureFlagService?.isFeatureEnabled("SWITCH_FIFO_FOR_HIGHAMT_TXN"),L=U.includes(R?.RECEIVERS_WITH_FLUCTUATING_EXCHANGE_RATE,U.get(this.corridor,"receiverCountry.isoCode")),y=U.get(this.corridor,"receiverCountry.isoCode")?this.smoDefaults.getDefaultsFromSmoConfig(U.get(this.corridor,"receiverCountry.isoCode")):this.smoDefaults.getDefaults();y.fundsIn=U.get(this.corridor,"receiverCountry.isoCode")?this.smoDefaults.getDefaultsFundsIn(U.get(this.corridor,"receiverCountry.isoCode"),this.products):y.fundsIn,y.fundsOut=U.get(this.corridor,"receiverCountry.isoCode")?this.smoDefaults.getDefaultsFundsOut(U.get(this.corridor,"receiverCountry.isoCode"),this.products):y.fundsOut;const I={payIn:y.fundsIn,payOut:y.fundsOut};if("ACH"===I.payIn&&(I.payIn=e.mt.ACH),this.isAutoSelectSingleFIFOEnable&&this.products&&this.products.length>0&&1===this.products.filter(Z=>Z.maxAmount>=this.senderAmount).length){const Z=this.products.find(de=>de.maxAmount>=this.senderAmount);return void this.updateStoreUsingActionService.updateSelectedProduct(Z)}let T;if(this.selectedProduct&&this.selectedProduct.payOut&&this.selectedProduct.payIn){for(let Z=0;Z<this.products.length;Z++)if(this.selectedProduct.payOut===this.products[Z].payOut&&this.selectedProduct.payIn===this.products[Z].payIn&&(this.selectedProduct.maxAmount>=this.senderAmount||L)&&this.selectedProduct.code===this.products[Z].code){T=this.showLimitBasedOnCurrency?this.products[Z].maxAmount>this.senderAmount?this.products[Z]:this.products.find(de=>de.maxAmount>=this.senderAmount):this.products[Z];break}}else{const Z=this.utilService.getURLQueryParam(),de=this.utilService.getURLParameter("FundsOut"),oe=this.utilService.getURLParameter("FundsIn");for(let ae=0;ae<this.products.length;ae++)if(this.products[ae].payOut===I.payOut&&this.products[ae].payIn===I.payIn&&this.products[ae].maxAmount>=this.senderAmount&&!this.products[ae].isDirected&&this.products[ae].payIn!==e.mt.Cash&&(Z&&de&&oe||this.senderAmount>0||this.receiverAmount>0||this.selectedProduct&&this.selectedProduct.payOut&&this.selectedProduct.payIn)){T=this.products[ae];break}}const te=JSON.parse(sessionStorage.getItem("resendRetail")||"false");if(T&&!te)this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.discount&&DTM_Trigger("discountApplied","discount",this.dtmAnalyticService.getDiscount()),this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.campaign_name&&this.utilService.isPromoSegmentPricingEnabled()&&this.utilService.isUserAppliedPromoCampaignAvailable()&&(T.promotion=this.selectedProduct.promotion),this.updateStoreUsingActionService.updateSelectedProduct(T);else if(te){for(let Z=0;Z<this.products.length;Z++)if(this.selectedProduct?.payOut===this.products[Z].payOut&&this.selectedProduct.payIn===this.products[Z].payIn){this.updateStoreUsingActionService.updateSelectedProduct(this.products[Z]);break}}else{for(let Z=0;Z<this.products.length;Z++)if(this.products[Z].maxAmount>=this.senderAmount&&!this.products[Z].isDirected&&this.products[Z].payIn!==e.mt.Cash&&this.selectedProduct&&this.selectedProduct.payOut&&this.selectedProduct.payIn&&this.selectedProduct.payOut===this.products[Z].payOut){T=this.products[Z];break}if(this.utilService.isPreferredFIFOEnabled()&&I?.payIn&&I?.payOut&&(T?.payIn!==I?.payIn||T?.payOut!==I?.payOut))for(let Z=0;Z<this.products.length;Z++)if(this.products[Z].maxAmount>=this.senderAmount&&!this.products?.[Z]?.isDirected&&this.products?.[Z]?.payIn!==e.mt.Cash&&this.selectedProduct?.payOut&&this.selectedProduct?.payIn&&this.products?.[Z]?.payOut===I.payOut&&this.products?.[Z]?.payIn===I.payIn){T=this.products[Z];break}k&&!T&&(T=this.getProductSupportingSendAmtWithMaxLimit()),T||(this.updateStoreUsingActionService.cleanSelectedProduct(),T=this.selectedProduct),this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.campaign_name&&this.utilService.isPromoSegmentPricingEnabled()&&this.utilService.isUserAppliedPromoCampaignAvailable()&&(T.promotion=this.selectedProduct.promotion),this.updateStoreUsingActionService.updateSelectedProduct(T)}if(this.showLimitBasedOnCurrency){const Z=T?.payIn&&T?.payOut&&T.maxAmount>this.senderAmount;(!T?.payIn||!T?.payOut||!Z)&&(this.selectedProduct&&this.selectedProduct.payOut&&this.selectedProduct.payIn&&(T=this.products.find(de=>de.maxAmount>=this.senderAmount)),T||(T=this.selectedProduct),this.updateStoreUsingActionService.updateSelectedProduct(T))}}getPriceCatalogDetails(R){if(this.utilService.isUserAppliedPromoCampaignAvailable()||!R||R&&!R.promoCode||R&&R.promoCode&&R.isFromSMLogin){const k=this.getPromoPricingFeatureDetails();this.utilService.updateDataLayerForCampaign(),(!this.utilService.isUserAppliedPromoCampaignAvailable()||!R)&&this.isSpinnerCallAfterCatalog&&this._spinnerService.startCall(),this.fundsInTileSpinnerExp.next(!0),this.utilService.updateLastSelectedProduct(this.isFifoTilesSelected);const L=this.utilService.getPartnerName(),y=this.priceCatalogService.getPriceCatalog(this.getPriceCatalogPayload(R),k),I=L&&G.Y.cloudPricingAPIForPartners[L]?.cloudPricingAPIenbaleForRetail?this.priceCatalogService.getPriceCatalog(this.getPriceCatalogPayload(L),k):(0,f.of)({});(0,C.p)({digital:y,retail:I}).subscribe(T=>{let Z,te=T.digital;const de=T.retail;if(this.updateSscMessage(),te&&te.error){te.error=this.utilService.updateCloudPricingErrorCodeMsg(te.error);const oe=[];oe.push(te),this.showLimitBasedOnCurrency&&this.updateStoreUsingActionService.cleanProducts(),this.updateGenericErrorObj(oe,R),this.executeCallBackFnFlow(R,!1)}else{de&&Array.isArray(de)&&(Z=G.Y.STAGEANDPAY_CASHTOBANKTRANSACTION_PARTNERLIST.includes(L.toLowerCase())?T.retail.filter(ae=>"000"===ae.code&&"AG"===ae.payIn.toUpperCase()&&"AG"===ae.payOut.toUpperCase()||"500"===ae.code&&"AG"===ae.payIn.toUpperCase()&&"BA"===ae.payOut.toUpperCase()):T.retail.find(ae=>"000"===ae.code&&"AG"===ae.payIn.toUpperCase()&&"AG"===ae.payOut.toUpperCase()),Z&&(te=[...te,...Z]));const oe=JSON.parse(sessionStorage.getItem("PriceCatalogRes")||"{}");if(!U.isEmpty(oe)){const{sender:ae,receiver:he}=oe;this.updateStoreUsingActionService.updatePriceCatalogDetails({sender:ae,receiver:he})}this.updateStoreUsingActionService.cleanProducts(),te=this.getFilteredProducts(te),te=this.mergeLimitsToproducts(te),(this.updateGetLimitsService.isGetLimitsCall||te.length>this.productsAfterGetLimit.length)&&this.getProductsOnGetLimitCall(te),this.utilService.isProductRankingEnabled()&&this.updateProductRanking(te),sessionStorage.setItem("fifoComboForSPmsg",JSON.stringify(te)),sessionStorage.setItem("updateFifoComboSort","true"),this.updateProductsToStore(te),this.utilService.isUserAppliedPromoCampaignAvailable()||this.getPromoDiscountDetails(R)}this.fundsInTileSpinnerExp.next(!1),(!this.utilService.isUserAppliedPromoCampaignAvailable()||!R)&&(this.isSpinnerCallAfterCatalog?this._spinnerService.endCall():this.isSpinnerCallAfterCatalog=!0)})}else(this.getPromoPricingFeatureDetails().promoPricingCampaign||this.getPromoPricingFeatureDetails().subscriptionId)&&R&&(R.campaign=this.getPromoPricingFeatureDetails()),this.isCallGetPromoDisccount(R)&&(this.getPromoDiscountDetails(R),this.updatePromocodeForPaysendProducts(R))}updatePromocodeForPaysendProducts(R){const k=this.utilService.paysendD2CObjFromProduct(this.products);k.isVisaAvailable.length&&k.isMastercardAvailable.length&&("201"===this.selectedProduct.code&&this.getPromoDiscountDetails(R,k.isMastercardAvailable[0]),"202"===this.selectedProduct.code&&this.getPromoDiscountDetails(R,k.isVisaAvailable[0]))}updateMaxSenderAmount(R){let k;if(this.updateSenderMaxAmount){const y=this.updateStoreUsingActionService.getState();this.senderAmountLimit=y.senderAmountLimit}this.updateSenderMaxAmount&&this.selectedProduct&&this.selectedProduct.maxAmount?k=this.selectedProduct.maxAmount:R.forEach(y=>{k=k?y.maxAmount>k?y.maxAmount:k:this.senderAmountLimit>y.maxAmount&&this.updateSenderMaxAmount?this.senderAmountLimit:y.maxAmount}),this.updateStoreUsingActionService.updateSenderAmountLimit({senderAmountLimit:k})}isCallGetPromoDisccount(R){return!(R.campaign&&R.campaign.subscriptionId&&!R.promoCode)}updateProductRanking(R){const k=U.get(this.corridor,"receiverCountry.isoCode"),L=this.smoConfig.getFundsInOptions(k),y=this.smoConfig.getFundsOutOptions(k);this.utilService.deleteACHForCanada(this.corridor,L),this.utilService.isEnabledWalletPayout(k,y),this.utilService.isDisabledBankPayout(U.get(this.corridor,"senderCountry.isoCode"),k,y),this.utilService.isEnabledD2cPayout(k,y),this.utilService.isEnabledUSCUD2B(k,y),this.utilService.isEnabledWuPayout(k,y),this.productRankingService.updateProductRanking(R,y,L,this.senderAmount,this.selectedAgentProduct&&this.selectedAgentProduct?.code?this.selectedAgentProduct?.code:"000")}getPromoDiscountDetails(R,k){let L;const y=this.featureFlagService.isFeatureEnabled("PromoCode_Loading");this.selectedProduct&&this.selectedProduct.payIn&&R&&R.promoCode&&!this.isSamePromoDiscountApplied(this.selectedProduct,R.promoCode)?(y?this.utilService.promoCodeEllipsisSpinnerExp.next(!0):this._spinnerService.startCall(),R.campaign&&(L=R.campaign),this.utilService.isPromolistEnabled(),this.applyPromoService.applyPromoDiscountMethod(R,k,L).subscribe(I=>{y?this.utilService.promoCodeEllipsisSpinnerExp.next(!1):this._spinnerService.endCall(),I&&I.promotion&&(I.promotion&&I.promotion.campaign_name?(this.isSpinnerCallAfterCatalog=!0,sessionStorage.setItem("userAppliedPromoCampaignName",I.promotion.campaign_name.toLowerCase()),this.updateStoreUsingActionService.updatePromoCode(I.promotion.campaign_name),R.campaign=I.promotion,this.getPriceCatalogDetails(R),this.executeCallBackFnFlow(R)):this.promoDiscountRoadRunnerUpdates(R))})):this.executeCallBackFnFlow(R)}promoDiscountRoadRunnerUpdates(R){if(R&&R.promoCode&&this.selectedProduct&&(this.selectedProduct.payIn===e.mt.CreditCard||this.selectedProduct.payIn===e.mt.DebitCard)){let k;k=U.find(this.products,this.selectedProduct.payIn===e.mt.CreditCard?{code:this.selectedProduct.code,payIn:e.mt.DebitCard,payOut:this.selectedProduct.payOut}:{code:this.selectedProduct.code,payIn:e.mt.CreditCard,payOut:this.selectedProduct.payOut}),k&&!this.isSamePromoDiscountApplied(k,R.promoCode)?this.applyPromoService.applyPromoDiscountMethod(R,k).subscribe(()=>{this.executeCallBackFnFlow(R)}):this.executeCallBackFnFlow(R)}else this.executeCallBackFnFlow(R)}isSamePromoDiscountApplied(R,k){return R.promotion&&R.promotion.code===k&&typeof R.promotion.discount<"u"}getFilteredProducts(R){const k=[];for(let L=0;L<R.length;L++)R[L].payIn===e.bw.CA&&(R[L].payOut===e.s7.MM&&!this.smoConfig.isRetailPayoutEnabled(e.s7.MM)||R[L].payOut===e.s7.DB&&!this.isAPNEnabled)||k.push(R[L]);return k}getProductSupportingSendAmtWithMaxLimit(){try{const R=U.get(this.corridor,"receiverCountry.isoCode"),k=this.smoConfig.getFundsInOptions(R),L=this.smoConfig.getFundsOutOptions(R),y=!!this.utilService.isSplitTileEnabled()&&this.utilService.isReceiverDSREnabledCorridor().isMultiTileEnabled,I=(0,p.Y)(this.products,L,y),te=this.products?.filter(Z=>{const de=I.find(oe=>oe.payOut===Z.payOut);return"Y"===k[Z.payIn]&&"Y"===L[Z.payOut]&&de?.isEnabled&&de?.payOut===Z.payOut&&Z?.maxAmount>=this.senderAmount&&Z?.payIn!==e.mt.Cash})?.reduce((Z,de)=>Z.maxAmount>de.maxAmount?Z:de,{});return U.isEmpty(te)?null:te}catch(R){return console.error("Error",R),null}}mergeLimitsToproducts(R){let k;if(this.getLimits&&this.getLimits.transactionLimits&&this.getLimits.transactionLimits.payInTransactionLimit){const L=this.getLimits.transactionLimits.payInTransactionLimit;this.updateSenderMaxAmount=this.featureFlagService.isFeatureEnabled("UPDATE_SENDER_MAX_AMOUNT"),this.isGetLimitsFlagEnabled=this.featureFlagService.isFeatureEnabled("GETLIMITSFLAG"),R.forEach(y=>{const I=L.find(function(Z){return Z.serviceCode===y.code&&Z.payIn===y.payIn});if(I)y.minAmount=I.minLimit/100,y.maxAmount=I.maxLimit/100,k=this.setSenderMaxAmountLimit(k,I);else if(this.isGetLimitsFlagEnabled&&("800"===y.code||["200","201","202"].includes(y.code))&&this.getLimits&&this.getLimits.transactionLimits&&this.getLimits.transactionLimits.transactionLimit){const de=this.getLimits.transactionLimits.transactionLimit.find(function(oe){return oe.serviceCode===y.code});de&&(y.minAmount=de.minLimit/100,y.maxAmount=de.maxLimit/100,k=this.setSenderMaxAmountLimit(k,de))}const T=y.payIn;let te=y.maxAmount;te=("Cash"===T||"AG"===T)&&G.Y.ONLY_S_AND_P_COUTRIES.indexOf(U.get(this.corridor,"senderCountry.isoCode"))<0?this.getRetailMaxAmount():Math.min(y.maxAmount,k||this.senderAmountLimit),y.maxAmount=te})}else if(this.getLimits&&this.getLimits.transactionLimits&&this.getLimits.transactionLimits.transactionLimit){const L=this.getLimits.transactionLimits.transactionLimit;R.forEach(y=>{const I=L.find(function(Z){return Z.serviceCode===y.code});I&&(y.minAmount=I.minLimit/100,y.maxAmount=I.maxLimit/100,k=this.setSenderMaxAmountLimit(k,I));const T=y.payIn;let te=y.maxAmount;te=("Cash"===T||"AG"===T)&&G.Y.ONLY_S_AND_P_COUTRIES.indexOf(U.get(this.corridor,"senderCountry.isoCode"))<0?this.getRetailMaxAmount():Math.min(y.maxAmount,k||this.senderAmountLimit),y.maxAmount=te})}return R}setSenderMaxAmountLimit(R,k){return this.showLimitBasedOnCurrency||this.updateSenderMaxAmount?R=R?Math.max(R,k.maxLimit/100):k.maxLimit/100:null}getPriceCatalogReceiverDetails(){return"true"===sessionStorage.getItem("pennyDropTransaction")&&"MW"===this.selectedProduct?.payIn?{curr_iso3:"MYR",cty_iso2_ext:"MY",cty_iso2:"MY"}:this.utilService.isDSREnabledCorridor()&&"D01"===this.utilService.isDSREnabledCorridor()?{curr_iso3:this.corridor.receiverCurrency,cty_iso2_ext:U.get(this.corridor,"receiverCountry.isoCode"),cty_iso2:U.get(this.corridor,"receiverCountry.isoCode"),province_state:"",city:"",direct_flag:"H"}:{curr_iso3:this.corridor.receiverCurrency,cty_iso2_ext:U.get(this.corridor,"receiverCountry.isoCode"),cty_iso2:U.get(this.corridor,"receiverCountry.isoCode")}}getPriceCatalogPayload(R){const k=this.utilService.getPartnerName();if(R&&"SCH_TRANS"===R.srcCode&&this.utilService.isScheduledTransferEnabledViaEvergage()){const I=this.updateStoreUsingActionService.getState();this.corridor=I.corridor}const L={header_request:{version:"0.5",correlation_id:this.utilService.getCorrelationTransactionId()["X-WU-Correlation-ID"],transaction_id:this.utilService.getCorrelationTransactionId()["X-WU-Transaction-ID"]},sender:{client:"WUCOM",channel:"WWEB",cty_iso2_ext:U.get(this.corridor,"senderCountry.isoCode"),curr_iso3:this.corridor.senderCurrency,province_state:this.getSendersStateCode(),segment:this.getSendersLevelCode(),funds_in:this.getFundsInOpt(R),air_requested:this.getAirRequested(),postal_code:this.getPostalCode()},receiver:this.getPriceCatalogReceiverDetails(),visit:this.featureFlagService.isFeatureEnabled("ENABLE_TIMEZONE_IN_CATALOG")?this.getTimeZone():void 0},y=this.utilService.getFingerPrintFromSession()||void 0;if((U.get(this.sender,"myWuNumber")||y)&&(L.visitor={customer_id:U.get(this.sender,"myWuNumber"),fingerprint_id:y}),this.getLimits&&this.getLimits.aggregatedTxnAmount&&(L.sender.aggregate_amount=this.getLimits.aggregatedTxnAmount),R&&R.type&&"receive_amount"===R.type?L.receiver.receive_amount=Number(R.preferredAmount):L.sender.send_amount=Number(this.senderAmount),R&&R.userSelectedCity?(L.receiver.direct_flag="H",L.receiver.city=R.userSelectedCity.cityName.toUpperCase(),L.receiver.province_state=R.userSelectedCity.stateName.toUpperCase()):null!=this.selectedAgentProduct&&this.setDirectServiceOption(L),"Y"===L.sender.air_requested){const I=this.getEFLData(R,U.get(this,"efl.address.state")?this.efl.address.state:L.sender.province_state);L.sender.efl_type="STATE",L.sender.efl_value=I&&I.address&&I.address.state?I.address.state:"CA"}if(k&&G.Y.cloudPricingAPIForPartners[k]){if(k&&this.utilService.isPosteFXDiscountEnabled()&&"posteitaliane"===k.toLowerCase()){const T=this.updateStoreUsingActionService.getState().partnerData.retrieveResponseData.actionFlag,te=this.utilService.getCookieItem("userIdentity");(T&&1===T||T&&te&&(2===T||3===T)&&"registeredCustomer"===te)&&(L.sender.segment="N00")}k===R&&G.Y.cloudPricingAPIForPartners[k].cloudPricingAPIenbaleForRetail||(L.sender.client=G.Y.cloudPricingAPIForPartners[k].client,L.sender.channel=G.Y.cloudPricingAPIForPartners[k].channel)}if(this.isPPSprofile){const I=JSON.parse(sessionStorage.getItem("CustomerProfile")||"null");if(I){const T=U.get(I,"client_name"),te=I&&I.clientId,Z=I&&I.providerId,de=U.get(this.corridor,"senderCurrency"),oe=U.get(this.corridor,"senderCountry.isoCode");T?(L.sender.client=T,L.sender.channel="WCON"):G.Y.cloudPricingAPIForPPS[oe][Z][de][te]?(L.sender.client=G.Y.cloudPricingAPIForPPS[oe][Z][de][te].client,L.sender.channel=G.Y.cloudPricingAPIForPPS[oe][Z][de][te].channel):(L.sender.client=G.Y.cloudPricingAPIForPPS[oe][Z][de].Default.client,L.sender.channel=G.Y.cloudPricingAPIForPPS[oe][Z][de].Default.channel)}}return L}setDirectServiceOption(R){"US"===this.selectedAgentProduct?.origination?.countryIsoCode&&"MX"===this.selectedAgentProduct?.destination?.countryIsoCode&&this.selectedAgentProduct?.expectedPayoutLocation&&(R.receiver.direct_flag="H",R.receiver.city=this.selectedAgentProduct?.expectedPayoutLocation.city,R.receiver.province_state=this.selectedAgentProduct?.expectedPayoutLocation.stateName)}getSendersStateCode(){let R;const k=U.get(this.corridor,"senderCountry.isoCode");if("US"===k||"CA"===k)if(this.sender&&this.sender.address&&this.sender.address.state)R=this.sender.address.state;else{const L=this.utilService.getCookieStoreItem("AKRegioncode");R="US"===k?G.Y.usStates[L]?L:"CA":"CA"===k?G.Y.canadaStates[L]?L:"ON":""}return R}getSendersLevelCode(){let R;return this.sender&&this.sender.levelCode&&(R=this.sender.levelCode),R}getFundsInOpt(R){return"*"}getAirRequested(){return this.countryConfig.getAirEnabled()||this.countryConfig.isRetail()?"Y":""}getPostalCode(){let R;return U.get(this.sender,"address.zipCode")&&(R=U.get(this.sender,"address.zipCode")),R}getEFLData(R,k){let L=this.efl;return L=R&&R.eflState?this.retrieveEFL(R.eflState,{type:"UPDATE",efl:this.efl}):k?this.retrieveEFL(k,{type:"UPDATE",efl:this.efl}):this.retrieveEFL(null,{type:"GET"}),L}getTimeZone(){let R={};return R={local_datetime:{timestamp_ms:(new Date).getTime(),timezone:(new Date).getTimezoneOffset()}},R}executeCallBackFnFlow(R,k){R&&!0===R.isFromSMLogin&&R.callBackFn(!(typeof k<"u")||k)}getPromoPricingFeatureDetails(){return{promoPricingCampaign:(this.sender&&this.sender.isLoggedIn&&this.utilService.isPostLoginPromoCampaignEnabled()||!this.sender||!this.sender.isLoggedIn)&&this.utilService.promoPricingWebCampaign().promoPricingCampaign?this.utilService.promoPricingWebCampaign().promoPricingCampaign:void 0,subscriptionId:this.utilService.getCookieStoreItem("promoCampaignSubscriptionId"),isPromoPricingEnabled:this.utilService.isPromoPricingEnabled(),enableCorrelationTransactionIdHeaders:!0}}getFeeInquiryDigitalRequest(R){const k=this.getSendersZipCode(),L={version:2,auto_apply_promo:!0,security:this.baseRequestService.getSecurity(),external_reference_no:"1",origination_channels:{channel:[{name:"Western Union",type:"WEB",version:"9Z00"}]},sender:{address:{postal_code:k||"",country_iso_code:""}},reference_location:{address:{postal_code:k||"",country_iso_code:""}},payment_details:{origination:{country_iso_code:"",currency_iso_code:""},destination:{country_iso_code:"",currency_iso_code:""},payment_type:this.getPaymentType()},inquiry_type:"MONEY_TRANSFER_FEE",inquiry_accuracy:this.getInquiryAccuracy(R),bashPath:this.baseRequestService.getBashPath()};return L.sender.address.country_iso_code=U.get(this.corridor,"senderCountry.isoCode"),L.reference_location.address.country_iso_code=U.get(this.corridor,"senderCountry.isoCode"),L.payment_details.origination.country_iso_code=U.get(this.corridor,"senderCountry.isoCode"),L.payment_details.origination.currency_iso_code=this.corridor.senderCurrency,L.payment_details.destination.country_iso_code=U.get(this.corridor,"receiverCountry.isoCode"),L.payment_details.destination.currency_iso_code=this.corridor.receiverCurrency,R&&R.type&&"receive_amount"===R.type?L.payment_details.destination.expected_payout_amount=Number(100*R.preferredAmount).toFixed():L.payment_details.origination.principal_amount=this.senderAmount.toString(),R&&R.promoCode&&(L.payment_details.promotion={code:R.promoCode}),R&&"false"===R.auto_apply_promo?(L.auto_apply_promo=R.auto_apply_promo,this.sender.isPendingPromo=!1):delete L.auto_apply_promo,R&&R.userSelectedCity&&(R.promoCode||(L.directed_service_ready="Y"),L.payment_details.expected_payout_location={state_code:R?.userSelectedCity?.stateIsoCode?.toUpperCase(),state_name:R?.userSelectedCity?.stateName?.toUpperCase(),city:R.userSelectedCity?.cityName?.toUpperCase()}),G.Y.ONLY_S_AND_P_COUTRIES.indexOf(U.get(this.corridor,"senderCountry.isoCode"))>-1&&(L.payment_details.origination.efl=this.retrieveEFL(null,{type:"GET"})),L}getInquiryAccuracy(R){let k="EXACT";const L=U.get(this.corridor,"senderCountry.isoCode");return G.Y.ONLY_S_AND_P_COUTRIES.indexOf(L)>-1&&(k=R&&R.promoCode?"EXACT":"ESTIMATED"),k}getPaymentType(){let R="ALL";const k=U.get(this.corridor,"senderCountry.isoCode");return this.isPPSprofile&&(R="CreditCard"),G.Y.ONLY_S_AND_P_COUTRIES.indexOf(k)>-1&&(R="Cash"),R}getFeeInquiryRetailRequest(R,k){let y,L=this.efl;L=R&&R.eflState?this.retrieveEFL(R.eflState,{type:"UPDATE",efl:this.efl}):this.retrieveEFL(null,{type:"GET"}),y=R&&R.promoCode?"EXACT":"ESTIMATED";const I=this.getSendersZipCode(),T={security:this.baseRequestService.getRetailSecurity(),external_reference_no:"1",sender:{address:{postal_code:I||"",country_iso_code:""},preferred_customer:{account_nbr:null}},inquiry_type:"MONEY_TRANSFER_FEE",inquiry_accuracy:y,origination_channels:{channel:[{name:"MOB",type:"RETAIL_MOBILE",version:this.baseRequestService.getChannelVersionRetail(),device_identifier:"RESPONSIVE_MOB",is_responsive:"true"}]},reference_location:{address:{postal_code:I||"",country_iso_code:""}},payment_details:{origination:{country_iso_code:"",currency_iso_code:"",efl:{address:L.address}},destination:{country_iso_code:"",currency_iso_code:""},payment_type:this.getPaymentType()},bashPath:this.baseRequestService.getBashPath()};if(T.sender.address.country_iso_code=U.get(this.corridor,"senderCountry.isoCode"),T.reference_location.address.country_iso_code=U.get(this.corridor,"senderCountry.isoCode"),T.payment_details.origination.country_iso_code=U.get(this.corridor,"senderCountry.isoCode"),T.payment_details.origination.currency_iso_code=this.corridor.senderCurrency,R&&R.type&&"receive_amount"===R.type?T.payment_details.destination.expected_payout_amount=R.preferredAmount:T.payment_details.origination.principal_amount=this.senderAmount.toString(),T.payment_details.destination.country_iso_code=U.get(this.corridor,"receiverCountry.isoCode"),T.payment_details.destination.currency_iso_code=this.corridor.receiverCurrency,!R&&this.sender&&this.sender.promoCode&&((R={}).promoCode=this.sender.promoCode),this.sender&&this.sender.myWuNumber&&(T.sender.preferred_customer.account_nbr=this.sender.myWuNumber),R&&R.promoCode&&(T.payment_details.promotion={code:R.promoCode}),k){const te=U.find(this.products,{payIn:e.mt.Cash,payOut:e.Zr.BA});te&&(T.wu_product={code:te.code,name:te.name,routing_code:te.routingCode,speed_indicator:te.speedIndicator})}return T}getRetailMaxAmount(){let R=null;const k=this.smoConfig.getRetailLimits();if(k){let L;const y=U.get(this.corridor,"receiverCountry.isoCode"),I=U.get(this.corridor,"senderCountry.isoCode");L=k.findIndex("CU"===y&&"US"===I?T=>T.countryIsoCode===y:T=>T.countryIsoCode===I),R=k[L]?.fundsOutLimit}return R}mappingFunc(R,k,L){const y={code:"",name:"",routingCode:"",payIn:null,payOut:null,deliverySpeed:null,minAmount:0,maxAmount:0,fees:0,destinationFees:0,exchangeRate:0,speedIndicator:"",location:""},I=e.mt[k.paymentDetails.paymentType],T=e.Zr[R];if(y.code=k.wuProduct.code,y.name=k.wuProduct.name,y.routingCode=k.wuProduct.routingCode,y.payIn=I,y.payOut=T,y.deliverySpeed=k.wuProduct.name,y.minAmount=L[0]?L[0]:1,y.maxAmount=L[1]?L[1]:null,y.fees=k.paymentDetails.fees.charges/100,y.destinationFees=0,y.exchangeRate=k.paymentDetails.exchangeRate,y.speedIndicator=k.wuProduct.speedIndicator?k.wuProduct.speedIndicator:"0","Cash"===U.get(k,"paymentDetails.paymentType")&&U.get(k,"wuProduct.speed_indicator")&&(y.speedIndicator=k.wuProduct.speed_indicator),k.paymentDetails.promotion&&k.paymentDetails.promotion.code&&k.paymentDetails.promotion.discount&&(y.promotion={code:k.paymentDetails.promotion.code,discount:k.paymentDetails.promotion.discount/100,message:k.paymentDetails.promotion.message},y.fees=(Number(k.paymentDetails.fees.charges)+Number(k.paymentDetails.promotion.discount))/100),k.paymentDetails.destination&&k.paymentDetails.destination.expectedPayoutAmount&&k.paymentDetails.destination.currencyIsoCode&&k.paymentDetails.destination.countryIsoCode&&(y.destination={expectedPayoutAmount:k.paymentDetails.destination.expectedPayoutAmount,currencyIsoCode:k.paymentDetails.destination.currencyIsoCode,countryIsoCode:k.paymentDetails.destination.countryIsoCode},k.paymentDetails.destination.split_payout)){y.destination.splitPayOut=[];for(let te=0;te<k.paymentDetails.destination.split_payout.length;te++)k.paymentDetails.destination.split_payout[te].expected_payout_amount&&k.paymentDetails.destination.split_payout[te].exchange_rate&&k.paymentDetails.destination.split_payout[te].currency_iso_code&&(y.destination.splitPayOut[te]={expectedPayoutAmount:k.paymentDetails.destination.split_payout[te].expected_payout_amount,currencyIsoCode:k.paymentDetails.destination.split_payout[te].currency_iso_code,exchangeRate:k.paymentDetails.destination.split_payout[te].exchange_rate})}return k.paymentDetails.origination&&k.paymentDetails.origination.principalAmount&&k.paymentDetails.origination.grossAmount&&k.paymentDetails.origination.currencyIsoCode&&k.paymentDetails.origination.countryIsoCode&&(y.origination={principalAmount:k.paymentDetails.origination.principalAmount,grossAmount:k.paymentDetails.origination.grossAmount,currencyIsoCode:k.paymentDetails.origination.currencyIsoCode,countryIsoCode:k.paymentDetails.origination.countryIsoCode}),k.wuProduct.isDirected&&"Y"===k.wuProduct.isDirected&&(y.location=k.wuProduct.location,y.isDirected=k.wuProduct.isDirected,k.paymentDetails.expectedPayoutLocation&&k.paymentDetails.expectedPayoutLocation.stateCode&&k.paymentDetails.expectedPayoutLocation.stateName&&k.paymentDetails.expectedPayoutLocation.city&&(y.expectedPayoutLocation={stateCode:k.paymentDetails.expectedPayoutLocation.stateCode,stateName:k.paymentDetails.expectedPayoutLocation.stateName,city:k.paymentDetails.expectedPayoutLocation.city})),y}mapResponseToProduct(R){const k=[];let L,y;for(let I=0;I<R.length;I++)if(R[I]&&R[I].serviceOptions){R[I].serviceOptions.serviceOption.WEB?(L=Object.keys(R[I].serviceOptions.serviceOption.WEB),y=R[I].serviceOptions.serviceOption.WEB):R[I].serviceOptions.serviceOption.RETAIL_MOBILE&&(L=Object.keys(R[I].serviceOptions.serviceOption.RETAIL_MOBILE),y=R[I].serviceOptions.serviceOption.RETAIL_MOBILE);for(let T=0;T<L.length;T++){const te=y[L[T]];for(let Z=0;Z<te.length;Z++){let de;("Cash"===te[Z].paymentDetails.paymentType||"AG"===te[Z].paymentDetails.paymentType)&&G.Y.ONLY_S_AND_P_COUTRIES.indexOf(U.get(this.corridor,"senderCountry.isoCode"))<0&&(de=[1,this.getRetailMaxAmount()]),de||(de=this.getMinMaxAmount(te[Z]));const oe=this.mappingFunc(L[T],te[Z],de);k.push(oe)}}}return k}getMinMaxAmount(R){const k=[];let L=1,y=1;if(this.getLimits&&this.getLimits.transactionLimits&&this.getLimits.transactionLimits.payInTransactionLimit){const I=this.getLimits.transactionLimits.payInTransactionLimit;for(let T=0;T<I.length;T++)if(I[T].serviceCode===R.wuProduct.code&&I[T].payIn===R.paymentDetails.paymentType){if(L=I[T].minLimit/100,y=I[T].maxLimit/100,this.sender&&!0===this.sender.isSWBProfile){const te=[];te.push(this.senderAmountLimit),te.push(y),y=Math.min(...te)}k.push(L),k.push(y);break}}if(this.getLimits&&this.getLimits.transactionLimits&&this.getLimits.transactionLimits.transactionLimit&&0===k.length){const I=this.getLimits.transactionLimits.transactionLimit;for(let T=0;T<I.length;T++)if(I[T].serviceCode===R.wuProduct.code){L=I[T].minLimit/100,y=I[T].maxLimit/100,k.push(L),k.push(y);break}}if(this.getLimits&&this.getLimits.transactionLimits&&this.getLimits.transactionLimits.transactionLimit&&0===k.length){const I=this.getLimits.transactionLimits.transactionLimit;for(let T=0;T<I.length;T++)if(R.wuProduct.code&&"000"===I[T].serviceCode){L=I[T].minLimit/100,y=I[T].maxLimit/100,k.push(L),k.push(y);break}}return k}addPromoToProducts(R,k){const L=JSON.parse(JSON.stringify(this.products));let y="";for(let I=0;I<L.length;I++){for(let T=0;T<R.length;T++)R[T].payIn===L[I].payIn&&R[T].payOut===L[I].payOut&&R[T].code===L[I].code&&R[T].promotion&&(L[I].promotion=R[T].promotion,y=R[T].promotion.code),this.corridor&&this.corridor.senderCountry&&this.corridor.senderCountry.isoCode&&this.utilService.isPriceQuotecountry(this.corridor.senderCountry.isoCode)&&k[0]&&k[0].serviceOptions&&k[0].serviceOptions.serviceOption&&k[0].serviceOptions.serviceOption.RETAIL_MOBILE&&k[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG&&k[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG[0]&&k[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG[0].paymentDetails&&k[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG[0].paymentDetails.total_undiscounted_charges&&L[I].payIn===e.mt.Cash&&L[I].payOut===e.Zr.AG&&R[T].payIn===L[I].payIn&&R[T].payOut===L[I].payOut&&R[T].code===L[I].code&&R[T].promotion&&(L[I].promotion=R[T].promotion,L[I].fees=Number(k[0].serviceOptions.serviceOption.RETAIL_MOBILE.AG[0].paymentDetails.total_undiscounted_charges)/100,y=R[T].promotion.code),!L[I].promotion&&"Y"===L[I].isDirected&&R[T].payIn===L[I].payIn&&R[T].payOut===L[I].payOut&&R[T].promotion&&(L[I].promotion=R[T].promotion,y=R[T].promotion.code);L[I].promotion||(L[I].promotion={code:y,discount:0,message:""})}return L}updatePromoToProducts(R){for(let k=0;k<R.length;k++)if(R[k]&&R[k].serviceOptions){const L=this.mapResponseToProduct([R[k]]);if(this.products&&this.products.length>0){const y=this.addPromoToProducts(L,R);this.updateProductsToStore(y)}else this.updateProductsToStore(L)}else this.addErrorResponseToProducts(R[k])}addErrorResponseToProducts(R){if(R&&R.error&&R.error.code){const k=JSON.parse(JSON.stringify(this.products));if("C1771"===R.error.code){for(let L=0;L<k.length;L++)k[L].payOut!==e.Zr.AG&&k[L].payOut!==e.Zr.BA||k[L].payIn!==e.mt.Cash||(k[L].promotion={code:R.error.code,discount:null,message:R.error.message});this.updateProductsToStore(k)}else{for(let L=0;L<k.length;L++)k[L].promotion&&k[L].promotion.code||(k[L].promotion={code:R.error.code,discount:null,message:R.error.message});this.updateProductsToStore(k)}}}setSelectedFundsOutTile(R,k,L,y){if(this.utilService.isUserAppliedPromoCampaignAvailable()&&this.utilService.isPromoSegmentPricingEnabled()&&this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.campaign_name)for(let I=0;I<k.length;I++)this.selectedProduct.promotion.campaign_name&&!k[I].promotion&&(k[I].promotion=this.selectedProduct.promotion);if(L!==e.mt.Cash||R!==e.Zr.BA||this.isAPNEnabled){let I=0;for(let T=0;T<k.length;T++)if(k[T].payIn===L&&k[T].payOut===R&&k[T].maxAmount>=this.senderAmount&&k[T].code===y){this.updateStoreUsingActionService.updateSelectedProduct(k[T]),I++;break}if(0===I)for(let T=0;T<k.length;T++)if(k[T].payOut===R&&k[T].maxAmount>=this.senderAmount){this.updateStoreUsingActionService.updateSelectedProduct(k[T]);break}}else for(let I=0;I<k.length;I++)if(k[I].payOut===R&&k[I].maxAmount>=this.senderAmount){this.updateStoreUsingActionService.updateSelectedProduct(k[I]);break}}setSelectedFundsInTile(R,k,L,y){if(this.utilService.isUserAppliedPromoCampaignAvailable()&&this.utilService.isPromoSegmentPricingEnabled()&&this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.campaign_name)for(let I=0;I<k.length;I++)this.selectedProduct.promotion.campaign_name&&!k[I].promotion&&(k[I].promotion=this.selectedProduct.promotion);for(let I=0;I<k.length;I++)if(k[I].payOut===L&&k[I].code===y&&k[I].payIn===R){let T;this.showLimitBasedOnCurrency&&k[I].maxAmount<this.senderAmount?T=this.products.find(de=>de.payIn===this.selectedProduct.payIn&&de.payOut===this.selectedProduct.payOut&&de.maxAmount>=this.senderAmount)||this.products.find(de=>de.payIn===this.selectedProduct.payIn&&de.maxAmount>=this.senderAmount)||this.products.find(de=>de.maxAmount>=this.senderAmount):(T=k[I],this.utilService.isPromolistEnabled()),this.updateStoreUsingActionService.updateSelectedProduct(T)}}removePromoFromProducts(){const R=JSON.parse(JSON.stringify(this.products));for(let L=0;L<R.length;L++)R[L].promotion&&delete R[L].promotion;const k=JSON.parse(JSON.stringify(this.selectedProduct));this.selectedProduct.promotion&&delete k.promotion,this.promoCode&&(this.promoCode=""),this.updateStoreUsingActionService.updatePromoCode(this.promoCode),this.utilService.isPromoSegmentPricingEnabled()&&this.utilService.isUserAppliedPromoCampaignAvailable()&&(this.isSpinnerCallAfterCatalog=!1,sessionStorage.removeItem("userAppliedPromoCampaignName"),this.getPriceCatalogDetails(void 0)),this.updateStoreUsingActionService.updateProducts(R),this.updateStoreUsingActionService.updateSelectedProduct(k)}isFundsInOptionRemoved(R,k){return!(this.countryConfig.isSetJustOneCardMethod()||k?.payIn&&"Y"===R[k.payIn]||k?.payIn===e.mt.Cash&&"Y"===R.Cash)}getFeeInquiryDetailsSDK(R){}getSendersZipCode(){let R="";if(this.sender&&this.sender.address&&this.sender.address.zipCode)return this.sender.address.zipCode;const k=this.utilService.getAKZipCodes();if(k&&k.length>0)R=k[0];else{const L=this.smoConfig._getCountryIsoCode().toUpperCase();R=this.getDefaultZipCode(L)}return R}getDefaultStateCode(R){return this._stageAndPayService.getDefaultStateCodeList()[R]||null}getDefaultZipCode(R){return this._stageAndPayService.getDefaultZipCodeList()[R]||""}retrieveEFL(R,k){const L=k.type||"INIT";let I,y=U.merge(k.efl,this.efl)||{_isModified:!1,_isSWB:!1,_init:null,address:{}};switch(L){case"INIT":let T;if(this.sender&&this.sender.isLoggedIn)T={address:{country_iso_code:this.sender.address.countryIsoCode.toUpperCase()||null,state:this.sender.address.state||null,postal_code:this.sender.address.zipCode||null,city:this.sender.address.city||null,addr_line1:this.sender.address.addressLine1||null}};else{const B=this.getSendersZipCode(),z=this.utilService.getCookieStoreItem("AKRegioncode");T={address:{country_iso_code:this.utilService.getCookieStoreItem("AKCountry")||y.address.country_iso_code.toUpperCase(),state:z||y.address.state,postal_code:B||y.address.postal_code}}}const te=T.address.postal_code,Z={address:{country_iso_code:y.address.country_iso_code.toUpperCase(),state:y.address.state,postal_code:y._isSWB?y.address.postal_code:te}};T=y._isModified?{...T,...Z}:T;const de={_init:te,_isModified:y._isModified||!1,_isSWB:y._isSWB||!1},oe={...T,...de};return oe&&oe.address&&!oe.address.state&&(oe.address.state=this.getDefaultStateCode(U.get(oe,"address.country_iso_code"))),this.updateStoreUsingActionService.updateEfl(oe),oe;case"GET":const ae=this.smoConfig._getCountryIsoFromURL().toUpperCase();return I="US"===ae?{address:{...y.address,state:U.get(y,"address.state")||"CA"}}:{address:{country_iso_code:ae}},I;case"UPDATE":const he=this.utilService.isStateSWBorOK(R);return y={...y,address:{country_iso_code:y&&y.address?y.address.country_iso_code.toUpperCase():"",state:R,postal_code:he?this.utilService.getSWBorOKPostalCode(R):y._init},_isModified:!0,_init:y._init,_isSWB:he},this.updateStoreUsingActionService.updateEfl(y),y;default:this.efl&&(I={address:this.efl.address,...y},this.updateStoreUsingActionService.updateEfl(I))}}handleDtmTriggerForUseCasePromo(R){if(R&&this.sender&&this.sender.useCasePromoDetail){let k="";for(const L of this.sender.useCasePromoDetail)L.isExpand&&(k=L.promoCode);k===R.promoCode&&DTM_Trigger("afterPromoAplly")}}getProductsOnGetLimitCall(R){this.updateStoreUsingActionService.updateProductsAfterGetLimits(R),this.updateGetLimitsService.isGetLimitsCall=!1}static#e=this.\u0275fac=function(k){return new(k||b)(h.KVO(o.il),h.KVO(_.E),h.KVO(x.l),h.KVO($.R),h.KVO(W.b),h.KVO(K.k),h.KVO(V.a),h.KVO(N.c),h.KVO(l.c),h.KVO(M.P),h.KVO(s.m),h.KVO(a.L),h.KVO(v.D),h.KVO(c.q),h.KVO(r.y),h.KVO(g.h),h.KVO(S.l))};static#t=this.\u0275prov=h.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},83053:(n,d,t)=>{"use strict";t.d(d,{h:()=>w});var o=t(64646),e=t(95006),x=t(75194),$=t(1027),W=t(61862),K=t(66726),V=t(34781),P=t(16619),D=t(77202),f=t(37486),C=t(67376),E=t(47058),N=t(93885),_=t(8788),M=t(3902),U=t(54438);let w=(()=>{class O{constructor(s,a,c,r,g,p,h,l,v,S){this._store=s,this.restMethod=a,this.smoConfig=c,this.readURLService=r,this.utilService=g,this.updateStoreUsingActionService=h,this.baseRequest=l,this.countryConfigService=v,this.featureFlagService=S,this.westernUnion={},this.westernUnion=p.westernUnion,this.isAIREnabled=this.countryConfigService.getAirEnabled(),this._store.pipe((0,o.Lt)(K.mA)).subscribe(m=>{this.receiverCountryIsoCode=m.receiverCountryIsoCode,this.corridor=m}),this._store.pipe((0,o.Lt)(K.w8)).subscribe(m=>{this.sender=m}),this._store.pipe((0,o.Lt)(K.pV)).subscribe(m=>{this.getLimitResponse=m}),this._store.pipe((0,o.Lt)(K.d$)).subscribe(m=>{this.products=m}),this._store.pipe((0,o.Lt)(K.rb)).subscribe(m=>{this.selectedProductsStore=m}),this._store.pipe((0,o.Lt)(K.dp)).subscribe(m=>{if(m)this.partnerCustomerData=m&&m.retrieveResponseData;else{const b=this.utilService.getSessionStorageItem("retrieveResponseData");this.partnerCustomerData=b?JSON.parse(b):null}if(this.partnerCustomerData&&this.partnerCustomerData.paymentDetails){const{paymentInstrument:b}=this.partnerCustomerData.paymentDetails;this.isBankPartner=b&&b.bankAccounts&&b.bankAccounts.length>0}else this.isBankPartner=!1})}getLimitsMethod(){const s="/GetLimits",a=this.getGetLimitsRequest(this.corridor,s);return this.utilService.sendUpToAmountEllipsisSpinnerExp.next(!0),this.restMethod.POST(s,a).pipe((0,e.T)(c=>{if(c.error){const r={};r.errorCode=c.error.code,r.errorMessage=c.error.message,this.updateStoreUsingActionService.updatePageLevelNotification(r)}else this.utilService.isSybaseEnabled(s)&&(c=this.utilService.formatToCamelCase(c)),C.get(c,"transactionLimits.payInTransactionLimit")&&!C.get(c,"transactionLimits.payInTransactionLimit").length&&C.unset(c,"transactionLimits.payInTransactionLimit"),this.isGetLimitsCall=!0,this.updateStoreUsingActionService.updateGetLimits(c),this.getAvailTxnLimits();return this.utilService.sendUpToAmountEllipsisSpinnerExp.next(!1),c}))}getGetLimitsRequest(s,a){const c=this.utilService.isSybaseEnabled(a)?this.baseRequest.getBaseRequest("digital",a):this.baseRequest.getBaseRequest(),r=this.countryConfigService.getCountry(),g=this.updateStoreUsingActionService.getState().isPPSprofile;return(this.countryConfigService.isGetLimitsV2Enabled()||this.utilService.isV2GetLimits())&&(!g||g&&-1!==N.Y.PPSCOUNTRY.indexOf(r))||delete c.security.version,c.payment_details={},c.payment_details.origination={},c.payment_details.destination={},s&&""===s.senderCurrency&&(s.senderCurrency=this.countryConfigService.getCurrencyCode()),s&&s.senderCountry&&""===s.senderCountry.isoCode&&(s.senderCountry.isoCode=this.readURLService.getCountryFromURL()?.toUpperCase()),c.payment_details.origination.currency_iso_code=s.senderCurrency,c.payment_details.origination.country_iso_code=s?.senderCountry?.isoCode?.toUpperCase(),c.payment_details.destination.currency_iso_code=s.receiverCurrency,c.payment_details.destination.country_iso_code=s.receiverCountry.isoCode,this.sender&&this.sender.isLoggedIn&&(c.sender={},c.sender.preferred_customer={},c.sender.preferred_customer.account_nbr=this.sender.myWuNumber?this.sender.myWuNumber:null),r&&"AR"===r&&c.payment_details&&c.payment_details.origination&&""===c.payment_details.origination.currency_iso_code&&(c.payment_details.origination.currency_iso_code=N.Y.arCurrency),c}getLimitsMethodSDK(){}getRetailLimitValue(){const s=this.smoConfig.getRetailLimits();if(s){const a=s.findIndex(c=>c.countryIsoCode===C.get(this.corridor,"receiverCountry.isoCode"));return s[a]?.fundsOutLimit}return null}getAvailTxnLimits(s){let a=this.getMaxFIFOLimit();const c=!(!this.sender||!this.sender.isLoggedIn)&&this.sender.isLoggedIn,r=this.smoConfig._getCountryIsoFromURL(),g=this.getLimitResponse;if(c&&this.sender&&this.sender.isSWBProfile){const h=this.getSWBLimits();(a>h&&"VIGO"===this.utilService.getPartnerName()||"VIGO"!==this.utilService.getPartnerName())&&(a=h)}else if(c&&!this.countryConfigService.isHyperBandEnabled()&&g&&g.transactionLimits){let h=g.transactionLimits.transactionLimit;"AU"!==r&&g.transactionLimits.payInTransactionLimit&&(h=g.transactionLimits.payInTransactionLimit);let l=h&&h.length?this.filterWUProducts(h,{type:"AVAIL_TXN"}):null;(this.smoConfig.isFMASDQEnabled()&&this.smoConfig.isFMASDQUnverifiedUseCase()||this.smoConfig.isHyperbandCountry())&&(l=h&&h.length?this.filterWUProducts(h,{type:"PERSONAL"}):null);const v=l&&l.length>0?Number(l[0].limit)/100:null;if(v&&v<a&&(a=v),null!==this.getRetailLimitValue()){const S=Number(this.getRetailLimitValue());this.countryConfigService.getAirEnabled()&&S&&S>a&&!this.isBankPartner&&(a=S)}}if(this.featureFlagService.isFeatureEnabled("SEND_LIMIT_EXHAUSTED")&&c&&s&&(a=this.getSendLimitExhausted(this.getLimitResponse,a)),this.updateStoreUsingActionService.updateSenderAmountLimit({senderAmountLimit:a}),s)return a}getMaxFIFOLimit(){let s=0;const a=this.smoConfig._getCountryIsoFromURL();if(!this.countryConfigService.isHyperBandEnabled()&&this.countryConfigService.getAirEnabled()&&null!==this.getRetailLimitValue()&&(s=Number(this.getRetailLimitValue())),this.getLimitResponse&&this.getLimitResponse.transactionLimits){let c=this.getLimitResponse.transactionLimits.transactionLimit;const r=this.featureFlagService.isFeatureEnabled("GET_LIMITS_FEATURE"),g=this.countryConfigService.isHyperBandEnabled()&&this.getLimitResponse.transactionLimits.payInTransactionLimit&&"AU"===a;(!r&&"AU"!==a&&this.getLimitResponse.transactionLimits.payInTransactionLimit||g)&&(c=this.getLimitResponse.transactionLimits.payInTransactionLimit);const p=this.smoConfig.getFundsOutOptions(C.get(this.corridor,"receiverCountry.isoCode")),h=this.smoConfig.getFundsInOptions(C.get(this.corridor,"receiverCountry.isoCode"));for(let l=0;l<c.length;l++){const v=(0,C.findKey)(f.Oi,function(m){return m===c[l].serviceCode});let S;if(v&&p.hasOwnProperty(v)&&"Y"===p[v]&&(S=c[l].payIn&&h&&h[c[l].payIn]?v&&h[c[l].payIn]:v,S)){const m=Number(c[l].limit)/100;s<m&&(s=m)}}}if(this.isBankPartner){if(this.partnerCustomerData){const r=this.partnerCustomerData.paymentDetails.paymentInstrument.bankAccounts.map(function(g){return g.limit?Number(g.limit):0}).reduce(function(g,p){return Math.max(g,p)});return r>0?Math.min(r,s):s}return s}return s}getSWBLimits(){let s=2999;if(this.countryConfigService.getAirEnabled()&&null!==this.getRetailLimitValue()){const a=Number(this.getRetailLimitValue());a&&s<a&&(s=a)}return s}filterWUProducts(s,a){const c=[];for(let r=0;r<s.length;r++)s[r].type===a.type&&c.push(s[r]);return c}getSendLimitExhausted(s,a){const c=s.transactionLimits?.payInTransactionLimit,r=c&&c.length?this.filterAvailableTxnLimitFIFO(c):null,g=r&&r.length>0?Number(r[0].limit)/100:null;return g&&g<a&&(a=g),a}filterAvailableTxnLimitFIFO(s){const a=[];for(let c=0;c<s.length;c++)s[c].payIn===this.selectedProductsStore.payIn&&s[c].serviceCode===this.selectedProductsStore.code&&a.push(s[c]);return a}static#e=this.\u0275fac=function(a){return new(a||O)(U.KVO(o.il),U.KVO(x.R),U.KVO($.l),U.KVO(_.F),U.KVO(D.a),U.KVO(W.b),U.KVO(V.k),U.KVO(P.E),U.KVO(E.qd),U.KVO(M.y))};static#t=this.\u0275prov=U.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},69900:(n,d,t)=>{"use strict";t.d(d,{D:()=>oe});var o=t(54438),e=t(64646),x=t(54831);class W{}class K{}class V{}var D=t(75194),f=t(95006),C=t(7605),A=t(76764),E=t(93885),N=t(34781),_=t(47058),M=t(90979),U=t(42959),w=t(37486),O=t(8502),G=t(67374),s=t.n(G),a=t(66726),c=t(16619),r=t(33216),g=t(21239),p=t(77202),h=t(60177),l=t(1027),v=t(16625),S=t(67376),m=t(3902),b=t(55180),Y=t.n(b),R=t(21148),k=t(82380),L=t(21626),y=t(34644),I=t(59073),T=t(45286),te=t(14421),Z=t(1013),de=t(1059);let oe=(()=>{class ae{constructor(B,z,ie,re,Ce,X,Ee,De,fe,Ue,ee,se,le,F,J,Q){this._store=B,this.baseService=z,this.countryConfigService=ie,this.restMethod=re,this.updateStore=Ce,this.siteBehaviourService=X,this.smoConfig=Ee,this.utilService=De,this.featureFlagService=fe,this.routingService=Ue,this.socialAuthWrapperService=ee,this.kycDucSevice=se,this.document=le,this.urlParameterService=F,this.wuDataAccess=J,this.platformId=Q,this.useCasePromoSrvc={useCases:{}},this.keySets=[],this.mapGwpGetLoyaltyCards={gateway_customer:"gatewayCustomer",document_details:"documentDetails",additional_preferred_customers:"additionalPreferredCustomers",preferred_customer:"preferredCustomer",account_nbr:"accountNbr",level_code:"levelCode",total_points_earned:"totalPointsEarned",promo_code:"promoCode",promo_codes:"promoCodes",eligibility_buffer:"eligibilityBuffer",last_use_date:"lastUseDate",issue_date:"issueDate",campaign_id:"campaignId",expiration_date:"expirationDate",promo_description:"promoDescription",promo_title:"promoTitle"},this.dateFormatPattern="YYYY-MM-DD",this.pendingDocuments=[],this.userLanguages=[],this.showUserLanguage=!1,this.destroyed$=new T.B7,this.isLeanFlowEnabled=!1,this._store.pipe((0,e.Lt)(a.vu)).subscribe(ne=>{this.siteBehaviourStore=ne}),this._store.pipe((0,e.Lt)(a.w8)).subscribe(ne=>{ne||(ne=new x.U1),this.senderStore=ne}),this._store.pipe((0,e.Lt)(a.rV)).subscribe(ne=>{this.senderCurrency=ne}),this._store.pipe((0,e.Lt)(a.ZK)).subscribe(ne=>{this.requestMoneyToken=ne}),this._store.pipe((0,e.Lt)(a.A6)).subscribe(ne=>this.resumeTransferToken=ne),B.pipe((0,e.Lt)(a.Tr)).subscribe(ne=>{this.notifications=ne}),(0,h.UE)(Q)&&s().extend(Y()),this.isLeanFlowEnabled=this.utilService.isLeanRegistrationEnabled(),!(0,h.Vy)(this.platformId)&&!window.browserFingerPrintNotReq&&this.getBrowserFingerprint()}verifyMfaOTP(B,z){const ie=E.Y.mfaConstant.verify,re=this.utilService.setR4ApiHeaders(ie,"");return this.restMethod.POST(ie,this.getMfaOTPVerifyRequest(B,z),"","",re,!0,"").pipe((0,f.T)(Ce=>Ce))}sendMfaOTP(B){const z=E.Y.mfaConstant.send,ie=this.utilService.setR4ApiHeaders(z,"");return this.restMethod.POST(z,this.getMfaOTPSendRequest(B),"","",ie,!0,"").pipe((0,f.T)(re=>re))}getMfaOTPSendRequest(B){const z=new O.iL,ie=new O.hT;ie.country_code=this.smoConfig._getCountryIsoCode().toUpperCase();const re=JSON.parse(sessionStorage.getItem("valide_reponse_Obj")||"{}");z.locale=ie,z.stateToken=this.getStateToken(re),z.deviceAuthType=this.getDeviceAuthType(re,B);const Ce={security:this.baseService.getSecurity()};return{...z,...Ce}}getMfaOTPVerifyRequest(B,z){const ie=new O.iL,re=new O.hT;re.country_code=this.smoConfig._getCountryIsoCode().toUpperCase();const Ce=JSON.parse(sessionStorage.getItem("valide_reponse_Obj")||"{}");ie.locale=re,ie.stateToken=this.getStateToken(Ce),ie.deviceAuthType=this.getDeviceAuthType(Ce,z),ie.otp=B;const X={security:this.baseService.getSecurity(),requestHeader:[{key:"WUClientReleaseVersion",value:sessionStorage.getItem("dcaasVersion")}]};return{...ie,...X}}getDeviceAuthType(B,z){return z||(this.senderStore.otpSourceVerification||B?.addl_auth_required?"SMS":"EMAIL")}getStateToken(B){return this.senderStore.mfaCheck?.stateToken?this.senderStore.mfaCheck?.stateToken:B?.state_token}getCustomerSignon(B,z,ie,re,Ce,X){const Ee="/CustomerSignOn";(0,h.Vy)(this.platformId)||this.getPageHttpHeaders();const De=this.getCustomerSigOnRequest(B,z,ie,Ee,re,Ce,X);return this.restMethod.POST(Ee,De).pipe((0,f.T)(fe=>{if(this.isProgressiveSMOEnabledCountry()&&sessionStorage.setItem("progressive_smo_exp","true"),this.utilService.isSybaseEnabled(Ee)&&(fe=this.utilService.mapCustSignonRespPs2Cs(fe)),!fe.error){if(DTM_Trigger("DTM-THIRDPARTY-CONSENT",fe?.gatewayCustomer?.account_preferences?.thirdparty_datasharing_consent||fe?.gatewayCustomer?.accountPreferences?.thirdpartyDatasharingConsent),fe?.security?.requestHeader?.encUmn&&this.updateStoresSender(fe),this.utilService.isLoyaltyProgramEnabled()&&fe?.security?.requestHeader?.accessToken&&fe?.security?.requestHeader?.refreshToken){const se={security:{sessionId:JSON.parse(sessionStorage.getItem("cookiestore")||"{}")?.SessionId,accessToken:fe?.security?.requestHeader?.accessToken,refreshToken:fe?.security?.requestHeader?.refreshToken}};sessionStorage.setItem("WUSharedData",JSON.stringify(se))}if(this.utilService.isSocialLoginOptionEnabled()&&("true"===this.utilService.getSessionStorageItem("isRedirectedToSocialLoginOrReg")&&(sessionStorage.setItem("sociallyLoggedInIdpType",this.utilService.getSessionStorageItem("idpType")),this.socialAuthWrapperService.getFactors(fe?.gatewayCustomer)),this.socialAuthWrapperService.getTokenAndLinkedIdps(De?.gateway_customer?.identities?.identity[0]?.data,De?.gateway_customer?.identities?.identity[1]?.data)),this.featureFlagService.isFeatureEnabled("AUTO_LOGIN_NOTIFICATION")&&De.gateway_customer&&De.gateway_customer.identities&&De.gateway_customer.identities.identity&&De.gateway_customer.identities.identity[0]&&""!==De.gateway_customer.identities.identity[0].data&&De.gateway_customer.identities.identity[1]&&""!==De.gateway_customer.identities.identity[1].data&&fe.security&&fe.security.requestHeader&&fe.security.requestHeader.user_session_token&&fe.security.requestHeader.user_session_expiry_time&&(this.notifications.autoLoginOpt=!0),this.utilService.isOTWudnaFeatureEnabled()&&this.compareAndSaveOtPreferences(),this.utilService.isScvProxyEnabled()&&fe.gatewayCustomer?.nbrStatus){const ee=B;sessionStorage.setItem("userLoggedMail",ee?.toUpperCase())}}return this.handleCustomerSignOnResponse(fe),"C5008"===fe?.error?.code&&(sessionStorage.setItem("MFALoginErrorCode","C5008"),this.updateStoresSenderMFA(fe,B,z,re,Ce)),fe}))}compareAndSaveOtPreferences(){this.getCustomerWudnaPreference().pipe((0,C.Q)(this.destroyed$)).subscribe(B=>{if(!B.error){const z=S.has(B,"gateway_customer.account_preferences.cookie_preferences")?B.gateway_customer.account_preferences.cookie_preferences:{};this.utilService.compareOtPreferences(z)?sessionStorage.setItem("savedUserOTConsentStore",JSON.stringify(z)):this.updateCustomerProfile({},"WUDNA").pipe((0,C.Q)(this.destroyed$)).subscribe()}})}getCJEvent(B){const ie=(new L.Lr).append("x-wu-accountNumber",B).append("x-wu-sessionId",this.utilService.getCookieItem("SessionId"));return this.restMethod.GET("/CJEventReferral","",{headers:ie}).pipe((0,f.T)(re=>re))}isProgressiveSMOEnabledCountry(){try{const B=this.smoConfig._getCountryIsoCode().toUpperCase(),z=this.smoConfig.getGlobalConfig("switches","countriesWithProgressiveSmoEnabled")||"";return B&&z&&z.indexOf(B)>=0&&!this.utilService.getCookieItem("lastCountry")}catch{return!1}}getCustomerProfile(){const B="/GetCustomerProfile",z=this.getCustomerProfileRequest();return this.restMethod.POST(B,z).pipe((0,f.T)(ie=>{if(!ie.error&&this.utilService.isSybaseEnabled(B)&&!(ie=this.utilService.formatToCamelCase(ie)).error&&ie.gatewayCustomer){DTM_Trigger("DTM-THIRDPARTY-CONSENT",ie?.gatewayCustomer?.accountPreferences?.thirdpartyDatasharingConsent||ie?.gatewayCustomer?.account_preferences?.thirdparty_datasharing_consent);const Ce=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}");Ce.identityVerificationStatus=ie.gatewayCustomer.identityVerificationStatus,this.updateStore.updateCustomerVerificationStatus(Ce),this.updateStoresSender(ie),this.updateSenderVerificationStatus(Ce,!1)}return ie}))}getCustomerWudnaPreference(){const z=this.getCustomerProfileRequest();return this.restMethod.POST("/GetCustomerProfile",z,"","").pipe((0,f.T)(ie=>{if(!ie.error)return ie}))}verifySenderProfile(B){const ie=this.senderProfileVerificationRequest(B);return this.restMethod.POST("/InitiateCustomerVerification",ie).pipe((0,f.T)(re=>(re.error||this.updateSenderVerificationStatus(re,!1),re)))}mapLoyaltyCardResponse(B){let z={};for(const ie of Object.keys(B)){const re=B[ie];let Ce;const X=this.mapGwpGetLoyaltyCards[ie]?this.mapGwpGetLoyaltyCards[ie]:ie;if(Array.isArray(re)){const Ee=[];for(const De of Object.keys(re)){const Ue=this.mapLoyaltyCardResponse(re[De]);Ee.push(Ue)}Ce={[X]:Ee}}else if("object"==typeof re){let Ee;Ee=this.mapLoyaltyCardResponse("preferred_customer"===ie?re[0]:re),Ce={[X]:Ee}}else Ce={[X]:re};z=Object.assign(z,Ce)}return z}transformLoyaltyCardResponse(B){return B.gateway_customer?{gatewayCustomer:this.mapLoyaltyCardResponse(B.gateway_customer),rewardHistory:B.rewardHistory,rewardList:B.rewardList,promoCodes:B.promoCodes}:B}getLoyalityCard(){const B="/GetLoyaltyCards",z=this.getLoyalityCardRequest(),ie=JSON.parse(sessionStorage.getItem("GatewayCustomer"))||"";return this.utilService.isLoyaltyProgramEnabled()&&ie&&"0"===ie.termsConditionFlag?(0,te.of)({}):this.restMethod.POST(B,z).pipe((0,f.T)(re=>{if(this.utilService.isSybaseEnabled(B)){if(re=this.transformLoyaltyCardResponse(re),this.utilService.isLoyaltyProgramEnabled()&&re&&re.rewardList&&re.rewardList.rewards&&re.rewardList.rewards.reward){const X=this.senderStore,Ee=S.get(re,"rewardList.rewards.reward").filter(De=>!(De.pointsAway>0)).map(De=>({promoCode:De.promoCode,promoType:De.promoType,points:De.points,valueRetail:De.valueRetail,valueDigital:De.valueDigital,value:De.value}));if(X&&ie){const De={gatewayCustomer:{additionalPreferredCustomers:{preferredCustomer:{accountNbr:ie.preferredCustomer.accountNbr,totalPointsEarned:re.rewardList.total_points_earned,promoCode:X&&X.promoCode?X.promoCode:null}}}},fe=De.gatewayCustomer.additionalPreferredCustomers.preferredCustomer;fe&&(fe.promoCodes={promoCode:[]},fe.promoCodes.promoCode=Ee),re={...re,...De}}}S.get(re,"gatewayCustomer.additionalPreferredCustomers.preferredCustomer")&&Array.isArray(re.gatewayCustomer.additionalPreferredCustomers.preferredCustomer)&&S.set(re,"gatewayCustomer.additionalPreferredCustomers.preferredCustomer",re.gatewayCustomer.additionalPreferredCustomers.preferredCustomer[0]),re&&(re.promoCodes||re.rewardHistory||re.gatewayCustomer)&&(this.updateSenderPointsPreferedCustomerNum(re),this.updateSenderPromoDetails(re))}return re}))}deletePasswordFromstore(){const B=this.senderStore;B?.password&&(B.password="",B.mfaCheck=null,this.updateStore.updateSender(B))}changeKycOptionObjectName(B){const z=[];B.availableKycOptions.forEach(ie=>{z.push({type:ie.kycType,status:ie.kycStatus,sequence:ie.preference,vendor:ie.kycVendor,startTime:ie.kycStartTime,endTime:ie.kycEndTime})}),B.availableKycOptions=z}getAvailableKYCOption(){const B="/AvailableKYCOptions",z=this.kycOptionBodyRequest();return this.restMethod.POST(B,z).pipe((0,f.T)(ie=>{this.utilService.isSybaseEnabled(B)&&(ie=this.utilService.formatToCamelCase(ie),this.changeKycOptionObjectName(ie));const re=ie.availableKYCOptions||ie.availableKycOptions;return ie&&re&&this.updateAvailableKYCOptionsResponse(re),ie}))}kycOptionBodyRequest(){return{channel:this.baseService.getChannel(),security:this.baseService.getSecurity(),bashPath:this.baseService.getBashPath(),countryCode:this.smoConfig._getCountryIsoCode().toUpperCase()}}updateAvailableKYCOptionsResponse(B){sessionStorage.setItem("availableKYCOption",JSON.stringify(B));let z=!1;B.forEach(ie=>{"VIDEO"===ie.type&&("OUTSIDE_HOURS"===ie.status||"INACTIVE"===ie.status)&&(z=!0)}),this.updateStore.updateAvailableVideoKYCOutSideHours(z)}getAbandonTransaction(){const B=this.getAbandonTransactionRequest();return this.restMethod.POST("/data/GetTokenData",B).pipe((0,f.T)(ie=>{if(ie)return sessionStorage.setItem("getTokenData",JSON.stringify(ie)),ie}))}checkIfWuDnaFeatureEnabled(B){let z=!1;return this.utilService.isOTWudnaFeatureEnabled()&&S.has(B,"gateway_customer.account_preferences.cookie_preferences")&&(z=!0),z}updateCustomerProfile(B,z,ie){const Ce=this.updateCustomerProfileRequest(B,z,ie);return this.restMethod.POST("/UpdateCustomerProfile",Ce,"","",void 0).pipe((0,f.T)(Ee=>Ee.error?Ee:(this.checkIfWuDnaFeatureEnabled(Ce)&&sessionStorage.setItem("savedUserOTConsentStore",JSON.stringify(Ce?.gateway_customer?.account_preferences?.cookie_preferences)),!0)))}updateCustomerProfileSettings(B){const ie=this.updateCustomerProfileSettingsRequest(B);return this.restMethod.POST("/UpdateCustomerProfile",ie).pipe((0,f.T)(re=>re))}updateCustomerProfileSettingsRequest(B){if(B&&"registerMywuNumber"===B.updatePurpose)return{security:this.baseService.getSecurity(),external_reference_no:"1",bashPath:this.baseService.getBashPath(),gateway_customer:{preferred_customer:{account_nbr:this.getCustomerAccountNumber()},terms_condition_flag:"1",email:this.senderStore.email}}}getCustomerVerificationStatus(){const B="/GetCustomerVerificationStatus",z=this.getCustomerVerificationStatusRequest(),ie=this.utilService.isSybaseEnabled(B);return this.utilService.isLoyaltyProgramEnabled()&&z&&null===z.sender?.preferred_customer?.account_nbr?(0,te.of)({}):this.restMethod.POST(B,z).pipe((0,f.T)(re=>{if(re.error){if(!this.utilService.isNonTransactionalEkycEnbaled()){const Ce={};Ce.errorCode=re.error.code,Ce.errorMessage=re.error.message,this.updateStore.updatePageLevelNotification(Ce)}ie&&re.identity_verification_status&&re.isEligibleToTransact&&(re=this.convertCSObj(re)),re.identityVerificationStatus&&re.isEligibleToTransact&&this.updateSenderVerificationStatus(re,!0)}else this.utilService.isAccountBasedRelationshipEnabled()&&re?.verificationFlag?.reaccreditation?.date&&(re.verificationFlag.reaccreditation.date=this.utilService.iSODateToDispDate(re.verificationFlag.reaccreditation.date)),ie&&(re=this.convertCSObj(re)),sessionStorage.setItem("CustomerVerificationStatus",JSON.stringify(re)),this.updateSenderVerificationStatus(re,!1);return re}))}convertCSObj(B){const z=Object.assign({},B);return z.paymentTypes&&(B.paymentType=z.paymentTypes.payment_type&&z.paymentTypes.payment_type.length>0?z.paymentTypes.payment_type.join(","):"",delete B.paymentTypes),B.occasionalFlag=z.occasional_flag,delete B.occasional_flag,B.identityVerificationStatus=z.identity_verification_status,delete B.identity_verification_status,B.customerUnverifiedFlag=z.customer_unverified_flag,delete B.customer_unverified_flag,B.pinStatus=z.pin_status,delete B.pin_status,z.sender&&(z.sender.kyc_methods&&z.sender.kyc_methods.kyc_method.length>0&&(B.sender.kycMethods={},B.sender.kycMethods.kycMethod=z.sender.kyc_methods.kyc_method,delete B.sender.kyc_methods),z.sender.kyc_details&&(z.sender.kyc_details.duc&&z.sender.kyc_details.duc.duc_delivery&&(B.sender.kyc_details.duc.ducDelivery=this.utilService.keysToCamel(z.sender.kyc_details.duc.duc_delivery),B.sender.kyc_details.duc.ducDelivery.available=z.sender.kyc_details.duc.duc_delivery.available?z.sender.kyc_details.duc.duc_delivery.available.toString():"",delete B.sender.kyc_details.duc.duc_delivery),z.sender.kyc_details.dur&&z.sender.kyc_details.dur.dur_delivery&&(B.sender.kyc_details.dur.durDelivery=this.utilService.keysToCamel(z.sender.kyc_details.dur.dur_delivery),B.sender.kyc_details.dur.durDelivery.available=z.sender.kyc_details.dur.dur_delivery.available?z.sender.kyc_details.dur.dur_delivery.available.toString():"",delete B.sender.kyc_details.dur.dur_delivery),z.sender.kyc_details.skc&&z.sender.kyc_details.skc.skc_delivery&&(B.sender.kyc_details.skc.skcDelivery=this.utilService.keysToCamel(z.sender.kyc_details.skc.skc_delivery),B.sender.kyc_details.skc.skcDelivery.available=z.sender.kyc_details.skc.skc_delivery.available?z.sender.kyc_details.skc.skc_delivery.available.toString():"",delete B.sender.kyc_details.skc.skc_delivery)),z.sender.compliance_details&&(B.sender.compliance_details.dateOfBirth=z.sender.compliance_details.date_of_birth,delete B.sender.compliance_details.date_of_birth,z.sender.compliance_details.id_documents&&z.sender.compliance_details.id_documents.id_document&&z.sender.compliance_details.id_documents.id_document.length>0&&(B.sender.compliance_details.id_documents.id_document=this.utilService.keysToCamel(z.sender.compliance_details.id_documents.id_document)))),B}getPpsCustomer(B){const z="/GetPPSCustomer",ie=this.getPpsCustomerRequestBody(B);return this.restMethod.POST(z,ie).pipe((0,f.T)(re=>(this.utilService.isSybaseEnabled(z)&&(re=this.utilService.formatToCamelCase(re)),!re.error&&re.ppsCustomer&&this.updatePpsProfileData(re.ppsCustomer),re)))}getPpsCustomerRequestBody(B){const z={security:this.baseService.getSecurity(),bashPath:this.baseService.getBashPath()};return B.wuData&&(z.wuData=B.wuData),B.providerId&&(z.provider_id=B.providerId),z}updatePpsProfileData(B){const z={email:B.email};B.providerId&&(z.providerId=B.providerId),B.address&&(z.address=this.getPpsProfileAddress(B.address)),B.name&&(z.name=this.getPpsProfileName(B.name)),B.mobilePhone&&(z.mobilePhone=this.getPpsProfileMobileNumber(B.mobilePhone)),this.updateStore.updatePPSProfileData(z)}getPpsProfileMobileNumber(B){const z=new V;return B.phoneNumber&&B.phoneNumber.nationalNumber&&(z.phoneNumber={nationalNumber:B.phoneNumber.nationalNumber}),z}getPpsProfileName(B){const z=new W;return z.firstName=B.firstName,z.lastName=B.lastName,B.middleName&&(z.middleName=B.middleName),z}getPpsProfileAddress(B){const z=new K;return z.addrLine1=B.addrLine1,z.city=B.city,z.postalCode=B.postalCode,B.addrLine2&&(z.addrLine2=B.addrLine2),B.state&&(z.state=B.state),z}updateSenderAddress(B){if(B.gatewayCustomer&&B.gatewayCustomer.address){const z=this.senderStore;z.address=this.getAddress(B.gatewayCustomer.address),this.updateStore.updateSender(z)}}getBrowserFingerprint(){if(this.browserFingerprint)return this.browserFingerprint;setTimeout(()=>{v.Ay&&v.Ay.load().then(z=>z.get()).then(z=>{const ie=["fonts","plugins"];z.V="3.2.0",z.T="webbr",z.FP=z.visitorId,z.MW=z.visitorId;for(const re in z.components)z[re]=-1!==ie.indexOf(re)?v.Ay.hashComponents({value:z.components[re]&&z.components[re].value?z.components[re].value:""}):z.components[re].value;z.canvas="",z.userAgent=S.get(window,"navigator.userAgent"),z.timezoneOffset=(new Date).getTimezoneOffset(),S.unset(z,"components"),this.browserFingerprint=JSON.stringify(z)})},500)}getPageHttpHeaders(){if(this.pageHttpHeaders)return this.pageHttpHeaders;{const B=new XMLHttpRequest;return B.open("HEAD",this.document.location,!1),B.send(null),this.pageHttpHeaders=B.getAllResponseHeaders().toLowerCase(),this.pageHttpHeaders}}getAbandonTransactionRequest(){return{token:S.isEmpty(this.resumeTransferToken)?"":this.resumeTransferToken,bashPath:"/us/en",security:this.baseService.getSecurity()}}updateSenderPromoDetails(B){const z=this.senderStore;if(B.rewardHistory&&B.rewardHistory.rewards&&B.rewardHistory.rewards.reward&&(z.pendingPromoValue=B.rewardHistory.rewards.reward[0].value,z.pendingPromoPoints=B.rewardHistory.rewards.reward[0].points,z.pendingPromoType=B.rewardHistory.rewards.reward[0].type,z.pendingPromoType=B.rewardHistory.rewards.reward[0].type&&B.rewardHistory.rewards.reward[0].type.includes("PERC")?"%":this.senderCurrency,z.isPendingPromo=!0,z.rewardHistory=B.rewardHistory),B.rewardList&&B.rewardList.rewards&&B.rewardList.rewards.reward&&(z.rewardList=B.rewardList),B.gatewayCustomer&&B.gatewayCustomer.additionalPreferredCustomers&&B.gatewayCustomer.additionalPreferredCustomers.preferredCustomer){const ie=B.gatewayCustomer.additionalPreferredCustomers.preferredCustomer;z.promoCode=ie.promoCode,z.eligibilityBuffer=ie.eligibilityBuffer,z.levelCode=ie.levelCode,z.issueDate=ie.issueDate,this.countryConfigService.isUseCasePromoEnabled()&&(B.promoCodes&&B.promoCodes.promoCode&&(z.useCasePromoDetail=this.buildUseCasePromos(B.promoCodes.promoCode)),ie.promoCodes&&ie.promoCodes.promoCode&&(z.useCasePromoDetail=this.buildUseCasePromos(ie.promoCodes.promoCode),z.myWuPromo=this.buildMyWuPromos(ie.promoCodes.promoCode)))}this.updateStore.updateSender(z)}buildUseCasePromos(B){const z=[];for(const ie of B)if("USECASE_PROMO"===ie.type){const re=new x.pn;re.campaignId=ie.campaignId,re.expirationDate=ie.expirationDate,re.promoCode=ie.promoCode,re.promoDescription=ie.promoDescription,re.promoTitle=ie.promoTitle,re.type=ie.type,re.isExpand=!1,z.push(re)}return z}buildMyWuPromos(B){const z=[];for(const ie of B)if("MYWU_PROMO"===ie.type){const re=new x.CH;re.promoCode=ie.promoCode,re.type=ie.type,z.push(re)}return z}updateSenderPointsPreferedCustomerNum(B){if(B.gatewayCustomer&&B.gatewayCustomer.additionalPreferredCustomers&&B.gatewayCustomer.additionalPreferredCustomers.preferredCustomer){const z=this.senderStore,ie=B.gatewayCustomer.additionalPreferredCustomers.preferredCustomer;ie.totalPointsEarned?z.loyalityPoints=ie.totalPointsEarned:B.rewardList&&B.rewardList.total_points_earned&&(z.loyalityPoints=B.rewardList.total_points_earned),z.additionalPreferedAccountNumber=ie.accountNbr,this.updateStore.updateSender(z)}}updateSenderVerificationStatus(B,z){const ie=new x._7;B.verificationStatusReponseTime=Date.now(),z?(ie.isEligibleToTransact=B.isEligibleToTransact,ie.identityFlag=B.identityVerificationStatus):(ie.customerStatus=B.customerStatus,ie.isEligibleToTransact=B.isEligibleToTransact,ie.identityFlag=B.identityVerificationStatus?B.identityVerificationStatus:this.senderStore&&this.senderStore.verificationStatus,ie.occasionalFlag=B.occasionalFlag,ie.transactionId=B.transaction_id,ie.sendersKyc=B.sender,ie.token=B.token,ie.token_time_in_minutes=B.token_time_in_minutes,ie.verificationStatusReponseTime=B.verificationStatusReponseTime,ie.pinStatus=B.pinStatus,ie.customerUnverifiedFlag=B.customerUnverifiedFlag,ie.kycStatus=B.kycStatus,ie.verificationFlag=B.verificationFlag);const re=JSON.parse(JSON.stringify(this.senderStore));re.customerVerificationStatus=ie,this.updateStore.updateSender(re),this.updateStore.updateCustomerVerificationStatus(B)}updateStoresSender(B){const z=B.gatewayCustomer,ie=JSON.parse(sessionStorage.getItem("app"))||{},re={isSWBProfile:B.isSWB,email:z.email,dateOfBirth:z.dateOfBirth,fbMsgEnabled:z.fbMsgEnabled,verificationStatus:z.identityVerificationStatus,termsConditionFlag:z.termsConditionFlag,myWuNumber:z.preferredCustomer.accountNbr,isLoggedIn:!!z.preferredCustomer.accountNbr,address:this.getAddress(z.address),registrationDetails:this.getRegistrationDetails(z),mobileNumber:this.getMobile(z),accountPreferences:z.accountPreferences,securityDetails:z.securityDetails,mfaCheck:this.senderStore?.mfaCheck,verifyMfaFlow:this.senderStore?.verifyMfaFlow};(B?.security?.requestHeader?.encUmn||S.has(ie,"sender.encUmn"))&&(re.encUmn=B?.security?.requestHeader?.encUmn?B?.security?.requestHeader?.encUmn:S.get(ie,"sender.encUmn")),z.name?.middleName&&(re.middleName=z.name.middleName),z.pinStatus&&(re.pinStatus=z.pinStatus),z.additionalPreferredCustomers&&z.additionalPreferredCustomers.preferredCustomer&&z.additionalPreferredCustomers.preferredCustomer.accountNbr&&(re.additionalPreferedAccountNumber=z.additionalPreferredCustomers.preferredCustomer.accountNbr),z.gender&&(re.gender=z.gender),z.contactPhoneCountryPrefix&&(re.contactPhoneCountryPrefix=z.contactPhoneCountryPrefix.toString()),z.contactPhone&&(re.contactPhone=z.contactPhone.toString()),z.name?.firstName&&z.name.firstName.length>0&&(re.firstName=z.name.firstName),z.name?.lastName&&z.name.lastName.length>0&&(re.lastName=z.name.lastName),z.name?.givenName&&(re.givenName=z.name.givenName),z.name?.paternalName&&z.name.paternalName.length>0&&(re.paternalName=z.name.paternalName),z.name?.maternalName&&z.name.maternalName.length>0&&(re.maternalName=z.name.maternalName),z.identityVerificationStatus&&(re.identityVerificationStatus=z.identityVerificationStatus),z.verificationStatus&&(re.verificationStatusActualVal=z.verificationStatus),z.r3Login&&(re.r3Login=z.r3Login),z.registrationStatus&&(re.registrationStatus=z.registrationStatus),z.customer_category&&(re.customerCategory=z.customer_category),z.customerCategory&&(re.customerCategory=z.customerCategory),z?.creditLines&&(re.creditLines=z.creditLines),this.featureFlagService.isFeatureEnabled("MARKETING_TRACKING_PARAMS")&&z?.preferredCustomer?.accountNbr&&(re.encryptedUmnId=this.utilService.convertMd5HashedString(z.preferredCustomer.accountNbr)),this.utilService.isScvProxyEnabled()&&z?.nbrStatus&&(re.nbrStatus=z?.nbrStatus,sessionStorage.setItem("nbrStatus",z.nbrStatus));try{if(z){const X={};let Ee="";z?.lastTransactionDate&&(Ee=z?.lastTransactionDate.replace("T"," ").replace("Z",""),X.lastTransactionDate=Ee),X.transactionCount=z?.transactionCount?z.transactionCount:"0",this.updateStore.updateCustomerTxnDetails(X)}}catch(X){console.error(X)}this.updateStore.updateSender(re)}updateLookupStoresSender(B){if(B.customer_lookup){const z=B.customer_lookup.customers.customer[0],ie={dateOfBirth:z.dob.date,myWuNumber:z.customer_number[0].value,pcpNumber:z.customer_number[0].value,address:this.getLookupAddress(z.address),registrationDetails:this.getLookupRegistrationDetails(z),mobileNumber:this.getLookupMobile(z)};S.has(z,"email.email_value")&&(ie.email=z.email.email_value),S.has(z,"personal_info.gender")&&(ie.gender=z.personal_info.gender),z.name.first_name&&z.name.first_name.length>0&&(ie.firstName=z.name.first_name),z.name.last_name&&z.name.last_name.length>0&&(ie.lastName=z.name.last_name);const re={};return S.has(z,"kyc_details.doc")&&(re.docdetails=z.kyc_details.doc,re.sd_status=this.getidRecords(z.kyc_details.doc,"SD")[0]?this.getidRecords(z.kyc_details.doc,"SD")[0].idvv_status:null,re.pd_status=!!this.getidRecords(z.kyc_details.doc,"ID")[0]),S.has(z,"verification_details[0].compliance_verification_details.flag_details[0].status")&&(re.FSS_status=z.verification_details[0].compliance_verification_details.flag_details[0].status),z.fss_verify_flag&&(re.fss_verify_flag=z.fss_verify_flag),ie.customerlookupdetails=re,ie}if(B&&B.error)return{error:B};{const z=B,ie={dateOfBirth:z.non_key_lookup.dob,mobileNumber:this.getLookupMobile(z)};return z.non_key_lookup.name.first_name&&z.non_key_lookup.name.first_name.length>0&&(ie.firstName=z.non_key_lookup.name.first_name),z.non_key_lookup.name.last_name&&z.non_key_lookup.name.last_name.length>0&&(ie.lastName=z.non_key_lookup.name.last_name),z.key_lookup.lookup_id&&(ie.customerlookupdetails={idType:z.key_lookup.lookup_id.type,idNumber:z.key_lookup.lookup_id.number}),ie}}updateLookupStoresDssCustomer(B){let z={};if(B&&!B.error){if(S.has(B,"questionnaire")&&!S.isEmpty(B.questionnaire)&&(z.questionnaire=B.questionnaire),B.customer_status){const ie=B.customer_status;if(S.has(ie,"counterparty_list")&&(z.senderReceiverData=ie.counterparty_list),S.has(ie,"send_txn_count")&&(z.sendTxnCount=ie.send_txn_count),S.has(ie,"receive_txn_count")&&(z.receiveTxnCount=ie.receive_txn_count),S.has(ie,"documents.flag")&&!S.isEmpty(ie.documents.flag[0])){if(this.utilService.isEcddCddUnionEnabled())ie.documents.flag.forEach(re=>{re.pending_docs&&this.updatePendingDocuments(re)});else if(this.utilService.isDssEnabled()){const re=ie.documents.flag.filter(Ce=>{if(Ce.pending_docs&&"ECDD"===Ce.type)return Ce})[0];re&&this.updatePendingDocuments(re)}z.pendingDocs=this.pendingDocuments}if(S.has(ie,"flag_details.flag")&&!S.isEmpty(ie.flag_details.flag)){let re=[];ie.flag_details.flag.forEach(Ce=>{if("ECDD"===Ce.type.toUpperCase())z.customerVerificationStatus=Ce.status,z.customerType=Ce.type;else if("CDD"===Ce.type.toUpperCase())z.customerCddStatus=Ce.status;else if(this.utilService.isNewDocHubFlowForDSSApplicable(z?.pendingDocs)){const X={type:I.LC.DOC_MAPPING[Ce?.type?.toUpperCase()],status:this.kycDucSevice.setIdvStatus(Ce?.status?.toUpperCase())};re.push(X)}}),this.utilService.isNewDocHubEnabledForDSS()&&(z&&z?.pendingDocs&&(re=re?.filter(Ce=>-1===z?.pendingDocs?.indexOf(Ce.type))),z.uploadedDocsWithStatus=re)}if(S.has(ie,"pcp_list.pcp_details[0]")&&!S.isEmpty(ie.pcp_list.pcp_details[0])){const re=ie.pcp_list.pcp_details[0];if(S.has(re,"address")&&!S.isEmpty(re.address)&&(z.address=re.address),S.has(re,"customer_number")&&!S.isEmpty(re.customer_number)&&(z.customerNumber=re.customer_number),S.has(re,"customer_phone")&&!S.isEmpty(re.customer_phone)&&(z.customerPhone=re.customer_phone),re.pcp_number&&(z.pcpNumber=re.pcp_number),re.id_details&&re.id_details.length>0&&(z.idType=re.id_details[0].type,z.idNumber=re.id_details[0].number,S.isEmpty(z.maskedIdNumber)&&(z.maskedIdNumber=re.id_details[0].number),this.utilService.isDssIDCollectionEnabled())){let X=[];X=re.id_details.filter(Ee=>Ee.isPendingId&&"Y"===Ee.isPendingId?Ee.type=Ee.type+"0":null),X.length>0&&(z.userPendingIDDetails=X)}S.has(re,"name.first_name")&&(z.firstName=re.name.first_name),S.has(re,"name.last_name")&&(z.lastName=re.name.last_name),S.has(re,"name.middle_name")&&(z.middleName=re.name.middle_name),S.has(re,"name.name_type")&&(z.nameType=re.name.name_type),S.has(re,"email")&&(z.email=re.email),S.has(re,"dob")&&(z.dob=re.dob)}}this.utilService.isDssIDCollectionEnabled()&&S.has(B,"isPendingId")&&!S.isEmpty(B.isPendingId)&&(z.isPendingId=B.isPendingId)}else B&&B.error&&(z={error:B});return z}getidRecords(B,z){return B.filter(re=>re.doc_type===z)}getLookupAddress(B){const z=new w.pV;return z.addressLine1=B[0].addr_line1,z.state=B[0].state,z.city=B[0].city,z.postalCode=B[0].postalCode?B[0].postalCode:E.Y.postalcodelbp,B[0].country&&B[0].country.iso2&&(z.countryIsoCode=B[0].country.iso2),B[0].addrLine2&&(z.addressLine2=B[0].addr_line2),z}getLookupMobile(B){const z=new r.K;return B.phone&&B.phone[0]&&B.phone[0].isd_cd?(z.countryCode=B.phone[0].isd_cd,z.mobileNumber=B.phone[0].number):(z.countryCode=B.non_key_lookup.phone.isd,z.mobileNumber=B.non_key_lookup.phone.number),z}getLookupRegistrationDetails(B){const z=new x.OZ;if(z.registrationDate=B.registrationDate?B.registrationDate:"",z.registrationStatus=B.registrationStatus?B.registrationStatus:"",B.dob.country_iso2){const ie=new w.TP;ie.isoCode=B.dob.country_iso2,z.countryOfBirth=ie}if(B.personal_info){if(B.personal_info.nationality){const ie=new w.TP;ie.isoCode=B.personal_info.nationality,z.nationality=ie}B.personal_info&&B.personal_info.occupation&&(z.occupation=B.personal_info.occupation)}return B.employment&&B.employment.employment_position&&(z.employmentPositionLevel=B.employment.employment_position),B.dob&&B.dob.place_of_birth&&(z.placeOfBirth=B.dob.place_of_birth),z}updateSenderTransactionsInStore(B){const z=this.senderStore,ie=[];for(let re=0;re<B.length;re++){const Ce=new A.ZX;Ce.transactionId=B[re].receiver.uid,Ce.channelCode=B[re].channelCode,Ce.mtcn=B[re].moneyTransferControl.mtcn,Ce.digital=B[re].digital,Ce.transactionStatus=B[re].status,Ce.dateTime=B[re].moneyTransferControl.date,Ce.receiver=this.getTransactionReceiver(B[re].receiver),Ce.biller=this.getTransactionBiller(B[re].sender),Ce.selectedProduct=this.getSelectedProduct(B[re]),ie.push(Ce)}z.transactionHistory=ie,this.updateStore.updateSender(z)}getTransactionReceiver(B){const z=new U.i;return!B.name&&B.consumer_to_business_name?z.c2bDetails={entityName:B.consumer_to_business_name,reference:B.consumer_to_business_reference}:z.firstName=B?.name?.firstName,z.address=this.getAddress(B.address),z.contactDetails={primaryPhone:B.mobilePhone&&B.mobilePhone.phoneNumber&&B.mobilePhone.phoneNumber.nationalNumber,mobileNumber:B.mobilePhone&&B.mobilePhone.phoneNumber&&B.mobilePhone.phoneNumber.nationalNumber,countryCode:B.mobilePhone&&B.mobilePhone.phoneNumber&&B.mobilePhone.phoneNumber.countryCode,email:B.email?B.email:"",countryIsoCode:B?.address?.countryIsoCode},B.name&&(E.Y.latinCountries.indexOf(B?.address?.countryIsoCode?B.address.countryIsoCode:null)>-1?(z.paternalName=B?.name?.lastName,z.maternalName=B?.name?.middleName):(z.lastName=B?.name?.lastName,z.middleName=B?.name?.middleName)),z}getAddress(B){const z=new w.pV;return B&&(z.addressLine1=B.addrLine1,z.state=B.state,z.city=B.city,z.zipCode=B.zipCode?B.zipCode:B.postalCode,z.countryIsoCode=B.countryIsoCode,B.addrLine2&&(z.addressLine2=B.addrLine2),B.advvStatus&&(z.advvStatus=B.advvStatus)),z}getMobile(B){const z=new r.K;return this.utilService.isScvProxyEnabled()&&B&&B.mobilePhone&&B.mobilePhone.phoneNumber&&B.mobilePhone.phoneNumber.countryCode&&B.mobilePhone.phoneNumber.nationalNumber?(z.countryCode=B.mobilePhone.phoneNumber.countryCode,z.mobileNumber=B.mobilePhone.phoneNumber.nationalNumber):(z.countryCode=B.contactPhoneCountryPrefix,z.mobileNumber=B.contactPhone),z}getRegistrationDetails(B){const z=new x.OZ;if(z.registrationDate=B.registrationDate?B.registrationDate:"",z.registrationStatus=B.registrationStatus?B.registrationStatus:"",B.countryOfBirth){const ie=new w.TP;ie.isoCode=B.countryOfBirth,z.countryOfBirth=ie}if(B.nationality){const ie=new w.TP;ie.isoCode=B.nationality,z.nationality=ie}return B.occupation&&(z.occupation=B.occupation),B.industry&&sessionStorage.setItem("employmentPositionLevel",B.industry),z}getSelectedProduct(B){let z=new M.Y;return z={code:B?.wuProduct?.code,name:B?.wuProduct?.name,routingCode:B?.receiver?.wallet&&B?.receiver?.wallet?.bankAccounts&&B?.receiver?.wallet?.bankAccounts?.bankAccount[0]?.routingNumber,payIn:B?.paymentDetails?.paymentType,payOut:null,deliverySpeed:null,minAmount:null,maxAmount:null,fees:B?.paymentDetails?.fees?.charges,destinationFees:null,exchangeRate:B?.paymentDetails?.exchangeRate,speedIndicator:B?.wuProduct?.processingTime,expectedPayoutLocation:{stateCode:B?.receiver?.wallet&&B?.receiver?.wallet?.bankAccounts&&B?.receiver?.wallet?.bankAccounts?.bankAccount[0]?.address?.state,stateName:null,city:B?.receiver?.wallet&&B?.receiver?.wallet?.bankAccounts&&B?.receiver?.wallet?.bankAccounts?.bankAccount[0]?.address?.city},origination:{principalAmount:B?.paymentDetails?.origination?.principalAmount,grossAmount:B?.paymentDetails?.origination?.grossAmount,currencyIsoCode:B?.paymentDetails?.origination?.currencyIsoCode,countryIsoCode:B?.paymentDetails?.origination?.countryIsoCode},destination:{expectedPayoutAmount:B?.paymentDetails?.destination?.expectedPayoutAmount,currencyIsoCode:B?.paymentDetails?.destination?.currencyIsoCode,countryIsoCode:B?.paymentDetails?.destination?.countryIsoCode},promotion:{code:null,discount:B?.paymentDetails?.promotion?.discount}},z}getTransactionBiller(B){return{billerName:B?.name?.firstName,billerCity:B?.address?.city,accountNumber:B?.wallet&&B?.wallet?.bankAccounts&&B?.wallet?.bankAccounts?.bankAccount[0]&&B?.wallet?.bankAccounts?.bankAccount[0]?.accountNumber}}getCustomerProfileRequest(){const B={gateway_customer:{preferred_customer:{account_nbr:this.getCustomerAccountNumber()}}};return this.urlParameterService.getUrlParameterValue("token")&&(B.token=this.urlParameterService.getUrlParameterValue("token")),{...B,...this.baseService.getBaseRequest()}}senderProfileVerificationRequest(B){"GB"===this.smoConfig._getCountryIsoCode().toUpperCase()&&"C1144"===JSON.parse(sessionStorage.getItem("sendMoneyResponse")||"{}").error.code&&sessionStorage.setItem("EUID_ERROR","C1144");const z=this.utilService.isOnfidoKycEnabled(),ie="C1144"===sessionStorage.getItem("EUID_ERROR"),re={security:this.baseService.getSecurity(),external_reference_no:"1",bashPath:this.baseService.getBashPath(),sender:{name:{first_name:B.firstName,middle_name:B.middleName,last_name:B.lastName},compliance_details:{occasional_flag:"OCCASIONAL"},address:{addr_line1:B.address.addressLine1,addr_line2:B.address.addressLine2,city:B.address.city,postal_code:B.address.zipCode,state:B.address.state,country_iso_code:B.address.countryIsoCode},kyc_details:z?this.getOnfidoKycDetails():this.getKycDetails(ie),preferred_customer:{account_nbr:this.getCustomerAccountNumber()},email:B.email,contact_phone_country_prefix:B.mobileNumber.countryCode,contact_phone:B.mobileNumber.mobileNumber}};return ie&&("GB"===this.smoConfig._getCountryIsoCode().toUpperCase()&&"C1144"===JSON.parse(sessionStorage.getItem("sendMoneyResponse")||"{}").error.code&&sessionStorage.removeItem("EUID_ERROR"),re.sender.verification_kyc=[{type:"KYCIDENTIFICATIONTYPE",value:"REALTIME"}]),this.utilService.isOnfidoKycEnabled()&&(delete re.sender.compliance_details,delete re.external_reference_no,delete re.bashPath,re.sender.nationality=B.nationality,re.sender.country_of_birth=B.countryOfBirth,re.sender.mobile_phone={},re.sender.mobile_phone.phone_number={country_code:B.mobileNumber.countryCode,national_number:B.mobileNumber.mobileNumber}),re}getKycDetails(B){let z={};return B||(z={veda:{available:!0}}),z}getOnfidoKycDetails(){let B={};return B={skc:{skc_delivery:{additional_information:{param:[{type:"KYCVENDOR",value:"ONFIDO"},{type:"KYCFLOW",value:"INLINE"},{type:"KYCMETHOD",value:"IDSELFIE"}]}}}},B}updateCustomerProfileRequest(B,z,ie){const re={security:this.baseService.getSecurity(),external_reference_no:"1",bashPath:this.baseService.getBashPath(),gateway_customer:{preferred_customer:{account_nbr:this.getCustomerAccountNumber()},email:B.email}};if("accountPreference"===z)re.gateway_customer.account_preferences={opt_in_shape:!1};else if("completeYourProfile"===z||S.has(B,"flowName")&&"MyInfo"===B.flowName)this.setRequestBodyForCompleteYourProfile(B,re);else if("thirdPartyConsent"===z)this.setRequestBodyForThirdPartyConsent(re,ie);else if("consentupdate"===z)re.gateway_customer.opt_in_refer_a_friend_flag=B.optInReferAFriendFlag;else if("WUDNA"===z&&this.utilService.isOTWudnaFeatureEnabled()){const Ce=this.utilService.toUpdateCookiePreference();Object.keys(Ce).length&&(Object.assign(re.gateway_customer,{account_preferences:{cookie_preferences:Ce}}),re.gateway_customer.email=this.senderStore.email)}else re.gateway_customer.name={first_name:B.firstName,middle_name:B.middleName,last_name:B.lastName},re.gateway_customer.address={addr_line1:B.address.addressLine1,addr_line2:B.address.addressLine2,city:B.address.city,postal_code:B.address.zipCode,state:B.address.state,country_iso_code:B.address.countryIsoCode},B&&B.dateOfBirth&&(B.address&&B.address.countryIsoCode&&-1===E.Y.differentDOBFormatCountires.indexOf(B.address.countryIsoCode)?re.gateway_customer.date_of_birth=s()(B.dateOfBirth).format(this.dateFormatPattern):(B.dateOfBth=B.dateOfBirth.substring(0,10),re.gateway_customer.date_of_birth=s()(B.dateOfBth).format(this.dateFormatPattern))),B&&B?.countryOfBirth&&(re.gateway_customer.country_of_birth=B?.countryOfBirth),B&&B?.nationality&&(re.gateway_customer.nationality=B?.nationality),"onBoarding"===z&&(re.gateway_customer.txnFrequencyRange=B?.txnFrequencyRange,re.gateway_customer.expSenderCountries=B?.expSenderCountries,re.gateway_customer.occupation=B?.occupation,re.gateway_customer.expReceiverCountries=B?.expReceiverCountries,re.gateway_customer.compliance_details={source_of_funds:B?.sourceofFunds},re.gateway_customer.profileReviewAttestation=B?.profileReviewAttestation,B?.recertificationFlag&&(re.gateway_customer.recertificationFlag=B?.recertificationFlag));return re}setRequestBodyForCompleteYourProfile(B,z){z.gateway_customer.gender=B.gender?B.gender:void 0,z.gateway_customer.nationality=B.nationality?B.nationality:void 0,z.gateway_customer.country_of_birth=B.countryOfBirth?B.countryOfBirth:void 0,z.gateway_customer.date_of_birth=s()(B.dateOfBirth,this.dateFormatPattern).format(this.dateFormatPattern),z.gateway_customer.terms_condition_flag=B.mywuTermConditionFlag?1:0,B.mobileNumber&&(z.gateway_customer.contact_phone_country_prefix=B.mobileNumber.countryCode?Number(B.mobileNumber.countryCode):void 0,z.gateway_customer.contact_phone=B.mobileNumber.mobileNumber?Number(B.mobileNumber.mobileNumber):void 0,z.gateway_customer.mobile_phone={phone_number:{national_number:B.mobileNumber.mobileNumber?Number(B.mobileNumber.mobileNumber):void 0,country_code:B.mobileNumber.countryCode?Number(B.mobileNumber.countryCode):void 0}}),this.isLeanFlowEnabled&&(B.firstName||B.middleName||B.lastName)&&(z.gateway_customer.name={first_name:B.firstName,middle_name:B.middleName,last_name:B.lastName}),z.gateway_customer.address={addr_line1:B.address.addressLine1,addr_line2:B.address.addressLine2,city:B.address.city,postal_code:B.address.zipCode,state:B.address.state,country_iso_code:B.address.countryIsoCode},B.isMarketingEnabled&&!1===B.hideMarketingOption&&(z.gateway_customer.account_preferences={direct_mail:!!B.marketingOptionFlag&&"true"===B.marketingOptionFlag,email:!!B.marketingOptionFlag&&"true"===B.marketingOptionFlag,telephone_call:!!B.marketingOptionFlag&&"true"===B.marketingOptionFlag,message:!!B.marketingOptionFlag&&"true"===B.marketingOptionFlag}),S.has(B,"flowName")&&"MyInfo"===B.flowName&&(z.vendor_data_consent_flag=B.vendorDataConsentFlag,z.flow_name=B.flowName,z.gateway_customer.name={first_name:B.firstName,middle_name:B.middleName,last_name:B.lastName}),S.has(B,"registrationDetails.securityQuestion")&&S.has(B,"registrationDetails.securityAnswer")&&(z.gateway_customer.security_details={question_answers:{question_answer:[{answer:B.registrationDetails.securityAnswer,id:"1",question:B.registrationDetails.securityQuestion,type_id:"1"}]}})}setRequestBodyForThirdPartyConsent(B,z){B.gateway_customer.account_preferences={thirdparty_datasharing_consent:z,third_party_consent_collected:!0}}getLoyalityCardRequest(){const B={gateway_customer:{preferred_customer:{account_nbr:this.getCustomerAccountNumber()}},bashPath:this.baseService.getBashPath(),external_reference_no:"1",security:this.baseService.getSecurity()};return this.utilService.isLoyaltyProgramEnabled()&&(B.params={param:[]},B.params.param=[{name:"REWARD_TYPE",value:"DISCT"}]),B}getCustAccNumManageReminder(){return this.getCustomerAccountNumber()}getCustomerAccountNumber(){let B=null;return this.senderStore&&this.senderStore.myWuNumber&&(B=this.senderStore.myWuNumber),B}getCustomerSigOnRequest(B,z,ie,re,Ce,X,Ee){this.utilService.promoCampaignFromLocalToSessionStorage("promoPricingCampaignNameUrlParam");const De=this.getWebCampaignInfo(),fe={gateway_customer:this.getGatewayCustomer(B,z,ie,Ce),analytics:this.siteBehaviourService.getLoginSiteBehaviour(B),device:{id:"",type:"WEB"}};this.utilService.isSocialLoginOptionEnabled()&&(X?(fe.device.token=X.deviceToken,fe.gateway_customer.identities.identity.pop(),fe.gateway_customer.identities.identity=[...fe.gateway_customer.identities.identity,X.idpType,X.referenceToken]):"true"===sessionStorage.getItem("isRedirectedToSocialLoginOrReg")&&(fe.gateway_customer.identities.identity=[...fe.gateway_customer.identities.identity,{data:this.utilService.getSessionStorageItem("idpType").toUpperCase(),type:"IDP"}])),re&&this.utilService.isSybaseEnabled(re)&&fe.analytics.analytic_event&&(fe.analytics.analytic_event=[{...fe.analytics.analytic_event}]),De&&(De.promoPricingCampaign||De.subscriptionId)&&this.countryConfigService.isCustomerSignOnV2Enabled()&&(fe.campaign={campaign_name:De.promoPricingCampaign?De.promoPricingCampaign:"",subscription_id:De.subscriptionId?De.subscriptionId:""});const Ue=this.featureFlagService.isFeatureEnabled("CAPTCHA_CUSTOMERSIGNON");let ee={};delete window.sessionStorage.siteInfoLoginUser,ee=Ue?{...this.baseService.getBaseRequest(null,re)}:{...this.baseService.getBaseRequest(null)},this.utilService.isScvProxyEnabled()&&(delete ee.channel,ee.channel=this.baseService.getChannelLookup()),ie&&ie.value&&(ee.security.captcha=this.getCaptchaAnswer(ie)),ee.security.black_box_data=this.baseService.getGlobalBlackBoxData(),ee.security.device_details=this.browserFingerprint,ee.security.httpHeader=this.pageHttpHeaders;const se=sessionStorage.getItem("flowType"),le=sessionStorage.getItem("csrLogsSet");se&&"cstLogin"===se&&le&&(ee.security.requestHeader=this.getCsrRequestHeader(le)),this.mfaRequestBody(ee,B,Ee);const F=this.utilService.getCookieItem("user_session_token");if(""===B&&""===z&&F&&this.utilService.isFeatureEnabled("USER_SESSION_COOKIE_FIX_ENABLED")){let J=ee.security.requestHeader;J&&J.length>0?J.push({key:"user_session_token",value:F}):J=[{key:"user_session_token",value:F}],ee.security.requestHeader=J}return this.utilService.isPhoneLoginWithEvergageEnabled()&&(ee.login_type=this.getLoginType(B)),{...fe,...ee}}checkMFA(){return this.utilService.isLoginMfaEnabled()}mfaRequestBody(B,z,ie){return this.checkMFA()&&("login"===this.senderStore?.verifyMfaFlow||void 0!==ie&&!ie)&&(B.login_type=this.getLoginType(z),sessionStorage.getItem("skip_allowed")&&(sessionStorage.removeItem("skip_allowed"),B.skip_allowed=!0),B.security.requestHeader||(B.security.requestHeader=[]),B.security.requestHeader.push({key:"A4kgk7nd_afm",value:sessionStorage.getItem("dcaasVersion")})),B}getLoginType(B){return this.utilService.isLoginTypeFixEnabled()?B&&S.isFinite(S.toNumber(B))?"PHONE":"EMAIL":S.isFinite(S.toNumber(B))?"PHONE":"EMAIL"}getCsrRequestHeader(B){const z=[],ie=JSON.parse(B);return ie&&(ie.csrLoginAccount&&z.push({key:"csrLoginAccount",value:ie.csrLoginAccount}),ie.csrOperatorId&&z.push({key:"csrOperatorId",value:ie.csrOperatorId}),ie.csrTerminalId&&z.push({key:"csrTerminalId",value:ie.csrTerminalId}),ie.csrAgentId&&z.push({key:"csrAgentId",value:ie.csrAgentId}),ie.csrSite&&z.push({key:"csrSite",value:ie.csrSite}),ie.zoomId&&z.push({key:"zoomId",value:ie.zoomId})),z}getWebCampaignInfo(){return{promoPricingCampaign:this.utilService.promoPricingWebCampaign().promoPricingCampaign,subscriptionId:this.utilService.getCookieItem("promoCampaignSubscriptionId")}}getGatewayCustomer(B,z,ie,re){const Ce=this.utilService.getSessionStorageItem("IsMessengerWebview"),X=this.utilService.getSessionStorageItem("WebViewUserID"),De={identities:{identity:[{data:B,type:"USERNAME"},{data:z,type:this.utilService.isCSTLogin()?"OTP":"PASSWORD"}]}};let fe;return re&&(fe={email:B,identities:{identity:[{data:z,type:"LOGIN_TOKEN"}]}}),ie&&ie.value&&!(this.utilService.isPhoneLoginWithEvergageEnabled()&&S.isFinite(S.toNumber(B)))&&(De.email=B),Ce&&X&&"true"===Ce&&(De.identities.identity[2]={data:X,type:"FACEBOOK_ID"},window.sessionStorage.removeItem("WebViewUserID")),re?fe:De}getCaptchaAnswer(B){const z={};return z.answer=B.value,z.image=B.image,z.clear_screen="true",z.sound=B.audio,z}getCustomerVerificationStatusRequest(){return{security:this.baseService.getSecurity(),bashPath:this.baseService.getBashPath(),sender:{preferred_customer:{account_nbr:this.getCustomerAccountNumber()}}}}handleCustomerSignOnResponse(B){if(this.getWebCampaignInfo().subscriptionId&&this.getWebCampaignInfo(),!B.error&&B.gatewayCustomer){B.gatewayCustomer?.token&&-1!==E.Y.verificationData.verificationInProgress.indexOf(B.gatewayCustomer?.identityVerificationStatus)&&(B.gatewayCustomer.token=void 0),this.updateStore.cleanReceiverList(),this.utilService.updateUserIdentity(B),S.has(B,"gatewayCustomer.gender")&&sessionStorage.setItem("userGender",B.gatewayCustomer.gender);const ie=window.location.pathname;if((-1!==ie.indexOf("sm-login")||-1!==ie.indexOf("register"))&&this.checkCampaignMismatch(B),this.updateStoresSender(B),B.security&&B.security.requestHeader){const re=B.security.requestHeader;re.user_session_token&&this.utilService.setCookieItem("user_session_token",re.user_session_token,"","","",!1,re.user_session_expiry_time)}if(B.gatewayCustomer.token&&this.updateStore.updateAbandonedToken(B.gatewayCustomer.token),this.utilService.isR4ProxyEnabled()&&B.tokenResponse&&this.utilService.setCookieStoreItemInSessionStorage("user_access_token",B.tokenResponse.accessToken),S.get(B,"subscription")&&this.updateStore.updatefxSubscription(B.subscription),sessionStorage.setItem("ScheduleTransferMktgOptedIn",S.get(B,"gatewayCustomer.accountPreferences.email",!1)),B.subscription&&(B.subscription.subscription_id||B.subscription.subscriptionId)){const Ce=B.subscription.end_date||B.subscription.endDate,X=B.subscription.campaign_name||B.subscription.campaignName;this.utilService.setCookieItem("promoCampaignSubscriptionId",B.subscription.subscription_id||B.subscription.subscriptionId,Ce,void 0,void 0,void 0,Ce),this.utilService.setCookieItem("promoCampaignSubscriptionEndDate",Ce,Ce,void 0,void 0,void 0,Ce),this.utilService.setCookieItem("subscribedCampaignName",X,Ce,void 0,void 0,void 0,Ce)}else this.utilService.getCookieItem("promoCampaignSubscriptionId")&&(this.utilService.deleteCookieItem("promoCampaignSubscriptionId"),this.utilService.deleteCookieItem("promoCampaignSubscriptionEndDate"),this.utilService.deleteCookieItem("subscribedCampaignName"));this.utilService.updateSubscriptionMessage(B),this.utilService.clearPromoCampaign(),this.utilService.updateDataLayerAfterLogin()}else!B.error||"C1133"!==B.error.code&&"C1139"!==B.error.code&&"C9804"!==B.error.code?B.error&&"C9768"===B.error.code&&this.routingService.navigateToWuPlusBanking():this.updateStoresSender(B)}updateStoresSenderMFA(B,z,ie,re,Ce,X){if(B.mfa_check&&(B=this.utilService.keysToCamel(B)),B&&B.error){const Ee=B.error.code;if("C5008"===Ee&&B.mfaCheck){const De=B.mfaCheck;this.setMfaFactors(De),this.senderStore.otpSourceVerification=this.getOtpSourceVerification(De),this.senderStore.mfaCheck.stateToken=De.stateToken,sessionStorage.setItem("loginRequestBody",JSON.stringify({loginWithOtp:re,socialSignOn:Ce}))}else if("C6017"===Ee){const De={factors:[{type:x.iF.EMAIL,value:z}]};X?(De.factors.push({type:x.iF.PHONE,value:X}),De.skipAllowed=!1,De.primaryFactor=x.iF.PHONE):De.primaryFactor=x.iF.EMAIL,this.setMfaFactors(De)}}z&&(this.senderStore.email=z),this.utilService.isScvProxyEnabled()&&B?.gatewayCustomer?.email&&(this.senderStore.email=B?.gatewayCustomer?.email,sessionStorage.setItem("userLoggedMail",z?.toUpperCase())),ie&&(this.senderStore.password=ie),this.updateStore.updateSender(this.senderStore)}setMfaFactors(B){const z=new x.hd;z.skipAllowed="true"===B.skipAllowed?.toString(),z.primaryFactor=B.primaryFactor;const ie=[];for(const re of B.factors){const Ce=new x.si;Ce.type=re.type,Ce.value=re.value,Ce.value&&ie.push(Ce)}z.factors=ie,this.senderStore.mfaCheck=z}getOtpSourceVerification(B){return B.primaryFactor!==x.iF.EMAIL}checkCampaignMismatch(B){const z=this.utilService.getCookieItem("promoCampaignSubscriptionId"),ie=sessionStorage.getItem("promoPricingCampaignName"),re=this.utilService.getCookieItem("subscribedCampaignName");if(B.subscription&&(B.subscription.subscription_id||B.subscription.subscriptionId||B.subscription.campaign_name||B.subscription.campaignName)){const X=B.subscription.campaign_name||B.subscription.campaignName;(z&&z!==(B.subscription.subscription_id||B.subscription.subscriptionId)||ie&&ie!==X||!z&&!ie)&&sessionStorage.setItem("promoCampaignMismatch","true"),re&&X&&re===X&&sessionStorage.setItem("promoCampaignMismatch","false")}else(z||ie)&&sessionStorage.setItem("promoCampaignMismatch","true")}getTokenDataBodyRequest(){return{token:this.requestMoneyToken?this.requestMoneyToken:null,bashPath:this.baseService.getBashPath(),security:this.baseService.getSecurity()}}getTokenData(){const B=this.getTokenDataBodyRequest();return this.restMethod.POST("/data/GetTokenData",B).pipe((0,f.T)(ie=>ie&&ie.data&&ie.data.json?(sessionStorage.setItem("getTokenData",JSON.stringify(ie)),ie):ie.error?ie:void 0))}getSetOfUseCases(){const B=this.countryConfigService.getUseCasePromoList();for(const z in B)if(B.hasOwnProperty(z)){const ie=z.split("_"),re=ie[0],Ce=ie[1];this.keySets.indexOf(re)<0&&(this.keySets.push(re),this.useCasePromoSrvc.useCases[re]={}),this.useCasePromoSrvc.useCases[re][Ce]=B[z]}this.initialize()}initialize(){for(const B of this.keySets)this.addGetFunction(B),this.addIsEnabledFunction(B),this.addGetCampaignIdFunction(B),this.addGetPromoCodeFunction(B)}capitalizeFirstLetter(B){return B.charAt(0).toUpperCase()+B.slice(1)}isUseCaseEnabled(B){return this.getSetOfUseCases(),(this.useCasePromoSrvc.useCases[B]&&this.useCasePromoSrvc.useCases[B].isActive?this.useCasePromoSrvc.useCases[B].isActive:"FALSE").replace(/^\s+|\s+$/gm,"").toUpperCase()}addGetFunction(B){this.useCasePromoSrvc["get"+this.capitalizeFirstLetter(B)+"UseCase"]=function(){return this.useCasePromoSrvc.useCases[B]||null}}addIsEnabledFunction(B){this.useCasePromoSrvc["is"+this.capitalizeFirstLetter(B)+"Enabled"]=function(){return(this.useCasePromoSrvc.useCases[B]&&this.useCasePromoSrvc.useCases[B].isActive?this.useCasePromoSrvc.useCases[B].isActive:"FALSE").replace(/^\s+|\s+$/gm,"").toUpperCase()}}addGetCampaignIdFunction(B){this.useCasePromoSrvc["get"+this.capitalizeFirstLetter(B)+"CampaignId"]=function(){return this.useCasePromoSrvc.useCases[B]&&this.useCasePromoSrvc.useCases[B].campaignId?this.useCasePromoSrvc.useCases[B].campaignId:""}}addGetPromoCodeFunction(B){this.useCasePromoSrvc["get"+this.capitalizeFirstLetter(B)+"PromoCode"]=function(){return this.useCasePromoSrvc.useCases[B]&&this.useCasePromoSrvc.useCases[B].promoCode?this.useCasePromoSrvc.useCases[B].promoCode:""}}getUseCaseCampaignId(B){return this.useCasePromoSrvc.useCases[B]&&this.useCasePromoSrvc.useCases[B].campaignId?this.useCasePromoSrvc.useCases[B].campaignId:""}getUseCasePromoCode(B){return this.useCasePromoSrvc.useCases[B]&&this.useCasePromoSrvc.useCases[B].promoCode?this.useCasePromoSrvc.useCases[B].promoCode:""}getSecurity(){let B={};return B=this.baseService.getSecurity(),B.version="1",B}generateUsecasePromoRequest(B){const z={};return z.account_nbr=B.res.gatewayCustomer.preferredCustomer.accountNbr,z.campaignId=this.getUseCaseCampaignId(B.useCase),z.promoCode=this.getUseCasePromoCode(B.useCase),z.emailId=B.email,z.country=this.smoConfig._getCountryIsoCode().toLowerCase(),z.language=this.smoConfig.getLanguageFromURL().toLowerCase(),z.bashPath=(this.baseService.getBashPath()||"").toLowerCase(),z.security=this.getSecurity(),z}addUseCasePromoCode(B){const ie=this.generateUsecasePromoRequest(B);return this.restMethod.POST("/AddRewardsToCustomerWallet",ie).pipe((0,f.T)(re=>re))}getDeleteAbandonedTokenRequest(){return{security:this.baseService.getSecurity(),json_data:this.getDeleteAbandonedTokenJsonData()}}getDeleteAbandonedTokenJsonData(){return{type:"ABANDON_TRANSACTION",email_id:this.senderStore.email,token:S.isEmpty(this.resumeTransferToken)?"":this.resumeTransferToken}}deleteAbandonedToken(){const B=this.getDeleteAbandonedTokenRequest();return this.restMethod.POST("/data/DeleteTokenData",B).pipe((0,f.T)(ie=>{if(ie)return ie}))}updatePendingDocuments(B){B.pending_docs.map(z=>{const ie=z.replace("document.","");!S.includes(this.pendingDocuments,ie)&&"EQ"!==ie&&this.pendingDocuments.push(ie)})}ifCJEventTaggin(B){if(this.featureFlagService.isFeatureEnabled("CJ_EVENT_TAGGING")){const z=B?.gateway_customer?.preferred_customer?.account_nbr||B?.gatewayCustomer?.preferredCustomer?.accountNbr;z&&this.getCJEvent(z).pipe((0,C.Q)(this.destroyed$)).subscribe(ie=>{ie&&ie.referralCode&&(localStorage.setItem("cjevent",ie.referralCode),sessionStorage.setItem("cjevent",ie.referralCode))},ie=>console.error(ie))}}createVendorConsumer(){const B="/GwpVendorConsumer",z={account_nbr:this.getCustomerAccountNumber(),security:this.baseService.getSecurity(B)};return this.restMethod.POST(B,z,"","","",!0).pipe((0,f.T)(ie=>ie))}getVendorToken(){const B=sessionStorage.getItem("accessToken")||"";return(0,te.of)({accessToken:B,error:""})}getRuleCount(B){const z=this.getRuleCountBodyRequest(B),ie="/GwpRuleCount",re=this.utilService.setR4ApiHeaders(ie,"");return this.restMethod.POST(ie,z,"","",re,!0,"").pipe((0,f.T)(Ce=>{if(Ce)return Ce}))}getRuleCountBodyRequest(B){return{locale:{country_code:this.smoConfig._getCountryIsoCode().toUpperCase()},security:this.baseService.getSecurity(),id:B,idType:"MTCN"}}getPostTDRequest(B,z){const ie={};return ie.security=this.baseService.getSecurity(),ie.sender={preferred_customer:{account_nbr:this.getCustomerAccountNumber()}},ie.status=z,ie.reason=B,ie}postTDIdVerification(B,z){return new Promise(ie=>{const re=this.getPostTDRequest(B,z);this.restMethod.POST("/GwpPostTDIdentityVerification",re,"","","",!0,"").subscribe(X=>{ie(X)})})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#e=this.\u0275fac=function(z){return new(z||ae)(o.KVO(e.il),o.KVO(c.E),o.KVO(_.qd),o.KVO(D.R),o.KVO(N.k),o.KVO(g.A),o.KVO(l.l),o.KVO(p.a),o.KVO(m.y),o.KVO(R.O),o.KVO(k.I),o.KVO(y.t),o.KVO(h.qQ),o.KVO(de.k),o.KVO(Z.a),o.KVO(o.Agw))};static#t=this.\u0275prov=o.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},33033:(n,d,t)=>{"use strict";t.d(d,{T:()=>V});var o=t(75194),e=t(16619),x=t(95006),$=t(64646),W=t(66726),K=t(54438);let V=(()=>{class P{constructor(f,C,A){this.restMethod=f,this.baseRequest=C,this._store=A,this._store.pipe((0,$.Lt)(W.w8)).subscribe(E=>{this.senderStore=E})}validateTransactionInfoR2B(f,C){let A={};A="validateAmount"!==C?{receiver:{name:f.name}}:{paymentDetails:{destination:{principalAmount:f.amount}}};const E=this.getRequestBody(A,C);return this.restMethod.POST("/ValidateTransactionInfo",E).pipe((0,x.T)(_=>_))}getRequestBody(f,C){return"validateAmount"!==C?{channel:this.baseRequest.getChannel(),security:this.getSecurity(C),bashPath:this.baseRequest.getBashPath(),money_transfer_control:this.getMTCN(),keyedinReceiver:this.getReceiver(f)}:{channel:this.baseRequest.getChannel(),security:this.getSecurity(C),bashPath:this.baseRequest.getBashPath(),money_transfer_control:this.getMTCN(),payment_details:this.getPaymentDetails(f)}}getMTCN(){return{mtcn:sessionStorage.getItem("currentMTCN")}}getPaymentDetails(f){if(f.paymentDetails&&f.paymentDetails.destination)return{destination:{expected_payout_amount:this.getPrincipalAmount(f.paymentDetails.destination)}}}getPrincipalAmount(f){if(f.principalAmount)return(100*Number(f.principalAmount)).toString()}getSecurity(f){let C="VALIDATE_RECEIVER";return"validateAmount"===f&&(C="VALIDATE_SENDER"),{session:{id:this.baseRequest.getSecurity().session?this.baseRequest.getSecurity().session.id:""},requestHeader:[{key:"flowType",value:"RD"},{key:"validateType",value:C}]}}getReceiver(f){if(f.receiver&&f.receiver.name){const C={first_name:f.receiver.name.firstName,last_name:f.receiver.name.lastName};return f.receiver.name.middleName&&(C.middle_name=f.receiver.name.middleName),{name:C}}}static#e=this.\u0275fac=function(C){return new(C||P)(K.KVO(o.R),K.KVO(e.E),K.KVO($.il))};static#t=this.\u0275prov=K.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},54100:(n,d,t)=>{"use strict";t.d(d,{t:()=>x});var o=t(76265),e=t(54438);let x=(()=>{class W{createMethod(V){return new $(V)}static#e=this.\u0275fac=function(P){return new(P||W)};static#t=this.\u0275prov=e.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();class ${constructor(K){this.data=K}init(K){return this.data=K,this}getType(){return this.data.type}isOnline(){return-1===this.getType().indexOf(o.s.MAILKIT)}isOffline(){return-1!==this.getType().indexOf(o.s.MAILKIT)}getOrdering(){switch(this.getType()){case o.s.BANKID:return 0;case o.s.MOBILEID:return 1;case o.s.MAILKIT:return 3;case o.s.GENIII:case o.s.BUYPASS:return 2;default:return 0}}isAuId(){return this.isType(o.s.AUID)}isInId(){return this.isType(o.s.INID)}isMailKit(){return this.isType(o.s.MAILKIT)}isBankId(){return this.isType(o.s.BANKID)}isOnfido(){return this.isType(o.s.ONFIDO)}isMobileId(){return this.isType(o.s.MOBILEID)}isNemId(){return this.isType(o.s.NEMID)}isMitId(){return this.isType(o.s.MITID)}isGenIII(){return this.isType(o.s.GENIII)}isBuyPass(){return this.isType(o.s.BUYPASS)}isNzId(){return this.isType(o.s.NZID)}isIdin(){return this.isType(o.s.IDIN)}isFTN(){return this.isType(o.s.FTN)}isType(K){return this.getType()===K}getData(){return this.data}}},13765:(n,d,t)=>{"use strict";t.d(d,{K:()=>P});var o=t(76265),e=t(67376),$=t(77202),W=t(66726),K=t(64646),V=t(54438);let P=(()=>{class D{constructor(C,A){this._store=C,this.utilService=A,this.data={},this._store.pipe((0,K.Lt)(W.T7)).subscribe(E=>{this.countryConfig=E})}getIdentificationImage(C){const A={root:"../../../../../../etc/designs/westernunion/responsive_css/images/wu-collectid-icons/",default:[{id:o.s.MAILKIT,src:"mailkit.png"}],countries:{NO:[{id:o.s.BUYPASS,src:"no-buypass.png"},{id:o.s.BANKID,src:"no-bankid.png"},{id:o.s.MOBILEID,src:"no-mobileid.png"}],SE:[{id:o.s.BANKID,src:"se-bankid.jpg"},{id:o.s.MOBILEID,src:"se-mobileid.jpg"}],DK:[{id:o.s.MAILKIT,src:"mailkit.png"},{id:o.s.NEMID,src:"dk-nemid.png"},{id:o.s.MITID,src:"dk-mitid.png"}],IT:[{id:o.s.GENIII,src:"id.png"}],NL:[{id:o.s.IDIN,src:"id.png"}],FI:[{id:o.s.FTN,src:"fi-mobiilivarmenne.svg"}]}},E=e.find(A.default,function(U){return U.id===C});let N=this.countryConfig.ConfigTemplate.country;if(this.utilService.isHostedPartner()){const U=this.countryConfig.ConfigTemplate.country.split("-");U.length>1&&(N=U[0])}const _=e.find(A.countries[N],function(U){return U.id===C}),M=function(U){return A.root+U};return _?M(_.src):E?M(E.src):null}currentVerificationTemplate(){return null}isAnnualReconfirmationRequired(){const C=JSON.parse(sessionStorage.getItem("ErrorResponse"));return C&&"C1136"==C.code}transformDropdownList(C){const A={};for(const E in C)C.hasOwnProperty(E)&&(A[E]={id:E,value:C[E]});return delete A.listPath,this.sortProperties(A)}sortProperties(C){const A=[];for(const E in C)C.hasOwnProperty(E)&&A.push([E,C[E]]);return A.sort(this.compare),A.reduce((E,N)=>(E[N[0].toString()]=N[1],E),{})}compare(C,A){return C[1].value<A[1].value?-1:C[1].value>A[1].value?1:0}static#e=this.\u0275fac=function(A){return new(A||D)(V.KVO(K.il),V.KVO($.a))};static#t=this.\u0275prov=V.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},16619:(n,d,t)=>{"use strict";t.d(d,{E:()=>D});var o=t(77202),e=t(67376),$=t(34781),W=t(93885),K=t(8788),V=t(54438),P=t(1059);let D=(()=>{class f{constructor(A,E,N,_){this.utilService=A,this.urlParameterService=E,this.updateStoreUsingActionService=N,this.realUrlService=_}getChannel(){const A=this.updateStoreUsingActionService.getState().isPPSprofile,E={name:"",type:"",version:"",device_identifier:this.utilService.isMobileDevice()?"RESPONSIVE_MOB":"RESPONSIVE_WEB"};return A?(E.name="Cruise",E.type="PPS",E.version="9740"):(E.name="Western Union",E.type="WEB",E.version="9Z00"),E}getChannelLookup(){const A=this.getChannel();return this.utilService.isScvProxyEnabled()&&(A.source=W.Y.requestBodySCV),A}getLBPChannel(){const E={name:"",type:"",version:""};return this.updateStoreUsingActionService.getState().isPPSprofile?(E.name="Cruise",E.type="PPS",E.version="9740"):(E.name="DUTFSS",E.type="FSS",E.version="9D01"),E}getDSSRetailChannel(A){let E={};return E=e.isEmpty(A)?{name:"D",type:"RETAIL_MOBILE",version:"9D01",device_identifier:"RESPONSIVE_MOB",is_responsive:"true"}:"idVerification"===A?{name:"R",type:"RETAIL_MOBILE"}:{name:"D",type:"RETAIL_MOBILE"},E}getRetailChannel(){return{name:"MOB",type:"RETAIL_MOBILE",version:"9D01"}}getDevice(){return{id:"",type:"WEB"}}getSecurity(A){const E=this.utilService.isRedirectReceiverToBank()&&sessionStorage.getItem("RDFlow"),N={session:{id:this.urlParameterService.getUrlParameterValue("sessionId")?this.urlParameterService.getUrlParameterValue("sessionId"):this.utilService.getCookieItem("SessionId")},client_ip:this.utilService.getCookieItem("ClientIp")?this.utilService.getCookieItem("ClientIp"):this.updateStoreUsingActionService.getState().clientIp?this.updateStoreUsingActionService.getState().clientIp:"245024209201"};return E&&(N.requestHeader=[{key:"flowType",value:"RD"}]),A&&""!==A&&W.Y.apiVersions[A]&&(N.version=W.Y.apiVersions[A]),N}getRetailSecurity(){return{session:{id:this.utilService.getCookieItem("SessionIdRetail")},client_ip:this.utilService.getCookieItem("retailClientIp")?this.utilService.getCookieItem("retailClientIp"):this.utilService.getCookieItem("ClientIp")}}getRetailSecurityComplianceDetails(){return{session:{id:this.utilService.getCookieItem("SessionIdRetail")},digital:{sessionid:this.utilService.getCookieItem("SessionId")},client_ip:this.utilService.getCookieItem("retailClientIp")?this.utilService.getCookieItem("retailClientIp"):this.utilService.getCookieItem("ClientIp")}}getBashPath(){return"/"+this.realUrlService.getCountryFromURL()+"/"+this.realUrlService.getLanguageFromURL()}getBaseRequest(A,E){return"retail"===A?{external_reference_no:"1",channel:this.getRetailChannel(),security:this.getRetailSecurityComplianceDetails(),bashPath:this.getBashPath()}:{external_reference_no:"1",channel:this.getChannel(),security:this.getSecurity(E),bashPath:this.getBashPath()}}getUpdatedBaseRequest(A,E){if("retail"===A){const N={security:this.getRetailSecurity()};return E&&E.security&&E.security.version&&(N.security.version=E.security.version),N}{const N={security:this.getSecurity()};return E&&E.security&&(E.security.version&&(N.security.version=E.security.version),E.security.requestHeader&&(N.security.requestHeader=E.security.requestHeader)),N}}getExternalRef(){return{external_reference_no:"1"}}getChannelVersionRetail(){return"9D01"}getGlobalBlackBoxData(){if(this.utilService.isIovationEnabled()){let A;const E=window.IGLOO&&window.IGLOO.getBlackbox&&window.IGLOO.getBlackbox()?window.IGLOO.getBlackbox():null;if(E&&E.blackbox)A={data:E.blackbox,length:E.blackbox.length};else if(window.sessionStorage.getItem("blackBoxString")){const N=window.sessionStorage.getItem("blackBoxString");A={data:N||"",length:N?N.length:0}}else A=null;return A}{let A;const E=window.IGLOO&&window.hasOwnProperty("ioGetBlackbox")?window.ioGetBlackbox():null;return A=E&&E.blackbox?{data:E.blackbox,length:E.blackbox.length}:null,A}}getLocale(){const A={};return A.country_code=this.realUrlService.getCountryFromURL(),A.language_code=this.realUrlService.getLanguageFromURL(),A}static#e=this.\u0275fac=function(E){return new(E||f)(V.KVO(o.a),V.KVO(P.k),V.KVO($.k),V.KVO(K.F))};static#t=this.\u0275prov=V.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},17779:(n,d,t)=>{"use strict";t.d(d,{z:()=>x});var o=t(3902),e=t(54438);let x=(()=>{class ${constructor(K){this.featureFlagService=K,this.NON_PROD_DOMAIN_PREFIXES=["localhost","wudispatcher-dev","wudispatcher-qa","wudispatcher-uat","partners-sandbox","wudispatcheruat"],this.ENV_LIST={awsdev11:"wudispatcher-dev11.digitalnonprod.awswuintranet.net",awsdev21:"wudispatcher-dev21.digitalnonprod.awswuintranet.net",awsdev31:"wudispatcher-dev31.digitalnonprod.awswuintranet.net",awsdev41:"wudispatcher-dev41.digitalnonprod.awswuintranet.net",awsdev51:"wudispatcher-dev51.digitalnonprod.awswuintranet.net",dev11:"wudispatcher-dev11.devwesternunion.com",dev51:"wudispatcher-dev51.devwesternunion.com",awsqa11:"wudispatcher-qa11.digitalnonprod.awswuintranet.net",awsqa21:"wudispatcher-qa21.digitalnonprod.awswuintranet.net",awsqa31:"wudispatcher-qav31.digitalnonprod.awswuintranet.net",awsqa41:"wudispatcher-qav41.digitalnonprod.awswuintranet.net",awsqa51:"wudispatcher-qa51.digitalnonprod.awswuintranet.net",qa11:"wudispatcher-qa11.qawesternunion.com",uatrs2:"wudispatcher-uatrs2.westernunion.com",uatrs3:"wudispatcher-uatrs3.westernunion.com",uatci2:"wudispatcher-uatci2.westernunion.com",uatci4:"wudispatcher-uatci4.westernunion.com","ruuat1 ":"ruwudispatcheruat1.westernunion.ru",ruuat2:"ruwudispatcheruat2.westernunion.ru"}}storeCsEndPointParameter(K,V){const P=this.featureFlagService.isFeatureEnabled("OVERRIDE_CS_END_POINT");this.isNonProdEnv(K)&&P&&V&&sessionStorage.setItem("overrideCsEndPoint",V)}clearCsEndPointParameter(K,V){const P=this.featureFlagService.isFeatureEnabled("OVERRIDE_CS_END_POINT");this.isNonProdEnv(K)&&P&&V&&sessionStorage.removeItem("overrideCsEndPoint")}overrideCsEndPoint(K,V,P){const D=this.featureFlagService.isFeatureEnabled("OVERRIDE_CS_END_POINT");if(this.isNonProdEnv(K)&&D){const f=sessionStorage.getItem("overrideCsEndPoint")?sessionStorage.getItem("overrideCsEndPoint"):void 0;if(f){const C=K.indexOf("localhost")>-1?V:K,A=this.ENV_LIST[f.toLowerCase()];P=A?P.replace(C,A):P}}return P}isNonProdEnv(K){return this.NON_PROD_DOMAIN_PREFIXES.find(V=>K.indexOf(V)>-1)}static#e=this.\u0275fac=function(V){return new(V||$)(e.KVO(o.y))};static#t=this.\u0275prov=e.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},9325:(n,d,t)=>{"use strict";t.d(d,{B:()=>P});var o=t(34781),e=t(66726),x=t(64646),$=t(67376),W=t.n($),K=t(54438),V=t(2490);let P=(()=>{class D{constructor(C,A,E){this.updateStoreUsingActionService=C,this.cookieService=A,this._store=E}isHostedPartner(){return!!this.getCookieItem("partnerName")}isPPSApplication(){return this.updateStoreUsingActionService.getState().isPPSprofile}getCookieItem(C){const A=sessionStorage.getItem("cookiestore");return A&&JSON.parse(A)&&JSON.parse(A)[C]?JSON.parse(A)[C]:this.cookieService.get(C)}isFeatureEnabled(C,A){try{const E=this.updateStoreUsingActionService.getState(),N=sessionStorage.getItem("featureFlags"),M=(E.featureFlags?E.featureFlags:JSON.parse(N||"{}"))[C].countries;return"ALL"===M||M.indexOf(A.toUpperCase())>-1}catch{return!1}}isGooglePayFundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isGooglePayFundsInEnabled"),N=this.isFeatureEnabled("IS_GOOGLEPAY_FUNDSIN_ENABLED",C);return this._store.pipe((0,x.Lt)(e.HH)).subscribe(_=>{A=_}),(E||N||A)&&!this.isHostedPartner()&&!this.isPPSApplication()}isPlaidFundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isPlaidFundsInEnabled"),N=this.isFeatureEnabled("IS_PLAID_FUNDSIN_ENABLED",C);return this._store.pipe((0,x.Lt)(e.Yn)).subscribe(_=>{A=_}),(E||N||A)&&!this.isHostedPartner()&&!this.isPPSApplication()}isPayNowFundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isPayNowFundsInEnabled"),N=this.isFeatureEnabled("IS_PAYNOW_FUNDSIN_ENABLED",C);return this._store.pipe((0,x.Lt)(e.Kj)).subscribe(_=>{A=_}),E||N||A}isBanContactFundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isBanContactFundsInEnabled"),N=this.isFeatureEnabled("IS_BANCONTACT_FUNDSIN_ENABLED",C);return this._store.pipe((0,x.Lt)(e.tD)).subscribe(_=>{A=_}),(E||N||A)&&!this.isHostedPartner()&&!this.isPPSApplication()}isC3FundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isKonbiniFundsInEnabled"),N=this.isFeatureEnabled("IS_KONBINI_FUNDSIN_ENABLED",C);return this._store.pipe((0,x.Lt)(e.s4)).subscribe(_=>{A=_}),E||N||A&&!this.isHostedPartner()&&!this.isPPSApplication()}isCreditCardFundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isCreditCardEnable"),N=this.isFeatureEnabled("IS_CREDITCARD_FUNDSIN_ENABLED",C);return this._store.pipe((0,x.Lt)(e.DW)).subscribe(_=>{A=_}),(E||N||A)&&!this.isHostedPartner()&&!this.isPPSApplication()}isVisaRejectedEnabled(C){return this.isSpecificCountryVisaAllowedEnabled(C)||this.isSpecificCountryVisaRejectEnabled(C)}isSpecificCountryVisaAllowedEnabled(C){return this.isHostedPartner()&&!this.isPPSApplication()?this.isFeatureEnabled("SPECIFIC_COUNTRY_VISA_ALLOWED_PARTNERS",C)||"TRUE"===sessionStorage.getItem("isSpecificCountryVisaAllowedPartners")?.toUpperCase():this.isFeatureEnabled("SPECIFIC_COUNTRY_VISA_ALLOWED",C)||"TRUE"===sessionStorage.getItem("isSpecificCountryVisaAllowed")?.toUpperCase()}isSpecificCountryVisaRejectEnabled(C){return this.isHostedPartner()&&!this.isPPSApplication()?this.isFeatureEnabled("SPECIFIC_COUNTRY_VISA_REJECT_PARTNERS",C)||"TRUE"===sessionStorage.getItem("isSpecificCountryVisaRejectPartners")?.toUpperCase():this.isFeatureEnabled("SPECIFIC_COUNTRY_VISA_REJECT",C)||"TRUE"===sessionStorage.getItem("isSpecificCountryVisaReject")?.toUpperCase()}isDebitCardFundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isDebitCardEnable"),N=this.isFeatureEnabled("IS_DEBITCARD_FUNDSIN_ENABLED",C);return this._store.pipe((0,x.Lt)(e.Gj)).subscribe(_=>{A=_}),(E||N||A)&&!this.isHostedPartner()&&!this.isPPSApplication()}isKlarnaFundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isKlarnaFundsInEnabled"),N=this.isFeatureEnabled("FUNDS_IN_KLARNA",C);return this._store.pipe((0,x.Lt)(e.Re)).subscribe(_=>{A=_}),(E||N||A)&&!this.isHostedPartner()&&!this.isPPSApplication()}overrideFundsInForNewReceiverCorridor(C,A){const E=this.updateStoreUsingActionService.getState()?.countryDynamicParams,N=JSON.parse(E&&E.DISABLE_FI_FOR_NEW_CORRIDOR||"{}");return N&&N[C]&&N[C]?.forEach(M=>{A[M]&&(A[M]="")}),A}allowInstantForFundsIn(C){return this.isRealTimeACHviaTrustlyEnabled(C)&&this.getLoggedInStatus()&&this.checkPayoutAvailableForIACH()}isRealTimeACHviaTrustlyEnabled(C){return(this.isFeatureEnabled("REALTIME_TRUSTLY_ACH_ENABLED",C)||"TRUE"===sessionStorage.getItem("isRealTimeTrustlyACHEnabled")?.toString().toUpperCase())&&!(this.isHostedPartner()||this.isPPSApplication())}getLoggedInStatus(){let C=!1;const E=this.updateStoreUsingActionService.getState().sender;return E&&E.isLoggedIn&&(C=!0),C}checkPayoutAvailableForIACH(){const C=this.updateStoreUsingActionService.getState(),A=W().get(C,"corridor.receiverCountry.isoCode")||"",E=window.sessionStorage.getItem("iAchReceiverConfig")?JSON.parse(window.sessionStorage.getItem("iAchReceiverConfig")):{},N=E&&(E[A]?E[A]:E.DEFAULT);return N&&Object.keys(N.FUND_OUT).length>0||!1}isTinkFundsInEnabled(C){let A;const E="true"===sessionStorage.getItem("isTinkFundsInEnabled"),N=this.isFeatureEnabled("IS_TINK_FUNDSIN_ENABLED",C);return this._store.pipe((0,x.Lt)(e.OC)).subscribe(_=>{A=_}),(E||N||A)&&!this.isHostedPartner()&&!this.isPPSApplication()}static#e=this.\u0275fac=function(A){return new(A||D)(K.KVO(o.k),K.KVO(V.O),K.KVO(x.il))};static#t=this.\u0275prov=K.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},94358:(n,d,t)=>{"use strict";t.d(d,{V:()=>M});var o=t(75194),e=t(8841),x=t(18456),$=t(95006),W=t(83921),K=t(34781),V=t(77202),P=t(47058),D=t(87801),f=t(1013),C=t(16619),A=t(65578),E=t(14421),N=t(78863),_=t(54438);let M=(()=>{class U{constructor(O,G,s,a,c,r,g,p,h){this.utilService=O,this.restMethod=G,this.urlService=s,this.paymentService=a,this.regexService=c,this.updateStoreUsingActionService=r,this.countryConfigService=g,this.dataService=p,this.baseRequestService=h,this.STORE_LOOKUP_METHOD="/partners/customers/lookup"}getHostedPartnerName(){return this.utilService.getURLParameter("partnerName")||this.utilService.getCookieStoreItem("partnerName")||null}getPartnerConfigValue(O){return this.getPartnerConfig(),this.partnerConfig?O&&"string"==typeof O?this.partnerConfig[O]:this.partnerConfig:null}isPriceQuoteEnabled(){try{if(this.getPartnerConfig(),!Object.keys(this.partnerConfig).length)return!1;const O=this.updateStoreUsingActionService.getState().sender,G=O?O.promoCode:null,{country:s}=this.partnerConfig,{isPriceQuoteEnabled:a}=this.partnerConfig,c=s&&D.v5.BYPASS_PRICE_QUOTE.indexOf(s.toLowerCase())>-1,r=this.dataService.getCurrentPageName();return!(!a||"TRUE"!==a.toUpperCase()||"send-money-option"!==r||G&&c)}catch(O){return console.error(`isPriceQuoteEnabled: ${O}`),!1}}noMoreTransactionCheck(){this.getPartnerConfig();const O=sessionStorage.getItem("completedNumberOfTrxn"),G=O?Number.parseInt(O):0,{noofallowedtrxn:s}=this.partnerConfig;return!(!s||!Number.parseInt(s))&&s<=G}getPartnerConfig(){this.partnerConfig=this.countryConfigService.getPartner()}retrievePartnerData(O){this.partnerCustomerData=O;const G=this.createJsonDataRetrieveRequest();return this.restMethod.POST("/data",G).pipe((0,e.M)(a=>{this.updateStoreUsingActionService.updateSessionId(this.partnerCustomerData.sessionId);const c=this.getPartnerDataStore();a.data&&a.data.hostedPayout&&a.data.hostedPayout.jsonString&&(this.partnerCustomerPayload=this.partnerPayloadStructureChange(JSON.parse(a.data.hostedPayout.jsonString)),c.retrieveResponseData=this.partnerCustomerPayload,this.updateStoreUsingActionService.updatePartnerPayloadData(c))}),(0,x.ZZ)(a=>(0,E.of)(a.error?a:this.partnerCustomerPayload)))}getPartnerDataStore(){return this.partnerCustomerData?{partnerName:this.partnerCustomerData.partnerName,partnerRequestId:this.partnerCustomerData.partnerRequestId?this.partnerCustomerData.partnerRequestId:this.partnerCustomerData.referenceId,partnerFlow:this.partnerCustomerData.partnerFlow,encryptedString:this.partnerCustomerData.encryptedString,partnerClientId:this.partnerCustomerData.partnerClientId?this.partnerCustomerData.partnerClientId:this.partnerCustomerData.client_id,partnerRedirectURI:this.partnerCustomerData.partnerRedirectURI?this.partnerCustomerData.partnerRedirectURI:this.partnerCustomerData.redirect_uri,partnerAccessToken:this.partnerCustomerData.partnerAccessToken?this.partnerCustomerData.partnerAccessToken:this.partnerCustomerData.access_token}:{}}createJsonDataRetrieveRequest(){let O;return O=this.partnerCustomerData.encryptedString?`${this.partnerCustomerData.encryptedString}:${this.partnerCustomerData.referenceId}`:this.partnerCustomerData.referenceId,{security:this.baseRequestService.getSecurity(),json_data:{type:"HOSTED_PAY_REQUEST"},token:O,country:this.urlService.getCountryFromURL().toUpperCase()}}partnerPayloadStructureChange(O){return O.actionFlag&&(O.actionFlag=Number(O.actionFlag)),O.sender&&O.sender.paymentInstruments&&(O.paymentDetails||(O.paymentDetails={}),O.paymentDetails.paymentInstrument=this.checkPaymentInstrument(O.sender.paymentInstruments)),O}checkPaymentInstrument(O){return O.bankAccounts&&(O.bankAccounts=this.checkBankAccounts(O.bankAccounts)),O.creditDebitCards&&(O.creditDebitCards=this.checkCreditDebitCards(O.creditDebitCards)),O}checkBankAccounts(O){for(let G=0;G<O.length;G++)O[G].id=100+G;return O}checkCreditDebitCards(O){for(let G=0;G<O.length;G++){const s=O[G];O[G].id=G+100;const a=this.regexService.generateWURegex();s.binNumber&&!s.cardType&&(O[G].cardType=this.paymentService.getCardType(s.binNumber,a)),(!O[G].cardType||"null"===O[G].cardType)&&(O[G].cardType="UNKNOWN")}return O}getStoreLookup(O){this.updateGenericErrorObj();const G=this.getStoreLookupBodyRequest(O);return this.restMethod.POST(this.STORE_LOOKUP_METHOD,G).pipe((0,$.T)(s=>{if(s&&!s.error){s.actionFlag=Number(s.actionFlag),s.email=s.sender&&s.sender.email;const a={partnerName:"",retrieveResponseData:""};a.partnerName=this.utilService.getCookieItem("partnerName"),a.retrieveResponseData=s;const c=this.updateStoreUsingActionService.getState().partnerData;return c&&c.retrieveResponseData&&c.retrieveResponseData.receiver&&(a.retrieveResponseData.receiver=c.retrieveResponseData.receiver),this.updateStoreUsingActionService.updatePartnerPayloadData(a),s}return this.updateErrorResponse(s)}),(0,W.W)(s=>this.updateErrorResponse(s)))}getStoreLookupBodyRequest(O){return{security:this.baseRequestService.getSecurity(),json_data:{jwt_token:O},country:this.urlService.getCountryFromURL().toUpperCase(),bashPath:this.baseRequestService.getBashPath()}}updateErrorResponse(O){if(O&&O.error)return this.updateGenericErrorObj(O),O;if(O&&O.indexOf("Http failure")>-1){const G={error:{code:"0",message:O}};return this.updateGenericErrorObj(G),(0,E.of)(G)}}updateGenericErrorObj(O){let G=null;O&&O.error&&(G={},G.errorCode=O.error.code,G.errorMessage=O.error.message),this.updateStoreUsingActionService.updatePageLevelNotification(G)}static#e=this.\u0275fac=function(G){return new(G||U)(_.KVO(V.a),_.KVO(o.R),_.KVO(N.Fq),_.KVO(A.P),_.KVO(P.Bj),_.KVO(K.k),_.KVO(P.qd),_.KVO(f.a),_.KVO(C.E))};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},56447:(n,d,t)=>{"use strict";t.d(d,{O:()=>o.O});var o=t(21148)},8117:(n,d,t)=>{"use strict";t.d(d,{E:()=>w});var o=t(64646),e=t(77202),x=t(66726),$=t(7605),W=t(95006),K=t(79928),V=t(45286),P=t(37486),D=t(93885),f=t(34781),C=t(67376),A=t.n(C),E=t(75194),N=t(16619),_=t(54438),M=t(32497),U=t(85717);let w=(()=>{class O{constructor(s,a,c,r,g,p,h){this._store=s,this.utilService=a,this._spinnerService=c,this.router=r,this.updateStore=g,this.restMethod=p,this.baseService=h,this.iachReceiverConfigData={},this.senderLimitACH=0,this.senderAmount=0,this.trustlyfastbank="",this.payOutOpt={},this.receiverCountryCode="",this.smvReq={},this.products=[],this.isSwitchPaymentType=!1,this.isAccessTokenValid=!1,this.isRedirectToSMOFromSMFlow=new K.t(!1),this.isDelaySMVAfterPreAuth=new K.t(!1),this.destroyed$=new V.B7,this.lightBoxEvent$=new V.B7,this._store.pipe((0,o.Lt)(x.fh),(0,$.Q)(this.destroyed$)).subscribe(l=>{this.iachReceiverConfigData=l,this.iachReceiverConfigData&&(this.senderLimitACH=this.iachReceiverConfigData.RTRA_IACH_LIMIT?this.iachReceiverConfigData.RTRA_IACH_LIMIT:0),this.iachReceiverConfigData&&this.getRcvrCountryConfigPayout(this.receiverCountryCode)}),this._store.pipe((0,o.Lt)(x.mz),(0,$.Q)(this.destroyed$)).subscribe(l=>{this.senderAmount=l}),this._store.pipe((0,o.Lt)(x.lw),(0,$.Q)(this.destroyed$)).subscribe(l=>{this.receiverCountryCode=l}),this._store.pipe((0,o.Lt)(x.l5),(0,$.Q)(this.destroyed$)).subscribe(l=>{this.smvReq=l}),this._store.pipe((0,o.Lt)(x.d$),(0,$.Q)(this.destroyed$)).subscribe(l=>{this.products=l}),this._store.pipe((0,o.Lt)(x.rb),(0,$.Q)(this.destroyed$)).subscribe(l=>{this.selectedProduct=l})}isIACHEnabledForLoginUser(){return!!(this.utilService.getLoggedInStatus()&&this.checkAmountAllowedForRealTime(this.senderAmount)&&this.utilService.isRealTimeACHEnabled()&&this.getwACHFlagStatus())}isTrustlyIACHEnabledForLoginUser(){return!(!(this.utilService.getLoggedInStatus()&&this.checkAmountAllowedForRealTime(this.senderAmount)&&this.utilService.isRealTimeACHviaTrustlyEnabled())||this.getwACHFlagStatus())}getRcvrCountryConfigPayout(s){const a=this.getReceiverCountryConfigData(s);return this.payOutOpt=a&&a.FUND_OUT,this.payOutOpt}showIACHInfoSMO(s,a,c){if(this.iachReceiverConfigData){this.getRcvrCountryConfigPayout(s),this.SMOTranslations=a;const r=this.getReceiverCountryConfigData(s);let g=this.SMOTranslations.iach_smo_info3;if(Object.keys(this.payOutOpt).length>0){const p=Object.keys(this.payOutOpt).length>1?this.SMOTranslations.iach_are:this.SMOTranslations.iach_is;let h="",l=0;return Object.keys(this.payOutOpt).forEach(S=>{0===l?h=this.SMOTranslations["iachPaoutTxt"+S]:l>=1&&l!==Object.keys(this.payOutOpt).length-1?h=h+this.SMOTranslations.iachComma+" "+this.SMOTranslations["iachPaoutTxt"+S]:l===Object.keys(this.payOutOpt).length-1&&Object.keys(this.payOutOpt).length>1&&(h=h+" "+this.SMOTranslations.iachAnd+" "+this.SMOTranslations["iachPaoutTxt"+S]),r.smoTrack===D.Y.iACHDelUsuallyRealTime&&(g=this.SMOTranslations.iach_smo_info2),l+=1}),(this.getwACHFlagStatus()?this.SMOTranslations.iach_smo_info1:c)+" "+h+" "+p+" "+g}}return""}showDisableIACHInfoSMO(s,a,c,r){if(this.iachReceiverConfigData&&(this.getRcvrCountryConfigPayout(s),this.SMOTranslations=a,Object.keys(this.payOutOpt).length>0)){let g="",p=0;return Object.keys(this.payOutOpt).forEach(h=>{0===p?g=this.SMOTranslations["iachPaoutTxt"+h]:p>=1&&p!==Object.keys(this.payOutOpt).length-1?g=g+this.SMOTranslations.iachComma+" "+this.SMOTranslations["iachPaoutTxt"+h]:p===Object.keys(this.payOutOpt).length-1&&Object.keys(this.payOutOpt).length>1&&(g=g+" "+this.SMOTranslations.iachAnd+" "+this.SMOTranslations["iachPaoutTxt"+h]),p+=1}),g=c+" "+g+" "+r,g}return""}checkAmountAllowedForRealTime(s){return s<=this.senderLimitACH}findBankDetailsUsingPaymentInstrumentId(s,a){return sessionStorage.getItem("selectedBankPaymentIdForTrustly")?s.find(r=>r.paymentInstrumentId===a)||null:s?.wallet?.bankAccounts?.bankAccount?.find(r=>r.paymentInstrumentId===a)||null}isACHTrustlyFeatureEnabledWithPayIn(s){return this.utilService.isRealTimeACHviaTrustlyEnabled()&&"iACH"===s}setIachBankSectionDisplay(s,a){a.forEach(c=>{c.nativeElement.style.display=s})}emitEvent(s,a){s.emit(a)}getIACHDeliverySpeed(s,a,c,r){const p=this.getReceiverCountryConfigData(r||this.receiverCountryCode);let h="";return(this.isIACHEnabledForLoginUser()||this.isTrustlyIACHEnabledForLoginUser())&&Object.keys(p).forEach(l=>{if(l===s)if(s!==P.Zr.AG){const v=Object.keys(p[s])[0];h=p[s][v].deliveryTime;const S=Object.keys(p[s]).indexOf(c)>-1;"/send-money/start"!==a&&c&&!S&&(h="")}else{const v=Object.keys(p[s])[0];h=p[s][v]}}),h}showRcvrLableForInstant(s,a,c){return!!(this.utilService.isRealTimeACHEnabled()&&this.getwACHFlagStatus()&&"ACH"===a||this.utilService.isRealTimeACHviaTrustlyEnabled()&&!this.getwACHFlagStatus()&&"iACH"===a)&&this.checkAPNConfigForiACH(s,a)&&this.checkAmountAllowedForRealTime(c)}iACHDisclaimer37(s,a,c){return this.getRcvrCountryConfigPayout(this.receiverCountryCode),"/send-money/start"===this.router.url?(this.isIACHEnabledForLoginUser()||this.isTrustlyIACHEnabledForLoginUser())&&this.checkAmountAllowedForRealTime(c):this.payOutOpt&&Object.keys(this.payOutOpt).indexOf(s)>-1&&this.checkFundInAllowedForRealTime(a,this.receiverCountryCode)&&(this.isIACHEnabledForLoginUser()&&a===P.mt.ACH||this.isTrustlyIACHEnabledForLoginUser()&&a===P.mt.iACH)}showInstantLogoOnFO(s){return!(!this.iachReceiverConfigData||!this.checkAmountAllowedForRealTime(this.senderAmount)||!this.isIACHEnabledForLoginUser()&&!this.isTrustlyIACHEnabledForLoginUser())&&(this.getRcvrCountryConfigPayout(this.receiverCountryCode),Object.keys(this.payOutOpt).indexOf(s)>-1)}showIACHInfoRcvr(s,a){this.getRcvrCountryConfigPayout(this.receiverCountryCode);let c="";const r=this.iachReceiverConfigData&&this.iachReceiverConfigData[this.receiverCountryCode],g=Object.keys(r[s]).length>1?a.iach_are:a.iach_is,p=r[s],h=[];let l="",v=0;Object.keys(p).forEach(m=>{0===v?(l+=p[m].name,h.push(p[m].deliveryTime)):v>=1&&v!==Object.keys(this.payOutOpt).length-1?(l=l+a.iachComma+" "+p[m].name,h.push(p[m].deliveryTime)):v===Object.keys(this.payOutOpt).length-1&&Object.keys(this.payOutOpt).length>1&&(l=l+" "+a.iachAnd+" "+p[m].name,h.push(p[m].deliveryTime)),v+=1});const S=h.indexOf(D.Y.iACHDelUsuallyRealTime)>-1?a.iach_smo_info2:a.iach_smo_info3;return c=a["iach-rcv-info1"]+" "+l+" "+g+" "+S,c}getIACHDeliverySpeedHistory(s,a,c){const g=this.getReceiverCountryConfigData(c||this.receiverCountryCode);let p="";return this.checkAmountAllowedForRealTime(this.senderAmount)&&Object.keys(g).forEach(h=>{if(h===s)if(s!==P.Zr.AG){const l=Object.keys(g[s])[0];p=g[s][l].deliveryTime}else{const l=Object.keys(g[s])[0];p=g[s][l]}}),p}getBankWalletNameString(s,a){const c=this.getReceiverCountryConfigData(this.receiverCountryCode),r=c&&c[s];let g=0,p="";return r&&Object.keys(r).forEach(h=>{0===g?p+=r[h].name:g>=1&&g!==Object.keys(this.payOutOpt).length-1?p=p+", "+r[h].name:g===Object.keys(this.payOutOpt).length-1&&Object.keys(this.payOutOpt).length>1&&(p=p+" "+a.iach_disclaimer_And+" "+r[h].name),g+=1}),p}showIACHInfoDisclaimer37(s,a,c){this.getRcvrCountryConfigPayout(this.receiverCountryCode);let r="",g="",p="",h="";const l=this.getReceiverCountryConfigData(this.receiverCountryCode),v=l&&l[s];let S="",m="",b="",Y="",R=0;if("/send-money/start"===this.router.url){if(0===R&&(g=a.iach_disclaimer_info1),Object.keys(l).indexOf(P.Zr.BA)){const k=this.getBankWalletNameString(P.Zr.BA,a);p=k?a.iach_disclaimer_info2+" "+k+". "+a.iach_disclaimer_info6+" "+k+" "+a.iach_disclaimer_inforcvr+" "+a.iach_disclaimer_info5+" "+a.iach_disclaimer_info1:""}if(Object.keys(l).indexOf(P.Zr.WA)){const k=this.getBankWalletNameString(P.Zr.WA,a);h=k?a.iach_disclaimer_info2+" "+k+". "+a.iach_disclaimer_info1:""}}return v&&"/send-money/start"!==this.router.url&&Object.keys(v).forEach(k=>{s!==P.Zr.AG||c!==P.mt.ACH&&!P.mt.iACH?Object.keys(this.payOutOpt).length>2&&s===P.Zr.BA?(S+=v[k].name,r=a.iach_disclaimer_info2+" "+S+". "+a.iach_disclaimer_info3+" "+a.iach_disclaimer_info5+" "+a.iach_disclaimer_info1):Object.keys(this.payOutOpt).length>2&&s===P.Zr.WA?(S=S+" "+v[k].name,r=a.iach_disclaimer_info2+" "+S+". "+a.iach_disclaimer_info1):0===R?S+=v[k].name:R===Object.keys(this.payOutOpt).length-1&&Object.keys(this.payOutOpt).length>1&&(S=S+" "+a.iach_disclaimer_And+" "+v[k].name,r=a.iach_disclaimer_info2+" "+S+". "+a.iach_disclaimer_info4+" "+a.iach_disclaimer_info5+" "+a.iach_disclaimer_info1):r=a.iach_disclaimer_info1,R+=1}),m=g?g+"<br/>":"",b=p?p+"<br/>":"",Y=h?h+"<br/>":"",r=r+m+b+Y}showIACHInfoDisclaimer37spanish(s,a,c){let r="",g=0,p="",h="",l="",v="";const S=this.iachReceiverConfig.FUND_OUT;s=sessionStorage.getItem("SelectedPayOutOption"),c=sessionStorage.getItem("SelectedPayInOption");const m={};if(this.getRTRALimitForInstantTransfer()&&this.iachReceiverConfig){const b=Object.keys(this.iachReceiverConfig[s])[0],Y=Object.keys(this.iachReceiverConfig[s])[1];r=this.iachReceiverConfig[s][b].name,Object.keys(this.iachReceiverConfig).forEach(function(R){"AG"!==s||"ACH"!==c&&"iACH"!==c?Object.keys(S).length>2&&"BA"===s?(h=a.iach_disclaimer_info2+" "+r+". "+a.iach_disclaimer_info3+" "+a.iach_disclaimer_info5+" "+a.iach_disclaimer_info1,l=a.iach_disclaimer_info2_en+" "+r+". "+a.iach_disclaimer_info3_en+" "+a.iach_disclaimer_info5_en+" "+a.iach_disclaimer_info1_en):Object.keys(S).length>2&&"WA"===s?(h=a.iach_disclaimer_info2+" "+r+". "+a.iach_disclaimer_info1,l=a.iach_disclaimer_info2_en+" "+r+". "+a.iach_disclaimer_info1_en):0===g?(l=r,h=r):Object.keys(S).length>1&&(p=r+" "+a.iach_disclaimer_And+" "+this.iachReceiverConfig[s][Y].name,v=r+" "+a.iach_disclaimer_And_en+" "+this.iachReceiverConfig[s][Y].name,h=a.iach_disclaimer_info2+" "+p+". "+a.iach_disclaimer_info4+" "+a.iach_disclaimer_info5+" "+a.iach_disclaimer_info1,l=a.iach_disclaimer_info2_en+" "+v+". "+a.iach_disclaimer_info4_en+" "+a.iach_disclaimer_info5_en+" "+a.iach_disclaimer_info1_en):(h=a.iach_disclaimer_info1,l=a.iach_disclaimer_info1_en),g+=1})}return m.es=h,m.en=l,m}showIACHDisclaimer37Spanish(s,a,c){this.getRcvrCountryConfigPayout(this.receiverCountryCode);let r="",g="",p="",h="",l="",v="",S="";const m=this.getReceiverCountryConfigData(this.receiverCountryCode),b=m&&m[s];let Y="",R="",k="",L="",y="",I="",T=0,te="",Z="",de="";if("/send-money/start"===this.router.url){if(0===T&&(g=a.iach_disclaimer_info1),Object.keys(m).indexOf(P.Zr.BA)){const oe=this.getBankWalletNameString(P.Zr.BA,a);p=oe?a.iach_disclaimer_info2+" "+oe+". "+a.iach_disclaimer_info6+" "+oe+" "+a.iach_disclaimer_inforcvr+" "+a.iach_disclaimer_info5+" "+a.iach_disclaimer_info1:""}if(Object.keys(m).indexOf(P.Zr.WA)){const oe=this.getBankWalletNameString(P.Zr.WA,a);h=oe?a.iach_disclaimer_info2+" "+oe+". "+a.iach_disclaimer_info1:""}if(0===T&&(l=a.iach_disclaimer_info1_en),Object.keys(m).indexOf(P.Zr.BA)){const oe=this.getBankWalletNameString(P.Zr.BA,a);v=oe?a.iach_disclaimer_info2_en+" "+oe+". "+a.iach_disclaimer_info6_en+" "+oe+" "+a.iach_disclaimer_inforcvr_en+" "+a.iach_disclaimer_info5_en+" "+a.iach_disclaimer_info1_en:""}if(Object.keys(m).indexOf(P.Zr.WA)){const oe=this.getBankWalletNameString(P.Zr.WA,a);S=oe?a.iach_disclaimer_info2_en+" "+oe+". "+a.iach_disclaimer_info1_en:""}}return b&&"/send-money/start"!==this.router.url&&Object.keys(b).forEach(oe=>{s!==P.Zr.AG||c!==P.mt.ACH&&!P.mt.iACH?Object.keys(this.payOutOpt).length>2&&s===P.Zr.BA?(Y+=b[oe].name,r=a.iach_disclaimer_info2+" "+Y+". "+a.iach_disclaimer_info3+" "+a.iach_disclaimer_info5+" "+a.iach_disclaimer_info1+"<br/><br/>"+a.iach_disclaimer_info2_en+" "+Y+". "+a.iach_disclaimer_info3_en+" "+a.iach_disclaimer_info5_en+" "+a.iach_disclaimer_info1_en+"<br/>"):Object.keys(this.payOutOpt).length>2&&s===P.Zr.WA?(Y=Y+" "+b[oe].name,r=a.iach_disclaimer_info2+" "+Y+". "+a.iach_disclaimer_info1+"<br/><br/>"+a.iach_disclaimer_info2_en+" "+Y+". "+a.iach_disclaimer_info1_en+"<br/>"):0===T?Y+=b[oe].name:T===Object.keys(this.payOutOpt).length-1&&Object.keys(this.payOutOpt).length>1&&(k=Y+" "+a.iach_disclaimer_And+" "+b[oe].name,R=Y+" "+a.iach_disclaimer_And_en+" "+b[oe].name,r=a.iach_disclaimer_info2+" "+k+". "+a.iach_disclaimer_info4+" "+a.iach_disclaimer_info5+" "+a.iach_disclaimer_info1+"<br/><br/>"+a.iach_disclaimer_info2_en+" "+R+". "+a.iach_disclaimer_info4_en+" "+a.iach_disclaimer_info5_en+" "+a.iach_disclaimer_info1_en+"<br/>"):r=a.iach_disclaimer_info1+" <br/><br/>"+a.iach_disclaimer_info1_en+"<br/>",T+=1}),L=g?g+"<br/>":"",y=p?p+"<br/>":"",I=h?h+"<br/>":"",te=l?l+"<br/>":"",Z=v?v+"<br/>":"",de=S?S+"<br/>":"",r=r+L+y+I+"<br/>"+te+Z+de}checkAPNConfigForiACH(s,a){return this.getRcvrCountryConfigPayout(this.receiverCountryCode),Object.keys(this.payOutOpt).indexOf(s)>-1&&s!==P.Zr.AG&&this.checkFundInAllowedForRealTime(a,this.receiverCountryCode)}checkIfRealTime(s,a,c,r){const p=this.getReceiverCountryConfigData(r||this.receiverCountryCode);let h=!1;return p&&(p[a]&&s&&Object.keys(p[a]).indexOf(s)>-1||a===P.Zr.AG)&&Object.keys(p.FUND_IN).indexOf(c)>-1&&this.checkAmountAllowedForRealTime(this.senderAmount)&&(h=!0),this.updateStore.updateApnAllowInstance(h),h}apnDiscForSelectedBankWallet(s,a,c){const r=this.getReceiverCountryConfigData(this.receiverCountryCode);return!s&&!(!r||!r[c])&&(this.isIACHEnabledForLoginUser()&&"ACH"===a||this.isTrustlyIACHEnabledForLoginUser()&&"iACH"===a)&&r&&Object.keys(r.FUND_IN).indexOf(a)>-1}checkConfigForiACHDisableTile(s,a,c){const r=this.receiverCountryCode?this.receiverCountryCode:c;return this.getRcvrCountryConfigPayout(r),Object.keys(this.payOutOpt).indexOf(s)>-1&&this.checkFundInAllowedForRealTime(a,r)}getwACHFlagStatus(){const s=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}");return s&&s.wACH}checkFundInAllowedForRealTime(s,a){const c=a?.toUpperCase(),r=this.getReceiverCountryConfigData(c);return!!r&&r&&Object.keys(r.FUND_IN).indexOf(s)>-1}checkPayoutAvailableForIACH(){const s=this.getReceiverCountryConfigData(this.receiverCountryCode);return Object.keys(s.FUND_OUT).length>0}isShowSMOLabel(){return(this.isIACHEnabledForLoginUser()||this.isTrustlyIACHEnabledForLoginUser())&&this.checkPayoutAvailableForIACH()}shouldShowInstantIconOnACH(){return this.isIACHEnabledForLoginUser()&&this.checkPayoutAvailableForIACH()}shouldShowInstantIconOnIACH(){return this.isTrustlyIACHEnabledForLoginUser()&&this.checkPayoutAvailableForIACH()}shouldNavigateToSMO(s,a){const c=this.getReceiverCountryConfigData(this.receiverCountryCode),g=!(!c||!c[s])&&!this.getwACHFlagStatus()&&this.checkFundInAllowedForRealTime(a,this.receiverCountryCode)&&this.checkAmountAllowedForRealTime(this.senderAmount);return g&&this.isRedirectToSMOFromSMFlow.next(!0),g}getReceiverCountryConfigData(s){return this.iachReceiverConfigData&&(this.iachReceiverConfigData[s]?this.iachReceiverConfigData[s]:this.iachReceiverConfigData.DEFAULT)}isUpdatePaymentAndCallSmv(s,a){const c="Y"===A().get(a,"payment_details.achSpeed");this.isSwitchPaymentType=!1;let r=!1;A().get(this.smvReq,"payment_details.is_apn_allow_instance")&&!A().get(this.smvReq,"wACH")&&A().get(this.smvReq,"payment_details.payment_method.payment_type")===P.mt.iACH&&(A().get(a,"wACH")||!A().get(a,"wACH")&&!c)&&(r=!0),A().get(this.smvReq,"payment_details.is_apn_allow_instance")&&this.getwACHFlagStatus()&&!a.wach&&!c&&A().get(this.smvReq,"payment_details.payment_method.payment_type")===P.mt.iACH&&(r=!0);let g=!1;return"/receiver"===this.router.url&&(g=!0),(r||g)&&(sessionStorage.setItem("SelectedPayInOption",s),this.isSwitchPaymentType=!0),this.isSwitchPaymentType}getlightBoxEvent(){return this.lightBoxEvent$.asObservable()}setlightBoxEvent(s){this.lightBoxEvent$.next(s)}onInstantTransferLoaded(){return this.iachReceiverConfigData}getRTRALimitForInstantTransfer(){const s=this.iachReceiverConfigData.RTRA_IACH_LIMIT?this.iachReceiverConfigData.RTRA_IACH_LIMIT:0;return Number(this.selectedProduct?.origination?.principalAmount)/100<=s}checkPayInAllowedForInstant(){const s=this.getReceiverCountryConfigData(this.receiverCountryCode);return s&&Object.keys(s.FUND_IN).indexOf(this.selectedProduct?.payIn)>-1}isUpdatedReducedSpeedApplicable(s,a,c){const r=this.getReceiverCountryConfigData(this.receiverCountryCode),g=!(!r||!r?.[s.payOut]);return!(!(this.utilService.getLoggedInStatus()&&this.getwACHFlagStatus()&&this.checkAmountAllowedForRealTime(this.senderAmount)&&s.payIn===P.mt.ACH&&a!==c)||g)}isReducedSpeedApplicable(s){return!!(this.utilService.isReduceDeliveryEnabled()&&this.utilService.getLoggedInStatus()&&this.getwACHFlagStatus()&&this.checkAmountAllowedForRealTime(this.senderAmount)&&s.payIn===P.mt.ACH)}getPayGroup(s,a,c){const r=A().find(s,{service:a});if(r){const g=A().find(r.pay_groups,{fund_in:c});if(g)return g}}updateReducedSpeed(s){const a=A().includes(s.fund_out_speed,"-")?A().last(A().split(s.fund_out_speed,"-")):s.fund_out_speed,r=A().includes(s.speed_indicator,"-")||"0"!==s.fund_in_speed?`0-${a}`:a;return"0"===r||"0-0"===r?"0":r}isUpgradeACtoIAAndCallSmv(s,a){return!(a.wACH||"Y"!==a.payment_details.achSpeed||!this.getwACHFlagStatus())}GetDeliverySpeedVal(s,a,c,r){let g="";if(c&&"0"===s)g=a.summarwidget.sepa_same_banking_day;else if(r&&"200"===r.code&&"0"===s)g=a.summarwidget.card_delivery_text;else if("0"===s)g=a.summarwidget.inminutestext;else if(s.includes("-")){const p=s.trim().split("-");g=p[0]+" "+a.summarwidget.to_label_text+" "+p[1]+" "+a.summarwidget.businessdaystext}else g=s+" "+a.summarwidget.businessdaystext;return g}startDynamicSpinner(){this.isDelaySMVAfterPreAuth.next(!0),this._spinnerService.startCall()}stopDynamicSpinner(){this.isDelaySMVAfterPreAuth.next(!1),this._spinnerService.endCall()}checkNavToCYPforTrustlyRealTime(s){return!(s!==P.mt.ACH&&s!==P.mt.iACH||!this.utilService.isRealTimeACHviaTrustlyEnabled()||(sessionStorage.setItem("redirectedForTrustlyIACH","true"),0))}hasSplitTokenOrTransactionID(s){const a=JSON.parse(sessionStorage.getItem("app")),c=A().get(a,"banksData");let r={};c.forEach(h=>{h.paymentInstrumentId===A().get(s,"bankAccounts.bankAccount[0].paymentInstrumentId")&&(r=h)});let g="";return g=A().get(r,"transactionId")?A().get(r,"accessToken")?"available":"not_available":"manual_bank",{selectedBankData:r,tokenStatus:g}}getGwpPreAuth(s,a){return this.restMethod.POST("/GwpPreAuth",this.getGwpPreAuthRequest(s,a),"","","",!0,"").pipe((0,W.T)(r=>r))}getGwpPreAuthRequest(s,a){const c=JSON.parse(sessionStorage.getItem("app")),r=s,g=A().get(a,"receiver.wallet.bankAccounts.bankAccount[0].accountNumber"),p="500"===A().get(a,"wuProduct.code")?g.substr(g.length-4):"0000";return{locale:{country_code:A().get(a,"paymentDetails.origination.countryIsoCode")},transactionId:A().get(r,"transactionId"),merchantReference:A().get(c,"merchantID"),splitToken:A().get(r,"accessToken"),amount:(A().get(a,"paymentDetails.origination.principalAmount")/100).toFixed(2).toString(),countryCorridor:A().get(a,"paymentDetails.origination.countryIsoCode"),withdrawalMethod:A().get(a,"wuProduct.code"),accountLastFour:p,beneficiaryName:A().get(a,"receiver.name.firstName"),beneficiaryCountry:A().get(a,"paymentDetails.destination.countryIsoCode"),paymentType:"Deferred",currency:A().get(a,"paymentDetails.origination.currencyIsoCode"),security:this.baseService.getSecurity()}}getTransactionId(s){let a="";const c=JSON.parse(sessionStorage.getItem("app")),r=A().get(c,"banksData");let g={};return r.forEach(p=>{p.paymentInstrumentId===s&&(g=p)}),a=A().get(g,"transactionId"),a}checkPrevSelectionFromInterstitial(){const s="true"===sessionStorage.getItem("trustlySelectionPopUpOpened"),a="true"===sessionStorage.getItem("isSeletedACHDelvFromPopUp"),c="true"===sessionStorage.getItem("isACtoIAconverted");return s||a||c}isAPIError(s){return!("C9791"===s||"C9792"===s)}shouldUpdateIAtoAC(s,a,c){const r=!0===s,g="Y"===a;return!("true"===sessionStorage.getItem("firstPRDCalledFromIAtoAC")||"iACH"!==c||!r&&(r||g))}static#e=this.\u0275fac=function(a){return new(a||O)(_.KVO(o.il),_.KVO(e.a),_.KVO(M.D),_.KVO(U.Ix),_.KVO(f.k),_.KVO(E.R),_.KVO(N.E))};static#t=this.\u0275prov=_.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},56918:(n,d,t)=>{"use strict";t.d(d,{k:()=>D});var o=t(10467),e=t(21626),x=t(78863),$=t(77202),W=t(95006),K=t(83921),V=t(54438),P=t(1059);let D=(()=>{class f{constructor(A,E,N,_){this.http=A,this.utilService=N,this.urlService=_,this.currentSendCountryCode="",this.currentLanguageCode="",this.wcToCampaignFlag=!1,this.alreadyAvailedFlag=!1;const M=E.getCountryLanguage();M&&(this.currentLanguageCode=M.language,this.currentSendCountryCode=M.country)}isAmazonGCActive(A,E){var N=this;return(0,o.A)(function*(){if(N.checkCampaignConditions(A)){const _=JSON.parse(N.utilService.getSessionStorageItem("amazonCampaignConfig"));if(A){if(A){let M=yield N.gcGetUserCount().toPromise();"success"===M.status?M.userCount<=_.count?yield N.gcCheckUser().toPromise().then(U=>{M=U,"success"===M.status?(!0===M.isUserExists?(sessionStorage.setItem("amazonGC2018CampaignActive","false"),N.alreadyAvailedFlag=!0):!1===M.isUserExists&&(sessionStorage.setItem("amazonGC2018CampaignActive","true"),N.alreadyAvailedFlag=!1),sessionStorage.setItem("amazonGC2018CampaignMsgShown","true")):console.error("Error in gc check user: Response Status="+M.status)}):sessionStorage.setItem("amazonGC2018CampaignActive","false"):console.error("Error in gc get user count: Response Status="+M.status)}}else yield N.gcGetUserCount().toPromise().then(M=>{"success"===M.status?M.userCount<=_.count?(sessionStorage.setItem("amazonGC2018CampaignActive","true"),N.wcToCampaignFlag=!0):(sessionStorage.setItem("amazonGC2018CampaignActive","false"),N.wcToCampaignFlag=!1):console.error("Error in gc get user count: Response Status="+M.status)})}})()}gcGetUserCount(){sessionStorage.getItem("amazonCampaignConfig");const N="getcount?platform="+this.getConfiguration().platform+"&applicationName="+this.getConfiguration().applicationName+"&country="+this.currentSendCountryCode.toLowerCase()+"&language="+this.currentLanguageCode.toLowerCase()+"&campaignId="+sessionStorage.getItem("campaign_name")+"&apikey="+this.getConfiguration().apigeeConnect,M={headers:new Headers({Accept:"application/json"})};return this.http.get(this.getConfiguration().baseURL+N,M).pipe((0,W.T)(U=>U),(0,K.W)(U=>(console.error("Handling error locally and rethrowing it...",U),this.errorCallback(U,"[getcount API Failed from Server]"),U)))}gcCheckUser(){const A={platform:this.getConfiguration().platform,applicationName:this.getConfiguration().applicationName,country:this.currentSendCountryCode.toLowerCase(),language:this.currentLanguageCode.toLowerCase(),userId:sessionStorage.getItem("AccountNumber"),campaignId:sessionStorage.getItem("campaign_name"),apiKey:this.getConfiguration().apigeeConnect},E="gcsearchuser?apikey="+this.getConfiguration().apigeeConnect;let N=new e.Lr;return N=N.set("Accept","application/json"),this.http.post(this.getConfiguration().baseURL+E,JSON.stringify(A),{headers:N}).pipe((0,W.T)(_=>_),(0,K.W)(_=>(console.error("Handling error locally and rethrowing it...",_),this.errorCallback(_,"[gcsearchuser API Failed from Server]"),_)))}errorCallback(A,E){console.error(A.status+E)}getConfiguration(){return{platform:"web",applicationName:"wucom",apigeeConnect:"79kGxA8lcMHNFxZq0oiZ2tjra6LBNLRw",baseURL:JSON.parse(this.utilService.getSessionStorageItem("amazonCampaignConfig")).url}}checkIfDateInRange(){const A=JSON.parse(this.utilService.getSessionStorageItem("amazonCampaignConfig")),E=new Date,N=new Date(A.startDate).getTime(),_=new Date(A.endDate).getTime(),M=E.getDate(),U=E.getMonth(),w=E.getFullYear(),O=new Date(U+1+"/"+M+"/"+w).getTime();return O>=N&&O<=_}checkCampaignConditions(A){const E=this.utilService.getSessionStorageItem("amazonCampaignConfig");if(E){const N=JSON.parse(E);let _=null,M=!1;return N&&(_=N.amazonGC2018CampaignFlag),A?M=sessionStorage.getItem("amazonGC2018CampaignActive")&&"true"===sessionStorage.getItem("amazonGC2018CampaignActive"):(M=this.urlService.getUrlParameterValue("campaign_name")&&this.urlService.getUrlParameterValue("campaign_name")===N.campaignName,M&&(window.sessionStorage.setItem("campaign_name",N.campaignName),_&&"enabled"===_&&window.sessionStorage.setItem("AmazonGC2018Src",N.campaignName))),M&&this.isLoginUSEnglish()&&_&&"enabled"===_&&this.checkIfDateInRange()}return!1}isLoginUSEnglish(){const A=this.currentLanguageCode.toLowerCase(),E=this.currentSendCountryCode.toLowerCase();return!(!A||!E||"EN"!==A.toUpperCase()||"US"!==E.toUpperCase())}static#e=this.\u0275fac=function(E){return new(E||f)(V.KVO(e.Qq),V.KVO(x.Fq),V.KVO($.a),V.KVO(P.k))};static#t=this.\u0275prov=V.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},20146:(n,d,t)=>{"use strict";t.d(d,{J:()=>f});var o=t(45168),e=t(74526),x=t(95006),$=t(83921),W=t(47058),K=t(78863),V=t(3902),P=t(54438),D=t(35900);let f=(()=>{class C{constructor(E,N,_,M){this.templateService=E,this.urlService=N,this.featureFlagService=_,this.logger=M}getGlobalCollectIdTemplate(){return this.collectidUrl=o.y.globalcollectidTemplateUrl.dcaasUrl,this.templateService.getTemplate(this.collectidUrl,this.getTemplateRequest()).pipe((0,x.T)(E=>E),(0,$.W)(E=>(0,e.$)(E.message||E)))}getTemplateRequest(){const E={origination:this.urlService.getCountryFromURL().toUpperCase(),language:this.urlService.getLanguageFromURL()};return this.logger.info("globalcollectid template is called for",[E]),E}static#e=this.\u0275fac=function(N){return new(N||C)(P.KVO(W.IK),P.KVO(K.Fq),P.KVO(V.y),P.KVO(D.so))};static#t=this.\u0275prov=P.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},17742:(n,d,t)=>{"use strict";t.d(d,{q:()=>V});var o=t(64646),e=t(93885),x=t(66726),$=t(34781),W=t(9325),K=t(54438);let V=(()=>{class P{constructor(f,C,A){this._store=f,this.updateStore=C,this.fundsInUtilService=A,this._store.pipe((0,o.Lt)(x.T7)).subscribe(E=>{this.countryConfig=E})}getCC(){const f=this.updateStore.getState();return this.countryConfig=f?.countryConfig,this.countryConfig}matchCountryForNameChange(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.countryListForDigitalNameChange.toUpperCase()||"true"===sessionStorage.getItem("isEditReceiverNameEnabled")}getDigitalCancelTransfer(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.countryListForDigitalCancel.toUpperCase()||this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.cancelOnly.toUpperCase()}isInHouseRedeemMyWU(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.InHouseRedeemMyWU.toUpperCase()}getEnablePdfDownload(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.enablePdfDownload.toUpperCase()}getMinRedeemablePoint(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.minRedeemablePoint}getWUPayType(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.WUPayType}getCurrencyCode(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.currency.code}getMyWuWidget(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.myWUWidget.toUpperCase()}getDigitallyVerified(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.digitallyVerified.toUpperCase()}getDefaultReceiver(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.defaultReceiverCountry}getRegion(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.region}getPartnerUrl(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.partner.returnurl}getPartner(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.partner}isFundsInOptionsTabEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isFundsInOptionsTabEnabled}getFMAVerification(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.FMAVerification}isRiskifiedEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC()&&"TRUE"===this.getCC().ConfigTemplate.isRiskifiedEnabled}getAirEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC()&&"TRUE"===this.getCC().ConfigTemplate?.isAIREnabled?.toUpperCase()}getDirectedServiceEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isDirectedServiceEnabled}getAIRHistoryEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.isAIRHistoryEnabled&&"TRUE"===this.getCC().ConfigTemplate.isAIRHistoryEnabled.toUpperCase()}isA2AValid(){try{return"TRUE"===this.getCC().ConfigTemplate.isA2A.toUpperCase()}catch{return!1}}isUseCasePromoEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.UseCasePromo.toUpperCase()}isNewBillPayRetailEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isNewBillPayRetailEnabled.toUpperCase()}isDisablePromoEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.disablePromo.toUpperCase()}isSetJustOneCardMethod(){return!!(this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.partner&&this.getCC().ConfigTemplate.partner.oneTypeCard)&&"TRUE"===String(this.getCC().ConfigTemplate.partner.oneTypeCard).toUpperCase()}showCreditCardWarning(){return!!this.getCC()&&"TRUE"===this.getCC().ConfigTemplate.showCreditCardWarning.toUpperCase()}getDisableFields(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.disableFields.toUpperCase()}isSaveOverCreditEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isSaveOverCreditEnabled.toUpperCase()}isInlineRedeemMyWU(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.InlineRedeemMyWU.toUpperCase()}isRemovePromoFlag(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.removePromo.toUpperCase()}getEarlySendMoneyValidation(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.earlySendMoneyValidation}getUnverifiedSmoLookupOnly(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.unverifiedSmoLookupOnly}getPhoneVerification(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.PhoneVerification&&"TRUE"===this.getCC().ConfigTemplate.PhoneVerification.toUpperCase()}isHyperBandEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isHyperbandEnabled}isRetail(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isRetail}is3DSv2Enabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.is3DSv2}isFMATransactInProgress(){return"FALSE"!==this.getCC()?.ConfigTemplate?.fmaTransactInProgress}isAirPayoutAGEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.airPayoutAGEnabled}isAirPayoutBAEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.airPayoutBAEnabled}isAppboyEnabled(){return"TRUE"===this.getCC()?.ConfigTemplate?.isAppboyEnabled?.toUpperCase()&&"enable"===sessionStorage.getItem("appboySwitch")}redirectToProfileOnLimitError(){return this.getCC().ConfigTemplate.redirectToProfileOnLimitError&&"TRUE"===this.getCC().ConfigTemplate.redirectToProfileOnLimitError}newGlobalCollectId(){return this.getCC().ConfigTemplate.newGlobalcollectId&&"TRUE"===this.getCC().ConfigTemplate.newGlobalcollectId}isNewBillPayEnabled(){return this.getCC().ConfigTemplate.isNewBillPayEnabled&&"TRUE"===this.getCC().ConfigTemplate.isNewBillPayEnabled}ediValidationRule(){return this.getCC().ConfigTemplate.ediValidationRule&&"TRUE"===this.getCC().ConfigTemplate.ediValidationRule}getDateFormat(){return this.getCC()&&this.getCC().ConfigTemplate.dateFormat?this.getCC().ConfigTemplate.dateFormat:null}getGsiDateFormat(){return this.getCC()?.ConfigTemplate?.gsiDateFormat||null}getDateProtocol(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().countryConfig.ConfigTemplate.dateProtocol||""}isStateServiceFPEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isStateServiceFPEnabled}isRegisterCustomerV2Enabled(){return!!sessionStorage.getItem("isPromoPricingEnabled")||this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isRegisterCustomerV2Enabled}isCustomerSignOnV2Enabled(){return!!sessionStorage.getItem("isPromoPricingEnabled")||this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isCustomerSignOnV2Enabled}getCardType(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.cards}isPromoPricingEnabled(){return!!sessionStorage.getItem("isPromoPricingEnabled")||this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isPromoPricingEnabled}isPriceEstimateEnabled(){return!!sessionStorage.getItem("isPriceEstimateEnabled")||this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isPriceEstimateEnabled}isGetLimitsV2Enabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isGetLimitsV2Enabled}isCancelOnly(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.cancelOnly&&"TRUE"===this.getCC().ConfigTemplate.cancelOnly.toUpperCase()}isFilterTransactionsEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isFilterTransactionsEnabled}getUseCasePromoList(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.useCasePromoList}isPaymentInstructions(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.showPaymentInstructionsOnHistory}isEditAndResendDisable(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isEditAndResendDisable.toUpperCase()}showAdditionalWuPayDetails(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.showAdditionalWuPayDetails}showPaymentInstructionsOnHistory(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.showPaymentInstructionsOnHistory}getCountry(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC()?.ConfigTemplate.country}isSenderRedirect(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.sender_redirect}isStaticPartnerBannerForLimits(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.staticBannerForLimits}isevProfileConfirmation(){return this.getCC().ConfigTemplate.isevProfileConfirmation&&"TRUE"===this.getCC().ConfigTemplate.isevProfileConfirmation.toUpperCase()}isProgressiveRegistration(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isProgressiveRegistrationFlow&&"true"===sessionStorage.getItem("isProgressiveRegEnabled")||e.Y.CONST_PROGRESSIVE_REGISTRATION_CONTRIES.COUNTRIES.indexOf(this.getCC().ConfigTemplate.country)>-1}showBillingAddress(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.billingAddress&&"TRUE"===this.getCC().ConfigTemplate.billingAddress}isDebitCardEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.isDebitCardEnabled&&"TRUE"===this.getCC().ConfigTemplate.isDebitCardEnabled.trim().toUpperCase()||this.fundsInUtilService.isDebitCardFundsInEnabled(this.getCountry())}isPWMBToBeDisabledForPartner(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.partner&&this.getCC().ConfigTemplate.partner.disablePWMB&&"TRUE"===this.getCC().ConfigTemplate.partner.disablePWMB.trim().toUpperCase()}isVerificationPopupEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.enableVerificationPopup&&"TRUE"===this.getCC().ConfigTemplate.enableVerificationPopup}doZDA(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isDoZdaEnabled}speedIndicatorForACH(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.speedIndicatorForACH}getMinHbandLimit(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.minHbandLimit?parseFloat(this.getCC().ConfigTemplate.minHbandLimit):""}isParamountEnabled(){return"TRUE"===this.getCountryConfig("isParamountEnabled")}getCountryConfig(f){return f?this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate[f]:this.getCC().ConfigTemplate}isCollectIdModuleEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.CollectId.module}isKycVerificationEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.KYCVerification}isCancelTransaction(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.cancelOnly&&"TRUE"===this.getCC().ConfigTemplate.cancelOnly.toUpperCase()}isRAFEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.isRAFOptInn&&"TRUE"===this.getCC().ConfigTemplate.isRAFOptInn.toUpperCase()}getMyWuEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.mywuEnabled&&"TRUE"===this.getCC().ConfigTemplate.mywuEnabled.toUpperCase()}getPartnerConfigValue(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.partner&&this.getCC().ConfigTemplate.partner.collectSDQ&&"TRUE"===this.getCC().ConfigTemplate.partner.collectSDQ}isAffidavitModuleEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.affidavitPage&&"TRUE"===this.getCC().ConfigTemplate.affidavitPage.toUpperCase()}isCollectIdPEPEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.CollectId&&this.getCC().ConfigTemplate.CollectId.pep&&"TRUE"===this.getCC().ConfigTemplate.CollectId.pep}isCollectIdSDQEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.CollectId&&this.getCC().ConfigTemplate.CollectId.sdq&&"TRUE"===this.getCC().ConfigTemplate.CollectId.sdq}isCollectIdCustomDucEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.isCustomDucEnabled&&"TRUE"===this.getCC().ConfigTemplate.isCustomDucEnabled.toUpperCase()}isGuestFlow(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.enableGuestLogin&&"TRUE"===this.getCC().ConfigTemplate.enableGuestLogin.toUpperCase()}getMaskInput(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.maskInput&&"TRUE"===this.getCC().ConfigTemplate.maskInput.toUpperCase()}isUPIEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isUPIEnabled}isKYCConfigEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isKYCConfigEnabled}getNavigateWithIdStatus(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.navigateWithIdStatus}getHideTransferFeeSuperscript(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.hideTransferFeeSuperscript}getAddCard(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.paymentPreference&&this.getCC().ConfigTemplate.paymentPreference.addCard&&"TRUE"===this.getCC().ConfigTemplate.paymentPreference.addCard.toUpperCase()}getReceiverRedirect(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.receiver_redirect&&"TRUE"===this.getCC().ConfigTemplate.receiver_redirect.toUpperCase()}getCardConsent(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC()?.ConfigTemplate?.cardConsent||{}}showInlineRegistrationMessage(){return this.getCC()&&this.getCC().ConfigTemplate&&this.getCC().ConfigTemplate.partner&&"TRUE"===this.getCC().ConfigTemplate.partner.showInlineRegistrationMessage}isZumigoEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isZumigoEnabled}getSendReceiverTimerSeconds(){return sessionStorage.getItem("getSendReceiverTimerSeconds")}hideTransferFeeSuperscript(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.partner.hideTransferFeeSuperscript}isCustomDucEnabled(){return this.getCC()&&this.getCC().ConfigTemplate&&"TRUE"===this.getCC().ConfigTemplate.isCustomDucEnabled}isCountryEnabledForNameChange(){return"TRUE"===this.getCC()?.ConfigTemplate?.countryListForNameChange}isCashPickupEnabled(){return"TRUE"===this.getCC()?.ConfigTemplate?.enableCashPickUpAir?.toUpperCase()}getShowNewTat(){return"TRUE"===this.getCC()?.ConfigTemplate?.showNewTat?.toUpperCase()}getPartnerTokenPublicKey(){return this.getCC()?.ConfigTemplate?.partner?.tokenPublicKey}getPartnerMerchantId(){return this.getCC()?.ConfigTemplate?.partner?.merchantId}static#e=this.\u0275fac=function(C){return new(C||P)(K.KVO(o.il),K.KVO($.k),K.KVO(W.B))};static#t=this.\u0275prov=K.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},34852:(n,d,t)=>{"use strict";t.d(d,{g:()=>s});var o=t(10467),e=t(95006),x=t(83921),$=t(54438),W=t(67376),V=t(37486),P=t(92079),D=t(1027),f=t(31310),C=t(93885),A=t(87801),E=t(74526),N=t(34781),_=t(78863),M=t(15070),U=t(3902),w=t(21626),O=t(2490),G=t(79817);let s=(()=>{class a extends P.w{constructor(r,g,p,h,l,v,S,m){super(),this.http=r,this.smoConfig=g,this._stageAndPayService=p,this.cookieService=h,this.updateStoreUsingActionService=l,this.transferStateService=v,this.readURLService=S,this.featureFlagService=m,this.cityPostReq={origination:"us",language:"en",lists:[{name:"MEX_CITYSTATE_LIST",type:"state"}],bashpath:"/us/en"},this.countryUrlEndpoint="/megatron/list.optimus.json",this.hostUrl=this.readURLService.getDomainUrl(),this.hostUrl.includes("localhost")&&(this.hostUrl=C.Y.optimusServiceHost),this.countryUrl=`https://${this.hostUrl}${this.countryUrlEndpoint}`,this.countryCode=this.smoConfig._getCountryIsoFromURL().toLowerCase(),this.languageCode=this.smoConfig.getLanguageFromURL(),this.basePath="/"+this.countryCode+"/"+this.languageCode,this.getPartnerName=this.cookieService.get(C.Y.partnerName)?this.cookieService.get(C.Y.partnerName):sessionStorage.getItem(C.Y.partnerName),this.isHostedPartner=!(!this.getPartnerName||-1===C.Y.HOSTED_PARTNERS.indexOf(this.getPartnerName))}getCountryReqBody(){const r=JSON.parse(sessionStorage.getItem(M.d.TERRITORY_SWITCH)||"false"),g=sessionStorage.getItem(M.d.TERRITORY_COUNTRY),p=!r||W.isUndefined(g)||W.isNull(g)||W.isEmpty(g)?this.countryCode:g,l=this.isHostedPartner&&this.getPartnerName===C.Y.LBP_PARTNER;let v=C.Y.COUNTRY_LIST,S=C.Y.TOP_COUNTRIES;const m=C.Y.SENDER_COUNTRIES;return this.isHostedPartner&&this.getPartnerName===C.Y.POSTEITALIANE_PARTNER&&"it"===this.countryCode.toLowerCase()&&(v=C.Y.COUNTRY_LIST_POSTEITALIANE,S=C.Y.TOP_COUNTRIES_POSTEITALIANE),l&&"fr"===this.countryCode.toLowerCase()&&(v=C.Y.COUNTRY_LIST_LBP,S=C.Y.TOP_COUNTRIES_LBP),this.isPPSProfile()&&"us"===this.countryCode.toLowerCase()&&(v=C.Y.COUNTRY_LIST_PPS,S=C.Y.TOP_COUNTRIES_PPS),{origination:p,language:this.languageCode,lists:[{name:v,type:"country"},{name:S,type:"country"},{name:m,type:"lang"}],bashPath:this.basePath}}helperFormatToJsonArrObj(r,g){if(!r||!g)return;const p=r.split(","),h=[];return g.listPath&&delete g.listPath,Object.keys(g).forEach(function(l){const S=g[l],m={};m[p[0]]=l,m[p[1]]=S,h.push(m)}),h}helperFormatCountryList(r){const g=[];let p={};return Object.keys(r).forEach(function(h){const l=r[h];Object.keys(l).forEach(function(v){const m=l[v];p={},p.isoCode=v,p.name=m,this.push(p)},g)}),g}helperTransformRawCountries(r){const g=new V.Rd;return r.COUNTRY_LIST&&(delete r.COUNTRY_LIST.listPath,r.COUNTRY_LIST=this.getFormattedList(r.COUNTRY_LIST),r.COUNTRY_LIST=r.COUNTRY_LIST.sort(function(p,h){return p.value.localeCompare(h.value)}),r.COUNTRY_LIST.forEach(function(p,h){p.key=p.key.split("-")[0]})),r.TOP_COUNTRIES&&(delete r.TOP_COUNTRIES.listPath,r.TOP_COUNTRIES=this.getFormattedListNested(r.TOP_COUNTRIES)),r?.sender_country_list&&(r.sender_country_list=this.getFormattedList(r.sender_country_list),r.sender_country_list=r.sender_country_list.sort(function(p,h){return p.value.localeCompare(h.value)}),r.sender_country_list.forEach(function(p,h){p.key=p.key.split("-")[0]})),g.DropdownList=r.COUNTRY_LIST,g.TopDropdownList=r.TOP_COUNTRIES,g.SenderCountryList=r.sender_country_list,g}extendGetCoutriesResponseForPartner(r){const g={},p={...r};try{const h=this.checkIfPostePartner(),l=W.has(p,C.Y.COUNTRY_LIST_POSTEITALIANE)&&W.has(p,C.Y.TOP_COUNTRIES_POSTEITALIANE);if(h&&"it"===this.countryCode.toLowerCase()&&l)return Object.assign(g,{COUNTRY_LIST:p.COUNTRY_LIST_POSTEITALIANE,TOP_COUNTRIES:p.TOP_COUNTRIES_POSTEITALIANE});const v=this.checkIfLBPPartner(),S=W.has(p,C.Y.COUNTRY_LIST_LBP)&&W.has(p,C.Y.TOP_COUNTRIES_LBP);if(v&&"fr"===this.countryCode.toLowerCase()&&S)return Object.assign(g,{COUNTRY_LIST:p.COUNTRY_LIST_LBP,TOP_COUNTRIES:p.TOP_COUNTRIES_LBP});const m=W.has(p,C.Y.COUNTRY_LIST_PPS)&&W.has(p,C.Y.TOP_COUNTRIES_PPS);return this.isPPSProfile()&&"us"===this.countryCode.toLowerCase()&&m?Object.assign(g,{COUNTRY_LIST:p.COUNTRY_LIST_PPS,TOP_COUNTRIES:p.TOP_COUNTRIES_PPS}):this.checkAlipayPartner()?Object.assign(g,{COUNTRY_LIST:{CN:"China"},TOP_COUNTRIES:{}}):p}catch(h){console.error(`Error in processing of coutrylist response for partner --${h.message||h}`)}}checkIfPostePartner(){return this.isHostedPartner&&this.getPartnerName===C.Y.POSTEITALIANE_PARTNER}checkIfLBPPartner(){return this.isHostedPartner&&this.getPartnerName===C.Y.LBP_PARTNER}checkAlipayPartner(){return this.getPartnerName&&this.getPartnerName===C.Y.ALIPAY_PARTNER}isPPSProfile(){const r=this.updateStoreUsingActionService.getState();return r&&r.isPPSprofile?r.isPPSprofile:""}isDisableCorridorForPartner(){return this.featureFlagService.isFeatureEnabled("RECEIVING_COUNTRY_DISBALED_FOR_PARTNER")&&(this.getPartnerName||this.isPPSProfile())}setDcaasHostAndEndPoint(){const r={countryUrlEndpoint:this.countryUrlEndpoint,countryUrl:this.countryUrl},g=sessionStorage.getItem("dcaasVersion")||window.ACTIVE_VERSION?.dcaasVersion;return r.countryUrlEndpoint=g?`/wuconnect/dcaas/list.optimus.json?dcaasversion=${g}`:"/wuconnect/dcaas/list.optimus.json",r.countryUrl=`https://${this.hostUrl}${r.countryUrlEndpoint}`,r}getCountries(){const r=this.setDcaasHostAndEndPoint(),g=(0,$.zw6)(`posts/${r.countryUrlEndpoint}`);return this.transferStateService.fetch(g,this.http.post(r.countryUrl,this.getCountryReqBody())).pipe((0,e.T)(p=>{p=this.extendGetCoutriesResponseForPartner(p);const h=this.helperTransformRawCountries(p);let l=p.COUNTRY_LIST&&p.COUNTRY_LIST.filter(function(v){return-1===W.findIndex(A.K.CONST_DISABLE_CORRIDOR,{isoCode:v.key})});if(this.isDisableCorridorForPartner()&&l){const v=this.updateStoreUsingActionService.getState()?.countryDynamicParams;if(v&&v?.RECEIVER_COUNTRY_TO_DISABLE_FOR_PARTNER){const S=JSON.parse(v.RECEIVER_COUNTRY_TO_DISABLE_FOR_PARTNER);l=l.filter(m=>-1===W.findIndex(S,{isoCode:m.key}))}}return h.DropdownList=l,h}))}getCountriesRaw(){const r=this.setDcaasHostAndEndPoint(),g=(0,$.zw6)(`posts/${r.countryUrlEndpoint}`);return this.transferStateService.fetch(g,this.http.post(r.countryUrl,this.getCountryReqBody()))}getCityStateArrayList(r){const g=[];let p={};return r.listPath&&delete r.listPath,Object.keys(r).forEach(function(h){const l=r[h];Object.keys(l).forEach(function(v){const S=v,m=l[v];p={},p.cityName=m.replace(/\:.*/,""),p.stateName=m.replace(/^.+:/,""),p.stateIsoCode=S.replace(/^.+-/,""),this.push(p)},g)}),g}getCitiesList(){const r=this.setDcaasHostAndEndPoint();return this.http.post(r.countryUrl,this.cityPostReq).pipe((0,e.T)(g=>this.getCityStateArrayList(g.MEX_CITYSTATE_LIST)))}getStateArrayList(r){return Object.keys(r).map(p=>r[p])}getStateListName(r){return this._stageAndPayService.getStateListNames()[r]||"STATE_LIST"}getStateListReq(r){return{origination:this.countryCode,language:this.languageCode,lists:[{name:r,type:"lang"}],bashpath:this.basePath}}getEFLFormattedList(r,g){return[{key:g.toUpperCase(),value:r[g].name}]}getStatesList(r){const g=this.setDcaasHostAndEndPoint(),p=this.getStateListName(r);return this.statePostReq=this.getStateListReq(p),this.http.post(g.countryUrl,this.statePostReq).pipe((0,e.T)(h=>{const l=W.omit(W.get(h,p),"listPath");return this.checkStateList(r,l)}),(0,x.W)(h=>(0,E.$)(h.message||h)))}checkStateList(r,g){return"US"===r?this.getFormattedList(g):this.getEFLFormattedList(g,r)}getListInfo(r){const g=this.setDcaasHostAndEndPoint(),p=this.getListInfoBodyRequest(r);return this.http.post(g.countryUrl,p).pipe((0,e.T)(h=>h),(0,x.W)(h=>(0,E.$)(h.message||h)))}getListInfoBodyRequest(r){const g={},p=[];p.push(r);const h=this.updateStoreUsingActionService.getState();return g.origination=this.smoConfig._getCountryIsoFromURL(),(h&&h.isPPSprofile?h.isPPSprofile:"")&&(g.origination="US-PPS"),this.getLanguage(r,p,g),g.lists=p,g.bashpath=this.basePath,g}getLanguage(r,g,p){p.language=r.language&&"FRAUD_METHODS"===g[0].name?r.language:r&&"DOCUPLOAD_SUPPORT_COUNTRY_LANGUAGE_CONFIG"===g[0].name?"en":this.smoConfig.getLanguageFromURL()}getOnboardingPayload(){return{origination:this.countryCode,language:this.languageCode,lists:[{name:"JP_ONBOARDING_CTR_TEMPLATE",type:"lang",lookupKey:"onboardingCTRTemplate"},{name:"COUNTRY_LIST",type:"country"},{name:"TOP_COUNTRIES",type:"country"}],bashPath:this.basePath}}getOnboardingCTR(){var r=this;return(0,o.A)(function*(){const g=r.setDcaasHostAndEndPoint();return r.http.post(g.countryUrl,r.getOnboardingPayload()).pipe((0,e.T)(p=>p),(0,x.W)(p=>(0,E.$)(p.message||p)))})()}static#e=this.\u0275fac=function(g){return new(g||a)($.KVO(w.Qq),$.KVO(D.l),$.KVO(f.P),$.KVO(O.O),$.KVO(N.k),$.KVO(G.G),$.KVO(_.Fq),$.KVO(U.y))};static#t=this.\u0275prov=$.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},3902:(n,d,t)=>{"use strict";t.d(d,{y:()=>$});var o=t(34781),e=t(1027),x=t(54438);let $=(()=>{class W{constructor(V,P){this.smoConfig=V,this.updateStore=P,this.featureFlags=void 0,this.country=this.smoConfig._getCountryIsoFromURL()?.toUpperCase()}isFeatureEnabled(V){try{if(!this.isCSFeatureFlagEnabled()&&(!this.featureFlags||!this.featureFlags.flagVersion)||this.isCSFeatureFlagEnabled()&&(!this.featureFlags||!this.featureFlags.flagVersion||this.featureFlags.featureFlagCountry!==this.country)){const D=this.updateStore.getState(),f=sessionStorage.getItem("featureFlags");this.featureFlags=D.featureFlags?D.featureFlags:JSON.parse(f||"{}")}if("BE"===this.country&&"ENABLE_OIDC_FLOW"===V){const D=sessionStorage.getItem("featureFlags");this.featureFlags=JSON.parse(D||"{}")}const P=this.featureFlags[V].countries;return"ALL"===P||P.indexOf(this.country)>-1}catch{return!1}}isFeatureEnabledForReceiver(V,P){try{if(!this.isCSFeatureFlagEnabled()&&(!this.featureFlags||!this.featureFlags.flagVersion)||this.isCSFeatureFlagEnabled()&&(!this.featureFlags||!this.featureFlags.flagVersion||this.featureFlags.featureFlagCountry!==this.country)){const f=this.updateStore.getState();this.featureFlags=f.featureFlags}const D=this.featureFlags&&this.featureFlags[V]&&this.featureFlags[V].countries?this.featureFlags[V].countries:"";return"ALL"===D||D.indexOf(P)>-1}catch{return!1}}isFeatureEnabledForShowSupportedFoWallets(V){try{if("true"===sessionStorage.getItem("isShowSupportedFoWallets")||this.isFeatureEnabled("SHOW_SUPPORTED_FO_WALLETS")){const D=this.updateStore.getState()?.countryDynamicParams,f=D?.SUPPORTED_FO_WALLET_LIST?D?.SUPPORTED_FO_WALLET_LIST.split(","):[];return!!f.includes(V)||!!f.includes("ALL")}return!1}catch{return!1}}isMxRedirectV2Enabled(){try{return"true"===this.updateStore.getState().countryDynamicParams?.isMxRedirectV2||"true"===sessionStorage.getItem("isMxRedirectV2")}catch{return!1}}isCSFeatureFlagEnabled(){return"true"===this.smoConfig.getGlobalConfig("switches","isCSFeatureFlag")||"true"===sessionStorage.getItem("isCSFeatureFlag")}static#e=this.\u0275fac=function(P){return new(P||W)(x.KVO(e.l),x.KVO(o.k))};static#t=this.\u0275prov=x.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},47058:(n,d,t)=>{"use strict";t.d(d,{B5:()=>P.B,Bj:()=>x.B,IK:()=>K.I,Mc:()=>e.M,Pp:()=>$.P,gn:()=>o.g,l9:()=>W.l,qd:()=>V.q});var o=t(34852),e=t(26692),x=t(38992),$=t(37377),W=t(1027),K=t(23867),V=t(17742),P=t(5365)},79041:(n,d,t)=>{"use strict";t.d(d,{h:()=>K});var o=t(98592),e=t(5365),x=t(87801),$=t(90696),W=t(54438);let K=(()=>{class V{constructor(D,f){this.listUtilService=D,this.listOptimusService=f}getSecurityQuestions(){const f=this.listUtilService.getListServiceRequest([{name:x.MG.PROFILE_SECURITY_QUESTIONS,type:"lang"}]);return this.listOptimusService.invokeGenericFactory(x.MG.PROFILE_SECURITY_QUESTIONS,f)}getDUCLists(D){const f=Array();return D.forEach(C=>{const A=this.listUtilService.getListServiceRequest(C);f.push(this.listOptimusService.invokeGenericFactory(x.MG.DUC_TYPE_LISTS,A))}),(0,$.p)(f)}getFrequencyLists(D){const f=Array();return D.forEach(C=>{const A=this.listUtilService.getListServiceRequest(C);f.push(this.listOptimusService.invokeGenericFactory(x.MG.FREQUENCY_LIST,A))}),(0,$.p)(f)}getWeekDayLists(D){const f=Array();return D.forEach(C=>{const A=this.listUtilService.getListServiceRequest(C);f.push(this.listOptimusService.invokeGenericFactory(x.MG.WEEKDAY_LIST,A))}),(0,$.p)(f)}static#e=this.\u0275fac=function(f){return new(f||V)(W.KVO(o.c),W.KVO(e.B))};static#t=this.\u0275prov=W.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},5365:(n,d,t)=>{"use strict";t.d(d,{B:()=>rt});var o=t(95006),e=t(54438);class x{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.IDEAL_BANK_LIST&&delete me.IDEAL_BANK_LIST.listPath,me)))}}class ${invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>{const we=Pe&&Pe.lists&&Pe.lists[0]?Pe.lists[0].name:"";return me&&me[we]?me[we]:me}))}}class W{invoke(Pe,Se,me){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(we=>{const je=me.helperFormatToJsonArrObj("BANK_NAME,INSTITUTION_NUMBER",we.CA_PARAMOUNT_BANKS_LIST);return je.sort((it,qe)=>it.BANK_NAME.localeCompare(qe.BANK_NAME)),je}))}}class K{invoke(Pe,Se,me){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(we=>{const je=me.helperFormatToJsonArrObj("BANK_NAME,INSTITUTION_NUMBER",we.AR_FUNDSIN_BANKLISTS);return je.sort((it,qe)=>it.BANK_NAME.localeCompare(qe.BANK_NAME)),je}))}}class V{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(we=>{try{delete we.ID_TYPE_MY.listPath}catch(Be){console.error(Be)}return we}))}}class P{invoke(Pe,Se,me){const we=Ie("phoneType",Pe);return me.fetch(we,Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(Be=>(Be&&Be.PHONE_TYPE_LIST&&delete Be.PHONE_TYPE_LIST.listPath,Be))))}}class D{invoke(Pe,Se,me){const we=Ie("dialingPrefix",Pe);return me.fetch(we,Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(Be=>(Be&&Be.DIALING_PREFIX_LIST&&delete Be.DIALING_PREFIX_LIST.listPath,Be))))}}class f{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.PROFILE_SECURITY_QUESTIONS&&delete me.PROFILE_SECURITY_QUESTIONS.listPath,me)))}}class C{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.sender_country_list&&delete me.sender_country_list.listPath,me)))}}class A{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.TAT_LANGUAGES&&delete me.TAT_LANGUAGES.listPath,me)))}}class E{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.ERROR_MESSAGE&&delete me.ERROR_MESSAGE.listPath,me)))}}class N{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>{try{delete me["ID_TYPE_FR-DUTLBP"].listPath}catch(we){console.error(we)}return me}))}}class _{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>{try{delete me.ID_TYPE_FR_PRIMARY.listPath}catch(we){console.error(we)}return me}))}}class M{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>{try{delete me.ID_TYPE_FR_SECONDARY.listPath}catch(we){console.error(we)}return me}))}}class U{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>{const we=Pe&&Pe.lists&&Pe.lists[0]?Pe.lists[0].name:"";return me&&me[we]&&delete me[we].listPath,me}))}}class w{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(delete me.DSS_DOCUMENTS.listPath,me)))}}class O{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>{const we=Pe&&Pe.lists&&Pe.lists[0]?Pe.lists[0].name:"";return me&&me[we]&&delete me[we].listPath,me}))}}class G{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(delete me.DSS_DOC_TYPE.listPath,me)))}}class s{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(delete me.DSS_DOC_SUBTYPE.listPath,me)))}}class a{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(delete me.COUNTRY_BIRTH_LIST.listPath,me)))}}class c{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(delete me.DSS_QUESTIONNAIRE.listPath,me)))}}class r{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(delete me.DSS_INSTRUCTIONS.listPath,me)))}}class g{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(delete me.CANCEL_REASON_CODE_LIST.listPath,me)))}}class p{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(delete me.OPTIONAL_CANCEL_REASON_CODE_LIST.listPath,me)))}}class h{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(Object.entries(me).forEach(we=>{delete me[we[0]].listPath}),me)))}}class l{invoke(Pe,Se,me){const we=Ie("fxAlertScheduleType",Pe);return me.fetch(we,Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(Be=>(Be&&Be.FX_ALERTS_SCHEDULE_TYPE&&delete Be.FX_ALERTS_SCHEDULE_TYPE.listPath,Be))))}}class v{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.GMO_MAINTENANCE_LIST&&delete me.GMO_MAINTENANCE_LIST.listPath,me)))}}class S{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.SOCIAL_PROOFING_STATIC&&delete me.SOCIAL_PROOFING_STATIC.listPath,me)))}}class m{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.TENANT_ALIAS_LIST&&delete me.TENANT_ALIAS_LIST.listPath,me)))}}class b{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.COUNTRY_DYNAMIC_PARAM_LIST&&delete me.COUNTRY_DYNAMIC_PARAM_LIST.listPath,me)))}}class Y{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>(me&&me.IACH_RECEIVER_CONFIG&&delete me.IACH_RECEIVER_CONFIG.listPath,me)))}}class R{invoke(Pe,Se){return Se.getTemplate(Se.getGenericListOptimusUrl(),Pe).pipe((0,o.T)(me=>me))}}class k{create(){return new x}}class L{create(){return new W}}class y{create(){return new f}}class I{create(){return new V}}class T{create(){return new P}}class te{create(){return new D}}class Z{create(){return new C}}class de{create(){return new E}}class oe{create(){return new N}}class ae{create(){return new M}}class he{create(){return new U}}class B{create(){return new _}}class z{create(){return new A}}class ie{create(){return new w}}class re{create(){return new G}}class Ce{create(){return new s}}class X{create(){return new a}}class Ee{create(){return new c}}class De{create(){return new r}}class fe{create(){return new K}}class Ue{create(){return new O}}class ee{create(){return new O}}class se{create(){return new g}}class le{create(){return new p}}class F{create(){return new h}}class J{create(){return new l}}class Q{create(){return new v}}class ne{create(){return new S}}class _e{create(){return new b}}class pe{create(){return new Y}}class Ae{create(){return new R}}class ve{create(){return new $}}function Ie(Oe,Pe){const we=`${Oe}/megatron/list.optimus.json/configVersion=${sessionStorage.getItem("configVersion")||""}/contentVersion=${sessionStorage.getItem("contentVersion")||""}/body=${JSON.stringify(Pe||null)}`;return(0,e.zw6)(we)}class Fe{create(){return new m}}var Ye=t(23867),ze=t(34852),Ne=t(87801),Le=t(67376),Re=t(79817),Me=t(35900);let rt=(()=>{class Oe{constructor(Se,me,we,Be){this.countryListService=Se,this.templateService=me,this.transferStateService=we,this.logger=Be,this.factory=null}invokeGenericFactory(Se,me){switch(Se){case Ne.MG.CA_PARAMOUNT_BANKS_LIST:this.factory=new L,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService,this.countryListService);break;case Ne.MG.AR_FUNDSIN_BANKLISTS:this.factory=new fe,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService,this.countryListService);break;case Ne.MG.TAT_LANGUAGES:this.factory=new z,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService,this.countryListService);break;case Ne.MG.IDEAL_BANK_LIST:this.factory=new k,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.ID_TYPE_MY:this.factory=new I,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.PHONE_TYPE_LIST:this.factory=new T,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService,this.transferStateService);break;case Ne.MG.DIALING_PREFIX_LIST:this.factory=new te,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService,this.transferStateService);break;case Ne.MG.SECURITY_QUESTIONS_LIST_NAME:this.factory=new y,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.SENDER_COUNTRY_LIST:this.factory=new Z,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.ERROR_MESSAGE_LIST:this.factory=new de,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.ID_TYPE_FR_LBP:this.factory=new oe,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.ID_TYPE_FR_PRIMARY:this.factory=new B,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.ID_TYPE_FR_SECONDARY:this.factory=new ae,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.DUC_TYPE_LISTS:this.factory=new he,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.ID_TYPE_FR_SECOND:this.factory=new ae,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.DSS_DOCUMENTS:this.factory=new ie,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.WEEKDAY_LIST:this.factory=new ee,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.FREQUENCY_LIST:this.factory=new Ue,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.DSS_DOC_TYPE:this.factory=new re,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.DSS_DOC_SUBTYPE:this.factory=new Ce,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.COUNTRY_BIRTH_LIST:this.factory=new X,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.DSS_QUESTIONNAIRE:this.factory=new Ee,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.DSS_INSTRUCTIONS:this.factory=new De,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.CANCEL_REASON_CODE_LIST:this.factory=new se,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.MULTI_LIST:this.factory=new F,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.FX_ALERTS_SCHEDULE_TYPE:this.factory=new J,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService,this.transferStateService);break;case Ne.MG.GMO_MAINTENANCE_LIST:this.factory=new Q,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.SOCIAL_PROOFING_STATIC:this.factory=new ne,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.TENANT_ALIAS_LIST:this.factory=new Fe,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.COUNTRY_DYNAMIC_PARAM_LIST:case Ne.MG.D2B_PE_PEN:this.factory=new _e,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.IACH_RECEIVER_CONFIG:this.factory=new pe,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.DSS2_DIALING_PREFIX:case Ne.MG.ID_TYPE_DSS:case Ne.MG.ID_TYPE_RET2DIG:this.factory=new Ae,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.WALLET_LIST:case Ne.MG.BANK_LIST:this.factory=new ve,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;case Ne.MG.OPTIONAL_CANCEL_REASON_CODE_LIST:this.factory=new le,this.listResponse=this.verifyFactoryObject(me).invoke(me,this.templateService);break;default:throw new Error("Type is mandatory to be passed !!")}return this.listResponse}verifyFactoryObject(Se){try{if(this.factory)return this.validateFactoryObject(Se),this.factory.create()}catch(me){this.logger.error(`Some error occured while creating object from factory \n${me}`)}}validateFactoryObject(Se){if(Le.isNil(Se)||""===Se||0===Object.keys(Se).length)throw Error("[type] and [payload] cannot be null !")}static#e=this.\u0275fac=function(me){return new(me||Oe)(e.KVO(ze.g),e.KVO(Ye.I),e.KVO(Re.G),e.KVO(Me.so))};static#t=this.\u0275prov=e.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})()},98592:(n,d,t)=>{"use strict";t.d(d,{c:()=>x});var o=t(1027),e=t(54438);let x=(()=>{class ${constructor(K){this.smoConfig=K}getListServiceRequest(K){const V=this.smoConfig._getCountryIsoFromURL().toLowerCase(),P=this.smoConfig.getLanguageFromURL().toLowerCase();return{origination:V,language:P,lists:K,bashPath:`/${V}/${P}`}}static#e=this.\u0275fac=function(V){return new(V||$)(e.KVO(o.l))};static#t=this.\u0275prov=e.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},10641:(n,d,t)=>{"use strict";t.d(d,{v:()=>A});var o=t(95006),e=t(83921),x=t(74526),$=t(47058),W=t(45168),K=t(37486),V=t(34781),P=t(77202),D=t(3902),f=t(93885),C=t(54438);let A=(()=>{class E{constructor(_,M,U,w,O){this.templateService=_,this.updateStoreUsingActionService=M,this.smoConfig=U,this.utilService=w,this.featureFlagService=O}getReceiverTemplate(_){return _&&_.version&&(_.version=this.getReceiverOptimusVersion()),this.templateService.getTemplate(this.getDcaasURL(),_||this.getReceiverTemplateRequest()).pipe((0,o.T)(M=>M),(0,e.W)(M=>(0,x.$)(M.message||M)))}getRtoBReceiverTemplate(_){return _&&_.version&&(_.version=this.getReceiverOptimusVersion()),this.templateService.getTemplate(this.getDcaasURL(),this.getRtoBReceiverTemplateRequest()).pipe((0,o.T)(M=>M),(0,e.W)(M=>(0,x.$)(M.message||M)))}getDcaasURL(){return f.Y.WUCONNECT_DCAAS+"csv-config/"+W.y.receiverTemplateUrl.dcaas}getReceiverTemplateRequest(_=!1){this.sessionFromStore=this.updateStoreUsingActionService.getState();const M=this.utilService.isSMORevampedSidePanelOpen();if(this.sessionFromStore.corridor&&this.sessionFromStore.corridor.senderCountry&&this.sessionFromStore.corridor.receiverCountry){const U={destination:M?this.utilService.getSMOrevampedCountry():this.sessionFromStore.corridor.receiverCountry.isoCode,isSWB:this.getIsSWBProfile(),language:_?"en":this.smoConfig.getLanguageFromURL().toLowerCase(),origination:this.sessionFromStore.corridor.senderCountry.isoCode,payIn:this.getPayIn(),payOut:this.getPayOut(),version:this.getReceiverOptimusVersion()},w=this.utilService.getPartnerName();return w&&(U.partnerName=w),this.featureFlagService.isFeatureEnabled("SEND_AMOUNT_IN_RECEIVER_OPTIMUS")&&(U.sendAmount=this.sessionFromStore.senderAmount),U}return{destination:"US",isSWB:!1,language:"en",origination:"US",payIn:"Bank",payOut:"Bank",version:this.getReceiverOptimusVersion()}}getRtoBReceiverTemplateRequest(){return this.sessionFromStore=this.updateStoreUsingActionService.getState(),{destination:this.sessionFromStore.corridor.receiverCountry.isoCode,isSWB:!1,language:this.smoConfig.getLanguageFromURL().toLowerCase(),origination:this.sessionFromStore.corridor.senderCountry.isoCode,payIn:"CC",payOut:"Bank",version:this.getReceiverOptimusVersion()}}getPayIn(){let _;if(this.sessionFromStore=this.updateStoreUsingActionService.getState(),!this.sessionFromStore.selectedProduct||this.sessionFromStore.selectedProduct&&!this.sessionFromStore.selectedProduct.payIn||this.utilService.isSMORevampedSidePanelOpen())return"CC";switch(this.sessionFromStore.selectedProduct.payIn){case K.mt.PayrollCard:case K.mt.CreditCard:_="CC";break;case K.mt.DebitCard:_="DC";break;case K.mt.ACH:case K.mt.iACH:case K.mt.Paramount:_="Bank";break;case K.mt.Cash:_="Cash at agent";break;case K.mt.WUPay:_="Wupay";break;case K.mt.POLI:_="POLI";break;case K.mt.Trustly:_=K.mt.Trustly;break;case K.mt.Sofort:_="Wupay";break;case K.mt.PartnerFunds:_=K.mt.PartnerFunds;break;default:_=this.sessionFromStore.selectedProduct.payIn}return _}getPayOut(){let _;if(this.sessionFromStore=this.updateStoreUsingActionService.getState(),!this.sessionFromStore.selectedProduct||this.sessionFromStore.selectedProduct&&!this.sessionFromStore.selectedProduct.payOut||this.utilService.isSMORevampedSidePanelOpen())return"Cash at agent";switch(this.sessionFromStore.selectedProduct.payOut){case K.Zr.AG:_="Cash at agent";break;case K.Zr.BA:_="Bank";break;case K.Zr.UN:_="agent location";break;case K.Zr.MT:_="MMT";break;case K.Zr.WA:_="Wallet";break;case K.Zr.D2C:_="D2C";break;case K.Zr.HD:_="HD";break;case K.Zr.D2C_PS:_="D2C"}return"Refund"===this.sessionFromStore.selectedProduct.payOut&&(_="Refund"),_}getReceiverTemplateRequestBillingual(){return this.getReceiverTemplateRequest(!0)}getReceiverOptimusVersion(){const _=this.utilService.isSMORevampedSidePanelOpen()?this.utilService.getSMOrevampedCountry():this.updateStoreUsingActionService.getState().corridor?.receiverCountry?.isoCode,M=this.featureFlagService.isFeatureEnabledForReceiver("RECEIVER_OPTIMUMS_VERSION_V3",_),U="PK"===_&&this.utilService.isDSREnabledCorridor(),w="BR"===_&&this.isBrazilPixEnabled();return M||U||w?"v3":"v2"}isBrazilPixEnabled(){const _=JSON.parse(sessionStorage.getItem("brazilPIXenabled")||"false");return this.featureFlagService.isFeatureEnabled("BRAZIL_PIX_PAYOUT")||_}getIsSWBProfile(){this.sessionFromStore=this.updateStoreUsingActionService.getState();let _=!(!this.sessionFromStore.sender||!this.sessionFromStore.sender.isSWBProfile)&&this.sessionFromStore.sender.isSWBProfile;return!_&&this.sessionFromStore.sender.address.state===f.Y.NONSWBDALWARESTATE&&this.sessionFromStore.selectedProduct.payOut===f.Y.BANKPAYOUTCODE&&this.sessionFromStore.sender.address.countryIsoCode===f.Y.USSENDERCOUNTRY&&(_=!0),_}static#e=this.\u0275fac=function(M){return new(M||E)(C.KVO($.IK),C.KVO(V.k),C.KVO($.l9),C.KVO(P.a),C.KVO(D.y))};static#t=this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},38992:(n,d,t)=>{"use strict";t.d(d,{B:()=>N,J:()=>E});var o=t(78863),e=t(54438);const C="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u0148\u014a-\u017f\u01c4-\u01cc\u0200-\u0217\u0218-\u021b\u021e\u021e",A="A-Za-z",E={IE:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,lastName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z ]*(['-][a-zA-Z ]*){0,2}$)(?=(.*[a-zA-Z]){2}.*$)^[a-zA-Z ]{2,40}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:/(?!.*(.)\1{2})^(?! )((?!\'\')(?!  )(?! $)[a-zA-Z ']){2,24}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^(?=.*[a-zA-Z ])(?=.*\d*)([a-zA-Z ]{6,9}|[a-zA-Z \d]{6,9})$/,county:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^[0-9]{7,15}$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"A"},LR:{zipCode:/^[0-9]{4}([\-][0-9]{2})?$/},PE:{zipCode:/^(\d)(?!\1{4})\d{4}$/},GB:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{2,25}$/,middleName:/(?!(.)\1{2}$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){1}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{1,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z])\2{3})(?!.*( |'|-|")\3{1})(?=.*[a-zA-Z]{1})(?=(.*[a-zA-Z\d]){3}.*$)^(?!.*[\*\"\(:,\/\.\\;&\)\[\]_\+#' -]{2}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z]){1}.*$)^[a-zA-Z ]{2,24}$/,cityInputKeyup:/[^a-zA-Z ]/g,zipCode:/^((?!(JE|IM|GY|je|im|gy)))((\b[A-z]\d\s?\d[A-z][A-z]\b)|(\b[A-z]\d\d\s?\d[A-z][A-z]\b)|(\b[A-z][A-z]\d\s?\d[A-z][A-z]\b)|(\b[A-z][A-z]\d\d\s?\d[A-z][A-z]\b)|(\b[A-z]\d[A-z]\s?\d[A-z][A-z]\b)|(\b[A-z][A-z]\d[A-z]\s?\d[A-z][A-z]\b)|(\b[A-z][A-z][A-z]\s?\d[A-z][A-z]\b))/,contactPhone:/^(\d)(?!\1{8,17})\d{9,17}/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,sortCode:/^\d{6}$/,zipCodeKeyup:/^[a-zA-Z0-9 ]+$/,zipCodeReplace:/[^0-9a-zA-Z ]/g,idnumber:/(?!(.)\1+$)(?!.*(.)\2{5})(?!.*( |'|-)\3{1})(?=(.*[a-zA-Z0-9]){4}.*$)(?=.*[0-9])^[a-zA-Z0-9 \*\/\-]{4,20}$/,zipCodeFieldFormat:"A",businessEntityLegalName:/^[ A-Za-z0-9_@./#&+-]{3,30}$/,averageMonthlyIncome:/^((([a-zA-Z]+|[\u0024\u00A2\u00A3\u00A4\u00A5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0\u20A1\u20A2\u20A3\u20A4\u20A5\u20A6\u20A7\u20A8\u20A9\u20AA\u20AB\u20AC\u20AD\u20AE\u20AF\u20B0\u20B1\u20B2\u20B3\u20B4\u20B5\u20B6\u20B7\u20B8\u20B9\u20BA\u20BB\u20BC\u20BD\u20BE\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])\s?\d+)|(\d+\s?([a-zA-Z]+|[\u0024\u00A2\u00A3\u00A4\u00A5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0\u20A1\u20A2\u20A3\u20A4\u20A5\u20A6\u20A7\u20A8\u20A9\u20AA\u20AB\u20AC\u20AD\u20AE\u20AF\u20B0\u20B1\u20B2\u20B3\u20B4\u20B5\u20B6\u20B7\u20B8\u20B9\u20BA\u20BB\u20BC\u20BD\u20BE\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])))$/},CN:{addBankAccountNumber:/^[6][2][0-9]{12,17}$/},FR:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,lastName:/(?!(.)\1{2}$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e '-.]{2,40}$/i,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff \.'-]{2,24}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,contactPhone:/^[0-9]{7,15}$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,idnumber:/^[a-zA-Z0-9]+[a-zA-Z0-9-_ ]*[a-zA-Z0-9]$/,zipCodeFieldFormat:"N",businessEntityLegalName:/^[ A-Za-z0-9_@./#&+-]{3,30}$/,averageMonthlyIncome:/^((([a-zA-Z]+|[\u0024\u00A2\u00A3\u00A4\u00A5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0\u20A1\u20A2\u20A3\u20A4\u20A5\u20A6\u20A7\u20A8\u20A9\u20AA\u20AB\u20AC\u20AD\u20AE\u20AF\u20B0\u20B1\u20B2\u20B3\u20B4\u20B5\u20B6\u20B7\u20B8\u20B9\u20BA\u20BB\u20BC\u20BD\u20BE\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])\s?\d+)|(\d+\s?([a-zA-Z]+|[\u0024\u00A2\u00A3\u00A4\u00A5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0\u20A1\u20A2\u20A3\u20A4\u20A5\u20A6\u20A7\u20A8\u20A9\u20AA\u20AB\u20AC\u20AD\u20AE\u20AF\u20B0\u20B1\u20B2\u20B3\u20B4\u20B5\u20B6\u20B7\u20B8\u20B9\u20BA\u20BB\u20BC\u20BD\u20BE\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])))$/},DE:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff \.'-]{2,24}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,contactPhone:/^(\d)(?!\1{6,15})\d{7,15}/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N",idnumber:/(?!(.)\1+$)(?!.*(.)\2{5})(?!.*( |'|-)\3{1})(?=(.*[a-zA-Z0-9]){4}.*$)(?=.*[0-9])^[a-zA-Z0-9 \*\/\-]{4,20}$/,businessEntityLegalName:/^[ A-Za-z0-9_@./#&+-]{3,30}$/,averageMonthlyIncome:/^((([a-zA-Z]+|[\u0024\u00A2\u00A3\u00A4\u00A5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0\u20A1\u20A2\u20A3\u20A4\u20A5\u20A6\u20A7\u20A8\u20A9\u20AA\u20AB\u20AC\u20AD\u20AE\u20AF\u20B0\u20B1\u20B2\u20B3\u20B4\u20B5\u20B6\u20B7\u20B8\u20B9\u20BA\u20BB\u20BC\u20BD\u20BE\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])\s?\d+)|(\d+\s?([a-zA-Z]+|[\u0024\u00A2\u00A3\u00A4\u00A5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0\u20A1\u20A2\u20A3\u20A4\u20A5\u20A6\u20A7\u20A8\u20A9\u20AA\u20AB\u20AC\u20AD\u20AE\u20AF\u20B0\u20B1\u20B2\u20B3\u20B4\u20B5\u20B6\u20B7\u20B8\u20B9\u20BA\u20BB\u20BC\u20BD\u20BE\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])))$/},AU:{firstName:/(?! )(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |\'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*([\'-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff .]){2}.*$)^[a-zA-Z\xc0-\xff \'-.]{1,25}$/,middleName:/(?! )(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z ]*(['-][a-zA-Z ]*){0,2}$)(?=(.*[a-zA-Z ]){2}.*$)^[a-zA-Z ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e])\2{3})(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e]){3}.*$)(?!.*([ \*\\(:,\/\.\\;&\)\[\]_\+#'-])\4{2})(?!.*( |'|-)\3{1})(?!.*[\*\\(:,\/\.\\;&\)\[\]_\+#'-][\*\\(:,\/\.\\;&\)\[\]_\+#'-])(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e]){3}.*$)(?=.*[0-9])(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[8-|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e0-9\ \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,receiverAddress:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff '-]/g,zipCode:/^(?!0{4})\d{4}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(^0\d{9,9})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,bankName:/[a-zA-Z0-9 ]+[\.]{0,1}$/,zipCodeFieldFormat:"N",DLNumber:/^[a-zA-Z0-9]{4,}$/,DLCardNumber:/^[0-9]{1,}$/,passportNumber:/^[a-zA-Z0-9]{4,}$/,mcCardNumber:/^[a-zA-Z0-9]{4,}$/,mcCardRefNumber:/^[\d]{1}$/},CA:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,lastName:/(?!(.)\1{2}$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e '-.]{2,40}$/i,address:/(?!(.)\*$)(?!.*([a-zA-Z])\2{2})(?!.*( |'|-|")\3{1})((?=.*\d{1})|(?=.*[a-zA-Z]{1}))(?=(.*[a-zA-Z\d]){1}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9\xc3\u20ac\xc3\x81\xc3\u201a\xc3\u0192\xc3\u201e\xc3\u2026\xc3\u2020\xc3\u2021\xc3\u02c6\xc3\u2030\xc3\u0160\xc3\u2039\xc3\u0152\xc3\x8d\xc3\u017d\xc3\x8f\xc3\x90\xc3\u2018\xc3\u2019\xc3\u201c\xc3\u201d\xc3\u2022\xc3\u2013\xc3\u02dc\xc3\u2122\xc3\u0161\xc3\u203a\xc3\u0153\xc3\x9d\xc3\u017e\xc3\u0178\xc3\xa0\xc3\xa1\xc3\xa2\xc3\xa3\xc3\xa4\xc3\xa5\xc3\xa6\xc3\xa7\xc3\xa8\xc3\xa9\xc3\xaa\xc3\xab\xc3\xac\xc3\xad\xc3\xae\xc3\xaf\xc3\xb0\xc3\xb1\xc3\xb2\xc3\xb3\xc3\xb4\xc3\xb5\xc3\xb6\xc3\xb8\xc3\xb9\xc3\xba\xc3\xbb\xc3\xbc\xc3\xbd\xc3\xbe\xc3\xbf \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,30}$/,city:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z]){1}.*$)^[a-zA-Z \.'-]{2,24}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,cityInputKeyup:/[^a-zA-Z \.'-]/g,zipCode:/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ ]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,contactPhone:/^(?!(\d)\1+$)(^\d{10}$)/,answerTest:/^[a-zA-Z\xc0-\xff0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeKeyup:/^[a-zA-Z\xc0-\xff0-9]+$/,zipCodeReplace:/[^0-9a-zA-Z\xc0-\xff]/g,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,receiverAddEDIRules:{common:/(?!(.)\1+$)(?!.*([a-zA-Z])\2{3})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z]{1})(?=(.*[a-zA-Z\d]){3}.*$)^(?!.*[\*\"\(:,\/\.\\;&\)\[\]_\+#' -]{2}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9 \*\"\(:,\/@!#$\.\\;&\)\[\]_\+#'-]{3,40}$/},zipCodeFieldFormat:"A",territoryList:{list:["BC","NB","NL","NT","NS","NU","YT"]}},US:{contactPhone:/^(?:[2-9][0-8][0-9])(?!(\d)\1+$)([2-9])(?!11)([0-9]{6})$/,state:/(?!(.)\+$)(?!.*(\xa0|'|-)\2{1})(?=([^\xa0].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff\xa0\.'-]{2,33}$/i,zipCode:/^(\d)(?!\1{4})\d{4}$/,lastName:/^(?! )(?!(.)\1{2}$)(?!.*([^Ii])\2{2})(?!.*(III|iii)(?=\D))(?!.*( |'|-|\.)\4{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{1,40}\S$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,address:/^(?! )(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z]{1})(?=(.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b][O|o|0][X|x].*)^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,100}\S$/,dlRegex:{AL:/(^[0-9]{7}$)|(^[a-zA-Z]{1}[0-9]{6}$)/,AK:/^[0-9]{7}$/,AZ:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[a-zA-Z]{2}[0-9]{2,5}$)|(^[0-9]{9}$)/,AR:/^[0-9]{4,9}$/,CA:/^[a-zA-Z]{1}[0-9]{7}$/,CO:/(^[0-9]{9}$)|(^[a-zA-Z]{1}[0-9]{3,6}$)|(^[a-zA-Z]{2}[0-9]{2,5}$)/,CT:/^[0-9]{9}$/,DE:/^[0-9]{1,7}$/,DC:/(^[0-9]{7}$)|(^[0-9]{9}$)/,FL:/^[a-zA-Z]{1}[0-9]{12}$/,GA:/^[0-9]{7,9}$/,HI:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,ID:/(^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$)|(^[0-9]{9}$)/,IL:/^[a-zA-Z]{1}[0-9]{11,12}$/,IN:/(^[a-zA-Z]{1}[0-9]{9}$)|(^[0-9]{9,10}$)/,IA:/^[0-9]{9}$|([0-9]{3}[a-zA-Z]{2}[0-9]{4}$)/,KS:/(^([a-zA-Z]{1}[0-9]{1}){2}[a-zA-Z]{1}$)|(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,KY:/(^[a-zA-Z]{1}[0-9]{8,9}$)|(^[0-9]{9}$)/,LA:/^[0-9]{1,9}$/,ME:/(^[0-9]{7,8}$)|(^[0-9]{7}[a-zA-Z]{1}$)/,MD:/^[a-zA-Z]{1}[0-9]{12}$/,MA:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,MI:/(^[a-zA-Z]{1}[0-9]{10}$)|(^[a-zA-Z]{1}[0-9]{12}$)/,MN:/^[a-zA-Z]{1}[0-9]{12}$/,MS:/^[0-9]{9}$/,MO:/(^[a-zA-Z]{1}[0-9]{5,9}$)|(^[a-zA-Z]{1}[0-9]{6}[R]{1}$)|(^[0-9]{8}[a-zA-Z]{2}$)|(^[0-9]{9}[a-zA-Z]{1}$)|(^[0-9]{9}$)/,MT:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{13}$)|(^[0-9]{9}$)|(^[0-9]{14}$)/,NE:/(^[0-9]{1,7}$)|(^[a-zA-Z]{1}[0-9]{3,8}$)/,NV:/(^[0-9]{9,10}$)|(^[0-9]{12}$)|(^[X]{1}[0-9]{8}$)/,NH:/^[0-9]{2}[a-zA-Z]{3}[0-9]{5}$/,NJ:/^[a-zA-Z]{1}[0-9]{14}$/,NM:/^[0-9]{8,9}$/,NY:/(^[a-zA-Z]{1}[0-9]{7}$)|(^[a-zA-Z]{1}[0-9]{18}$)|(^[0-9]{8}$)|(^[0-9]{9}$)|(^[0-9]{16}$)|(^[a-zA-Z]{8}$)/,NC:/^[0-9]{1,12}$/,ND:/(^[a-zA-Z]{3}[0-9]{6}$)|(^[0-9]{9}$)/,OH:/(^[a-zA-Z]{1}[0-9]{4,8}$)|(^[a-zA-Z]{2}[0-9]{3,7}$)|(^[0-9]{8}$)/,OK:/(^[a-zA-Z]{1}[0-9]{9}$)|(^[0-9]{9}$)/,OR:/(^[0-9]{1,9}$)|(^[a-zA-Z]{1}[0-9]{6}$)|(^[a-zA-Z]{2}[0-9]{5}$)/,PA:/^[0-9]{8}$/,RI:/^([0-9]{7}$)|(^[a-zA-Z]{1}[0-9]{6}$)/,SC:/^[0-9]{5,11}$/,SD:/(^[0-9]{6,10}$)|(^[0-9]{12}$)/,TN:/^[0-9]{7,9}$/,TX:/^[0-9]{7,8}$/,UT:/^[0-9]{4,10}$/,VT:/(^[0-9]{8}$)|(^[0-9]{7}[A]$)/,VA:/(^[a-zA-Z]{1}[0-9]{8,11}$)|(^[0-9]{9}$)|(^[0-9]{12}$)/,WA:/^(?=.{12}$)[a-zA-Z\*]{7}[0-9]{3}[a-zA-Z0-9]{2}$/,WV:/(^[0-9]{7}$)|(^[a-zA-Z]{1,2}[0-9]{5,6}$)/,WI:/^[a-zA-Z]{1}[0-9]{13}$/,WY:/^[0-9]{9,10}$/},zipCodeFieldFormat:"N"},HU:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,lastName:/(?!.*(.)\1{2})^(?! )((?!\'\')(?!  )(?! $)[a-zA-Z ']){2,40}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z]){1}.*$)^[a-zA-Z ]{2,24}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^[a-zA-Z0-9 ]{4,10}$/,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,sortCode:/^\d{6}$/,zipCodeKeyup:/^[a-zA-Z0-9 ]+$/,zipCodeReplace:/[^0-9a-zA-Z ]/g,zipCodeFieldFormat:"N"},MT:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,lastName:new RegExp("^(?! )(?!(.)\\1+$)(?!.*(.)\\2{2})(?!.*( |'|-|\\.)\\3{1})(?=\\S*(\\s\\S*){0,4}$)(?=["+C+" .]*(['-]["+C+" .]*){0,2}$)(?=(.*["+C+".]){2}.*$)^["+C+" '-.]{1,50}\\S$"),address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff])\2{2})(?!.*( |'|-|"|\.|\_|\*|\&|\(|\))\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]{1})(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:new RegExp("^(?=^.{2,58}$)(?:["+C+"]+(?:(?:[^,] )|-| |'))*["+C+"]*$"),state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^[a-zA-Z0-9 ]{5,10}$/,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,sortCode:/^\d{6}$/,zipCodeKeyup:/^[a-zA-Z0-9 ]+$/,zipCodeReplace:/[^0-9a-zA-Z ]/g,zipCodeFieldFormat:"A"},RU:{firstName:/^(?!(.)\1+$)(?!.*(.)\2{2})(?!.*([ '-])\3)(?=\S+(?:\s\S+){0,4}$)(?=[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]+(?:[' -][a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]+){0,2}$)(?=(?:.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]){2})[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff '-]{2,25}$/,middleName:/^(?!(.)\1+$)(?!.*(.)\2{2})(?!.*([ '-])\3)(?=\S+(?:\s\S+){0,4}$)(?=[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]+(?:[' -][a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]+){0,2}$)(?=(?:.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]){2})[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff '-]{1,25}$/,lastName:/^(?!(.)\1+$)(?!.*(.)\2{2})(?!.*([ '-])\3)(?=\S+(?:\s\S+){0,4}$)(?=[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]+(?:[' -][a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]+){0,2}$)(?=(?:.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]){2})[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff '-]{2,25}$/,address:/^(?!(?:[ \d]+|[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff ]+)$)(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9 ])\2{4})(?!.*[^a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9 \n]{4})(?=(?:[^a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9\n]*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9]){3})(?!.*[Pp]+(OST|ost)*\.*\s*[Oo0]*(FFICE|ffice)*\.*\s*[Bb]*\.*\s*[Oo0]*\.*\s*[Xx].*)[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9\ *(:,\/.\\;&)\[\]_+#'-]{3,40}$/,address2:/^(?!(?:[ \d]+|[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff ]+)$)(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9 ])\2{2})(?!.*[^a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9 \n]{2})(?=(?:[^a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9\n]*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9]){3})(?!.*[Pp]+(OST|ost)*\.*\s*[Oo0]*(FFICE|ffice)*\.*\s*[Bb]*\.*\s*[Oo0]*\.*\s*[Xx].*)[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\u2116\xe8-\xff0-9\ *"(:,\/.\\;&)\[\]_+#'-]{1,40}$/,receiverAddress:/^(?!(?:[ \d]+|[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff ]+)$)(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff0-9 ])\2{2})(?!.*[^a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff0-9 \n]{2})(?=(?:[^a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff0-9\n]*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff0-9]){3})(?!.*[Pp]+(OST|ost)*\.*\s*[Oo0]*(FFICE|ffice)*\.*\s*[Bb]*\.*\s*[Oo0]*\.*\s*[Xx].*)[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff0-9\ *"(:,\/.\\;&)\[\]_+#'-]{3,40}$/,city:/(.*?)/,cityInputKeyup:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff]){2}.*$)^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff \.'-]{2,24}$/,alphabet:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff]){2}.*$)^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff \.'-]{2,24}$/,zipCode:/^[0-9]{6}$/,county:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff]){1}.*$)^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(\d)\1+$|\d*(\d)\2{6}$)\d{10}$/,answerTest:/^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff0-9 \.'-]{3,20}$/,mobileNumber:/^(?!(\d)\1+$|\d*(\d)\2{6}$)\d{10}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,idnumber:/^[\d]{10}$/,idissuer:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff .]*(['-][a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff.]){2}.*$)^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7\u0430-\u044f\u0410-\u042f\u0401\u0451\xe8-\xff '-.]{2,50}$/i},SK:{address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc1\xc4\u010c\u010e\xc9\xcd\u0139\u013d\u0147\xd3\xd4\u0154\u0160\u0164\xda\xdd\u017d\xe1\xe4\u010d\u010f\xe9\xed\u013a\u013e\u0148\xf3\xf4\u0155\u0161\u0165\xfa\xfd\u017e])\2{2})(?!.*( |'|-|"|\.|\_|\*|\&|\(|\))\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc1\xc4\u010c\u010e\xc9\xcd\u0139\u013d\u0147\xd3\xd4\u0154\u0160\u0164\xda\xdd\u017d\xe1\xe4\u010d\u010f\xe9\xed\u013a\u013e\u0148\xf3\xf4\u0155\u0161\u0165\xfa\xfd\u017e]{1})(?=(.*[a-zA-Z\xc1\xc4\u010c\u010e\xc9\xcd\u0139\u013d\u0147\xd3\xd4\u0154\u0160\u0164\xda\xdd\u017d\xe1\xe4\u010d\u010f\xe9\xed\u013a\u013e\u0148\xf3\xf4\u0155\u0161\u0165\xfa\xfd\u017e\d]){3}.*$)(?!.*[Pp]+(OST|ost)*\.*\s*[Oo0]*(FFICE|ffice)*\.*\s*[Bb]*\.*\s*[Oo0]*\.*\s*[X|x].*)^[a-zA-Z\xc1\xc4\u010c\u010e\xc9\xcd\u0139\u013d\u0147\xd3\xd4\u0154\u0160\u0164\xda\xdd\u017d\xe1\xe4\u010d\u010f\xe9\xed\u013a\u013e\u0148\xf3\xf4\u0155\u0161\u0165\xfa\xfd\u017e0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,zipCode:/^\d{3}( |-)?\d{2}$/,zipCodeFieldFormat:"A"},CZ:{zipCode:/^\d{3}( |-)?\d{2}$/,zipCodeFieldFormat:"A",state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-zA-Z]){2}.*$)^[a-zA-Z \.'-]{2,40}$/},SG:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,city:/^(?!^(.)\1*$)(?=^.{2,58}$)(?:[a-zA-Z\xc0-\xff]+(?:(?:\. )|-| |\'))*[a-zA-Z\xc0-\xff]*$/,zipCode:/^\d{2}$|^\d{4}$|^\d{6}$/,eidNationalNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{8,25}$/,workPermitNumber:/^[a-zA-Z0-9]{4,}$/,invalidCardsBIN:/^(428425|409636|462845|434921|421808|437736|414746)/,invalidCardsBINEmpty:new RegExp("null"),zipCodeFieldFormat:"N"},IN:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{2})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,1}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]{1,40}$/,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{2})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*){0,1}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){1}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]{1,40}$/,lastName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{2})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,1}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){1}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]{1,40}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff])\2{2})(?!.*( |'|-|"|\.|\_|\*|\&|\(|\))\3{1})(?=.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]{1})(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,80}$/,addressTwo:/(?!(.)\+$)(?!.*([a-zA-Z])\2{2})(?!.*( |'|-|")\3{1})(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{1,80}$/,zipCode:/^\d{6}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)|[a-zA-Z\xc0-\xff \.'-]{2,33}$/i,panCardNumber:/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/,occupationTextFieldPattern:/^[a-zA-Z]+(\s+[a-zA-Z]+)*$/,zipCodeFieldFormat:"N"},JM:{zipCode:/^\d[a-zA-Z0-9\s]{1,10}/,zipCodeFieldFormat:"A"},EG:{zipCode:/^\d{5}$/,zipCodeFieldFormat:"A"},NG:{zipCode:/^\d{6}$/,zipCodeFieldFormat:"N"},CI:{zipCode:/^\d{2}$/,zipCodeFieldFormat:"A"},PK:{zipCode:/^\d{5}$/,zipCodeFieldFormat:"N"},SN:{zipCode:/^\d{5}$/,zipCodeFieldFormat:"N"},SA:{zipCode:/^\d{5}$/,zipCodeFieldFormat:"N"},CY:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{2,25}$/,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .-]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .-]*){0,1}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.-]){1}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{1,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]{1})(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:/(?!.*(.)\1{2})^(?! )((?!\'\')(?!  )(?! $)[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff \.'-]){2,24}$/,cityInputKeyup:/[^a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff \.'-]/g,county:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){1}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff \.'-]{2,24}$/,contactPhone:/^[0-9]{7,15}$/,answerTest:/^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff0-9 \.'-]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCode:/^\d{4}$/,zipCodeFieldFormat:"N"},BG:{zipCode:/^\d{4}$/,zipCodeFieldFormat:"N"},IS:{zipCode:/^\d{3}$/,zipCodeFieldFormat:"N"},JP:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-]{2,26}$/,zipCode:/(^\d{3}\-\d{4}$)|(^\d{7}$)/,zipCodeFieldFormat:"N",residenceCard:/^([a-zA-Z]){2}([0-9]){8}([a-zA-Z]){2}?$/},global:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-]{2,25}$/,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{2})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*){0,1}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){1}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-]{1,40}$/,lastName:new RegExp("^(?! )(?!(.)\\1+$)(?!.*(.)\\2{2})(?!.*( |'|-|\\.)\\3{1})(?=\\S*(\\s\\S*){0,4}$)(?=["+C+" .]*(['-]["+C+" .]*){0,2}$)(?=(.*["+C+".]){2}.*$)^["+C+" '-.]{1,50}\\S$"),paternal:new RegExp("^(?! )(?!(.)\\1+$)(?!.*(.)\\2{2})(?!.*( |'|-|\\.)\\3{1})(?=\\S*(\\s\\S*){0,4}$)(?=["+C+" .]*(['-]["+C+" .]*){0,2}$)(?=(.*["+C+".]){2}.*$)^["+C+" '-.]{1,50}\\S$"),matternal:new RegExp("^(?! )(?!(.)\\1+$)(?!.*(.)\\2{2})(?!.*( |'|-|\\.)\\3{1})(?=\\S*(\\s\\S*){0,4}$)(?=["+C+" .]*(['-]["+C+" .]*){0,2}$)(?=(.*["+C+".]){2}.*$)^["+C+" '-.]{1,50}\\S$"),fullName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,5}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{2,100}$/,password:/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789@!&$%]).{8,20})/,currentPassword:/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789@!&$%]).{7,20})/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff])\2{2})(?!.*( |'|-|"|\.|\_|\*|\&|\(|\))\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]{1})(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,addressTwo:/(?!(.)\+$)(?!.*([a-zA-Z])\2{2})(?!.*( |'|-|")\3{1})(?=(.*[a-zA-Z\d]){1}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{1,40}$/,city:new RegExp("^(?=^.{2,58}$)(?:["+C+"]+(?:(?:[^,] )|-| |'))*["+C+"]*$"),zipCode:/^\d{5}$/,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-]{3,40}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,addBankRoutingNumber:/^\d{9}$/,addBankAccountNumber:/^\d{1,25}$$/,addBillerAccountNumber:/^[A-Za-z0-9]{1,20}$/,phoneNumberTrackTransfer:/^[0-9]{10}$/,addContactInfoIbanBic:/[^\w\s]/,addChar:/^[a-zA-Z0-9\b \#\(\{\}\&\)\[\]\_\+\:\;\'\,\/.\-\"\*\\]+$/,customCharAddress:/^[a-zA-Z0-9\b \#\(\{\}\&\)\[\]\_\+\:\;\'\,\/.\-\"\*\\]+$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,33}$/,county:void 0,contactPhoneReceiver:/^[0-9]{7,15}$/,contactPhoneReceiverChina:/^1[0-9]\d{9}$/,contactPhoneReceiverColombia:/^[0-9]{10}$/,contactPhoneReceiverIndia:/^[0-9]{10}$/,contactPhoneReceiverHaiti:/^[0-9]{8}$/,contactPhoneReceiverEcuador:/^[0-9]{8,9}$/,alphabet:/[a-zA-Z\-]/,postalCode:/^\d{5}$/,negatedAlphabetWithSpace:/[^a-zA-Z \s]/gi,email:/^(\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/,lastSevenDigitContactPhone:/^(?!.*(\d)\1{6}\b)^[0-9]{0,15}$/,number:/^[0-9]+$/,matchSpace:/\s \.+/g,alphaNumeric:/(?!.*( )\1{1})^[0-9a-zA-Z ]+$/,alphaNumericWthDot:/(?!.*( )\1{1})^[0-9a-zA-Z. ]+$/,alphaNumericRut:/^[0-9]{2}.?[0-9]{3}.?[0-9]{3}-?[0-9k]$/,notAlphaNumeric:/[^0-9a-zA-Z]/gi,alphaNumericWithSpace:/(?!.*( )\1{1})^(?![0-9]*$)[a-zA-Z0-9 ]+$/,notAlphaNumericWithSpace:/[^0-9a-zA-Z ]/gi,negatedNumber:/[^0-9]/g,nationalId:/[^0-9.k\-]/g,amount:/^([0-9]{0,14}(\.\d{0,2})?)?$/,sendMoneyAmount:/^(?=.)([1-9][0-9]{0,2}(,[0-9]{0,3})|[0-9]{0,14})?(\.[0-9]{0,2})?$/,zeroAmount:/^[0]+\.?[0]?[0]?$/,usPromoCode:/^[A-Za-z0-9\-]{0,20}$/,trackingNumber:/^[0-9]{0,10}$/,validatePromocode:/[^A-Za-z0-9\-]{0,20}$/,promoCode:/^[A-Za-z0-9\-]{0,20}(\s[A-Za-z0-9\-]{1,20})*?$/,negatedAmountNumber:/[^0-9.,]/g,cnMobileNumber:/^(?:1[1-9][0-8][0-9])(?!(\d)\1+$)([0-9])(?!11)([0-9]{6})$/,mobileNumberAnyDigit:/^[\d+$]{10,10}/,charRestricted:/^[^\"$%&()*+;@*_~>?<[\]^`{|}.!#]+$/g,masterCard:/^5[1-5]\d{14}$|^2(?:2(?:2[1-9]|[3-9]\d)|[3-6]\d\d|7(?:[01]\d|20))\d{12}$/,visaCard:/^4(\d{12}|\d{15})$/,testCard:/^\d{16}$/,electronCard:/^(4026|4405|4508|4844|4913|4917)\d{12}$|^417500\d{10}$/,visaCard1:/^4\d{15}/,visaCard2:/^4\d{12}/,maestroCard:/(^(?:5[0678]\d\d|6304|6390|67\d\d|0604)\d{8,15}$)|(^(4903|4905|4911|4936|6333|6759)(\d{12}|\d{14}|\d{15})$|^(564182|633110)(\d{10}|\d{12}|\d{13})$)/,discoverCard:/^6011\d{12}$|^64[4-9]\d{13}$|^65\d{14}$|^(622(1(2[6-9]|[3-9][0-9])|[2-8][0-9]{2}|9([01][0-9]|2[0-5])))\d{10}$/,amexCard:/^3[47]\d{13}$/,mirCard:/^220[0-4]\d{12}$/,eloCard:/^(504175|506699|506700|506704|506714|506716|506718|506721|506722|506724|506725|506726|506727|506728|506729|506730|506731|506732|506733|506735|506741|506742|506744|506748|506753|506754|506755|506758|506760|506761|506762|506764|506766|506767|506770| 506771|506774|506775|506776|506778|509000|509002|509003|509008|509014|509015|509017|509018|509032|509034|509041|509042|509045|509048| 509051|509055|509059|509061|509063|509065|509067|509068|509069|509073|509091|509093|509291|509728|509882|636297|636368)\d{10}$/,masterCardPrefix:/^5[1-5]|^2(?:2(?:2[1-9]|[3-9]\d)|[3-6]\d\d|7(?:[01]\d|20))/,visaCardPrefix:/^4/,cubaCardPrefix:/^92[2|3][5|6][0-9]{12}/,cubaCardPrefixNew:/^92[2|3|4][0|5|6|8][0-9]{12}/,eloCardPrefix:/^(504175|506699|506700|506704|506714|506716|506718|506721|506722|506724|506725|506726|506727|506728|506729|506730|506731|506732|506733|506735|506741|506742|506744|506748|506753|506754|506755|506758|506760|506761|506762|506764|506766|506767|506770| 506771|506774|506775|506776|506778|509000|509002|509003|509008|509014|509015|509017|509018|509032|509034|509041|509042|509045|509048| 509051|509055|509059|509061|509063|509065|509067|509068|509069|509073|509091|509093|509291|509728|509882|636297|636368)/,electronCardPrefix:/^(4026|4405|4508|4844|4913|4917|417500)/,maestroCardPrefix:/(^(?:5[0678]|6304|6390|67|0604|4903|4905|4911|4936|6333|6759|564182|633110))/,discoverCardPrefix:/^(6011|64[4-9]|65|(622(1(2[6-9]|[3-9][0-9])|[2-8][0-9]{2}|9([01][0-9]|2[0-5]))))/,mirCardPrefix:/^220[0-4]/,amexCardPrefix:/^3[47]/,BillerAccountNumber:/^[A-Za-z0-9]{0,20}$/,notRepeatedText:/\b(\w)\1+\b/,senderPhoneNumber:/^[0-9]{0,15}$/,reward:/^\d{9}$/,sortCode:/^\d+$/,cityInputKeyup:/[^a-zA-Z \.'-]/g,zipCodeKeyup:/^[0-9]+$/,zipCodeReplace:/[^0-9]/g,accountNumericRegex:/(?=([X]{2,})|(\d{1,}))(?![X]{2,}\d{1,}[X]{1,})(?!\d{1,}[X]{1,}\d{1,})^[0-9X]+$/g,bankName:/[a-zA-Z0-9 ]+[\.]{0,1}$/,captcha:/[^\\ ]{6}/,alphaCodeKeyup:/[^a-zA-Z0-9_ #&()+*",';:.\\\/\-\[\]]+$/,receiverAddress:/^(?=.*?[a-zA-Z0-9])(?=[\w #&()_+\[\]:;',\/.\\\-"*]{3,}$)((.)\2?(?!\2{3,}))+$/,invalidCardsBIN:new RegExp("null"),invalidCardsBINEmpty:new RegExp("null"),txtBankName:/[a-zA-Z0-9 ]+[\.]{0,1}$/,idnumber:/^[a-zA-Z0-9]+[a-zA-Z0-9]*[a-zA-Z0-9]$/,url:/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/,sharePercentage:/(^100(\.0{1,2})?$)|(^\d{1,2}(\.\d{1,2})?$)/,entityLegalName:/^[ A-Za-z0-9_@./#&+-]{3,30}$/,idNumberDss:/^[a-zA-Z0-9]{1,4}$/},IT:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^(?!0{0,5}$)(\d{5}$)/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(\d)\1+$)(^\d{7,15}$)/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N",DLNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,passportNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,firearmsLicenseNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,itIdentityCardNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,euIdentityCardNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,shipPassportNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,identificationsCardsIssuedByStateAdministrativeOfficesNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,residencePermitNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,residencePermitForEuLongTermResidenceNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,travelDocumentForForeignersIssuedByPoliceNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,travelDocumentForStatelessPersonsNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,travelDocumentForRefugeesNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,navigationBookNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/},AT:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^(?!0{1,4})\d{4}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N"},BE:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/(^\d{4}$)/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N"},LU:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^(L-)?\d{4}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"A"},NO:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^(?!0{4})\d{4}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N",eidNationalNumber:/^[\d]{11}$/},CH:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/(^\d{4}$)/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N"},PL:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^\d{2}-\d{3}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N"},EE:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:void 0,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N"},SE:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff ']/g,zipCode:/^(?!0{5})\d{5}$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/^[a-zA-Z0-9\s]{3,20}$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,zipCodeFieldFormat:"N",eidNationalNumber:/^([\d]{10}|[\d]{12})$/,warnCard:/^(420571|453903|453904|453905|489498|557892|453901)/},BR:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff ]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z\xc0-\xff]{1})(?=(.*[a-zA-Z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/,cityInputKeyup:/[^a-zA-Z\xc0-\xff \.'-]/g,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,24}$/i,zipCode:/(^\d{5}\-\d{3}$)|(^\d{2}\.\d{3}\-\d{3}$)|(^\d{9}$)/,contactPhone:/^[0-9]{10}$/,answerTest:/^[a-zA-Z\xc0-\xff0-9\s]{3,20}$/,mobileNumber:/^[0-9]*$/,zipCodeKeyup:/^[a-zA-Z\xc0-\xff0-9]+$/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,zipCodeReplace:/[^0-9a-zA-Z\xc0-\xff]/g,zipCodeFieldFormat:"N"},NL:{zipCode:/^[1-9][0-9]{3}[a-zA-Z]{2}$/,zipCodeFieldFormat:"A"},RO:{zipCode:/^(\d)(?!\1{5})\d{5}$/},DK:{eidNationalNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,25}$/,zipCode:/^(?!0{4})\d{4}$/},LT:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e .]*(['-][a-zA-Z\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e .]*){0,2}$)(?=(.*[a-zA-Z\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e.]){2}.*$)^[a-zA-Z\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e '-.]{2,25}$/,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e '-.]{2,25}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e])\2{2})(?!.*( |'|-|"|\.|\_|\*|\&|\(|\))\3{1})(?=.*\d{1})(?=.*[a-zA-Z\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e]{1})(?=(.*[a-zA-Z\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e\d]){3}.*$)(?!.*[Pp]+(OST|ost)*\.*\s*[Oo0]*(FFICE|ffice)*\.*\s*[Bb]*\.*\s*[Oo0]*\.*\s*[X|x].*)^[a-zA-Z\u0104\u010c\u0118\u0116\u012e\u0160\u0172\u016a\u017d\u0105\u010d\u0119\u0117\u012f\u0161\u0173\u016b\u017e0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,zipCode:/^(LT( |-)?)?\d{5}$/,zipCodeFieldFormat:"A"},LI:{zipCode:/^\d{4}$/,zipCodeFieldFormat:"N"},LV:{zipCode:/^(LV( |-)?)?\d{4}$/},ES:{zipCode:/^\d{5}$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z])\2{3})(?!.*( |'|-|")\3{1})(?=.*[a-zA-Z]{1})(?=(.*[a-zA-Z\d]){3}.*$)^(?!.*[\*\"\(:,\/\.\\;&\)\[\]_\+#' -]{2}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,idnumber:/(?!(.)\1+$)(?!.*(.)\2{5})(?!.*( |'|-)\3{1})(?=(.*[a-zA-Z0-9]){4}.*$)(?=.*[0-9])^[a-zA-Z0-9 \*\/\-]{4,20}$/,businessEntityLegalName:/^[ A-Za-z0-9_@./#&+-]{3,30}$/,averageMonthlyIncome:/^((([a-zA-Z]+|[\u0024\u00A2\u00A3\u00A4\u00A5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0\u20A1\u20A2\u20A3\u20A4\u20A5\u20A6\u20A7\u20A8\u20A9\u20AA\u20AB\u20AC\u20AD\u20AE\u20AF\u20B0\u20B1\u20B2\u20B3\u20B4\u20B5\u20B6\u20B7\u20B8\u20B9\u20BA\u20BB\u20BC\u20BD\u20BE\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])\s?\d+)|(\d+\s?([a-zA-Z]+|[\u0024\u00A2\u00A3\u00A4\u00A5\u058F\u060B\u07FE\u07FF\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0\u20A1\u20A2\u20A3\u20A4\u20A5\u20A6\u20A7\u20A8\u20A9\u20AA\u20AB\u20AC\u20AD\u20AE\u20AF\u20B0\u20B1\u20B2\u20B3\u20B4\u20B5\u20B6\u20B7\u20B8\u20B9\u20BA\u20BB\u20BC\u20BD\u20BE\u20BF\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])))$/},MY:{zipCode:/^(\d)(?!\1{4})\d{4}$/,MILITARY_ID:/^(\d{12})?$/,UNHCR_CARD:/^[a-zA-Z0-9]{11}$/,EMERGENCY_PASSPORT:/^[a-zA-Z0-9]{12}$/,WORK_PERMIT:/^[a-zA-Z0-9]{9}$/,PR_CARD:/^(\d{12})?$/,NATIONAL_ID:/^(\d{12})?$/,DRIVER_LICENSE:/^(\d{12})?$/,PASSPORT:/^[a-zA-Z0-9]{8,9}$/,IKAD:/^[a-zA-Z0-9]{9}$/,zipCodeFieldFormat:"N"},FI:{zipCode:/^\d{5}$/},SI:{zipCode:/^(?=[a-zA-Z_\+\[\]\:\;\'\,\/.\-"!@#$%^&*()\d]{4,7}$)[a-zA-Z_\+\[\]\:\;\'\,\/.\-"!@#$%^&*()]*\d{4}[a-zA-Z_\+\[\]\:\;\'\,\/.\-"!@#$%^&*()]*$/},NZ:{firstName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z ]*(['-][a-zA-Z ]*){0,2}$)(?=(.*[a-zA-Z]){2}.*$)^[a-zA-Z '-]{2,25}$/,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z .]*(['-][a-zA-Z .]*){0,2}$)(?=(.*[a-zA-Z.]){2}.*$)^[a-zA-Z '-.]{2,25}$/,lastName:new RegExp("^(?! )(?!(.)\\1+$)(?!.*(.)\\2{2})(?!.*( |'|-|\\.)\\3{1})(?=\\S*(\\s\\S*){0,4}$)(?=["+A+" .]*(['-]["+A+" .]*){0,2}$)(?=(.*["+A+".]){2}.*$)^["+A+" '-.]{1,50}\\S$"),zipCode:/^(?!0{4})\d{4}$/,DLNumber:/^\w{2}\d{6}$/,DLVersionNumber:/^\d{3}$/},PT:{zipCode:/\d{4}-\d{3}$/,zipCodeFieldFormat:"A"},AR:{zipCode:/^\d{4}$/},HK:{middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{2})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,1}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){1}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{1,40}$/},globalPPS:{firstName:/^(?! )(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{1,25}\S$/,middleName:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{2})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,1}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){1}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{1,40}$/,lastName:/^(?! )(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff.]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-.]{1,40}\S$/,password:/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789@!&$%#^*]).{8,20}$)/,currentPassword:/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789@!&$%]).{7,20}$)/,address:/(?!(.)\*$)(?!.*([a-zA-Z])\2{3})(?!.*( |'|-|")\3{1})((?=.*\d{1})|(?=.*[a-zA-Z]{1}))(?=(.*[a-zA-Z\d]){1}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)((?![0-9]*$))^(?!.*[\*\"\(:,\/\.\\;&\)\[\]_\+#'-]{2}.*$)(?=(.*[A-Za-z]){3})^[a-zA-Z0-9\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,city:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]){1}.*$)^[a-zA-Z \xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]{2,20}$/,zipCode:/(?=^([a-zA-Z\d]{2}))(?!0{3,5})[A-Za-z0-9 -]{3,10}$/,californiaZipCode:/^([9][0-6])\d{3}$/,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*(['-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-]{3,40}$/,relationshipText:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*([-][a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){2}.*$)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff '-]{3,50}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,addBankRoutingNumber:/^\d{9}$/,addBankAccountNumber:/^\d{1,25}$$/,addBillerAccountNumber:/^[A-Za-z0-9]{1,20}$/,phoneNumberTrackTransfer:/^[0-9]{10}$/,addContactInfoIbanBic:/[^\w\s]/,addChar:/^[a-zA-Z0-9\b \#\(\{\}\&\)\[\]\_\+\:\;\'\,\/.\-\"\*\\]+$/,customCharAddress:/^[a-zA-Z0-9\b \#\(\{\}\&\)\[\]\_\+\:\;\'\,\/.\-\"\*\\]+$/,state:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]){1}.*$)^[a-zA-Z \xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]{2,20}$/,county:void 0,contactPhoneReceiver:/^[0-9]{7,15}$/,contactPhoneReceiverChina:/^1[0-9]\d{9}$/,alphabet:/[a-zA-Z\-]/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,postalCode:/^\d{5}$/,ppsPostalCode:/^.{4,10}$/,negatedAlphabetWithSpace:/[^a-zA-Z \s]/gi,email:/^[a-zA-Z0-9_-]+(?:\.[a-zA-Z0-9_-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/,lastSevenDigitContactPhone:/^(?!.*(\d)\1{6}\b)^[0-9]{0,15}$/,number:/^[0-9]+$/,matchSpace:/\s \.+/g,alphaNumeric:/(?!.*( )\1{1})^[0-9a-zA-Z ]+$/,alphaNumericWthDot:/(?!.*( )\1{1})^[0-9a-zA-Z. ]+$/,alphaNumericRut:/^[0-9]{2}.?[0-9]{3}.?[0-9]{3}-?[0-9k]$/,notAlphaNumeric:/[^0-9a-zA-Z]/gi,alphaNumericWithSpace:/(?!.*( )\1{1})^(?![0-9]*$)[a-zA-Z0-9 ]+$/,notAlphaNumericWithSpace:/[^0-9a-zA-Z ]/gi,negatedNumber:/[^0-9]/g,nationalId:/[^0-9.k\-]/g,amount:/^([0-9]{0,7}(\.\d{0,2})?)?$/,sendMoneyAmount:/^(?=.)([1-9][0-9]{0,2}(,[0-9]{0,3})|[0-9]{0,14})?(\.[0-9]{0,2})?$/,zeroAmount:/^[0]+\.?[0]?[0]?$/,usPromoCode:/^[A-Za-z0-9\-]{0,20}$/,trackingNumber:/^[0-9]{0,10}$/,validatePromocode:/[^A-Za-z0-9\-]{0,20}$/,promoCode:/^[A-Za-z0-9\-]{0,20}(\s[A-Za-z0-9\-]{1,20})*?$/,negatedAmountNumber:/[^0-9.,]/g,cnMobileNumber:/^(?:1[1-9][0-8][0-9])(?!(\d)\1+$)([0-9])(?!11)([0-9]{6})$/,mobileNumberAnyDigit:/^[\d+$]{10,10}/,charRestricted:/^[^\"$%&()*+;@*_~>?<[\]^`{|}.!#]+$/g,invalidCardsBIN:new RegExp("null"),masterCard:/^5[1-5]\d{14}$|^2(?:2(?:2[1-9]|[3-9]\d)|[3-6]\d\d|7(?:[01]\d|20))\d{12}$/,visaCard:/^4(\d{12}|\d{15})$/,electronCard:/^(4026|4405|4508|4844|4913|4917)\d{12}$|^417500\d{10}$/,visaCard1:/^4\d{15}/,visaCard2:/^4\d{12}/,maestroCard:/(^(?:5[0678]\d\d|6304|6390|67\d\d|0604)\d{8,15}$)|(^(4903|4905|4911|4936|6333|6759)(\d{12}|\d{14}|\d{15})$|^(564182|633110)(\d{10}|\d{12}|\d{13})$)/,discoverCard:/^6011\d{12}$|^64[4-9]\d{13}$|^65\d{14}$|^(622(1(2[6-9]|[3-9][0-9])|[2-8][0-9]{2}|9([01][0-9]|2[0-5])))\d{10}$/,amexCard:/^3[47]\d{13}$/,mirCard:/^220[0-4]\d{12}$/,eloCard:/^(504175|506699|506700|506704|506714|506716|506718|506721|506722|506724|506725|506726|506727|506728|506729|506730|506731|506732|506733|506735|506741|506742|506744|506748|506753|506754|506755|506758|506760|506761|506762|506764|506766|506767|506770| 506771|506774|506775|506776|506778|509000|509002|509003|509008|509014|509015|509017|509018|509032|509034|509041|509042|509045|509048| 509051|509055|509059|509061|509063|509065|509067|509068|509069|509073|509091|509093|509291|509728|509882|636297|636368)\d{10}$/,masterCardPrefix:/^5[1-5]|^2(?:2(?:2[1-9]|[3-9]\d)|[3-6]\d\d|7(?:[01]\d|20))/,visaCardPrefix:/^4/,electronCardPrefix:/^(4026|4405|4508|4844|4913|4917|417500)/,maestroCardPrefix:/(^(?:5[0678]|6304|6390|67|0604|4903|4905|4911|4936|6333|6759|564182|633110))/,discoverCardPrefix:/^(6011|64[4-9]|65|(622(1(2[6-9]|[3-9][0-9])|[2-8][0-9]{2}|9([01][0-9]|2[0-5]))))/,mirCardPrefix:/^220[0-4]/,amexCardPrefix:/^3[47]/,eloCardPrefix:/^(504175|506699|506700|506704|506714|506716|506718|506721|506722|506724|506725|506726|506727|506728|506729|506730|506731|506732|506733|506735|506741|506742|506744|506748|506753|506754|506755|506758|506760|506761|506762|506764|506766|506767|506770| 506771|506774|506775|506776|506778|509000|509002|509003|509008|509014|509015|509017|509018|509032|509034|509041|509042|509045|509048| 509051|509055|509059|509061|509063|509065|509067|509068|509069|509073|509091|509093|509291|509728|509882|636297|636368)/,BillerAccountNumber:/^[A-Za-z0-9]{0,20}$/,notRepeatedText:/\b(\w)\1+\b/,senderPhoneNumber:/^[0-9]{0,15}$/,reward:/^\d{9}$/,sortCode:/^\d+$/,cityInputKeyup:/[^a-zA-Z \.'-]/g,zipCodeKeyup:/^[0-9]+$/,zipCodeReplace:/[^0-9]/g,accountNumericRegex:/(?=([X]{2,})|(\d{1,}))(?![X]{2,}\d{1,}[X]{1,})(?!\d{1,}[X]{1,}\d{1,})^[0-9X]+$/g,bankName:/[a-zA-Z0-9 ]+[\.]{0,1}$/,captcha:/^[0-9a-zA-Z ]{6}$/,alphaCodeKeyup:/[^a-zA-Z0-9_ #&()+*",';:.\\\/\-\[\]]+$/,NAPPhoneNum:/^\(?([2-9][0-9]{2})\)?[-. ]?([2-9](?!11)[0-9]{2})[-. ]?([0-9]{4})$/,NACountryCode:/US|CA|BM|AI|AG|BS|BB|VG|KY|DM|DO|GD|JM|MS|S1|KN|LC|VC|TT|TC/,SSNRequiredIssuer:/US|AS|GU|MP|PR|UM|VI/,disclaimerINTL7:/CN|ZA|BR|ET|TW|AR/,receiverAddress:/^(?=.*?[a-zA-Z0-9])(?=[\w #&()_+\[\]:;',\/.\\\-"*]{3,}$)((.)\2?(?!\2{3,}))+$/,pobox:/\bP(ost|ostal)?([ \.]*(O|0)(ffice)?)?([ \.]*Box)?\b/i,securitySendAmount:/^[0-9.,]+$/,MIMBanksCode:/UTIB|BARB|MAHB|BARC|CSBK|CBIN|CIUB|BKDN|FDRL|HDFC|ICIC|IDIB|INDB|KVBL|KKBK|PUNB|SIBL|SYNB|UCBA|UBIN|YESB/,PHMIMBanksCode:/ALL|ASB|AUB|BDO|BMB|BOC|BPI|CRD|CBC|CBS|CCB|CSB|DPB|EWB|EBI|EQB|GBC|HSB|HBP|IBI|KEB|LBP|MSB|MPI|10269996|PBC|PBB|PNB|PPB|PSB|PVB|PTC|PBK|PRB|QRB|RCB|RSB|RBI|RBN|SEC|SCB|SBA|TYB|USB|WDB|WPB/,zipCodeFieldFormat:"N",addressTwo:/(?!(.)\+$)(?!.*([a-zA-Z])\2{2})(?!.*( |'|-|")\3{1})(?=(.*[a-zA-Z\d]){1}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{1,40}$/,DLNumber:/^[a-zA-Z0-9]{4,}$/,DLCardNumber:/^[0-9]{1,}$/,DLVersionNumber:/^\d{3}$/,passportNumber:/^[a-zA-Z0-9]{4,}$/,mcCardNumber:/^[a-zA-Z0-9]{4,}$/,mcCardRefNumber:/^[\d]{1}$/,eidNationalNumber:/^[\d]{12}$/,nonUSAddress:/(?!(.)\*$)(?!.*([a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff])\2{2})(?!.*( |'|-|")\3{1})((?=.*\d{1})|(?=.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]{1}))(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff\d]){1}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff0-9\xc3\u20ac\xc3\x81\xc3\u201a\xc3\u0192\xc3\u201e\xc3\u2026\xc3\u2020\xc3\u2021\xc3\u02c6\xc3\u2030\xc3\u0160\xc3\u2039\xc3\u0152\xc3\x8d\xc3\u017d\xc3\x8f\xc3\x90\xc3\u2018\xc3\u2019\xc3\u201c\xc3\u201d\xc3\u2022\xc3\u2013\xc3\u02dc\xc3\u2122\xc3\u0161\xc3\u203a\xc3\u0153\xc3\x9d\xc3\u017e\xc3\u0178\xc3\xa0\xc3\xa1\xc3\xa2\xc3\xa3\xc3\xa4\xc3\xa5\xc3\xa6\xc3\xa7\xc3\xa8\xc3\xa9\xc3\xaa\xc3\xab\xc3\xac\xc3\xad\xc3\xae\xc3\xaf\xc3\xb0\xc3\xb1\xc3\xb2\xc3\xb3\xc3\xb4\xc3\xb5\xc3\xb6\xc3\xb8\xc3\xb9\xc3\xba\xc3\xbb\xc3\xbc\xc3\xbd\xc3\xbe\xc3\xbf \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,nonUSCity:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]){1}.*$)^[a-zA-Z \xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]{2,20}$/,nonUSState:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]){1}.*$)^[a-zA-Z \xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]{2,20}$/},globalFraudform:{firstName:/^(?! )(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC .]*(['-][a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC .]*){0,2}$)(?=(.*[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC.]){2}.*$)^[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC '-.]{1,50}\S$/,lastName:/^(?! )(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-|\.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC .]*(['-][a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC .]*){0,2}$)(?=(.*[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC.]){2}.*$)^[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC '-.]{1,50}\S$/,address:/(?!(.)\1+$)(?!.*([a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])\2{2})(?!.*( |'|-|"|\.|\_|\*|\&|\(|\))\3{1})(?=.*\d{1})(?=.*[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]{1})(?=(.*[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC \d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC 0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,100}$/,city:/^(?! )(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]){2}.*$)^[a-zA-Z \u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC \.'-]{2,50}\S$/},dlRegex:{AL:/^[0-9]{1,7}$/,AK:/^[0-9]{7}$/,AZ:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[a-zA-Z]{2}[0-9]{2,5}$)|(^[0-9]{9}$)/,AR:/^[0-9]{9}$/,CA:/^[a-zA-Z]{1}[0-9]{7}$/,CO:/(^[0-9]{9}$)|(^[a-zA-Z]{1}[0-9]{3,6}$)|(^[a-zA-Z]{2}[0-9]{2,5}$)/,CT:/^[0-9]{9}$/,DE:/^[0-9]{1,7}$/,DC:/(^[0-9]{7}$)|(^[0-9]{9}$)/,FL:/^[a-zA-Z]{1}[0-9]{12}$/,GA:/^[0-9]{7,9}$/,HI:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,ID:/(^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$)|(^[0-9]{9}$)/,IL:/^[a-zA-Z]{1}[0-9]{11,12}$/,IN:/(^[a-zA-Z]{1}[0-9]{9}$)|(^[0-9]{9,10}$)/,IA:/^[0-9]{9}$|([0-9]{3}[a-zA-Z]{2}[0-9]{4}$)/,KS:/(^([a-zA-Z]{1}[0-9]{1}){2}[a-zA-Z]{1}$)|(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,KY:/(^[a-zA-Z]{1}[0-9]{8,9}$)|(^[0-9]{9}$)/,LA:/^[0-9]{1,9}$/,ME:/(^[0-9]{7,8}$)|(^[0-9]{7}[a-zA-Z]{1}$)/,MD:/^[a-zA-Z]{1}[0-9]{12}$/,MA:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,MI:/(^[a-zA-Z]{1}[0-9]{10}$)|(^[a-zA-Z]{1}[0-9]{12}$)/,MN:/^[a-zA-Z]{1}[0-9]{12}$/,MS:/^[0-9]{9}$/,MO:/(^[a-zA-Z]{1}[0-9]{5,9}$)|(^[a-zA-Z]{1}[0-9]{6}[R]{1}$)|(^[0-9]{8}[a-zA-Z]{2}$)|(^[0-9]{9}[a-zA-Z]{1}$)|(^[0-9]{9}$)/,MT:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{13}$)|(^[0-9]{9}$)|(^[0-9]{14}$)/,NE:/(^[0-9]{1,7}$)|(^[a-zA-Z]{1}[0-9]{3,8}$)/,NV:/(^[0-9]{9,10}$)|(^[0-9]{12}$)|(^[X]{1}[0-9]{8}$)/,NH:/^[0-9]{2}[a-zA-Z]{3}[0-9]{5}$/,NJ:/^[a-zA-Z]{1}[0-9]{14}$/,NM:/^[0-9]{8,9}$/,NY:/(^[a-zA-Z]{1}[0-9]{7}$)|(^[a-zA-Z]{1}[0-9]{18}$)|(^[0-9]{8}$)|(^[0-9]{9}$)|(^[0-9]{16}$)|(^[a-zA-Z]{8}$)/,NC:/^[0-9]{1,12}$/,ND:/(^[a-zA-Z]{3}[0-9]{6}$)|(^[0-9]{9}$)/,OH:/(^[a-zA-Z]{1}[0-9]{4,8}$)|(^[a-zA-Z]{2}[0-9]{3,7}$)|(^[0-9]{8}$)/,OK:/(^[a-zA-Z]{1}[0-9]{9}$)|(^[0-9]{9}$)/,OR:/^[0-9]{1,9}$/,PA:/^[0-9]{8}$/,RI:/^([0-9]{7}$)|(^[a-zA-Z]{1}[0-9]{6}$)/,SC:/^[0-9]{5,11}$/,SD:/(^[0-9]{6,10}$)|(^[0-9]{12}$)/,TN:/^[0-9]{7,9}$/,TX:/^[0-9]{7,8}$/,UT:/^[0-9]{4,10}$/,VT:/(^[0-9]{8}$)|(^[0-9]{7}[A]$)/,VA:/(^[a-zA-Z]{1}[0-9]{9,11}$)|(^[0-9]{9}$)/,WA:/^(?=.{12}$)[a-zA-Z]{1,7}[a-zA-Z0-9\*]{4,11}$/,WV:/(^[0-9]{7}$)|(^[a-zA-Z]{1,2}[0-9]{5,6}$)/,WI:/^[a-zA-Z]{1}[0-9]{13}$/,WY:/^[0-9]{9,10}$/}};let N=(()=>{class _{constructor(U){this.readURLService=U,this.WuRegex=E}generateWURegex(U,w){this.WURegex=E.global;const O=this.readURLService.getCountryLanguage();if(O&&O.country){const G=O.country.toUpperCase();this.specificCountryRegex=E[G],U&&w&&(this.specificCountryRegex=E.globalPPS)}if(this.specificCountryRegex&&0!==Object.keys(this.specificCountryRegex).length)for(const G in this.WURegex)this.specificCountryRegex[G]&&(this.WURegex[G]=this.specificCountryRegex[G]);return this.WURegex}getCountrySpecificRegex(U){return{...E.global,...E[U]}}static#e=this.\u0275fac=function(w){return new(w||_)(e.KVO(o.Fq))};static#t=this.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},37377:(n,d,t)=>{"use strict";t.d(d,{P:()=>D});var o=t(95006),e=t(92079),x=t(78863),$=t(23867),W=t(38992),K=t(93885),V=t(77202),P=t(54438);let D=(()=>{class f extends e.w{constructor(A,E,N,_){super(),this.templateService=E,this.regexService=N,this.utilService=_,this.currentSendCountryCode="",this.currentLanguageCode="";const M=A.getCountryLanguage();M&&(this.currentLanguageCode=M?.language,this.currentSendCountryCode=M?.country)}getRegistrationTemplate(A,E,N){let _=this.currentSendCountryCode.toUpperCase();A&&(_+="-PPS"),E&&(_=_+"-"+E),N&&(_=this.currentSendCountryCode.toUpperCase()+"-"+N.toUpperCase());const M={language:this.currentLanguageCode,origination:_};let U="/registrationtemplates/registration.optimus.json";return U="/wuconnect/dcaas/caas-config/senderconfig",N&&(M.partnerName=N.toUpperCase()),this.templateService.getTemplate("/wuconnect/dcaas/caas-config/senderconfig",M).pipe((0,o.T)(w=>{const O=this.regexService.generateWURegex(),G=w.registrationCTRTemplate;G&&G.dataIndustryList&&this.utilService.isShowEmpFieldAddition()&&sessionStorage.setItem("dataIndustryList",JSON.stringify(G.dataIndustryList)),this.template={};for(const s in G)if(G.hasOwnProperty(s))switch(s){case"profileSecurityQuestions":this.areSecurityQuestionsEnabled()&&(this.template.answerTest={value:null,pattern:O.answerTest},this.addFieldToTemplate(s,G,O));break;case"dataProfileSecurityQuestionsList":this.areSecurityQuestionsEnabled()&&(this.template.dataProfileSecurityQuestionsList={value:this.getListData(G[s]),pattern:null});break;case"showTermsAndConditionsField":A&&"GB"===this.currentSendCountryCode.toUpperCase()||(this.template.showTermsAndConditionsField={value:null,pattern:null});break;case"nametypeOptionField":case"paternalNameField":case"maternalNameField":if("ES"===this.currentSendCountryCode.toUpperCase()&&("M"===G.paternalNameField||"M"===G.maternalNameField)&&this.addFieldToTemplate(s,G,O),"BR"===this.currentSendCountryCode.toUpperCase()&&("M"===G.paternalNameField||"O"===G.maternalNameField)){const a=this.getTemplateFieldToRegExMapping("lastNameField"),c=this.getTemplateFieldToRegExMapping("middleNameField");this.template.lastNameField={value:this.getFieldType(G.paternalNameField),pattern:O[a]},this.template.middleNameField={value:this.getFieldType(G.maternalNameField),pattern:O[c]}}break;default:this.addFieldToTemplate(s,G,O)}return this.template.captcha={value:null,pattern:O.captcha},this.template.phoneNumberField={value:null,pattern:O.mobileNumber},this.template}))}addFieldToTemplate(A,E,N){if("M"===E[A]||"O"===E[A]||"P"===E[A]){const _=this.getTemplateFieldToRegExMapping(A);this.template[A]={value:this.getFieldType(E[A]),pattern:N[_]}}else"NA"===E[A]||(this.template[A]={value:E[A],pattern:null})}getListData(A){const E=[];for(const N in A)"listPath"!==N&&E.push({key:N,value:A[N]});return E}areSecurityQuestionsEnabled(){let A=!0;return("enable"===K.Y.removeSecurityQuestionsSwitch&&"US"===this.currentSendCountryCode.toUpperCase()||K.Y.removeSecurityQuestionsGlobalSwitch[this.currentSendCountryCode.toUpperCase()]&&"US"!==this.currentSendCountryCode.toUpperCase())&&(A=!1),A}getTemplateFieldToRegExMapping(A){const E={emailIDField:"email",firstNameField:"firstName",middleNameField:"middleName",lastNameField:"lastName",paternalNameField:"paternalName",maternalNameField:"maternalName",cityField:"city",stateTxtField:"state",postalCodeField:"zipCode",phoneNumberField:"contactPhone",mobileNumberField:"mobileNumber",addressField1:"address",addressField2:"addressTwo"};return E[A]?E[A]:A}static#e=this.\u0275fac=function(E){return new(E||f)(P.KVO(x.Fq),P.KVO($.I),P.KVO(W.B),P.KVO(V.a))};static#t=this.\u0275prov=P.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},1027:(n,d,t)=>{"use strict";t.d(d,{l:()=>O});var o=t(76009),e=t(14421),x=t(78863),$=t(31310),W=t(2788),K=t(67376),P=t(37486),D=t(93885),f=t(87601),C=t(17742),A=t(34781),E=t(64646),N=t(66726),_=t(8788),M=t(15070),U=t(9325),w=t(54438);let O=(()=>{class G{constructor(a,c,r,g,p,h,l){this.countryConfigService=a,this.updateStoreUsingActionService=c,this._stageAndPayService=g,this._store=p,this.readURLService=h,this.fundsInUtilService=l,this.isWupayResendFlow=!1,this.isMobileWalletResendFlow=!1,this.NEW_LAUNCH_WUPAY_COUNTRIES=["ES","PT"],this.isSofortResendFlow=!1,this.isMobileWalletPayInEnabled=!1,this.smoConfigData=null,this.countryCode=this._getCountryIsoCode().toUpperCase(),this._store.pipe((0,E.Lt)(N.CF)).subscribe(v=>{this.populateInstanceValue(v)}),this._store.pipe((0,E.Lt)(N.iE)).subscribe(v=>{this.isWupayResendFlow=v}),this._store.pipe((0,E.Lt)(N.r0)).subscribe(v=>{this.isMobileWalletResendFlow=v}),this._store.pipe((0,E.Lt)(N.h7)).subscribe(v=>{this.isSofortResendFlow=v}),this._store.pipe((0,E.Lt)(N.jm)).subscribe(v=>{this.isMobileWalletPayInEnabled=v})}populateInstanceValue(a){a&&(this.smoConfigData=a,this._countryCurrencyDefaults=a.countryCurrencyDefaults?a.countryCurrencyDefaults:"",this.fundsOutOptions=a.fundsOutOptions?a.fundsOutOptions:"",this.fundsInOptions=a.fundsInOptions?a.fundsInOptions:"",this.globalCurrencies=a.globalCurrencies?a.globalCurrencies:"",this.retailLimits=a.retailLimits?a.retailLimits:"",this.retailOnlyCorridor=a.retailOnlyCorridor?a.retailOnlyCorridor:"",this._fifoDefaults=a.fifoDefaults?a.fifoDefaults:"",this.wuDirectedService=a.wuDirectedService?a.wuDirectedService:"",this.mapDefaultsForPreferredFIFO())}mapDefaultsForPreferredFIFO(){if(this.isPreferredFIFOEnabled()&&!K.isEmpty(this._fifoDefaults)){const a=this.updateStoreUsingActionService.getState().countryDynamicParams;let c=JSON.parse(a&&a.PREFERRED_FIFO||"{}");Array.isArray(c)&&(c=c[0]);const r=K.cloneDeep(this._fifoDefaults);for(const g of r){const p=this.fundsInOptions[g.isoCode],h=this.fundsOutOptions[g.isoCode],l=c?.fundsIn??P.mt.DebitCard,v=g?.isoCode?.toUpperCase(),S=c?.DefaultFundsOutCash&&c?.DefaultFundsOutCash?.includes(v)?"AG":c?.DefaultFundsOutBank&&c?.DefaultFundsOutBank?.includes(v)?"BA":c?.DefaultFundsOutDebitCard&&c?.DefaultFundsOutDebitCard?.includes(v)?"D2C":c?.DefaultFundsOutWallet&&c?.DefaultFundsOutWallet?.includes(v)?"WA":c?.fundsOut?c?.fundsOut:P.Zr.BA;p&&"Y"===p[l]&&h&&"Y"===h[S]&&(g.fundsIn=l,g.fundsOut=S)}this._fifoDefaults=Object.assign([],r)}}getWuDirectedService(){return this.wuDirectedService}getRetailLimits(){return typeof this.retailLimits<"u"?this.retailLimits:null}countryCurrencyDefaults(){return this._countryCurrencyDefaults}fifoDefaults(){return this._fifoDefaults}getRetailOnlyCorridor(){return typeof this.retailOnlyCorridor>"u"?null:this.retailOnlyCorridor}getFundsOutOptions(a){return this.smoConfigData.fundsOutOptions[a]}getFundsInOptions(a){a||(a="MX");const c=this.smoConfigData.fundsInOptions;this.sessionFromStore=this.updateStoreUsingActionService.getState();const r=sessionStorage.getItem("partnerName")||"",g="existingCustomer"===this.readURLService.getCookieItem("userIdentity");if(r&&r.toLowerCase()===D.Y.ALIPAY_PARTNER)return c[a];if(this.sessionFromStore.isPPSprofile)return c[a]={CreditCard:"Y"};if(this.sessionFromStore.sender&&this.sessionFromStore.sender.verificationStatus&&"Y"!==this.sessionFromStore.sender.verificationStatus&&D.Y.unverifiedDisableFundsInOptions.hasOwnProperty(this.getSenderCountry().senderIsoCode))for(let h=0;h<D.Y.unverifiedDisableFundsInOptions[this.getSenderCountry().senderIsoCode].length;h++){const l=D.Y.unverifiedDisableFundsInOptions[this.getSenderCountry().senderIsoCode][h];delete c[a][l]}return"FR"!==this.getSenderCountry().senderIsoCode||this.isSofortResendFlow||sessionStorage.getItem("enableKlarnaTransfer")||sessionStorage.getItem("isSoftDeclineForKlarna")?"FR"===this.getSenderCountry().senderIsoCode&&(this.isSofortResendFlow||sessionStorage.getItem("enableKlarnaTransfer")||sessionStorage.getItem("isSoftDeclineForKlarna"))&&(c[a].Sofort="Y"):c[a].Sofort="","MY"===this.getSenderCountry().senderIsoCode&&!this.isFeatureEnabled("ENABLED_DEBIT_PAYMENT")&&!this.sessionFromStore.isResendFlow&&(c[a].DebitCard=""),"MY"===this.getSenderCountry().senderIsoCode&&(this.isMobileWalletPayInEnabled||this.isMobileWalletResendFlow)?c[a].MW="Y":this.isMobileWalletPayInEnabled||this.isMobileWalletResendFlow||(c[a].MW=""),c[a].GooglePay=this.fundsInUtilService.isGooglePayFundsInEnabled(this.getSenderCountry().senderIsoCode)?"Y":"",c[a].Plaid=this.fundsInUtilService.isPlaidFundsInEnabled(this.getSenderCountry().senderIsoCode)?"Y":"",this.isFeatureEnabled("ENABLE_WUPAY_PAYIN")||this.isWupayResendFlow?c[a].WUPay="Y":!this.isFeatureEnabled("ENABLE_WUPAY_PAYIN")&&!this.isWupayResendFlow&&-1!==this.NEW_LAUNCH_WUPAY_COUNTRIES.indexOf(this.getSenderCountry().senderIsoCode)&&(c[a].WUPay=""),sessionStorage.getItem("enableTrustlyFundsIn")&&(c[a].Trustly="Y"),"ES"===this.getSenderCountry().senderIsoCode&&(c[a].Trustly=""),this.isFeatureEnabled("DISABLE_SOFORT_KLARNA_PAYIN")&&("true"===sessionStorage.getItem("disable_Sofort_Klarna")||-1!==D.Y.SofortKlarnaDisabledCountries?.indexOf(this.getSenderCountry()?.senderIsoCode))&&(c[a].Sofort=g?"Y":""),this.isFeatureEnabled("SUNSET_SOFORT_PAYIN_FOR_POSTBANK")&&r.toUpperCase()===D.Y.POSTBANK_PARTNER&&(c[a].Sofort=""),c[a].PayNow=this.fundsInUtilService.isPayNowFundsInEnabled(this.getSenderCountry().senderIsoCode)?"Y":"",c[a].BanContact=this.fundsInUtilService.isBanContactFundsInEnabled(this.getSenderCountry().senderIsoCode)?"Y":"",c[a].C3=this.fundsInUtilService.isC3FundsInEnabled(this.getSenderCountry().senderIsoCode)?"Y":"",this.fundsInUtilService.isCreditCardFundsInEnabled(this.getSenderCountry().senderIsoCode)&&(c[a].CreditCard="Y"),this.fundsInUtilService.isDebitCardFundsInEnabled(this.getSenderCountry().senderIsoCode)&&(c[a].DebitCard="Y"),this.fundsInUtilService.isKlarnaFundsInEnabled(this.getSenderCountry().senderIsoCode)&&(c[a].Sofort="Y"),this.fundsInUtilService.allowInstantForFundsIn(this.getSenderCountry().senderIsoCode)&&(c[a].iACH="Y"),c[a].TK=this.fundsInUtilService.isTinkFundsInEnabled(this.getSenderCountry().senderIsoCode)?"Y":"",c[a]=this.fundsInUtilService.overrideFundsInForNewReceiverCorridor(a,c[a]),c[a]}isRetailOnlyCorridors(){this.sessionFromStore=this.updateStoreUsingActionService.getState();let a=!1;const c=this.sessionFromStore.corridor.receiverCountry?this.sessionFromStore.corridor.receiverCountry.isoCode:"",r=this.getRetailOnlyCorridor();return r&&(a=(K.get(r,c)||{}).retail_only||!1),a}isRemoveWupayForSGUnverifiedUser(){this.sessionFromStore=this.updateStoreUsingActionService.getState();const a=this.sessionFromStore.sender&&this.sessionFromStore.sender.customerVerificationStatus?this.sessionFromStore.sender.customerVerificationStatus.customerUnverifiedFlag:"";return"SG"===this.getSenderCountry().senderIsoCode&&"Y"===a}getFundsInOptionsTabEnabled(a){let c=!1;return this.countryConfigService.isFundsInOptionsTabEnabled()&&!K.isEmpty(a)&&(c=!0),c}isFMASDQEnabled(){let a=!1;const c=this.getGlobalConfig("switches","isFMASDQ"),r=this.getGlobalConfig("switches","countryListForFMASDQ"),g=this._getCountryIsoCode();return c&&"true"===c&&r&&g&&-1!==r.indexOf(g.toUpperCase())&&(a=!0),a}isHyperbandCountry(){const a=this.getGlobalConfig("switches","hyperbandCountries"),c=this.getSenderCountry();return a&&c&&a.indexOf(c.senderIsoCode)>-1}isFMASDQUnverifiedUseCase(){this.sessionFromStore=this.updateStoreUsingActionService.getState();let a=!1;return this.sessionFromStore.sender&&this.sessionFromStore.sender.customerVerificationStatus&&this.sessionFromStore.sender.customerVerificationStatus.identityFlag&&(-1!==W.J.NOT_VERIFIED.indexOf(this.sessionFromStore.sender.customerVerificationStatus.identityFlag)||-1!==W.J.VER_INPROGRESS.indexOf(this.sessionFromStore.sender.customerVerificationStatus.identityFlag))&&(a=!0),a}getGlobalConfig(a,c){const r=window.sessionStorage.getItem(a);if(r&&"undefined"!=r){let g=r.replace(/'/g,'"');if(g=JSON.parse(g),g&&g[c])return g[c]}return null}getSenderCountry(){this.sessionFromStore=this.updateStoreUsingActionService.getState();const a={},c=this.countryCurrencyDefaults();if(a.senderIsoCode=this._getCountryIsoCode().toUpperCase(),a.senderCountryName=this._getCountryNameFromIsoCode(a.senderIsoCode,c),a.senderCurrencyArray=this._getCountryCurrencyInfo(a.senderIsoCode,c),a.senderCurrencyArray&&a.senderCurrencyArray.length>0){if(this.sessionFromStore.isPPSprofile&&"GB"===a.senderIsoCode)a.senderCurrency=this.sessionFromStore.PPSProfileData&&this.sessionFromStore.PPSProfileData.profileCurrency?a.senderCurrencyArray.filter(r=>r.currency===this.sessionFromStore.PPSProfileData.profileCurrency)[0].currency:a.senderCurrencyArray[2].currency;else{const r=a.senderCurrencyArray[0].currency;"string"==typeof r||r instanceof String?a.senderCurrency=r:r&&r.isoCode&&(a.senderCurrency=r.isoCode)}null!==a&&"LV"===a.senderIsoCode&&"USD"===a.senderCurrency&&(a.senderCurrency="EUR")}else a.senderCurrency=null;return this.isFeatureEnabled("OVERRIDE_SENDER_CURRENCY")&&"HR"===this._getCountryIsoCode().toUpperCase()&&(a.senderCurrency="EUR"),a}getReceiverCurrencyList(a){this.sessionFromStore=this.updateStoreUsingActionService.getState();const c=this.countryCurrencyDefaults();let r;return r=this?._getCountryCurrencyInfo(a,c),"PH"===a&&this.sessionFromStore.isPPSprofile&&(r=[r[0]]),this.isFeatureEnabled("OVERRIDE_RECEIVER_CURRENCY")&&"HR"===a&&this.sessionFromStore.isPPSprofile&&(r=[{currency:"EUR"}]),this.isFeatureEnabled("SHOW_LOCAL_CURRENCY_DEFAULT_RO")&&"RO"===a&&!this.sessionFromStore.isPPSprofile&&r.sort((g,p)=>g.currency>p.currency?-1:g.currency<p.currency?1:0),r}_getURLParam(a){const c=this.getUrlParam(),r=new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(c);let g="";r&&3===r.length&&(g=r[1]);let p=decodeURIComponent(g.replace(/\+/g,"%20"))||"";return p&&(p=p.trim()),p}_dtmGetCookie(a){let c,r,g;const p=document.cookie.split(";");for(c=0;c<p.length;c++)if(r=p[c].substr(0,p[c].indexOf("=")),g=p[c].substr(p[c].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r===a&&""!==g)return decodeURIComponent(g)}_getCountryIsoFromURL(){return this.readURLService.getCountryFromURL()?.toUpperCase()}_getCountryIsoCode(){let a=this._getCountryIsoFromURL();const c=(sessionStorage.getItem(M.d.TERRITORY_COUNTRY)||"").toString().toLowerCase(),r="true"===sessionStorage.getItem(M.d.TERRITORY_SWITCH);return c&&r&&(a=c),(a||"").toUpperCase()}getRetailOnlyLimits(){const a=this._getCountryIsoCode().toUpperCase(),c=this._stageAndPayService.getRetailOnlyLimits(a);return(0,e.of)(c)}isRetailOnly(){const a=this._getCountryIsoCode().toUpperCase();return this._stageAndPayService.isCountryRetailOnly(a)}_getCountryNameFromIsoCode(a,c){let r="";const g=(c||{}).countries||[];for(let p=0;p<g.length;p++)if(g[p].country&&g[p].country.isoCode&&g[p].country.isoCode.toLowerCase()===a.toLowerCase()){r=g[p].country.name;break}return r}_getCountryCurrencyInfo(a,c){this.sessionFromStore=this.updateStoreUsingActionService.getState();let r=[];const g=(c||{}).countries||[];for(let p=0;p<g.length;p++)if(g[p].country.isoCode.toLowerCase()===a?.toLowerCase()){const h=K.get(this.sessionFromStore.corridor,"senderCountry.isoCode")?K.get(this.sessionFromStore.corridor,"senderCountry.isoCode").toUpperCase():"";r=this.sessionFromStore.isPPSprofile||-1===D.Y.metaConfig.indexOf(h)?g[p].country.currencies:this.getPQCountryCurrencies(g[p].country.currencies)}return r}getPQCountryCurrencies(a){const c=[];for(let r=0;r<a.length;r++)K.get(a[r],"currency.isoCode")&&K.get(a[r],"currency.order")&&(c[K.get(a[r],"currency.order")-1]={currency:a[r].currency.isoCode});return 0===c.length?a:c}getLanguageFromURL(){const c=this.readURLService.getCurrentUrl().split("/");let r;return r=-1!==c.indexOf("content")?c[7]:c[4],r&&-1!==r.indexOf("_")&&(r=r.split("_")[1]),r&&r.length>2&&(r="",r||(r=this._getURLParam("WULanguage")||""),r||(r=this._dtmGetCookie("WULanguageCookie_")||""),r||(r="en")),r?r.toLowerCase():""}getGlobalCurrencies(){return this.globalCurrencies}isForCountry(a){let c;this.sessionFromStore=this.updateStoreUsingActionService.getState();const r=this._getCountryIsoFromURL().toUpperCase();let g;if("US"===r){if(this.sessionFromStore.corridor.receiverCountry&&-1!==o.Wp.COUNTRY_CODES.indexOf(this.sessionFromStore.corridor.receiverCountry.isoCode))return!0;c=o.uC.COUNTRY_CODES}else c="BR"===r||this.countryConfigService.isRetail()?o.Rm.COUNTRY_CODES:o._N.COUNTRY_CODES;return g=!(this.sessionFromStore.corridor.receiverCurrencyArray&&this.sessionFromStore.corridor.receiverCurrencyArray.length>1)||-1!==o.bj.indexOf(this.sessionFromStore.corridor.receiverCurrency),-1!==c.indexOf(a)&&g}getSWBDisabledPayments(a){const c=this.fundsOutOptions[a];if(c.disabledSwbOptions.length>0)return Object.keys(c).filter(g=>c.disabledSwbOptions.includes(g))||null}isAUHBANDLimitCrossed(){this.sessionFromStore=this.updateStoreUsingActionService.getState();const a=K.get(this.sessionFromStore.corridor,"senderCountry.isoCode");return this.sessionFromStore.senderAmount>this.countryConfigService.getMinHbandLimit()&&this.countryConfigService.isHyperBandEnabled()&&"AU"===a}getUrlParam(){return this.readURLService.getURLParams()}isRetailPayoutEnabled(a){let c=!1;switch(a){case P.Zr.AG:c=this.countryConfigService.isAirPayoutAGEnabled()||!1;break;case P.Zr.BA:c=this.countryConfigService.isAirPayoutBAEnabled()||!1;break;default:c=!1}return c}selectedPayOut(a){return this.isRetailPayoutEnabled("AG")&&this.isRetailPayoutEnabled("BA")?a===P.Zr.AG||a===P.Zr.BA:this.isRetailPayoutEnabled("BA")?a===P.Zr.BA:a===P.Zr.AG}isRetailCorridorEnabled(a){let c=!1;return this.isRetailPayoutEnabled(P.Zr.BA)&&f.qg.indexOf(a)>-1&&(c=!0),c}isHistoryResumeTransferProvisionEnabled(){return!("us"!==this.countryCode.toLowerCase()||"en"!==this.getLanguageFromURL()||!this.isFeatureEnabled("RESUME_TRANSFER"))}getDateInputFormat(){return"US"===this._getCountryIsoCode()?"MM/DD/YYYY":"DD/MM/YYYY"}isMobileWalletEnabled(){this.sessionFromStore=this.updateStoreUsingActionService.getState();const a=this.getGlobalConfig("switches","countriesListForMobileWalletEnabled");return!!(a&&a.indexOf((this.sessionFromStore.corridor&&this.sessionFromStore.corridor.receiverCountry?this.sessionFromStore.corridor.receiverCountry.isoCode:"").toUpperCase())>-1)}isNgDUCEnabled(){const a=sessionStorage.getItem("isNgDUCEnabled"),c=K.get(JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}"),"payment_details.payment_type");return"true"===a&&c&&"cash"!==c.toLowerCase()}isFeatureEnabled(a){try{const c=this.updateStoreUsingActionService.getState(),r=sessionStorage.getItem("featureFlags"),p=(c.featureFlags?c.featureFlags:JSON.parse(r||"{}"))[a].countries;return"ALL"===p||p.indexOf(this._getCountryIsoCode().toUpperCase())>-1}catch{return!1}}isPartner(){let a=this.readURLService.getCookieItem("partnerName")||this._getURLParam("partnerName");return K.isEmpty(a)&&(a=this.updateStoreUsingActionService.getState()?.partnerData?.partnerName??""),!K.isEmpty(a)}isPPS(){return this.updateStoreUsingActionService.getState()?.isPPSprofile}isPreferredFIFOEnabled(){return!this.isPartner()&&!this.isPPS()&&(this.isFeatureEnabled("ENABLE_PREFERRED_FIFO")||"true"===sessionStorage.getItem("isPreferredFIFOEnabled"))}static#e=this.\u0275fac=function(c){return new(c||G)(w.KVO(C.q),w.KVO(A.k),w.KVO(x.Dx),w.KVO($.P),w.KVO(E.il),w.KVO(_.F),w.KVO(U.B))};static#t=this.\u0275prov=w.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},31310:(n,d,t)=>{"use strict";t.d(d,{P:()=>W});var o=t(87601),e=t(67376),$=t(54438);let W=(()=>{class K{constructor(){}getDefaultZipCodeList(){return o.lt}getDefaultStateCodeList(){return o.ff}getStateListNames(){return o.n4}getRetailOnlyLimits(P){const D=e.get(o.Vt,P,{limit:{max:0,min:0}}),{max:f,min:C}=D.limit;return{transactionLimits:{transactionLimit:[{type:"PERSONAL",serviceCode:"000",limit:100*f,minLimit:100*C,maxLimit:100*f}]}}}isCountryRetailOnly(P){return e.get(o.Vt,P,{retail_only:!1}).retail_only}static#e=this.\u0275fac=function(D){return new(D||K)};static#t=this.\u0275prov=$.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},23867:(n,d,t)=>{"use strict";t.d(d,{I:()=>V});var o=t(54438),e=t(93885),x=t(78863),$=t(3902),W=t(21626),K=t(79817);let V=(()=>{class P{constructor(f,C,A,E,N){this.http=f,this.readURLService=C,this.featureFlagService=A,this.transferStateService=E,this.platformId=N}getGenericListOptimusUrl(){return"/wuconnect/dcaas/list.optimus.json"}getTemplate(f,C){const A="megatron";let E=this.readURLService.getDomainUrl();const N=sessionStorage.getItem("configVersion")?sessionStorage.getItem("configVersion"):"",_=sessionStorage.getItem("contentVersion")?sessionStorage.getItem("contentVersion"):"";E.indexOf("localhost")>-1&&(E=e.Y.optimusServiceHost);let M="https://"+E;if(-1!==f.indexOf("csv-config/collectid")?f+=this.queryParameterDCaasCollectidUrl(C):-1!==f.indexOf("dcaas")?f=this.getDcaasURL(f,N):(M=M+"/"+A,-1===f.indexOf("registrationtemplates")&&(_&&(f+=(f.indexOf("?")<0?"?":"&")+"contentVersion="+_),-1===f.indexOf("list")&&(f+=(f.indexOf("?")<0?"?":"&")+"configVersion="+N))),-1!==f.indexOf("senderconfig")||-1!==f.indexOf("csv-config/globalcollectid")||-1!==f.indexOf("dss2config")){const U=`${M+f}${f.indexOf("?")<0?"?":"&"}language=${C.language}&origination=${C.origination}`,w=`get/${A}${f}${f.indexOf("?")<0?"?":"&"}language=${C.language}&origination=${C.origination}`,O=(0,o.zw6)(w);return this.transferStateService.fetch(O,this.http.get(U))}if(-1!==f.indexOf("csv-config/collectid")){const U=`${M+f}`,O=(0,o.zw6)(`get/${A}${f}`);return this.transferStateService.fetch(O,this.http.get(U))}return this.http.post(M+f,C)}queryParameterDCaasCollectidUrl(f){const C=f,A=window.sessionStorage.getItem("configVersion")?window.sessionStorage.getItem("configVersion"):"",E=window.sessionStorage.getItem("dcaasVersion")||window.ACTIVE_VERSION?.dcaasVersion;A&&(C.configVersion=A),E&&(C.contentVersion=E),C.responseCode&&(C.version="v1");let N="";for(const _ in C)C.hasOwnProperty(_)&&(N=N?N+"&"+_+"="+C[_]:N+_+"="+C[_]);return N&&"?"+N}getDcaasURL(f,C){const A=sessionStorage.getItem("dcaasVersion")||window.ACTIVE_VERSION?.dcaasVersion;return A&&(-1!==f.indexOf("dcaasVersionVal")?-1!==(f=f.replace("dcaasVersionVal",A)).indexOf("configVersionVal")&&(f=f.replace("configVersionVal",C)):f+=(f.indexOf("?")<0?"?":"&")+"dcaasversion="+A),f}static#e=this.\u0275fac=function(C){return new(C||P)(o.KVO(W.Qq),o.KVO(x.Fq),o.KVO($.y),o.KVO(K.G),o.KVO(o.Agw))};static#t=this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},83594:(n,d,t)=>{"use strict";t.d(d,{P:()=>K});var o=t(95006),e=t(77202),x=t(75194),$=t(47058),W=t(54438);let K=(()=>{class V{constructor(D,f,C){this.restMethod=D,this.utilService=f,this.countryConfigService=C}invokePHRegistrationDataApi(D){const f=D;let A="/conversion/tracking_mode:api/clickref:{CLICKREF}/conversionref:{ORDERID}/customertype:{CUSTOMERTYPE}/custref:{CUSTOMERID}/voucher:{VOUCHER}/currency:{CURRENCY}/[category:{EVENTNAME}/value:{VALUE}/quantity:1/sender_country:{SENDER_COUNTRY}]";return A=A.replace("{CLICKREF}",f.clickref),A=A.replace("{ORDERID}",f.conversionref.account_nbr),A=A.replace("{CUSTOMERTYPE}",f.customertype),A=A.replace("{CUSTOMERID}",f.custref.account_nbr),A=A.replace("{VOUCHER}",f.voucher),A=A.replace("{CURRENCY}",f.currency),A=A.replace("{EVENTNAME}",f.category),A=A.replace("{VALUE}",f.value),A=A.replace("{SENDER_COUNTRY}",f.sender_country),this.restMethod.GET(A,"Partnerize").pipe((0,o.T)(N=>N))}invokePHSendMoneyDataApi(D){const f=D;let A="/conversion/tracking_mode:api/clickref:{CLICKREF}/conversionref:{ORDERID}/customertype:{CUSTOMERTYPE}/custref:{CUSTOMERID}/voucher:{VOUCHER}/currency:{CURRENCY}/[category:{EVENTNAME}/value:{VALUE}/quantity:1/sender_country:{SENDER_COUNTRY}/send_amount:{SEND_AMOUNT}/send_currency:{SEND_CURRENCY}/receiver_country:{RECEIVER_COUNTRY}/funds_in:{FUNDS_IN_METHOD}/funds_out:{FUNDS_OUT_METHOD}]";return A=A.replace("{CLICKREF}",f.clickref),A=A.replace("{ORDERID}",f.conversionref.account_nbr),A=A.replace("{CUSTOMERTYPE}",f.customertype),A=A.replace("{CUSTOMERID}",f.custref.account_nbr),A=A.replace("{VOUCHER}",f.voucher),A=A.replace("{CURRENCY}",f.currency),A=A.replace("{EVENTNAME}",f.category),A=A.replace("{VALUE}",f.value),A=A.replace("{SENDER_COUNTRY}",f.sender_country),A=A.replace("{SEND_AMOUNT}",f.send_amount),A=A.replace("{SEND_CURRENCY}",f.send_currency),A=A.replace("{RECEIVER_COUNTRY}",f.receiver_country),A=A.replace("{FUNDS_IN_METHOD}",f.funds_in),A=A.replace("{FUNDS_OUT_METHOD}",f.funds_out),this.restMethod.GET(A,"Partnerize").pipe((0,o.T)(N=>N))}getAccountNumber(){const D={};return D.account_nbr=sessionStorage.getItem("AccountNumber"),D}setPHAPIJSONData(D){const f={};if("Registration"===D){let C="USD";this.countryConfigService.getCurrencyCode()&&(C=this.countryConfigService.getCurrencyCode()),f.clickref=this.utilService.getCookieStoreItem("clickref"),f.conversionref=this.getAccountNumber(),f.customertype="new",f.custref=this.getAccountNumber(),f.voucher="NULL",f.currency=C,f.category=D,f.value="0.00",f.sender_country=this.utilService.getCookieStoreItem("WUCountryCookie_")}else if("Send+Money"==D){let C=null;C=JSON.parse(sessionStorage.getItem("ValidationResponse"))?.temp_transaction_id,typeof C>"u"&&(C=JSON.parse(sessionStorage.getItem("StoreResponse"))?.transactionId),f.clickref=this.utilService.getCookieStoreItem("clickref"),f.conversionref=C,f.customertype="existing",f.custref=this.getAccountNumber(),f.voucher=null,f.currency=null,f.value=null,f.send_currency=null,f.category=D,f.sender_country=this.utilService.getCookieStoreItem("WUCountryCookie_"),f.send_amount=sessionStorage.getItem("wuAmplitude_sendAmount"),f.receiver_country=sessionStorage.getItem("wuAmplitudeSMO_receiverCountry").toUpperCase(),f.funds_in=sessionStorage.getItem("wuAmplitudeSMO_fundsIn"),f.funds_out=sessionStorage.getItem("wuAmplitudeSMO_fundsOut")}return f}static#e=this.\u0275fac=function(f){return new(f||V)(W.KVO(x.R),W.KVO(e.a),W.KVO($.qd))};static#t=this.\u0275prov=W.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},75194:(n,d,t)=>{"use strict";t.d(d,{R:()=>N});var o=t(54438),e=t(14421),x=t(74526),$=t(16619),W=t(44243),K=t(67867),V=t(8841),P=t(18456),D=t(64646),f=t(66726),C=t(77202),A=t(21148),E=t(60177);let N=(()=>{class _{constructor(U,w,O,G,s,a,c){this.baseService=U,this.createSessionService=w,this.restRequestService=O,this._store=G,this.utilService=s,this.routingService=a,this.platformId=c,this.GET=(r,g,p)=>this.restRequestService.GET(r,g,p),this._store.pipe((0,D.Lt)(f.w8)).subscribe(r=>{this.senderStore=r})}POST(U,w,O,G,s,a,c){if("/GetPPSCustomer"===U&&(w.security.session.id=""),w.security&&w.security.session&&!w.security.session.id&&"/CreateSession"!==U||c){let r;return"retail"===O?r="lbp"===G?this.createSessionService.createSessionLBPRetailMethod():"dss"===G?this.createSessionService.createSessionDSSRetailMethod():this.createSessionService.createSessionRetailMethod():(0,E.UE)(this.platformId)&&(r=this.createSessionService.createSessionMethod()),r?r.pipe((0,V.M)(g=>{console.error(`-- ${O} Session didn't existed, CreatedSession called --`)}),(0,P.ZZ)(g=>{if("/AuthenticateCustomer"===U)return(0,e.of)({error:{code:"C5000"}});if(g&&!g.error){const p={...w,...this.baseService.getUpdatedBaseRequest(O,w)};return this.restRequestService.POST(U,p,O)}return(0,x.$)(g.error.message)})):(0,e.of)({error:{code:"C5000"}})}return this.restRequestService.POST(U,w,O,s,a).pipe((0,P.ZZ)(r=>{if(r&&r.error&&"C5000"===r.error.code){const g=sessionStorage.getItem("applicationName");if(this.utilService.isHostedPartnerType()||this.utilService.isCookieNotAllowedPartnerType()||g&&"PPS"===g)return this.routingService.navigateToErrorPage(408),(0,e.of)(r);console.error(`---PS responded with C5000, handling new ${O} session creation`);const p=this.baseService.getBaseRequest(O);if((w&&w.security&&w.security.session&&w.security.session.id||!p.security.session.id)&&("retail"===O?this.utilService.updateRetailSessionValue(null):(this.utilService.updateDigitalsCookiesValue(null),this.utilService.updateEncryptedSessionId(null))),!this.senderStore||!this.senderStore.isLoggedIn){c=!0,this.utilService.deleteCookieItem("SessionId"),this.utilService.deleteCookieItem("SessionInfo"),console.error("C5000_2--clearingsessionid");const h={...w,...this.baseService.getUpdatedBaseRequest(O,w)};return(h.security.session.id||w.security.session.id)&&"/CustomerSignOn"===U&&(h.security.session.id="",w.security.session.id=""),this.POST(U,h,O,G,void 0,void 0,c)}this.utilService.clearAllStorage(),this.routingService.navigateToLoginNG8()}return(0,e.of)(r)}))}static#e=this.\u0275fac=function(w){return new(w||_)(o.KVO($.E),o.KVO(W.M),o.KVO(K.N),o.KVO(D.il),o.KVO(C.a),o.KVO(A.O),o.KVO(o.Agw))};static#t=this.\u0275prov=o.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},67867:(n,d,t)=>{"use strict";t.d(d,{N:()=>p});var o=t(95006),e=t(83921),x=t(77312),$=t(7605),W=t(18456),K=t(54438),V=t(45286),P=t(74526),D=t(14421),f=t(78863),C=t(1013),A=t(89461),E=t(77202),N=t(47058),_=t(93885);const M_mockUrl="wumock-dev11.devwesternunion.com";var U=t(34781),w=t(17779),O=t(3902),G=t(16619),s=t(31457),a=t(60177),c=t(21626);let r=(()=>{class h{constructor(v){this.http=v}populateMock(v,S,m,b){let Y=S;-1!==Y.indexOf("?")&&(Y=Y.substr(0,Y.indexOf("?"))),-1!==Y.indexOf("/")&&(Y=Y.substr(Y.lastIndexOf("/")+1)),"GetCreditCards"===Y&&b&&b.gatewayCustomer&&b.gatewayCustomer.preferredCustomer&&b.gatewayCustomer.preferredCustomer.accountNbr&&(m.gateway_customer={},m.gateway_customer.preferred_customer={},m.gateway_customer.preferred_customer.account_nbr=b.gatewayCustomer.preferredCustomer.accountNbr),this.POST(v,Y,m,b)}POST(v,S,m,b){const R="https://"+v+"/store/"+S;return m=JSON.stringify({req:m,res:b}),this.http.post(R,m).subscribe(k=>{console.log("Response from Mock: "+JSON.stringify(k))})}static#e=this.\u0275fac=function(S){return new(S||h)(K.KVO(c.Qq))};static#t=this.\u0275prov=K.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();var g=t(85717);let p=(()=>{class h{constructor(v,S,m,b,Y,R,k,L,y,I,T,te,Z,de,oe,ae){this.http=v,this._spinnerService=S,this.wuDataAccess=m,this.mparticleOrigin=b,this.utilService=Y,this.smoConfigService=R,this.mockService=k,this.router=L,this.updateStoreUsingActionService=y,this.csEndPointService=I,this.countryConfigService=T,this.featureFlagService=te,this.baseRequestService=Z,this.cloudRestService=de,this.readURLService=oe,this.platformId=ae,this.destroyed$=new V.B7,this.GET=(he,B,z)=>{const ie=[];"ENABLE"===sessionStorage.getItem("enableNoCacheCookieExp")?.toUpperCase()&&ie.push("/price/corridors"),ie.find(se=>he.indexOf(se)>-1)||this._spinnerService.startCall();let Ce=this.getDomainUrl(B);const X="true"===sessionStorage.getItem("bMock");Ce.indexOf("localhost")>-1&&(Ce=X?M_mockUrl:_.Y.DigitalHost);const Ee=Ce;B&&"apigee"===B?Ce+="/api/v1/wuhosted":B&&"content"===B?(Ce+="/wuconnect/content/api/v1",z={}):B&&B===_.Y.PERFORMANCEHORIZON_CHANNEL?(Ce=_.Y.PERFORMANCEHORIZON_DOMAIN,z={}):Ce+=B&&"dcsauth"===B?"/dcsauth":"/wuconnect/rest/api/v1.0";const De=z||{headers:{Accept:"application/json","Content-Type":"application/json",partnerId:this.getPartnerId()}};he.includes("/price/quote")&&(De.headers.WuToken=this.utilService.getCookieItem("SessionId"));let fe="https://"+Ce+he;"/CJEventReferral"===he&&(fe="https://"+Ee+_.Y.CJEventMapping[he]);const Ue=this.getWindowHost();return fe=this.csEndPointService.overrideCsEndPoint(Ue,_.Y.DigitalHost,fe)||fe,this.http.get(fe,De).pipe((0,o.T)(se=>{try{this.wuDataAccess.logAPIEvent(he,{},se,"")}catch(le){console.error("logAPIEvent() did not run through because "+le)}if(se)try{this.mparticleOrigin.logmParticleAPIEvent(he,{},se,"","","")}catch(le){console.error("mparticleOrigin logAPIEvent() did not run through because "+le)}return se}),(0,e.W)(se=>{const le=se.message||se,F={error:{code:se&&se.status?se.status:"unknown",message:se.message?se.message:se}};this.wuDataAccess.logAPIEvent(he,{},F,"");const J={error:{code:"C9999"}};return this.checkRateLimit(F,J,le)&&this.getErrorTranslation(J).subscribe(Q=>{F.error.message=Q.error.message,this.updateStoreUsingActionService.updatePageLevelNotification({errorCode:F.error.code,errorMessage:F.error.message})}),(0,P.$)(le)}),(0,x.j)(()=>this._spinnerService.endCall()))},this.countryCode=this.readURLService.getCountryFromURL(),this.langCode=this.readURLService.getLanguageFromURL()}addSilentAPIForCancelPendingTrxn(v){return"true"===sessionStorage.getItem("noQuestionAskedSpinner")&&(v.push("/GetTransactionDetails"),v.push("/GetDatabase"),v.push("/GetCustomerInfo"),v.push("/CancelPendingTransaction"),v.push("/TransactionInquiry"),v.push("/ValidateSelfServTransaction")),v}POST(v,S,m,b,Y){let R=["/data"];const k=this.router.url;k.indexOf("history")>-1&&(R=["/GetTransactionDetails","/GetLimits"]),this.addSilentAPIForCancelPendingTrxn(R),"true"===sessionStorage.getItem("isProgressiveSmoFlow")&&R.push("/BankLists"),k.indexOf("payment")>-1&&("/GwpPreAuth"!==v||v!==_.Y.getCardStatus)&&R.push("/GetCityStatesByPostalCode"),k.indexOf("/kyc-consent")>-1&&R.push("/GetTokenStatus"),"/SendMoneyStore"===v&&k.indexOf("/send-money/decline")>-1&&(delete S.ps_version,delete S.payment_details.credit_debit_card.cardinal_info),R.find(re=>re===v)||this._spinnerService.startCall();let y=this.getWindowHost();const I=this.smoConfigService._getURLParam("overrideCsEndPoint")?this.smoConfigService._getURLParam("overrideCsEndPoint"):void 0;"/CreateSession"===v&&I&&"disabled"!==I&&this.csEndPointService.storeCsEndPointParameter(y,I),I&&"disabled"===I&&this.csEndPointService.clearCsEndPointParameter(y,I);const T=this.getMethodVersion(v);y.indexOf("localhost")>-1?y=m&&"retail"===m?_.Y.RetailHost:_.Y.DigitalHost:(m&&"apigee"===m&&(y=this.getDomainUrl(m)),y=this.getWindowHost());const te=y;m&&"retail"===m?y+="/retailpresentationservice/rest/api/v1.0":m&&"apigee"===m?y+="/api/v1/wuhosted/":m&&"dcsauth"===m?y+="/dcsauth":this.smoConfigService._getURLParam("wudgtsrvs")||sessionStorage.getItem("wudgtsrvs")?("true"!==sessionStorage.getItem("wudgtsrvs")&&sessionStorage.setItem("wudgtsrvs","true"),y=y+"/wudgtsrvs/rest/api/"+T):Y?y+="/wudgtsrvs/mobiliser/rest/channel":y=y+"/wuconnect/rest/api/"+T;const Z="true"===sessionStorage.getItem("bMock"),de="false"===sessionStorage.getItem("bPopulateMock"),oe=M_mockUrl;Z&&(y.indexOf("localhost")>-1||y.indexOf("dev")>-1||y.indexOf("qa")>-1||y.indexOf("uat")>-1)&&(y.indexOf("/presentationservice/")>-1&&(y=oe+y.substr(y.indexOf("/presentationservice"))),y.indexOf("/wuconnect/")>-1&&(y=oe+y.substr(y.indexOf("/wuconnect"))),y.indexOf("/retailpresentationservice/")>-1&&(y=oe+y.substr(y.indexOf("/retailpresentationservice"))),"GetCreditCards"===v&&(S.gateway_customer={},S.gateway_customer.preferred_customer={},S.gateway_customer.preferred_customer.account_nbr=sessionStorage.getItem("AccountNumber")));const ae="?timestamp="+(new Date).valueOf().toString(),he=new Date;let B="dcsauth"===m?"https://"+y+v:"https://"+y+v+ae;this.utilService.isSybaseEnabled(v,m)&&-1===y.indexOf("/mobiliser/")&&"retail"===m?(y=y.replace("/retailpresentationservice/rest/api/v1.0","/wudgtsrvs-retail/mobiliser/rest/channel"),y=y.replace("/retailpresentationservice/rest/api/v2.0","/wudgtsrvs-retail/mobiliser/rest/channel"),"/RegisterCustomer"===v&&this.countryConfigService.isRegisterCustomerV2Enabled()&&(y+="/v2.0"),"/CustomerSignOn"===v&&this.countryConfigService.isCustomerSignOnV2Enabled()&&(y+="/v2.0"),B="https://"+y+_.Y.PSCSAPIMappping[v]+ae,delete S.bashPath):this.utilService.isSybaseEnabled(v,m)&&-1===y.indexOf("/mobiliser/")&&("/UploadDMSDoc"===v?this.utilService.getPartnerName()!==_.Y.LBP_PARTNER&&this.utilService.getPartnerName()!==_.Y.POSTEITALIANE_PARTNER&&(y=this.convertURLfromPStoCS(y)):y=this.convertURLfromPStoCS(y),"/RegisterCustomer"===v&&this.countryConfigService.isRegisterCustomerV2Enabled()&&(y+="/v2.0"),"/CustomerSignOn"===v&&this.countryConfigService.isCustomerSignOnV2Enabled()&&(y+="/v2.0"),B="https://"+y+_.Y.PSCSAPIMappping[v]+ae,"/TransactionInquiry"!==v&&delete S.bashPath);const z=this.getWindowHost(),ie=this.csEndPointService.overrideCsEndPoint(z,_.Y.DigitalHost,B);if(B=ie||B,("/CreateSession"===v||"/CustomerSignOn"===v)&&(0,a.UE)(this.platformId)&&null==S.security.black_box_data&&(S.security.black_box_data=this.baseRequestService.getGlobalBlackBoxData(),(this.featureFlagService.isFeatureEnabled("ENABLE_BBD_SPLUNKLOG")||sessionStorage.getItem("ENABLE_BBD_SPLUNKLOG"))&&this.cloudRestService.SplunkLogger("Blackbox info for: "+B,S.channel,S.security.black_box_data).pipe((0,$.Q)(this.destroyed$)).subscribe(()=>{})),("/MobileReload"===v||"/GwpCardStatus"===v)&&(b=this.utilService.setR4ApiHeaders(v,b)),"/GwpPreAuth"===v&&(b=this.utilService.setR4ApiHeaders(v,b)),"/PartnerToken"===v){const re=sessionStorage.getItem("dingAccessToken")||"";B="https://"+te+_.Y.R3R4APIMapping[v]+ae,b=this.utilService.setR4ApiHeaders(v,b,re)}return"/CJEventReferral"===v&&(B="https://"+te+_.Y.CJEventMapping[v]),"/CustomerSignOn"===v&&this.utilService.isR4ProxyEnabled()&&(B="https://"+te+"/proxysvc/GwpCustomerSignOn"),"/CreateSession"===v&&this.utilService.isR4ProxyEnabled()&&(B="https://"+te+"/proxysvc/GwpCreateSession"),!("/CustomerSignOn"===v||"/CreateSession"===v)&&this.utilService.isR4ProxyEnabled()&&(b=this.utilService.setR4ProxyApiHeaders(b)),"/SessionKeepAlive"===v&&(b=this.utilService.setSessionKeepAliveHeaders(b)),this.http.post(B,S,b||void 0).pipe((0,W.ZZ)(re=>{this.utilService.isMockAPIDataEnable()&&(re=this.utilService.mockAPIData(re,v));try{this.wuDataAccess.logAPIEvent(v,S,re,m)}catch(Ce){console.error("logAPIEvent() did not run through because "+Ce)}if(re)try{this.mparticleOrigin.logmParticleAPIEvent(v,S,re,m,he,new Date)}catch(Ce){console.error("mparticleOrigin logAPIEvent() did not run through because "+Ce)}return re&&!re.error&&(m&&"retail"===m?this.utilService.handleCreateSessionRetailCookies(v,S,re):this.utilService.updateStorageInfo(v,S,re),de&&!Z&&this.mockService.populateMock(y,v,S,re)),re&&re.error&&!this.utilService.isEmsEnabled()&&(B.includes("mobiliser")||"/data/DeleteTokenData"===v)?this.getErrorTranslation(re).pipe((0,e.W)(()=>(0,D.of)(re))):(0,D.of)(re)}),(0,e.W)(re=>{const Ce=re.message||re,X={error:{code:re&&re.status?re.status:"unknown",message:re.message?re.message:re}};this.wuDataAccess.logAPIEvent(v,S,X,m);const Ee={error:{code:"C9999"}};return this.checkRateLimit(X,Ee,Ce),this.getErrorTranslation(Ee).subscribe(De=>{X.error.message=De.error.message,this.updateStoreUsingActionService.updatePageLevelNotification({errorCode:X.error.code,errorMessage:X.error.message})}),(0,P.$)(Ce)}),(0,x.j)(()=>this._spinnerService.endCall()))}getMethodVersion(v){let S="v1.0";const m=this.countryConfigService.getCountry(),b=this.updateStoreUsingActionService.getState().isPPSprofile;return this.countryConfigService.isGetLimitsV2Enabled()&&"/GetLimits"===v&&(!b||b&&-1!==_.Y.PPSCOUNTRY.indexOf(m))&&(S="v2.0"),this.countryConfigService.isRegisterCustomerV2Enabled()&&"/RegisterCustomer"===v&&(S="v2.0"),this.countryConfigService.isCustomerSignOnV2Enabled()&&"/CustomerSignOn"===v&&(S="v2.0"),S}getPartnerId(){let v;return v=this.updateStoreUsingActionService.getState().hostedPartner?this.getPartnerName():this.smoConfigService.getGlobalConfig("switches","pricingPartnerId")?this.smoConfigService.getGlobalConfig("switches","pricingPartnerId"):"R3WEB9Z00",v}getPartnerName(){const v=this.updateStoreUsingActionService.getState().partnerData;return v&&v.partnerName?v.partnerName.toUpperCase():null}getWindowHost(){return this.readURLService.getDomainUrl()}getDomainUrl(v){let S=this.getWindowHost();return v&&"apigee"===v&&(S.indexOf("dev11")>-1?S=_.Y.AwsDevHost:S.indexOf("qa11")>-1?S=_.Y.AwsQaHost:S.indexOf("localhost")>-1&&(S=_.Y.DigitalHost)),S}getErrorTranslation(v){const S="/error/"+this.countryCode.toLowerCase()+"/"+this.langCode.toLowerCase()+"/"+v.error.code;return this.GET(S,"content").pipe((0,o.T)(m=>(v.error.message=m?m[v.error.code]:v.error.message,v)),(0,e.W)(()=>(0,D.of)(v)))}convertURLfromPStoCS(v){return(v=(v=(v=v.replace("/wuconnect/rest/api/v1.0","/wudgtsrvs/mobiliser/rest/channel")).replace("/wuconnect/rest/api/v2.0","/wudgtsrvs/mobiliser/rest/channel")).replace("/wudgtsrvs/rest/api/v1.0","/wudgtsrvs/mobiliser/rest/channel")).replace("/wudgtsrvs/rest/api/v2.0","/wudgtsrvs/mobiliser/rest/channel")}checkRateLimit(v,S,m){return!(429!==v.error.code||!this.utilService.isRateLimitEnabled()||(v.error.code="",S.error.code="C9999",m&&m.status&&(m.status=""),m.message&&(m.message=""),0))}static#e=this.\u0275fac=function(S){return new(S||h)(K.KVO(c.Qq),K.KVO(f.Dx),K.KVO(C.a),K.KVO(A.p),K.KVO(E.a),K.KVO(N.l9),K.KVO(r),K.KVO(g.Ix),K.KVO(U.k),K.KVO(w.z),K.KVO(N.qd),K.KVO(O.y),K.KVO(G.E),K.KVO(s.p),K.KVO(f.Fq),K.KVO(K.Agw))};static#t=this.\u0275prov=K.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},21148:(n,d,t)=>{"use strict";t.d(d,{O:()=>A});var o=t(85717),e=t(47058),x=t(87465),$=t(93885),W=t(58728),K=t(7414),V=t(3902),P=t(8788),D=t(78863),f=t(54438),C=t(2490);let A=(()=>{class E{constructor(_,M,U,w,O,G,s,a){this.router=_,this.smoConfig=M,this.countryConfigService=U,this.cookieService=w,this.shakeHandsService=O,this.spinnerService=G,this.featureFlagService=s,this.readURLService=a,this.previousRoute="",this.currentRoute="";try{this.isGoogleSpot()&&this.router.events.subscribe(c=>{(c instanceof o.Z||c instanceof o.wF)&&this.setEvents(c instanceof o.Z?"QuantumMetricTransitionStart":"QuantumMetricTransitionStop")}),this.router.events.pipe((0,W.p)(c=>c instanceof o.ld),(0,K.J)()).subscribe(c=>{this.previousRoute=c[0].urlAfterRedirects,this.currentRoute=c[1].urlAfterRedirects})}catch{}}get getPreviousRoute(){return this.previousRoute}get getCurrentRoute(){return this.currentRoute}setPreviousValue(_){_&&sessionStorage.setItem("previousURL",_)}getBaseUrl(){if(this.getPortNo())return"/";const _=this.readURLService.getCountryFromURL().toLowerCase(),M=this.readURLService.getLanguageFromURL();return this.baseURL=decodeURIComponent(encodeURIComponent(window.location.origin+"/"+_+"/"+M))}isGoogleSpot(){return"GOOGLESPOT"===this.readURLService.readPartnerName().toUpperCase()}setEvents(_){window.performance.mark(_)}navigateToRedirectReceiver(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/redirect-receiver";this.setWindowUrl(_)}navigateTOProfille(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/profile";this.setWindowUrl(_)}navigateToVerificationInstruction(){this.router.navigate(["user/verification-instructions"])}navigateToVerificationUnsuccessful(){if("true"==sessionStorage.getItem("ngMigrationDecline")||this.featureFlagService.isFeatureEnabled("Decline_NG_New_Page"))this.router.navigate(["/send-money/verification-status"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/send-money/app/verification-status";this.setWindowUrl(M)}}navigateToVerificationOnHold(){if("true"==sessionStorage.getItem("ngMigrationDecline")||this.featureFlagService.isFeatureEnabled("Decline_NG_New_Page"))this.router.navigate(["/send-money/onhold"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/send-money/app/onhold";this.setWindowUrl(M)}}navigateToCreditBuilder(){this.router.navigate(["/user/credit-builder"])}navigateToRemittanceStatement(){this.router.navigate(["/user/remittance-statement"])}navigateTOHistory(){this.shakeHandsService.startNavigation(),this.router.navigate(["/account/history"])}navigateTOVerifyReceiverNameChange(){this.shakeHandsService.startNavigation(),this.router.navigate(["/account/verify-receiver-name-change"])}navigateTOReceiver(_){if(sessionStorage&&"true"===sessionStorage.getItem("enableReceiver")&&!_)this.router.navigate(["/receiver"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/web/receiver";this.setWindowUrl(M)}}navigateTOReceipt(){const _=sessionStorage.getItem("SelectedPayInOption")||"",M=sessionStorage.getItem("SelectedPayOutOption")||"";if("AG"!==_||"AG"!==M||!this.featureFlagService.isFeatureEnabled("RECEIPT_NG_New_Page")&&"true"!=sessionStorage.getItem("RECEIPT_NG_New_Page")){this.shakeHandsService.startNavigation();const U=this.getBaseUrl()+"/send-money/app/receipt";this.setWindowUrl(U)}else this.router.navigate(["/receipt"])}navigateTORegister(){if(this.shakeHandsService.startNavigation(),"true"===this.smoConfig.getGlobalConfig("switches","hostedPartnerNGRegisterPageEnabled"))this.router.navigate(["/user/register"]);else{const _=this.getBaseUrl()+"/web/user/register";this.setWindowUrl(_)}}crossCountryNavigationByCountryAndLanguage(_){const M=this.readURLService.getCurrentUrl().split("?"),w=(M&&M.length>1?"?"+M[1]:"")||"";_=_.toLowerCase();const O=`${window.location.origin}/${_}/en/home.html${w}`;this.setWindowUrl(O)}navigateTOSmlogin(){this.router.navigate(["/user/sm-login"])}navigateTOCollectIdChoose(){if("true"==sessionStorage.getItem("ngMigrationCollectIDChoose")||this.featureFlagService.isFeatureEnabled("CollectIDChoose_NG_New_Page"))this.router.navigate(["/account/collectidchoose"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/account/app/collectidchoose";this.setWindowUrl(M)}}navigateTOCollectIdEidChoose(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/collect-id/eid/choose";this.setWindowUrl(_)}navigateTOCollectIdConfirm(){if("true"==sessionStorage.getItem("ngMigrationCollectIDConfirm")||this.featureFlagService.isFeatureEnabled("CollectIDConfirm_NG_New_Page"))this.router.navigate(["/account/collectidconfirm"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/account/app/collectidconfirm";this.setWindowUrl(M)}}navigateTOCollectIdCollect(){if("true"==sessionStorage.getItem("ngMigrationCollectIDCollect")||this.featureFlagService.isFeatureEnabled("CollectIDCollect_NG_New_Page"))this.router.navigate(["/account/collectidcollect"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/account/app/collectidcollect";this.setWindowUrl(M)}}navigateTOVerificationOptions(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/verificationoptions";this.setWindowUrl(_)}navigateTOUnVerifiedDocumentInfo(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/unverified-docinfo";this.setWindowUrl(_)}navigateTOpwmb(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/confirmbank-pwmb";this.setWindowUrl(_)}navigateTO3ds(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/confirmcard-3ds";this.setWindowUrl(_)}navigateTOVerifyKycOptions(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/kycoption-verify";this.setWindowUrl(_)}navigateTODucKycoption(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/kycoption-duc";this.setWindowUrl(_)}navigateTODucKycoptions(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/kyc/kycoption-duc";this.setWindowUrl(_)}navigateTOKycoptios(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/kycoptions";this.setWindowUrl(_)}navigateTOSkcOption(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/kyc-skc";this.setWindowUrl(_)}navigateToWuPlusBanking(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/user/wu-plus-banking";this.setWindowUrl(_)}navigateToSessionExpire(){let _;const M=this.readURLService.getCountryFromURL().toLowerCase();this.shakeHandsService.startNavigation(),_="ru"===M?this.cookieService.get("lbptrack")?this.getBaseUrl()+"/web/lbp/home":this.getBaseUrl()+"/web/user/phone-verification/session-expired":this.cookieService.get("lbptrack")?this.getBaseUrl()+"/web/lbp/home":this.getBaseUrl()+"/web/user/session-expired",this.setWindowUrl(_)}navigateToPayment(){if(sessionStorage&&"true"===sessionStorage.getItem("enableReceiver"))this.router.navigate(["/payment"]);else{this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/payment";this.setWindowUrl(_)}}navigateToPayInChange(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/send-money/pay-in-change";this.setWindowUrl(_)}navigateToReview(){const _=sessionStorage.getItem("SelectedPayInOption")||"",M=sessionStorage.getItem("SelectedPayOutOption")||"";if("AG"!==_||"AG"!==M||!this.featureFlagService.isFeatureEnabled("REVIEW_NG_NEW_PAGE")&&"true"!=sessionStorage.getItem("enableReview")){this.shakeHandsService.startNavigation();const U=this.getBaseUrl()+"/send-money/app/review";this.setWindowUrl(U)}else this.router.navigate(["/review"])}navigateToLogin(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/login";this.setWindowUrl(_)}navigateToLoginNG8(){this.router.navigate(["/user/login"])}navigateToMfaVerification(){this.router.navigate(["/user/mfa-verification"])}navigateToMultiProfileFound(){this.router.navigate(["/user/primary-account-update"])}navigateToMfaOTP(){this.router.navigate(["/user/mfa-otp"])}navigateToVerificationOptions(){this.router.navigate(["/user/verification-options"])}navigateToForgotPassword(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/forgot-password";this.setWindowUrl(_)}navigateToOnfido(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/onfido";this.setWindowUrl(_)}navigateToChoosePage(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/collect-id/choose";this.setWindowUrl(_)}navigateToOnfidoVerificationInprogress(){return this.shakeHandsService.startNavigation(),this.getBaseUrl()+"/web/onfido/onfido-verification-inprogress"}navigateToEnableServicePage(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/enable-service";this.setWindowUrl(_)}navigateTOCollectIdPep(){if("true"==sessionStorage.getItem("ngNewCollectIdpep")||this.featureFlagService.isFeatureEnabled("COLLECTID_PEP_NG_New_Page"))this.router.navigate(["/account/collectidpep"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/account/app/collectidpep";this.setWindowUrl(M)}}navigateTOCollectIdSdq(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/collectidsdq";this.setWindowUrl(_)}navigateTOGlobalCollectid(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/globalcollectid";this.setWindowUrl(_)}navigateTOIdDetails(){if(this.shakeHandsService.startNavigation(),"true"==sessionStorage.getItem("ngMigrationIdDetails")||this.featureFlagService.isFeatureEnabled("ID_Details_NG_New_Page")){const M=this.getBaseUrl()+"/web/globalcollect-id/id-details";this.setWindowUrl(M)}else{const M=this.getBaseUrl()+"/send-money/app/id-details";this.setWindowUrl(M)}}navigateTOOCRSelectDoc(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/kyc/verification/select-doc";this.setWindowUrl(_)}navigateTOKycConsent(_){this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/web/kyc/kyc-consent?gbgVerificationStatus="+_;this.setWindowUrl(M)}navigateTOagentLocator(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/agent-locator.html";this.setWindowUrl(_)}navigateTOFindLocation(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/find-locations.html";this.setWindowUrl(_)}navigateTODecline(){if("true"==sessionStorage.getItem("ngMigrationDecline")||this.featureFlagService.isFeatureEnabled("Decline_NG_New_Page"))this.router.navigate(["/send-money/decline"]),this.spinnerService.hide();else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/send-money/app/decline";this.setWindowUrl(M)}}navigateTOpaymentPreference(){if("true"==sessionStorage.getItem("ngMigrationPaymentPreference")||this.featureFlagService.isFeatureEnabled("PAYMENT_PREFERENCE_NG16_MIGRATION"))this.router.navigate(["/send-money/payment-preference"]),this.spinnerService.hide();else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/send-money/app/payment-preference";this.setWindowUrl(M)}}navigateTOBillPayStart(){const _=this.getBaseUrl()+"/send-money/app/billpaystart";this.setWindowUrl(_)}navigateToBillPayStartFromHistory(){const _=this.getBaseUrl()+"/bill-pay/app/billpay-start";this.setWindowUrl(_)}navigateToMobileReload(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/mobilereload";this.setWindowUrl(_)}navigateTOSendinmatestart(){const _=this.getBaseUrl()+"/send-money/app/sendinmatestart";this.setWindowUrl(_)}navigateTOSendmoneystart(){this.router.navigate(["/send-money/start"])}navigateToDingTopup(){this.router.navigate(["/ding-topup"])}naviagetToGlobalErrorPage(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/errors/500";this.setWindowUrl(_)}navigateTOSetting(){if("true"==sessionStorage.getItem("ngNewSettingsPage")||this.featureFlagService.isFeatureEnabled("SETTINGS_NG_New_Page"))this.router.navigate(["/account/settings"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/account/app/settings";this.setWindowUrl(M)}}navigateTOCollectIdError(){if("true"==sessionStorage.getItem("ngNewCollectIdError")||this.featureFlagService.isFeatureEnabled("COLLECTID_ERROR_NG_New_Page"))this.router.navigate(["/account/collectiderror"]);else{this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+"/account/app/collectiderror";this.setWindowUrl(M)}}navigateToPartner(){this.shakeHandsService.startNavigation();const _=this.countryConfigService.getPartnerUrl();this.setWindowUrl(_)}navigateToInterstial(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/interstitial";this.setWindowUrl(_)}navigateToMYReceiver(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/my-receivers";this.setWindowUrl(_)}navigateTOMywu(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/mywu";this.setWindowUrl(_)}navigateTOMyWuRewards(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/mywu/rewards.html";this.setWindowUrl(_)}navigateTOReferAFriend(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/refer-friend";this.setWindowUrl(_)}navigateTOPickUpCash(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/receive-money/app/pickupcash";this.setWindowUrl(_)}navigateTORdVerifyTransfer(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/rd-verify-transfer-details";this.setWindowUrl(_)}navigateTOPickupcash(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/pickupcash";this.setWindowUrl(_)}navigateToPickupCashAir(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/send-money/pickupcashair";this.setWindowUrl(_)}navigateToVerifyTransaction(){this.shakeHandsService.startNavigation();const _=`${this.getBaseUrl()}/self-service/app/verifytransaction`;this.setWindowUrl(_)}navigateToSelfServiceLogin(){this.shakeHandsService.startNavigation();const _=`${this.getBaseUrl()}/self-service/app/sm-login`;this.setWindowUrl(_)}navigateTOPhoneVerification(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/phone-verification";this.setWindowUrl(_)}navigateTOTrackTransfer(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/global-service/track-transfer";this.setWindowUrl(_)}navigateToVerifyEmail(){this.router.navigate(["/user/register-verify-email"])}navigateToMFA(){this.router.navigate(["/user/mfa-verification"])}navigateTORegisterSuccess(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/register-success";this.setWindowUrl(_)}navigateTOPostalPin(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/postalpin";this.setWindowUrl(_)}navigateTOManageReminders(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/account/manage-reminders";this.setWindowUrl(_)}navigateTORcxReferFriend(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/refer-a-friend";this.setWindowUrl(_)}navigateToDigitalRegisteration(){this.router.navigate(["/user/digital-registration"])}navigateTolookupOtp(){this.router.navigate(["/user/passcode-verify"])}crossCountryNavigation(_){if(_=_.toLowerCase(),$.Y.autoLogin){const M=window.location.origin+"/"+_+"/en/web/user/login";this.setWindowUrl(M)}else{const M=window.location.origin+"/"+_+"/en/home.html";this.setWindowUrl(M)}}navigateToErrorPage(_){const M=this.getBaseUrl()+"/send-money/app/errors/"+_;this.setWindowUrl(M)}navigateToAbandonTransaction(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/abandon-transaction";this.setWindowUrl(_)}navigateTOGlobalTrackTransfer(){this.shakeHandsService.startNavigation();const _=window.location.origin+"/global-service/track-transfer";this.setWindowUrl(_)}navigateToTrackTransferVerify(){this.shakeHandsService.startNavigation();const _=`${this.getBaseUrl()}/account/app/tracktransferverify`;this.setWindowUrl(_)}navigateToRetailCallCC(){this.shakeHandsService.startNavigation();const _=`${this.getBaseUrl()}/account/app/retailcallcc`;this.setWindowUrl(_)}navigateToReceiverNameChangeReview(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/txn-name-review";this.setWindowUrl(_)}navigateTORetailCancelCode(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/retailcancelcode";this.setWindowUrl(_)}navigateTOCancelReview(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/cancelreview";this.setWindowUrl(_)}navigateToPickupCashAirTrackTransferSuccess(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/tracktransfersuccess";this.setWindowUrl(_)}navigateToTransferSuccess(){this.shakeHandsService.startNavigation(),this.setWindowUrl("/web/global-service/track-transfer-success")}navigateToNameEditPage(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/txn-name-edit";this.setWindowUrl(_)}navigateToVerifyReceiverNameChange(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/web/account/verify-receiver-name-change";this.setWindowUrl(_)}setWindowUrl(_){window.location.href=decodeURIComponent(encodeURIComponent(_))}getPortNo(){return"9876"===window.location.port}isHostedPartner(){return this.shakeHandsService.getPartnerHandShakeObject()}navigateToAffidavit(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/affidavitpage";this.setWindowUrl(_)}navigateToNewBillPayStart(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/newbillpaystart";this.setWindowUrl(_)}navigateToNewSendInmateStart(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/newsendinmatestart";this.setWindowUrl(_)}completeYourProfile(){if(this.featureFlagService.isFeatureEnabled("ENABLE_COMPLETE_PROFILE_NG9"))this.router.navigate(["/complete-profile"]);else{this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/completeyourprofile";setTimeout(()=>{this.spinnerService.show()},0),this.setWindowUrl(_)}}navigateToOnboarding(){this.router.navigate(["user/onboarding"])}navigateToGlobalCollectDocInfo(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/globalcollectid-docinfo";this.setWindowUrl(_)}navigateTOaddreceiver(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/add-receiver";this.setWindowUrl(_)}navigateTOeditbillers(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/edit-billers";this.setWindowUrl(_)}navigateTOeditinmateuser(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/edit-inmateuser";this.setWindowUrl(_)}navigateTOeditreceiver(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/edit-receiver";this.setWindowUrl(_)}navigateToGuestPage(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/guest";this.setWindowUrl(_)}navigateTOLookUp(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/doc-upload/app/lookup";this.setWindowUrl(_)}isSendMoneyPage(){return this.router&&this.router.url&&-1!==this.router.url.toLowerCase().indexOf("send-money")}navigateToAdditionalInformation(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/additional-information";this.setWindowUrl(_)}navigateToUserBlockedPage(){"true"==sessionStorage.getItem("ngMigrationDecline")||this.featureFlagService.isFeatureEnabled("Decline_NG_New_Page")?this.router.navigate(["/send-money/user-blocked"]):this.navigateToRoute("/send-money/app/user-blocked")}navigateToPickupCashSecurityQuestion(){this.navigateToRoute("/send-money/app/pickupcashsecurityquestion")}navigateToPickupCashGlobalcollectid(){this.navigateToRoute("/send-money/app/pickupcashglobalcollectid")}navigateToPickupCashAircollectid(){this.navigateToRoute("/send-money/app/pickupcashair-globalcollectid")}navigateToReceiverPayment(){this.navigateToRoute("/send-money/app/receiverpayment")}navigateToOldReceiver(){this.navigateToRoute("/send-money/app/receiver")}navigateToBillPayReview(){this.navigateToRoute("/bill-pay/app/review")}navigateTolookup(){this.router.navigate(["/user/lookup"])}navigateToRoute(_){this.shakeHandsService.startNavigation();const M=this.getBaseUrl()+_;this.setWindowUrl(M)}navigateToPriceEstimatePage(){this.navigateToRoute("/send-money/app/price-estimator")}navigateToBankDetails(){this.shakeHandsService.startNavigation(),this.router.navigate(["/update-bank-account-details"])}navigateToTransferConfirmationDetails(){this.navigateToRoute("/send-money/app/transfer-confirmation-details")}crossLanguageNavigation(_,M,U){_=_.toLowerCase(),M=M.toLowerCase();const w=U||"";let O;this.readURLService.getCurrentUrl().indexOf("send-money/start")>-1&&(O=window.location.origin+"/"+_+"/"+M+"/web/send-money/start"+w),this.setWindowUrl(O)}navigateToDutPage(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+$.Y.POSTE_ERROR_MAPPING_HANDLING.C2202_R7005.redirection;this.setWindowUrl(_)}navigateToWuShop(_){const M=this.readURLService.getCountryFromURL().toLowerCase(),U=this.readURLService.getLanguageFromURL(),w=this.readURLService?.getURLParameter("page"),O=this.readURLService.getURLParameter("mid");let G;G=_?"login"===_?"shopdeals"===w?window.location.origin+"/"+M+"/"+U+"/rewards/shop-deals.html":"merchant"===w?window.location.origin+"/"+M+"/"+U+"/rewards/merchant-details.html?mid="+O:window.location.origin+"/"+M+"/"+U+"/rewards/dashboard.html":"register"===_?window.location.origin+"/"+M+"/"+U+"/rewards/dashboard.html":window.location.origin+"/"+M+"/"+U+"/mywu/rewards.html?requestfrom=wushop&wusrc="+_:window.location.origin+"/"+M+"/"+U+"/mywu/rewards.html?requestfrom=wushop",this.setWindowUrl(G)}navigateToRecvAmount(){this.router.navigate(["/receiver/recvredirect-amount"])}navigateToRecvBankDetails(){this.router.navigate(["/receiver/recvredirect-bankinfo"])}navigateToRecvReview(){this.router.navigate(["/receiver/recvredirect-review"])}navigateTOReceiverAdditionalinfo(){this.router.navigate(["/receiver/receiver-additional-info"])}navigateToVulcanMyWu(_){const M=this.readURLService.getCountryFromURL().toLowerCase(),U=this.readURLService.getLanguageFromURL();let w;w=_?window.location.origin+"/"+M+"/"+U+"/mywu/rewards.html?requestfrom=mywu&wusrc="+_:window.location.origin+"/"+M+"/"+U+"/mywu/rewards.html?requestfrom=mywu",this.setWindowUrl(w)}navigateTOSendMoneyOption(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/sendmoneyoption";this.setWindowUrl(_)}navigateTOPaymentProcessing(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/send-money/app/paymentprocessing";this.setWindowUrl(_)}navigateTOcollectidconfirmybl(){this.shakeHandsService.startNavigation();const _=this.getBaseUrl()+"/account/app/collectidconfirmybl";this.setWindowUrl(_)}static#e=this.\u0275fac=function(M){return new(M||E)(f.KVO(o.Ix),f.KVO(e.l9),f.KVO(e.qd),f.KVO(C.O),f.KVO(x.i),f.KVO(D.Dx),f.KVO(V.y),f.KVO(P.F))};static#t=this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},21239:(n,d,t)=>{"use strict";t.d(d,{A:()=>P});var o=t(34781),e=t(8788),x=t(1027),$=t(77202),W=t(93885),K=t(54438),V=t(2490);let P=(()=>{class D{constructor(C,A,E,N,_){this.updateStoreUsingActionService=C,this.cookieService=A,this.readURL=E,this.smoConfig=N,this.utilService=_}setAbandonTransactionTokenVal(){const C={};this.siteBehaviour=this.updateStoreUsingActionService.getState().siteBehaviour;const A=JSON.parse(JSON.stringify(this.siteBehaviour));if((!this.readURL.getURLParam("src")||"ABAN_TRANS"!==this.readURL.getURLParam("src"))&&this.smoConfig.isHistoryResumeTransferProvisionEnabled()&&this.cookieService.get("abandonedCartToken")){const E=this.cookieService.get("abandonedCartToken"),N="ABAN_TRANS";A.src=N,C._src=N,this.readURL.getURLParam("promoCode")&&(A.promoCode=this.readURL.getURLParam("promoCode"),C._promoCode=this.readURL.getURLParam("promoCode")),typeof E<"u"&&(A.abandonedCartToken=E,C._token=E,A.abandonTransactionParams=JSON.stringify(C)),this.updateStoreUsingActionService.updateSiteBehaviourData(A)}}setPageLevelValues(C,A){let E=Date.now();const N=E;this.siteBehaviour=this.updateStoreUsingActionService.getState().siteBehaviour;const _=JSON.parse(JSON.stringify(this.siteBehaviour));_.personalInfoSection=E,_.securitySection=E,_.invalidEmailCount="3",this.updateStoreUsingActionService.updateSiteBehaviourData(_),sessionStorage.setItem("sitebehaviour-"+this.getStateFromUrl(A)+"StartTime",E.toString()),C&&(C=this.getStateFromUrl(C),E=parseInt(sessionStorage.getItem("sitebehaviour-"+C+"StartTime")||"0",10),sessionStorage.setItem("sitebehaviour-"+C+"TotalTime",(.001*(N-E)).toString()))}setRegistrationTime(){const C=this.updateStoreUsingActionService.getState().siteBehaviour?{...this.updateStoreUsingActionService.getState().siteBehaviour}:this.updateStoreUsingActionService.getState().siteBehaviour,A=Date.now(),E=parseInt(sessionStorage.getItem("sitebehaviour-registerStartTime")||"0",10);C.registrationTime=.001*(A-E),this.updateStoreUsingActionService.updateSiteBehaviourData(C),this.siteBehaviour=C}setSiteBehaviourData(C,A){this.siteBehaviour=this.updateStoreUsingActionService.getState().siteBehaviour;const E=JSON.parse(JSON.stringify(this.siteBehaviour));E[C]=A,this.updateStoreUsingActionService.updateSiteBehaviourData(E)}toHHMMSS(C){return C.toString().length>7&&(C="60"),C}getfullRequestUrl(){return window.location.href}getreferrerDomain(){return window.location.host}makeErrorArray(C){let A="";if(C){for(let E=0;E<C.length;E++)A=A+C[E].error+":"+parseInt(C[E].count)+",",A+="";return A.substring(A.lastIndexOf(","),0)}return null}getSiteBehaviourData(){const C=[];let A,E;if(C[0]={name:"txnOriginFlow",value:null!=sessionStorage.getItem("txnOriginFlow")?this.utilService.getSessionStorageItem("txnOriginFlow"):"normal"},C[1]={name:"existingUserFlag",value:null!=sessionStorage.getItem("existingUserFlag")?this.utilService.getSessionStorageItem("existingUserFlag"):"Y"},C[2]={name:"existingReceiverFlag",value:null!=sessionStorage.getItem("existingReceiverFlag")?this.utilService.getSessionStorageItem("existingReceiverFlag"):"N"},C[3]={name:"existingPaymentFlag",value:null!=sessionStorage.getItem("existingPaymentFlag")?this.utilService.getSessionStorageItem("existingPaymentFlag"):"N"},C[4]={name:"saveReceiverFlag",value:"Y"},C[5]={name:"savePaymentFlag",value:"Y"},C[6]={name:"creditCardErrorCount",value:null!=sessionStorage.getItem("creditCardErrorCount")?this.utilService.getSessionStorageItem("creditCardErrorCount"):"0"},C[7]={name:"promotionCodeFlag",value:null!=sessionStorage.getItem("promotionCodeFlag")?this.utilService.getSessionStorageItem("promotionCodeFlag"):"N"},C[8]={name:"selectServiceTime",value:null!=sessionStorage.getItem("sitebehaviour-sendmoneyoptionTotalTime")?this.toHHMMSS(Math.round(parseInt(this.utilService.getSessionStorageItem("sitebehaviour-sendmoneyoptionTotalTime")))):"0"},A=null!=sessionStorage.getItem("sitebehaviour-receiverTotalTime")&&null!=sessionStorage.getItem("sitebehaviour-paymentTotalTime")?parseInt(this.utilService.getSessionStorageItem("sitebehaviour-receiverTotalTime"))+parseInt(this.utilService.getSessionStorageItem("sitebehaviour-paymentTotalTime")):"1",C[9]={name:"receiverPaymentTime",value:this.toHHMMSS(Math.round(A))},C[10]={name:"reviewSubmitTime",value:null!=sessionStorage.getItem("sitebehaviour-reviewTotalTime")?this.toHHMMSS(Math.round(parseInt(this.utilService.getSessionStorageItem("sitebehaviour-reviewTotalTime")))):"0"},null!=sessionStorage.getItem("sitebehaviour-sendmoneyoptionTotalTime")?(E=parseInt(sessionStorage.getItem("sitebehaviour-sendmoneyoptionTotalTime"))+parseInt(A),E+=C[10].value):(E=1+parseInt(A),E+=C[10].value),null==this.utilService.getSessionStorageItem("txnAttempt")&&this.utilService.setSessionStorageItem("txnAttempt",0),C[11]={name:"txnAttempt",value:null!=this.utilService.getSessionStorageItem("txnAttempt")?this.utilService.getSessionStorageItem("txnAttempt"):"1"},C[12]={name:"toolPageHits",value:"0"},C[13]={name:"txnPageHits",value:null!=this.utilService.getSessionStorageItem("transactionPageCount")?this.utilService.getSessionStorageItem("transactionPageCount"):"0"},C[14]={name:"toolPageTime",value:"0"},C[15]={name:"txnPageTime",value:this.toHHMMSS(Math.round(E))},C[16]={name:"txnCount",value:null!=this.utilService.getSessionStorageItem(W.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT)?this.utilService.getSessionStorageItem(W.Y.CONST_ANALYTICS_OBJECT.TXN_COUNT):"1"},C[17]={name:"fullRequestURL",value:this.getfullRequestUrl()},C[18]={name:"referrerDomain",value:this.getreferrerDomain()},C[19]={name:"cmsPageHits",value:"0"},C[20]={name:"cmsPageTime",value:"0"},C[21]={name:"txnErrorList",value:null!=this.makeErrorArray(JSON.parse(this.utilService.getSessionStorageItem("txnErrorList")||"{}"))?this.makeErrorArray(JSON.parse(this.utilService.getSessionStorageItem("txnErrorList")||"{}")):""},this.utilService.getSessionStorageItem("retrieveResponseData")&&null!=this.utilService.getSessionStorageItem("retrieveResponseData")){let N=this.utilService.getSessionStorageItem("retrieveResponseData");if(N&&(N=JSON.parse(N),N.riskData)){let _=C.length;N.riskData.forEach(function(M,U){C[_]={name:U,value:M},_++}),null!=window.getCookie("partnerName")&&(C[_]={name:"partnerName",value:window.getCookie("partnerName")})}}return C}getRegisterSiteBehaviour(C){const A=this.defaultSiteBehaviour();this.siteBehaviour=this.updateStoreUsingActionService.getState().siteBehaviour,A.analytic_event.fields.field.push({name:"registrationPersonalTime",value:this.siteBehaviour.personalInfoSection?this.timeToseconds(parseInt(this.siteBehaviour.personalInfoSection,10)):"0"}),A.analytic_event.fields.field.push({name:"registrationSecurityTime",value:this.siteBehaviour.securitySection?this.timeToseconds(parseInt(this.siteBehaviour.securitySection,10)):"0"}),A.analytic_event.fields.field.push({name:"registrationTime",value:this.siteBehaviour.registrationTime?this.timeToseconds(parseInt(this.siteBehaviour.registrationTime,10)):"0"}),A.analytic_event.fields.field.push({name:"invalidEmailCount",value:this.siteBehaviour.invalidEmailCount?this.siteBehaviour.invalidEmailCount:"0"});let E=JSON.parse(sessionStorage.getItem("registrationErrorList")||"[]");return E=E.map(function(N){return N.error+":"+parseInt(N.count,10)}),E.pop(),A.analytic_event.fields.field.push({name:"registrationErrorList",value:E.length?E.join(","):""}),A.analytic_event.fields.field.push({name:"infoRegUserName",value:C.email?C.email:""}),A.analytic_event.fields.field.push({name:"infoSecQ1",value:C.securityQuestion?C.securityQuestion:""}),A}getLoginSiteBehaviour(C){const A=this.defaultSiteBehaviour();return A.analytic_event.fields.field.push({name:"forgotPasswordFlag",value:sessionStorage.getItem("forgotPasswordFlag")?sessionStorage.getItem("forgotPasswordFlag"):"N"}),A.analytic_event.fields.field.push({name:"loginErrorCount",value:sessionStorage.getItem("loginErrorCount")?sessionStorage.getItem("loginErrorCount"):"0"}),A.analytic_event.fields.field.push({name:"siteInfoLoginUser",value:C||""}),A.analytic_event.fields.field.push({name:"queryString",value:sessionStorage.getItem("queryString")?sessionStorage.getItem("queryString"):""}),A.analytic_event.fields.field.push({name:"wuRevision",value:sessionStorage.getItem("wuRevision")?sessionStorage.getItem("wuRevision"):"Optimus"}),A.analytic_event.fields.field.push({name:"codebase",value:sessionStorage.getItem("codebase")?sessionStorage.getItem("codebase"):""}),A.analytic_event.fields.field.push({name:"lightboxFlag",value:sessionStorage.getItem("lightboxFlag")?sessionStorage.getItem("lightboxFlag"):"N"}),A.analytic_event.fields.field.push({name:"siteCatalystVersion",value:sessionStorage.getItem("siteCatalystVersion")?sessionStorage.getItem("siteCatalystVersion"):""}),A.analytic_event.fields.field.push({name:"forgotUsernameFlag",value:sessionStorage.getItem("forgotUsernameFlag")?sessionStorage.getItem("forgotUsernameFlag"):"N"}),A}timeToseconds(C){return C.toString().length>7?"60":C.toString()}defaultSiteBehaviour(){return{state:null,analytic_event:{fields:{field:[]}}}}getStateFromUrl(C){return C.split("?")[0].split("/").filter(function(E){return""!==E}).pop()||""}updateLoginErrorCount(){const C="loginErrorCount";let A=1;null!=sessionStorage.getItem(C)?(A=parseInt(sessionStorage.getItem(C)||"",0),sessionStorage.setItem(C,`${A+1}`)):sessionStorage.setItem(C,`${A}`)}static#e=this.\u0275fac=function(A){return new(A||D)(K.KVO(o.k),K.KVO(V.O),K.KVO(e.F),K.KVO(x.l),K.KVO($.a))};static#t=this.\u0275prov=K.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},88764:(n,d,t)=>{"use strict";t.d(d,{$:()=>s});var o=t(10467),e=t(77202),x=t(58802),$=t(47058),W=t(79928),K=t(45286),V=t(75194),P=t(7605),D=t(69900),f=t(13450),C=t(3902),A=t(34781),E=t(21239),N=t(44243),_=t(64988),M=t(74814),U=t(21148),w=t(20706),O=t(54438),G=t(85717);let s=(()=>{class a{constructor(r,g,p,h,l,v,S,m,b,Y,R,k,L,y){this.smoConfig=r,this.utilService=g,this.router=p,this.restMethod=h,this.userService=l,this.user=v,this.featureFlagService=S,this.updateStoreUsingActionService=m,this.siteBehaviour=b,this.createSessionService=Y,this.urlService=R,this.sessionService=k,this.routingService=L,this.riskDataService=y,this.userSessionLogin=!1,this.isLoadingInProgress=new W.t(!1),this.destroyed$=new K.B7}getRedirectUrl(r){return window.location.origin+"/"+this.smoConfig._getCountryIsoCode().toLowerCase()+"/"+this.smoConfig.getLanguageFromURL().toLowerCase()+x.RL[r].redirection_url}authRedirection(r,g){this.utilService.setSessionStorageItem("idpType",r),this.utilService.setSessionStorageItem("socialRedirectionPage",g);const p={headers:{"Accept-Language":this.smoConfig.getLanguageFromURL().toLowerCase()+"-"+this.smoConfig._getCountryIsoCode().toUpperCase(),redirect:"false"}},h=x.q9.AUTH+r.toUpperCase()+"&channel="+x.VY+"&redirect_uri="+this.getRedirectUrl(g)+"&state=idp";return this.restMethod.GET(h,"dcsauth",p).subscribe(l=>{l&&l.redirectURI&&(window.location.href=l.redirectURI)},l=>{console.error(l)})}callTokenApi(r){return this.restMethod.POST(x.q9.TOKEN,this.buildTokenApiPayload(r),"dcsauth","",{headers:{"content-type":"application/x-www-form-urlencoded"}})}buildTokenApiPayload(r){return`redirect_uri=${this.getRedirectUrl(sessionStorage.getItem("socialRedirectionPage"))}&auth_code=${r}`}callLookupApi(r){const g={headers:{"x-wu-sessionId":this.utilService.getCookieItem("SessionId")}};return this.restMethod.POST(x.q9.V2LOOKUP,this.buildLookupApiPayload(r),"dcsauth","",g)}buildLookupApiPayload(r){return{idToken:r}}connectWithSocialAccount(r){this.isLoadingInProgress.next(!0),this.utilService.getCookieItem("SessionId")||this.createSessionService.createSessionMethod().pipe((0,P.Q)(this.destroyed$)).subscribe(),this.callTokenApi(r).pipe((0,P.Q)(this.destroyed$)).subscribe(g=>{g&&!g.error?(sessionStorage.setItem("socialAuthTokens",JSON.stringify({access_token:g.access_token,id_token:g.id_token,refresh_token:g.refresh_token,access_token_expire_timer:g.expires_in})),g.id_token&&this.callLookupApi(g.id_token).pipe((0,P.Q)(this.destroyed$)).subscribe(h=>{h&&!h.error?this.redirectToLookUpPage(h,g.access_token):this.isLoadingInProgress.next(!1)},h=>{this.isLoadingInProgress.next(!1),console.error(h)})):this.isLoadingInProgress.next(!1)},g=>{this.isLoadingInProgress.next(!1),console.error(g)})}redirectToLookUpPage(r,g){if(r.actionFlag)if(r.actionFlag===x.LJ.NEW_CUSTOMER||r.actionFlag===x.LJ.EXISTING_CUSTOMER_LOGIN_REQUIRE){sessionStorage.setItem("socialLoginRedirectionResp",JSON.stringify(r));const p=x.e7[r.actionFlag].redirectUrl;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate([p]))}else r.actionFlag===x.LJ.EXISTING_CUSTOMER_AUTO_LOGIN&&this.onSocialCustomerSignOn(r.email,g)}onRevokeAccessCall(){var r=this;return(0,o.A)(function*(){const g=r.utilService.getSessionStorageItem("socialAuthTokens")&&JSON.parse(r.utilService.getSessionStorageItem("socialAuthTokens")),p=g?.access_token,h=g?.refresh_token;if(p&&sessionStorage.getItem("linkedIdpTypes")){const l={headers:{"x-wu-apiKey":"null","x-wu-correlationId":"null","x-wu-externalRefId":"null",Authorization:`Bearer ${p}`}};yield r.restMethod.POST(x.q9.REVOKE,r.buildRevokeApiPayload(h),"dcsauth","",l).pipe((0,P.Q)(r.destroyed$)).subscribe(v=>{v&&!v.error&&"REVOKED"===v.status&&"Token Revoked"===v.message&&sessionStorage.removeItem("socialAuthTokens")},v=>{console.error(v)})}})()}buildRevokeApiPayload(r){return{token:r,tokenTypeHint:"REFRESH_TOKEN"}}onSocialCustomerSignOn(r,g){const p=this.utilService.getCookieItem("wu_device_id")?this.utilService.getCookieItem("wu_device_id"):this.utilService.getCookieItem("sessionId"),h={idpType:{data:this.utilService.getSessionStorageItem("idpType").toUpperCase(),type:"IDP"},referenceToken:{data:g,type:"TOKEN"},deviceToken:p};this.siteBehaviour.setSiteBehaviourData("existingUserFlag","Y"),this.riskDataService.invokePSDataApi("login","login","wu_login"),this.riskDataService.invokePSDataApiForNuData(),this.userService.getCustomerSignon(r,"",null,!1,h).pipe((0,P.Q)(this.destroyed$)).subscribe(l=>{if(this.isLoadingInProgress.next(!1),this.featureFlagService.isFeatureEnabled("CJ_EVENT_TAGGING")){const v=l?.gateway_customer?.preferred_customer?.account_nbr||l?.gatewayCustomer?.preferredCustomer?.accountNbr;v&&this.userService.getCJEvent(v).pipe((0,P.Q)(this.destroyed$)).subscribe(S=>{console.log(`CJ Event received ${JSON.stringify(S)}`),S&&S.referralCode&&(localStorage.setItem("cjevent",S.referralCode),sessionStorage.setItem("cjevent",S.referralCode))},S=>console.error(S))}if(l&&l.error)this.siteBehaviour.updateLoginErrorCount(),this.utilService.deleteCookieItem("user_session_token"),this.userSessionLogin?this.userSessionLogin=!1:(this.utilService.setSessionStorageItem("autoSignOnError",JSON.stringify(l)),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate(["/user/login"])));else{if(sessionStorage.setItem("sociallyLoggedInIdpType",this.utilService.getSessionStorageItem("idpType")),sessionStorage.setItem("sc_login_success","true"),sessionStorage.setItem("dtm_login_success","true"),this.featureFlagService.isFeatureEnabled("THIRD_PARTY_DATASHARING_CONSENT")){const v=!!l.gatewayCustomer.showThirdPartyConsentPopup&&JSON.parse(l.gatewayCustomer.showThirdPartyConsentPopup);this.updateStoreUsingActionService.updateThirdPartyConsentPopupFlag(v),v&&"P"===l.gatewayCustomer.registrationStatus&&this.utilService.isThirdPartyConsentImplicit()&&this.user.updateCustomerProfileOnce()}this.user.customerSignOnSuccess()}},l=>console.error(l))}getSocialLinkingBtnList(){return this.utilService.getSessionStorageItem("socialLoginOptions")?JSON.parse(this.utilService.getSessionStorageItem("socialLoginOptions")):""}unLink(r){"profile"==r?this.unlinkURL="/dcsauth/v1/idp/unlink":sessionStorage.getItem("idpType")&&(this.unlinkURL="/dcsauth/v1/idp/"+sessionStorage.getItem("idpType").toLowerCase()+"/unlink");const g=JSON.parse(sessionStorage.getItem("socialAuthTokens")),p=this.utilService.getCookieStoreItem("SessionId");if(g&&g.access_token){const h=g.access_token,l={headers:{"x-wu-externalRefId":p,"x-wu-apiKey":"null","x-wu-correlationId":"null","Accept-Language":this.urlService.getLanguageFromURL()+"-"+this.urlService.getCountryFromURL(),Authorization:"Bearer "+h}};return this.getXHRApiData("unlink",l,"")}}idpLookUp(){const g={headers:{"x-wu-externalRefId":"null","x-wu-apiKey":"null","x-wu-correlationId":"null","Accept-Language":this.urlService.getLanguageFromURL()+"-"+this.urlService.getCountryFromURL(),"Content-Type":"application/json"}};return this.getXHRApiData&&this.getXHRApiData("idplookup",g,""),this.restMethod.POST("/dcsauth/v1/idp/lookup",this.buildIDPLookupPayload(),g)}buildIDPLookupPayload(){return{email:JSON.parse(sessionStorage.getItem("GatewayCustomer")).email}}getFactor(){const g=JSON.parse(sessionStorage.getItem("socialAuthTokens"));if(g&&g.access_token){const p=g.access_token,h={headers:{"Accept-Language":this.urlService.getLanguageFromURL()+"-"+this.urlService.getCountryFromURL(),"Content-Type":"application/json","x-wu-externalRefId":"null",Authorization:"Bearer "+p}};return this.getXHRApiData&&this.getXHRApiData("GetFactor",h,""),this.restMethod.GET("/dcsauth/v1/factors",h)}}enrollFactor(r,g){const h=JSON.parse(sessionStorage.getItem("socialAuthTokens"));if(h&&h.access_token){const l=h.access_token,v={headers:{"Accept-Language":this.urlService.getLanguageFromURL()+"-"+this.urlService.getCountryFromURL(),"Content-Type":"application/json","x-wu-externalRefId":"null",Authorization:"Bearer "+l}};return this.getXHRApiData&&this.getXHRApiData("EnrollFactor",v,""),this.restMethod.POST("/dcsauth/v1/factors/enroll",this.buildEnrollFactorPayload(r,g),v)}}buildEnrollFactorPayload(r,g){return""!=r&&""==g?[{factorType:"sms",profile:{phoneNumber:r}}]:""==r&&""!=g?[{factorType:"email",profile:{email:g}}]:""!=r&&""!=g?[{factorType:"email",profile:{email:g}},{factorType:"sms",profile:{email:r}}]:void 0}callRevokeApi(){this.revokeApi().pipe((0,P.Q)(this.destroyed$)).subscribe(r=>{r&&r.data&&!r.data.error&&"REVOKED"==r.data.status&&"Token Revoked"==r.data.message&&(sessionStorage.removeItem("socialAuthTokens"),sessionStorage.getItem("sociallyLoggedInIdpType")&&(sessionStorage.removeItem("sociallyLoggedInIdpType"),this.logoutUser()))},r=>{sessionStorage.getItem("sociallyLoggedInIdpType")&&(sessionStorage.removeItem("sociallyLoggedInIdpType"),this.logoutUser()),console.error(r)})}revokeApi(){const g=JSON.parse(sessionStorage.getItem("socialAuthTokens"));if(g&&g.access_token&&g.refresh_token){const p=g.access_token,h=g.refresh_token,l={headers:{"x-wu-externalRefId":"null","x-wu-apiKey":"null","x-wu-correlationId":"null","Accept-Language":this.urlService.getLanguageFromURL()+"-"+this.urlService.getCountryFromURL(),Authorization:"Bearer "+p,"Content-Type":"application/json"}};return this.getXHRApiData&&this.getXHRApiData("revoke",l,""),this.restMethod.POST("/dcsauth/v1/revoke",this.buildRevokeApiPayload(h),l)}}logoutUser(){this.sessionService.terminateSession().pipe((0,P.Q)(this.destroyed$)).subscribe(()=>{this.utilService.clearAllStorage(),this.routingService.navigateToLoginNG8()})}static#e=this.\u0275fac=function(g){return new(g||a)(O.KVO($.l9),O.KVO(e.a),O.KVO(G.Ix),O.KVO(V.R),O.KVO(D.D),O.KVO(f.K),O.KVO(C.y),O.KVO(A.k),O.KVO(E.A),O.KVO(N.M),O.KVO(M.H),O.KVO(w.Q),O.KVO(U.O),O.KVO(_.X))};static#t=this.\u0275prov=O.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},82380:(n,d,t)=>{"use strict";t.d(d,{I:()=>f});var o=t(10467),e=t(47058),x=t(45286),$=t(75194),W=t(7605),K=t(95006),V=t(77202),P=t(58802),D=t(54438);let f=(()=>{class C{constructor(E,N,_){this.smoConfig=E,this.utilService=N,this.restMethod=_,this.destroyed$=new x.B7}getLinkingIdpsApi(E,N){const _={headers:{"x-wu-externalRefId":this.utilService.getCookieItem("SessionId")}},M=this.utilService.getSessionStorageItem("socialAuthTokens")?JSON.parse(this.utilService.getSessionStorageItem("socialAuthTokens")).access_token:null;this.restMethod.POST(P.q9.IDPLOOKUP,this.buildLinkingIdpPayload(E),"dcsauth","",_).pipe((0,W.Q)(this.destroyed$)).subscribe(U=>{U&&!U.error&&U.idp&&(sessionStorage.setItem("linkedIdpTypes",U.idp),M||this.callTokenPasswordApi(E,N))},U=>{console.error(U)})}buildLinkingIdpPayload(E){return{email:E}}getRefreshToken(){const N=(this.utilService.getSessionStorageItem("socialAuthTokens")&&JSON.parse(this.utilService.getSessionStorageItem("socialAuthTokens")))?.refresh_token;if(N){const _={headers:{"x-wu-apiKey":"null","x-wu-correlationId":"null","x-wu-externalRefId":this.utilService.getCookieItem("SessionId"),"content-type":"application/x-www-form-urlencoded"}};this.restMethod.POST(P.q9.TOKEN,this.buildRefreshTokenApiPayload(N),"dcsauth","",_).pipe((0,W.Q)(this.destroyed$)).subscribe(M=>{M&&!M.error&&sessionStorage.setItem("socialAuthTokens",JSON.stringify({access_token:M.access_token,id_token:M.id_token,refresh_token:M.refresh_token,access_token_expire_timer:M.expires_in}))},M=>{console.error(M)})}}buildRefreshTokenApiPayload(E){return`refresh_token=${E}&scope=chs.svc.customer`}getTokenAndLinkedIdps(E,N){var _=this;return(0,o.A)(function*(){yield _.getLinkingIdpsApi(E,N)})()}callTokenPasswordApi(E,N){const _={headers:{"x-wu-sessionId":this.utilService.getCookieItem("SessionId")}};this.restMethod.POST(P.q9.TOKEN,this.buildTokenPasswordApiPayload(E,N),"dcsauth","",_).pipe((0,W.Q)(this.destroyed$)).subscribe(M=>{M&&!M.error&&sessionStorage.setItem("socialAuthTokens",JSON.stringify({access_token:M.access_token,refresh_token:M.refresh_token,access_token_expire_timer:M.expires_in}))},M=>{console.error(M)})}buildTokenPasswordApiPayload(E,N){return{customer:{email:E,credential:{password:N}}}}callLoginAuthAPI(E){const _=(this.utilService.getSessionStorageItem("socialAuthTokens")&&JSON.parse(this.utilService.getSessionStorageItem("socialAuthTokens")))?.access_token;if(_&&E){const M={headers:{"Content-Type":"application/json","Accept-Language":this.smoConfig.getLanguageFromURL().toLowerCase()+"-"+this.smoConfig._getCountryIsoCode().toUpperCase()}};return this.restMethod.POST("/v1/login",this.buildLoginAuthPayload(E,_),"dcsauth","",M).pipe((0,K.T)(U=>U))}}buildLoginAuthPayload(E,N){return{username:E,token:N,loginType:"TOKEN",idp:this.utilService.getSessionStorageItem("idpType")?.toUpperCase()}}enrollFactors(E,N){let _,M;if(N)_=N?.email,M="F"===N.registration_status&&`+${N?.contact_phone_country_prefix}${N?.contact_phone}`;else{const w=this.utilService.getSessionStorageItem("GatewayCustomer")&&JSON.parse(this.utilService.getSessionStorageItem("GatewayCustomer"));_=w?.email,M="F"===w.registrationStatus&&`+${w?.contactPhoneCountryPrefix}${w?.contactPhone}`}const U={headers:{"x-wu-apiKey":"null","x-wu-externalRefId":"null",Authorization:`Bearer ${E}`}};this.restMethod.POST(P.q9.ENROLLFACTORS,this.buildEnrollFactorPayload(_,M),"dcsauth","",U).subscribe(w=>w)}buildEnrollFactorPayload(E,N){const _=[{factorType:"email",profile:{email:E}}];return N&&_.push({factorType:"sms",profile:{phoneNumber:N}}),_}getFactors(E){const _=(this.utilService.getSessionStorageItem("socialAuthTokens")&&JSON.parse(this.utilService.getSessionStorageItem("socialAuthTokens")))?.access_token,M={headers:{"Accept-Language":this.smoConfig.getLanguageFromURL().toLowerCase()+"-"+this.smoConfig._getCountryIsoCode().toUpperCase(),"x-wu-externalRefId":"null",Authorization:`Bearer ${_}`}};if(_)return this.restMethod.GET(P.q9.GETFACTORS,"dcsauth",M).subscribe(U=>{0===U.length&&this.enrollFactors(_,E)})}static#e=this.\u0275fac=function(N){return new(N||C)(D.KVO(e.l9),D.KVO(V.a),D.KVO($.R))};static#t=this.\u0275prov=D.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},34781:(n,d,t)=>{"use strict";t.d(d,{k:()=>K});var o=t(19493),e=t(98735),x=t(28269),$=t(54438),W=t(64646);let K=(()=>{class V{constructor(D){this._store=D}updateSenderCountry(D){this._store.dispatch({type:e.k.UPDATE_SENDER_COUNTRY,payload:{senderCountryDetails:{senderCountryName:D.senderCountryName,senderCountryIsoCode:D.senderIsoCode,senderCurrency:D.senderCurrency,senderCurrencyArray:D.senderCurrencyArray}}})}updateReceiverCountry(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_COUNTRY,payload:D})}updateSenderAmount(D){this._store.dispatch({type:e.k.UPDATE_SENDER_AMOUNT,payload:{senderAmount:D}})}updateReceiverAmount(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_AMOUNT,payload:{receiverAmount:D}})}updateForCountry(D){this._store.dispatch({type:e.k.UPDATE_IS_FOR_COUNTRY,payload:{isForCountry:D}})}updateReceiverCurrency(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_CURRENCY,payload:D})}updateReceiverWallet(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_WALLET,payload:D})}updateReceiverBank(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_BANK,payload:D})}updateReceiverCityPopOver(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_CITY_POPOVER,payload:D})}updateReceiverWalletList(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_WALLET_LIST,payload:D})}updateReceiverBankList(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_BANK_LIST,payload:D})}updateReceiverCurrencyArray(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_CURRENCY_ARRAY,payload:D})}updateReceiverCity(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_CITY,payload:{stateIsoCode:D.stateIsoCode,stateName:D.stateName,cityName:D.cityName}})}updateAgentLocation(D){this._store.dispatch({type:e.k.UPDATE_AGENT_LOCATION,payload:D})}updateSelectedAgentLocation(D){this._store.dispatch({type:e.k.SELECTED_PRODUCT_LOCATION,payload:D})}updateIsDirectedCountry(D){this._store.dispatch({type:e.k.UPDATE_IS_DIRECTED_COUNTRY,payload:D})}updateGetLimits(D){this._store.dispatch({type:e.k.UPDATE_GET_LIMITS,payload:D})}updateSenderAmountLimit(D){this._store.dispatch({type:e.k.UPDATE_SENDER_AMOUNT_LIMIT,payload:D})}updateProducts(D){this._store.dispatch({type:e.k.PRODUCTS,payload:D})}updateSelectedProduct(D){this._store.dispatch({type:e.k.SELECTED_PRODUCT,payload:D})}updateSelectedBestOption(D){this._store.dispatch({type:e.k.SELECTED_BEST_OPTION,payload:D})}updateTDSJWT(D){this._store.dispatch({type:e.k.UPDATE_TDSJWT,payload:D})}updateSelectedReceiver(D){this._store.dispatch({type:e.k.UPDATE_SELECTED_RECEIVER,payload:D})}updateSelectedReceiverUID(D){this._store.dispatch({type:e.k.UPDATE_SELECTED_RECEIVER_UID,payload:D})}updateNameChange(D){this._store.dispatch({type:e.k.UPDATE_NAME_CHANGE,payload:D})}updateReceiverList(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_LIST,payload:D})}cleanReceiverList(){this._store.dispatch({type:e.k.CLEAN_RECEIVER_LIST})}updatePageLevelNotification(D){this._store.dispatch({type:e.k.UPDATE_PAGE_LEVEL_NOTIFICATION,payload:D})}updateAccountNumber(D){this._store.dispatch({type:e.k.UPDATE_ACCOUNT_NUMBER,payload:D})}updateNotifications(D){this._store.dispatch({type:e.k.UPDATE_NOTIFICATIONS,payload:D})}updateSender(D){this._store.dispatch({type:e.k.UPDATE_SENDER,payload:D})}updateDSSCustomer(D){this._store.dispatch({type:e.k.UPDATE_DSS_CUSTOMER,payload:D})}updateUserJourney(D){this._store.dispatch({type:e.k.UPDATE_USER_JOURNEY,payload:D})}updatePriceQuoteServicesMeta(D){this._store.dispatch({type:e.k.UPDATE_PRICEQUOTE_SERVICESMETA,payload:D})}updateSessionId(D){this._store.dispatch({type:e.k.UPDATE_SESSION_ID,payload:D})}updateEncryptedSessionId(D){this._store.dispatch({type:e.k.UPDATE_ENCRYPTED_SESSION_ID,payload:D})}updateIdealBankInfo(D){this._store.dispatch({type:e.k.UPDATE_IDEAL_BANKNAME,payload:D})}updatePPSProfile(D){this._store.dispatch({type:e.k.UPDATE_PPS_PROFILE_STATUS,payload:D})}updatePPSProfileData(D){this._store.dispatch({type:e.k.UPDATE_PPS_PROFILE_DATA,payload:D})}updateSessionInfo(D){this._store.dispatch({type:e.k.UPDATE_SESSION_INFO,payload:D})}updateEfl(D){this._store.dispatch({type:e.k.UPDATE_EFL,payload:D})}cleanStoreValue(){this._store.dispatch({type:e.k.CLEAN_STORE})}cleanProducts(){this._store.dispatch({type:e.k.CLEAN_PRODUCTS})}cleanSelectedProduct(){this._store.dispatch({type:e.k.CLEAN_SELECTED_PRODUCT})}getState(){return this._store.pipe((0,o.s)(1)).subscribe(D=>{this.sessionFromStore=D.app}),this.sessionFromStore}updateSendMoneyValidationResponse(D){this._store.dispatch({type:e.k.UPDATE_SMV_RESPONSE,payload:D})}updateSendMoneyValidationBody(D){this._store.dispatch({type:e.k.UPDATE_SMV_BODY,payload:D})}updateClientIp(D){this._store.dispatch({type:e.k.UPDATE_CLIENT_IP,payload:D})}updateFPXBankInfo(D){this._store.dispatch({type:e.k.UPDATE_FPXBank_Info,payload:D})}updateWalletBankInfo(D){this._store.dispatch({type:e.k.UPDATE_WalletBank_Info,payload:D})}updateTransactionHistory(D){this._store.dispatch({type:e.k.UPDATE_TRANSACTION_HISTORY,payload:D})}updateNonDigitalTransactionHistory(D){this._store.dispatch({type:e.k.UPDATE_NONDIGITALTRANSACTION_HISTORY,payload:D})}updateHostedPartner(D){this._store.dispatch({type:e.k.UPDATE_HOSTED_PARTNER_STATUS,payload:D})}updatePartnerPayloadData(D){this._store.dispatch({type:e.k.UPDATE_PARTNER_PAYLOAD,payload:D})}updateTranslationContent(D){this._store.dispatch({type:e.k.UPDATE_CONTENT_SOURCE,payload:D})}cleanPageLevelNotification(){this._store.dispatch({type:e.k.CLEAN_PAGE_LEVEL_NOTIFICATION})}updateSendAgainTransactionData(D){this._store.dispatch({type:e.k.UPDATE_SEND_AGAIN_TRANSACTION_DATA,payload:D})}updateCashOptionEnabled(D){this._store.dispatch({type:e.k.UPDATE_CASH_OPTION_ENABLED,payload:D})}updateEvergageExperiences(D){this._store.dispatch({type:e.k.UPDATE_EVERGAGE_EXPERIENCES,payload:D})}updateCountryCurrencies(D){this._store.dispatch({type:e.k.UPDATE_COUNTRY_CURRENCIES,payload:D})}updateThirdPartyConsentPopupFlag(D){this._store.dispatch({type:e.k.UPDATE_THIRDPARTY_POPUP_FLAG,payload:D})}updateSiteBehaviourData(D){this._store.dispatch({type:e.k.UPDATE_SITE_BEHAVIOUR,payload:D})}updatePromoCode(D){this._store.dispatch({type:e.k.PROMO_CODE,payload:D})}updateCustomerVerificationStatus(D){this._store.dispatch({type:e.k.UPDATE_CUSTOMER_VERIFICATION_STATUS,payload:D})}updateVerifyCustomerStatus(D){this._store.dispatch({type:e.k.UPDATE_VERIFY_CUSTOMER_STATUS,payload:D})}updateUploadDMSDocStatus(D){this._store.dispatch({type:e.k.UPDATE_UPLOAD_DMS_DOC_STATUS,payload:D})}updateSWBErrors(D){this._store.dispatch({type:e.k.UPDATE_SWB_ERRORS,payload:D})}updateSessionFlags(D){this._store.dispatch({type:e.k.UPDATE_SESSION_FLAGS,payload:D})}updateGetVendorDataResponse(D){this._store.dispatch({type:e.k.GET_VENDOR_DATA_RESPONSE,payload:D})}updateAWSCountryConfig(D){this._store.dispatch({type:e.k.UPDATE_AWS_COUNTRY_CONFIG,payload:D})}updateFeatureFlagConfig(D){this._store.dispatch({type:e.k.UPDATE_FEATURE_FLAGS,payload:D})}updateCountryConfig(D){this._store.dispatch({type:e.k.UPDATE_COUNTRY_CONFIG,payload:D})}updateSmoConfig(D){this._store.dispatch({type:e.k.UPDATE_SMO_CONFIG,payload:D})}updateTokenValue(D){this._store.dispatch({type:e.k.UPDATE_REQUEST_MONEY_TOKEN,payload:D})}updateFullfilmentDetails(D){this._store.dispatch({type:e.k.UPDATE_FULFILMENT_DETAILS,payload:D})}updateRequestMoneyToken(D){this._store.dispatch({type:e.k.UPDATE_REQUEST_MONEY_TOKEN,payload:D})}updateSDMTCN(D){this._store.dispatch({type:e.k.UPDATE_SD_MTCN,payload:D})}updateSignicatInitiatedStatus(D){this._store.dispatch({type:e.k.UPDATE_SIGNICAT_INITIATED,payload:D})}updateAbandonedToken(D){this._store.dispatch({type:e.k.ABANDONED_TOKEN,payload:D})}clearAbandonedToken(){this._store.dispatch({type:e.k.CLEAR_ABANDONED_TOKEN})}updateSenderCardDetails(D){this._store.dispatch({type:e.k.UPDATE_SENDER_CARD,payload:D})}updateDucLandingVM(D){this._store.dispatch({type:x.rP.DucDocTypeDetailsUpdate,payload:D})}updateSendMoneyObjects(D){this._store.dispatch({type:x.rP.SendMoneyObjects,payload:D})}updateICVResponse(D){this._store.dispatch({type:x.rP.ICVResponse,payload:D})}updateAWSKycConfigResponse(D){this._store.dispatch({type:x.rP.GetKycConfigDataSuccess,payload:D})}updateCardsData(D){this._store.dispatch({type:e.k.UPDATE_CARDS_DATA,payload:D})}updateBanksData(D){this._store.dispatch({type:e.k.UPDATE_BANKS_DATA,payload:D})}updateSelectedCard(D){this._store.dispatch({type:e.k.UPDATE_SELECTED_CARD,payload:D})}updateSelectedBank(D){this._store.dispatch({type:e.k.UPDATE_SELECTED_BANK,payload:D})}updateUserFlow(D){this._store.dispatch({type:e.k.UPDATE_USER_FLOW,payload:D})}updateGuestInfoSender(D){this._store.dispatch({type:e.k.UPDATE_GUEST_INFO_SENDER,payload:D})}updateGuestInfoReceiver(D){this._store.dispatch({type:e.k.UPDATE_GUEST_INFO_RECEIVER,payload:D})}updateDailingPrefixList(D){this._store.dispatch({type:e.k.UPDATE_DIALING_PREFIX_LIST,payload:D})}updateResetPwdInfo(D){this._store.dispatch({type:e.k.UPDATE_RESET_PWD_INFO,payload:D})}cleanTransactionHistory(){this._store.dispatch({type:e.k.CLEAN_TRANSACTION_HISTORY})}updateReceiverError(D){this._store.dispatch({type:e.k.UPDATE_RECEIVER_ERROR,payload:D})}updatePepCategory(D){this._store.dispatch({type:e.k.UPDATE_PEPDETAILS,payload:D})}updateComplianceWeb(D){this._store.dispatch({type:e.k.UPDATE_COMPLIANCE_WEB,payload:D})}updatePendingDssDocuments(D){this._store.dispatch({type:e.k.UPDATE_PENDING_DSS_DOCS,payload:D})}updateProactiveCompliance(D){this._store.dispatch({type:e.k.UPDATE_PROACTIVE_COMPLIANCE,payload:D})}updateProactiveComplianceFlag(D){this._store.dispatch({type:e.k.UPDATE_PROACTIVE_COMPLIANCE_FLAG,payload:D})}updateCustomerProfileData(D){this._store.dispatch({type:e.k.UPDATE_CUSTOMER_PROFILE_DATA,payload:D})}updateCashPickupReceiver(D){this._store.dispatch({type:e.k.UPDATE_CASH_PICKUP_RECEIVER,payload:D})}updateComplianceConfigRules(D){this._store.dispatch({type:e.k.UPDATE_COMPLIANCE_CONFIG_RULES,payload:D})}updateProductsAfterGetLimits(D){this._store.dispatch({type:e.k.UPDATE_PRODUCTS_AFTER_GETLIMITS,payload:D})}updateFromResumeTransfer(D){this._store.dispatch({type:e.k.UPDATE_FROM_RESUME_TRANSFER,payload:D})}updateToPayInChange(D){this._store.dispatch({type:e.k.UPDATE_TO_PAY_IN_CHANGE,payload:D})}PayInChangePaymentDetails(D){this._store.dispatch({type:e.k.PAY_IN_CHANGE_PAYMENT,payload:D})}clearPayInChangePaymentDetails(){this._store.dispatch({type:e.k.PAY_IN_CHANGE_PAYMENT})}updateFromLoginOTP(D){this._store.dispatch({type:e.k.UPDATE_FROM_LOGIN_OTP,payload:D})}clickResendIsFav(D){this._store.dispatch({type:e.k.UPDATE_FROM_CLICK_RESEND_ISFAV,payload:D})}isFavFilterSelected(D){this._store.dispatch({type:e.k.UPDATE_FROM_ISFAV_FILTER_SELECTED,payload:D})}viewAllFav(D){this._store.dispatch({type:e.k.UPDATE_FOR_VIEW_ALL,payload:D})}updateReminderId(D){this._store.dispatch({type:e.k.UPDATE_REMINDER_ID,payload:D})}cleanReminderId(){this._store.dispatch({type:e.k.CLEAN_REMINDER_ID})}updateSelectedBiller(D){this._store.dispatch({type:e.k.UPDATE_SELECTED_BILLER,payload:D})}wupayUpdateSelectedReceiver(D){this._store.dispatch({type:e.k.UPDATE_WUPAY_SELECTED_RECEIVER,payload:D})}updateCorridor(D){this._store.dispatch({type:e.k.UPDATE_CORRIDOR,payload:D})}updateTatTransaction(D){this._store.dispatch({type:e.k.UPDATE_TRACK_TRANSFER_TRANSACTION,payload:D})}updateFxAlerts(D){this._store.dispatch({type:e.k.UPDATE_FX_ALERTS,payload:D})}updateGMOMaintenanceList(D){this._store.dispatch({type:e.k.GMO_MAINTENANCE_LIST,payload:D})}updatefxSubscription(D){this._store.dispatch({type:e.k.UPDATE_FX_SUBSCRIPTION,payload:D})}updateApnAllowInstance(D){this._store.dispatch({type:e.k.APN_ALLOW_INSTANCE,payload:D})}updateSscContent(D){this._store.dispatch({type:e.k.UPDATE_SSC_CONTENT,payload:D})}updatesscAbTests(D){this._store.dispatch({type:e.k.UPDATE_SSC_ABTESTS,payload:D})}updateKycVerificationModel(D){this._store.dispatch({type:e.k.UPDATE_KYC_VERIFICATION_MODEL,payload:D})}updateGlobalCountryLangList(D){this._store.dispatch({type:e.k.UPDATE_GLOBAL_COUNTRY_LANG_LIST,payload:D})}updateOCRFlowEnable(D){this._store.dispatch({type:e.k.UPDATE_OCR_FLOW_ENABLE,payload:D})}updateLastSelectedProduct(D){this._store.dispatch({type:e.k.UPDATE_LAST_SELECTED_PRODUCT,payload:D})}updateKycVendorConfig(D){this._store.dispatch({type:e.k.UPDATE_KYC_VENDOR_CONFIG,payload:D})}updateVerificationOptionList(D){this._store.dispatch({type:e.k.UPDATE_VERIFICATION_OPTIONS_LIST,payload:D})}updateCollectIDCTRTemp(D){this._store.dispatch({type:e.k.UPDATE_COLLECTID_CTR_DATA,payload:D})}updateHistoryResForLastYear(D){this._store.dispatch({type:e.k.UPDATE_HISTORY_RES_FOR_LAST_YEAR,payload:D})}updateValidationError(D){this._store.dispatch({type:e.k.UPDATE_VALIDATION_ERROR,payload:D})}updateCountryDynamicParams(D){this._store.dispatch({type:e.k.UPDATE_COUNTRY_DYNAMIC_PARAMS,payload:D})}updateIACHReceiverConfig(D){this._store.dispatch({type:e.k.UPDATE_IACH_RECEIVER_CONFIG,payload:D})}updateSecurityQuestionMYFW(D){this._store.dispatch({type:e.k.UPDATE_SECURITY_QUESTION_MY_FORIGN_WORKER,payload:D})}updateLazyLoaderSpinnerFlag(D){this._store.dispatch({type:e.k.UPDATE_LAZY_LOADER_SPINER_FLAG,payload:D})}updateQuickResendFlagForAmp(D){this._store.dispatch({type:e.k.UPDATE_AMP_QUICK_RESND_FLAG,payload:D})}updateOCRMethodSelected(D){this._store.dispatch({type:e.k.UPDATE_OCR_METHOD_SELECTED,payload:D})}updateOCRIDSdk(D){this._store.dispatch({type:e.k.UPDATE_OCR_ID_SDK,payload:D})}updateOCRCardSdk(D){this._store.dispatch({type:e.k.UPDATE_OCR_CARD_SDK,payload:D})}updateIdOCRSdkLoadStatus(D){this._store.dispatch({type:e.k.UPDATE_ID_OCR_SDK_LOAD_STATUS,payload:D})}updateCardOCRSdkLoadStatus(D){this._store.dispatch({type:e.k.UPDATE_CARD_OCR_SDK_LOAD_STATUS,payload:D})}updateCityList(D){this._store.dispatch({type:e.k.UPDATE_CITY_LIST,payload:D})}updateToResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_RESEND_FLOW,payload:D})}updateToResendTransactionHistory(D){this._store.dispatch({type:e.k.UPDATE_TO_RESEND_FLOW_HISTORY,payload:D})}updateToWupayResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_WUPAY_RESEND_FLOW,payload:D})}updateToPayNowResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_PAYNOW_RESEND_FLOW,payload:D})}updateToMobileWalletResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_MOBILE_WALLET_RESEND_FLOW,payload:D})}updateToIpay88ResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_IPAY88_RESEND_FLOW,payload:D})}updateToFPXResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_FPX_RESEND_FLOW,payload:D})}updateToC3ResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_C3_RESEND_FLOW,payload:D})}updateToGooglePayResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_GOOGLEPAY_RESEND_FLOW,payload:D})}updateToPlaidResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_Plaid_RESEND_FLOW,payload:D})}updateToSofortResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_SORORT_RESEND_FLOW,payload:D})}updateSelectedTransactionDetails(D){this._store.dispatch({type:e.k.UPDATE_SELECTED_TRANSACTION,payload:D})}updateEncryptOcrPublicKey(D){this._store.dispatch({type:e.k.UPDATE_ENCRYPT_OCR_PUBLICKEY,payload:D})}updateWuPayQrCodeResponse(D){this._store.dispatch({type:e.k.UPDATE_WUPAY_QRCODE,payload:D})}updateAvailableVideoKYCOutSideHours(D){this._store.dispatch({type:e.k.UPDATE_AVAILABLE_VIDEO_KYC_OUTSIDE_HOURS,payload:D})}updateIsMobileWalletEnabled(D){this._store.dispatch({type:e.k.UPDATE_ISMOBILEWALLET_ENABLED,payload:D})}updateLoginThroughKnowYourLimit(D){this._store.dispatch({type:e.k.UPDATE_LOGIN_THROUGH_KNOW_YOUR_LIMIT,payload:D})}updateProfileModalDisplayFlag(D){this._store.dispatch({type:e.k.UPDATE_PROFILE_DISPLAY_FLAG,payload:D})}updateReceiverCtrFromRegister(D){this._store.dispatch({type:e.k.UPDATE_PARAMS_FROM_REGISTER,payload:D})}updatelifeTimeSavings(D){this._store.dispatch({type:e.k.UPDATE_LIFE_TIME_SAVINGS,payload:D})}updateSelectedPSProductOnReceiver(D){this._store.dispatch({type:e.k.UPDATE_SELECTED_PS_PRODUCT,payload:D})}updateFlowType(D){this._store.dispatch({type:e.k.UPDATE_FLOW_TYPE,payload:D})}updateDss2DialPrefix(D){this._store.dispatch({type:e.k.UPDATE_DSS2_DIAL_PREFIX,payload:D})}updateDss2LookupCriteria(D){this._store.dispatch({type:e.k.UPDATE_DSS2_LOOKUP_CRITERIA,payload:D})}updateDss2LookupResponse(D){this._store.dispatch({type:e.k.UPDATE_DSS2_LOOKUP_RESPONSE,payload:D})}updateDss2ProfileTemplate(D){this._store.dispatch({type:e.k.UPDATE_DSS2_PROFILE_TEMPLATE,payload:D})}updateDss2IdList(D){this._store.dispatch({type:e.k.UPDATE_DSS2_ID_LIST,payload:D})}updateDss2AuthenticationStatus(D){this._store.dispatch({type:e.k.UPDATE_DSS2_AUTHENTICATION_STATUS,payload:D})}updateDss2ProfileVerificationStatus(D){this._store.dispatch({type:e.k.UPDATE_PROFILE_VERIFICATION_STATUS,payload:D})}updatePromoCodeList(D){this._store.dispatch({type:e.k.UPDATE_PROMO_LIST,payload:D})}updateDss2HasCompleteProfilePage(D){this._store.dispatch({type:e.k.UPDATE_DSS2_HAS_COMPLETE_PROFILE_PAGE,payload:D})}updateToBanContactResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_BANCONTACT_RESEND_FLOW,payload:D})}UpdateOnboardingCTRDATA(D){this._store.dispatch({type:e.k.GET_ONBOARDING_CTR_FLOW,payload:D})}updateRTOBReceiverDetails(D){this._store.dispatch({type:e.k.UPDATE_TO_R_TO_B_RECEIVERDETAILS,payload:D})}updateSourceType(D){this._store.dispatch({type:e.k.UPDATE_SOURCE_TYPE,payload:D})}updatePromoDetails(D){this._store.dispatch({type:e.k.UPDATE_PROMO_DETAILS,payload:D})}updateDss2NonIdList(D){this._store.dispatch({type:e.k.UPDATE_DSS2_NON_ID_LIST,payload:D})}updateAdLoadEvent(D){this._store.dispatch({type:e.k.UPDATE_AD_LOAD_EVENT,payload:D})}updateCustomerTxnDetails(D){this._store.dispatch({type:e.k.UPDATE_CUSTOMER_TXN_DETAILS,payload:D})}updatePriceCatalogDetails(D){this._store.dispatch({type:e.k.UPDATE_PRICE_CATALOG_DETAILS,payload:D})}updateToKlarnaResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_KLARNA_RESEND_FLOW,payload:D})}updateLastSelectedProductFifoSlider(D){this._store.dispatch({type:e.k.UPDATE_LAST_SELECTED_PRODUCT_FIFO_SLIDER,payload:D})}updateGAMQueryParam(D){this._store.dispatch({type:e.k.UPDATE_GAM_QUERY_PARAM,payload:D})}updateSidePanelAddReceiverData(D){this._store.dispatch({type:e.k.SET_SIDE_PANAL_ADD_RECEIVER_DATA,payload:D})}updateTourCurrentSection(D){this._store.dispatch({type:e.k.UPDATE_TOUR_CURRENT_SECTION,payload:D})}updateToTinkResendTransaction(D){this._store.dispatch({type:e.k.UPDATE_TO_TINK_RESEND_FLOW,payload:D})}static#e=this.\u0275fac=function(f){return new(f||V)($.KVO(W.il))};static#t=this.\u0275prov=$.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},66726:(n,d,t)=>{"use strict";t.d(d,{$Q:()=>ve,$z:()=>Ne,A5:()=>_e,A6:()=>Oe,Ao:()=>re,Ar:()=>y,BY:()=>f,Bl:()=>we,C6:()=>ae,CF:()=>qe,DE:()=>Nt,DW:()=>zt,E_:()=>Re,Eg:()=>ti,En:()=>b,F3:()=>S,F4:()=>ut,F6:()=>Y,FE:()=>D,Fu:()=>_t,GI:()=>k,Gj:()=>jt,HH:()=>wt,HZ:()=>ne,Ht:()=>K,J5:()=>W,JF:()=>F,KR:()=>It,KZ:()=>L,Kj:()=>Pt,Mb:()=>C,N4:()=>gt,NM:()=>Be,Nr:()=>At,OC:()=>si,OQ:()=>ii,Oy:()=>Q,Ql:()=>Et,Qm:()=>O,RS:()=>J,Re:()=>Qt,Rs:()=>bt,SB:()=>c,SX:()=>R,T1:()=>Z,T6:()=>Tt,T7:()=>it,Tr:()=>p,Uc:()=>fe,Ui:()=>st,VI:()=>l,W8:()=>rt,WY:()=>ot,WZ:()=>de,XU:()=>Ut,Y4:()=>T,Yb:()=>De,Yn:()=>kt,Yr:()=>a,ZK:()=>Ie,Zy:()=>ai,aQ:()=>Ft,b0:()=>vt,bq:()=>Xe,cG:()=>Ee,d$:()=>_,dY:()=>lt,dj:()=>r,dp:()=>Ce,f9:()=>oe,fG:()=>Yt,fh:()=>Xt,h7:()=>Vt,hJ:()=>Fe,i:()=>xt,iC:()=>Bt,iE:()=>Lt,jY:()=>Ot,jm:()=>Kt,l5:()=>I,lC:()=>g,lH:()=>ei,lU:()=>Ae,lo:()=>Jt,lw:()=>v,mA:()=>$,me:()=>Dt,mu:()=>ie,mw:()=>pe,mz:()=>U,nS:()=>qt,oB:()=>Wt,oH:()=>je,p8:()=>ze,pN:()=>mt,pV:()=>G,qO:()=>pt,r0:()=>Mt,r8:()=>V,rV:()=>h,rb:()=>P,s4:()=>$t,sC:()=>X,si:()=>et,sk:()=>Zt,tD:()=>Ht,ts:()=>ri,u0:()=>B,vk:()=>m,vp:()=>s,vu:()=>le,w8:()=>N,wP:()=>dt,x$:()=>Gt,xI:()=>Rt,xY:()=>M,yI:()=>Pe,yq:()=>w,yx:()=>me,z$:()=>at,zl:()=>te});var o=t(64646);const e=(0,o.UX)("app"),$=((0,o.Mz)(e,ce=>ce.GatewayCustomer),(0,o.Mz)(e,ce=>ce.corridor)),W=(0,o.Mz)(e,ce=>ce.selectedReceiver),K=(0,o.Mz)(e,ce=>ce.tdsJWT),V=(0,o.Mz)(e,ce=>ce.receiverList),P=(0,o.Mz)(e,ce=>ce.selectedProduct),D=(0,o.Mz)(e,ce=>ce.selectedProduct?.receiverCityPopOver),f=(0,o.Mz)(e,ce=>ce.selectedBestOption),C=(0,o.Mz)(e,ce=>ce.selectedCard),N=((0,o.Mz)(e,ce=>ce.selectedBank),(0,o.Mz)(e,ce=>ce.language),(0,o.Mz)(e,ce=>ce.sender)),_=(0,o.Mz)(e,ce=>ce.products),M=(0,o.Mz)(e,ce=>ce.pageLevelNotification),U=(0,o.Mz)(e,ce=>ce.senderAmount),w=(0,o.Mz)(e,ce=>ce.isForCountry),O=(0,o.Mz)(e,ce=>ce.receiverAmount),G=(0,o.Mz)(e,ce=>ce.getLimits),s=(0,o.Mz)(e,ce=>ce.senderAmountLimit),a=(0,o.Mz)(e,ce=>ce.userJourney),c=(0,o.Mz)(e,ce=>ce.selectedAgentProduct),r=(0,o.Mz)(e,ce=>ce.isPPSprofile),g=(0,o.Mz)(e,ce=>ce.PPSProfileData),p=(0,o.Mz)(e,ce=>ce.notifications),h=(0,o.Mz)(e,ce=>ce.corridor.senderCurrency),l=(0,o.Mz)(e,ce=>ce.corridor.receiverCurrency),v=(0,o.Mz)(e,ce=>ce.corridor?.receiverCountry?.isoCode),S=(0,o.Mz)(e,ce=>ce.corridor.receiverWallet),m=(0,o.Mz)(e,ce=>ce.corridor.receiverWalletList),b=(0,o.Mz)(e,ce=>ce.corridor.receiverBankList),Y=(0,o.Mz)(e,ce=>ce.corridor.receiverBank),R=(0,o.Mz)(e,ce=>ce.corridor.receiverWallet),k=(0,o.Mz)(e,ce=>ce.efl),L=(0,o.Mz)(e,ce=>ce.hostedPartner),y=(0,o.Mz)(e,ce=>ce.smvResponse),I=(0,o.Mz)(e,ce=>ce.smvRequest),T=(0,o.Mz)(e,ce=>ce.sender?.customerVerificationStatus),te=(0,o.Mz)(e,ce=>ce.priceQuoteservicesMeta),Z=(0,o.Mz)(e,ce=>ce.ClientIp),de=(0,o.Mz)(e,ce=>ce.idealBankInfo),oe=(0,o.Mz)(e,ce=>ce.FPXBankInfo),ae=(0,o.Mz)(e,ce=>ce.WalletBankInfo),B=((0,o.Mz)(e,ce=>ce.sessionInfo),(0,o.Mz)(e,ce=>ce.sessionId)),ie=((0,o.Mz)(e,ce=>ce.encryptedSessionId),(0,o.Mz)(e,ce=>ce.transactionHistory)),re=(0,o.Mz)(e,ce=>ce.nonDigitalTransactionHistory),Ce=(0,o.Mz)(e,ce=>ce.partnerData),X=(0,o.Mz)(e,ce=>ce.NG_TRANSLATE_LANG_KEY),Ee=(0,o.Mz)(e,ce=>ce.cardsData),De=(0,o.Mz)(e,ce=>ce.paramountBankList),fe=(0,o.Mz)(e,ce=>ce.paymentPageError),le=((0,o.Mz)(e,ce=>ce.error),(0,o.Mz)(e,ce=>ce.countryCurrencies),(0,o.Mz)(e,ce=>ce.banksData),(0,o.Mz)(e,ce=>ce.siteBehaviour)),F=(0,o.Mz)(e,ce=>ce.promoCode),J=(0,o.Mz)(e,ce=>ce.pwmbSignature),Q=(0,o.Mz)(e,ce=>ce.sessionFlags),ne=(0,o.Mz)(e,ce=>ce.getVendorDataRes),_e=(0,o.Mz)(e,ce=>ce.thMetrixPayload),pe=(0,o.Mz)(e,ce=>ce.awsCountryConfigData),Ae=(0,o.Mz)(e,ce=>ce.sendAgainTransactionData),ve=(0,o.Mz)(e,ce=>ce.fulfillmentDetails),Ie=(0,o.Mz)(e,ce=>ce.requestMoneyToken),Fe=(0,o.Mz)(e,ce=>ce.signicatInitiatedStatus),ze=((0,o.Mz)(e,ce=>ce.verificationOptionList),(0,o.Mz)(e,ce=>ce.ducDocTypeDetails)),Ne=(0,o.Mz)(e,ce=>ce.docUplaodPageError),Re=((0,o.Mz)(e,ce=>ce.awsKycConfigData),(0,o.Mz)(e,ce=>ce.docUplaodData)),rt=((0,o.Mz)(e,ce=>ce.verifyCustomerData),(0,o.Mz)(e,ce=>ce.sdmtcn)),Oe=(0,o.Mz)(e,ce=>ce.abandonedCartToken),Pe=(0,o.Mz)(e,ce=>ce.isGuestFlow),me=((0,o.Mz)(e,ce=>ce.kycServiceResponse),(0,o.Mz)(e,ce=>ce.dssCustomerLookupResponse)),we=(0,o.Mz)(e,ce=>ce.dialingPrefixList),Be=(0,o.Mz)(e,ce=>ce.resetPwdInfo),je=(0,o.Mz)(e,ce=>ce.receiverError),it=(0,o.Mz)(e,ce=>ce.countryConfig),qe=(0,o.Mz)(e,ce=>ce.smoConfig),et=(0,o.Mz)(e,ce=>ce.pepDetails),st=(0,o.Mz)(e,ce=>ce.complianceWeb),at=(0,o.Mz)(e,ce=>ce.globalCollectIdTemplate),Xe=(0,o.Mz)(e,ce=>ce.proactiveCompliance),ut=(0,o.Mz)(e,ce=>ce.proactiveComplianceFlag),dt=(0,o.Mz)(e,ce=>ce.customerProfileData),lt=(0,o.Mz)(e,ce=>ce.eidSelectedMethod),_t=(0,o.Mz)(e,ce=>ce.complianceConfigRules),ot=(0,o.Mz)(e,ce=>ce.completeYourProfilePageError),mt=(0,o.Mz)(e,ce=>ce.completeYourProfileResponse),gt=(0,o.Mz)(e,ce=>ce.previewProfilePageError),pt=(0,o.Mz)(e,ce=>ce.productsAfterGetLimit),Et=((0,o.Mz)(e,ce=>ce.fromResumeTransfer),(0,o.Mz)(e,ce=>ce.selectedBiller)),At=(0,o.Mz)(e,ce=>ce.showThirdPartyConsentPopup),vt=(0,o.Mz)(e,ce=>ce.wupaySelectedReceiver),Pt=(0,o.Mz)(e,ce=>ce.isPayNowResendFlow),Dt=(0,o.Mz)(e,ce=>ce.trackTransferTransaction),It=(0,o.Mz)(e,ce=>ce.fxAlerts),Ot=(0,o.Mz)(e,ce=>ce.gmoMaintenanceList),Tt=(0,o.Mz)(e,ce=>ce.sscContent),Rt=(0,o.Mz)(e,ce=>ce.sscAbTests),bt=((0,o.Mz)(e,ce=>ce.kycVerificationModel),(0,o.Mz)(e,ce=>ce.OCRFlowEnable),(0,o.Mz)(e,ce=>ce.lastSelectedProduct)),Nt=(0,o.Mz)(e,ce=>ce.ampQuickResendFlag),Ft=((0,o.Mz)(e,ce=>ce.selectedTransactionDetails),(0,o.Mz)(e,ce=>ce.wupayQrCode)),Lt=(0,o.Mz)(e,ce=>ce.isWupayResendFlow),Mt=(0,o.Mz)(e,ce=>ce.isMobileWalletResendFlow),Ut=(0,o.Mz)(e,ce=>ce.isIpay88ResendFlow),Bt=(0,o.Mz)(e,ce=>ce.isFPXResendFlow),wt=(0,o.Mz)(e,ce=>ce.isGooglePayResendFlow),kt=(0,o.Mz)(e,ce=>ce.isPlaidResendFlow),xt=(0,o.Mz)(e,ce=>ce.isAvailableVideoKYCOutSideHours),Vt=(0,o.Mz)(e,ce=>ce.isSofortResendFlow),Kt=(0,o.Mz)(e,ce=>ce.isMobileWalletPayInEnabled),Wt=((0,o.Mz)(e,ce=>ce.isLoginThroughKnowYourLimit),(0,o.Mz)(e,ce=>ce.upmDisplayDetails)),Gt=((0,o.Mz)(e,ce=>ce.lifeTimeSavings),(0,o.Mz)(e,ce=>ce.selctedPSD2CServiceOnReceiver)),Yt=(0,o.Mz)(e,ce=>ce.promoCodeList),Ht=(0,o.Mz)(e,ce=>ce.isBanContactResendFlow),$t=(0,o.Mz)(e,ce=>ce.isC3ResendFlow),zt=(0,o.Mz)(e,ce=>ce.isCreditCardResendFlow),jt=(0,o.Mz)(e,ce=>ce.isDebitCardResendFlow),Jt=((0,o.Mz)(e,ce=>ce.onBoardingCTRData),(0,o.Mz)(e,ce=>ce.rTobReceiverDetails)),Zt=(0,o.Mz)(e,ce=>ce.countryDynamicParams),Xt=(0,o.Mz)(e,ce=>ce.iachReceiverConfig),Qt=(0,o.Mz)(e,ce=>ce.isKlarnaResendFlow),qt=(0,o.Mz)(e,ce=>ce.priceCatalogDetails),ei=(0,o.Mz)(e,ce=>ce.customerTxnDetails),ti=(0,o.Mz)(e,ce=>ce.lastSelectedProductFifoSlider),ii=(0,o.Mz)(e,ce=>ce.smoRevampSidePanelData),si=(0,o.Mz)(e,ce=>ce.isTinkResendFlow),ri=(0,o.Mz)(e,ce=>ce.tourCurrentSection),ai=(0,o.Mz)(e,ce=>ce.smoRevampSidePanelData?.selectedCountry)},77202:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>UtilService});var _angular_core__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(54438),_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93885),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67376),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),_store_actions_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34781),_optimus_services__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(47058),_routing_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21148),_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(87801),_services_api_services_riskified_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(90592),_shared_services_optimus_services_feature_flag_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3902),_fingerprintjs_fingerprintjs__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(16625),_store_selector__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(66726),_ngrx_store__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(64646),dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(55180),dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_9__),_core_services_read_url_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(8788),dayjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(67374),dayjs__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_11__),_angular_common__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(60177),_shared_services_url_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(74814),rxjs__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(79928),rxjs__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(45286),rxjs__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(90696),_shared_models_modal_popup__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(43930),_shared_models_secret_question__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(69067),_shared_models_constants_kyc__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(59073),_angular_common_http__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(21626),_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4858),_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(37486),_shared_models_session__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(64932),_shared_models_dss2_constants__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(28626),ts_md5_dist_md5__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(89377),_modules_send_money_option_helpers_getFundsOutListVM__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(40967),_app_shared_constants_ng_migration_constants__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(39368),rxjs_operators__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(7605),_shared_models_optimus_optimus_list_model__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(58652),_shared_models_const_verification_data__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2788),ngx_cookie_service__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(2490),_angular_router__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(85717),_sand_box_translations_service__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(87760),ngx_page_scroll_core__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(48442),_core_services_transfer_state_service_service__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(79817);let UtilService=(()=>{class UtilService{constructor(n,d,t,o,e,x,$,W,K,V,P,D,f,C,A,E,N,_){this._store=n,this.countryConfigService=d,this.cookieService=t,this.updateStoreUsingActionService=o,this.routingService=e,this.smoConfig=x,this.riskifiedService=$,this.featureFlagService=W,this.readURLService=K,this.urlService=V,this.platformId=P,this.router=D,this.translationService=f,this.document=C,this.pageScrollService=A,this.transferStateService=E,this.optimusService=N,this.location=_,this.sendUpToAmountEllipsisSpinnerExp=new rxjs__WEBPACK_IMPORTED_MODULE_20__.t(!0),this.promoCodeEllipsisSpinnerExp=new rxjs__WEBPACK_IMPORTED_MODULE_20__.t(!1),this.fifoTilesSelected=new rxjs__WEBPACK_IMPORTED_MODULE_20__.t(!1),this.isProgressiveSMOEnable=!1,this.securityQuestionSubject=new rxjs__WEBPACK_IMPORTED_MODULE_21__.B7,this.securityQuestionObsev=this.securityQuestionSubject.asObservable(),this.shareUpdateMailContent=!1,this._delightConfettiValues=new rxjs__WEBPACK_IMPORTED_MODULE_20__.t(!1),this.displayConfetti=new rxjs__WEBPACK_IMPORTED_MODULE_20__.t(!1),this.triggerLogout=new rxjs__WEBPACK_IMPORTED_MODULE_21__.B7,this._confettiDisplayObs$=this.displayConfetti.asObservable(),this._delightConfettiValuesObsev=this._delightConfettiValues.asObservable(),this.customAttrs=JSON.parse(sessionStorage.getItem("optimizelyCustomAttrs")||"{}"),this.cpFeeFxRoadrunnerData={},this.migrationPageConfig=_app_shared_constants_ng_migration_constants__WEBPACK_IMPORTED_MODULE_18__.c,this.NON_PROD_DOMAIN_PREFIXES=["localhost","wudispatcher-dev","wudispatcher-qa","wudispatcher-uatrs2","wudispatcheruat"],this.mappedArr=new rxjs__WEBPACK_IMPORTED_MODULE_20__.t([]),this.destroyed$=new rxjs__WEBPACK_IMPORTED_MODULE_21__.B7,this.displayDSRModal=new rxjs__WEBPACK_IMPORTED_MODULE_20__.t(!1),this.currentTabSubject=new rxjs__WEBPACK_IMPORTED_MODULE_20__.t("visaCard"),this.currentTabObs$=this.currentTabSubject.asObservable(),this.convertMd5HashedString=function(M){return M?ts_md5_dist_md5__WEBPACK_IMPORTED_MODULE_17__.V.hashStr(M):null},(0,_angular_common__WEBPACK_IMPORTED_MODULE_22__.UE)(P)&&dayjs__WEBPACK_IMPORTED_MODULE_11___default().extend(dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_9___default()),this.countryChangeEvent=C.createEvent("CustomEvent"),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.w8)).subscribe(M=>{this.sender=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.mA)).subscribe(M=>{this.receivingCountryIsoCode=lodash__WEBPACK_IMPORTED_MODULE_1__.get(M,"receiverCountry.isoCode")}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.rb)).subscribe(M=>{this.selectedProduct=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.mz)).subscribe(M=>{this.senderAmount=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.JF)).subscribe(M=>{this.promoCode=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.Nr)).subscribe(M=>{this.showThirdPartyConsentPopup=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.T7)).subscribe(M=>{this.countryConfigData=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.nS)).subscribe(M=>{const U=lodash__WEBPACK_IMPORTED_MODULE_1__.get(M,"sender.segment");U&&this.setOptimizelyCustomAttrs({pricingSegment:U})}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.lH)).subscribe(M=>{M?.transactionCount&&this.setOptimizelyCustomAttrs({transactionCount:M.transactionCount,userType:"DIGITAL"})}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.me)).subscribe(M=>{!this.sender?.isLoggedIn&&"RETAIL"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(M,"statusDetails.transactionIdentifier")&&this.setOptimizelyCustomAttrs({userType:"RETAIL"})}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.vk),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.Q)(this.destroyed$)).subscribe(M=>{this._walletList=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.En),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.Q)(this.destroyed$)).subscribe(M=>{this._bankList=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.J5),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.Q)(this.destroyed$)).subscribe(M=>{this._selectedReceiver=M}),this._store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.Lt)(_store_selector__WEBPACK_IMPORTED_MODULE_8__.T1)).subscribe(M=>{this.clientIp=M})}static isProduction(){const n=window.location.hostname;return!(n.match("dev")||n.match("qa")||n.match("localhost")||n.match("uat")||n.match("sandbox"))}confettiValueSubject(n){this._delightConfettiValues.next(n)}displayConfettiFromPage(n){this.displayConfetti.next(n)}checkPageRestriction(n){if(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.txnStates.includes(n)&&(!this.selectedProduct.payIn||!this.selectedProduct.payOut)&&!this.isUserJourneyBillOrInmatePay())return this.routingService.navigateToLoginNG8(),!0}isFullyRampedUp(n){try{const d=_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FULLY_RAMPEDUP_FEATURE_FLAGS[n].countries,t=this.smoConfig._getCountryIsoFromURL();return"ALL"===d||d.indexOf(t)>-1}catch{return!1}}isUserJourneyBillOrInmatePay(){const n=this.updateStoreUsingActionService.getState().userJourney;return"bill-pay"===n||"inmate-pay"===n}isThirdPartyConsentImplicit(){const n=this.smoConfig._getCountryIsoFromURL(),d=this.cookieService.get("AKRegioncode");return"US"===n&&-1===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.thirdPartyConsentDefaultOptedUSStates.indexOf(d)}renameKeys(n,d){return lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(n)&&lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(d)?null:Array.isArray(n)&&n.map(o=>{const e=Object.keys(o).map(x=>({[d[x]||x]:o[x]}));return Array.isArray(e)?e[0]:e})}isShowPOADocumentCollectionFlow(){return this.featureFlagService.isFeatureEnabled("POA_DOCUMENT_COLLECTION")}isDisableOldIdSelfie(){return this.featureFlagService.isFeatureEnabled("DISABLE_OLD_ID_SELFIE")}isShowNewSdqFieldAddition(){return this.featureFlagService.isFeatureEnabled("new_sdq_field_addition")}isShowEmpFieldAddition(){return this.featureFlagService.isFeatureEnabled("MY_EMP_FIELD_ADDITION")}isRedirectToIdDetailsIfOcrFails(){return this.featureFlagService.isFeatureEnabled("OCR_FAIL_REDIRECTION_ID_DETAILS")}isShowPoaSelfAttestationPopup(){return!0}isRecertificationRequiredForDSS(){return this.featureFlagService.isFeatureEnabled("RECERTIFICATION_REQUIRED_FOR_DSS")}isPcidGenerated(){if(this.isCreditBuilderEnabled()){const n=this.sender?.creditLines?.filter(d=>"UPWARDLI"===d?.providerName?.toUpperCase())||[];return n?.length>0&&lodash__WEBPACK_IMPORTED_MODULE_1__.get(n[0],"pcid","")}return!1}isCreditLineStatusActive(){if(this.isCreditBuilderEnabled()){const n=this.sender?.creditLines?.filter(d=>"UPWARDLI"===d?.providerName?.toUpperCase());return lodash__WEBPACK_IMPORTED_MODULE_1__.get(n[0],"creditLineStatus","")?.toUpperCase()===_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__._N.ACTIVE}return!1}isCreditBuilderEnabled(){const n="true"===sessionStorage.getItem("isCreditBuilderEnabled")||this.featureFlagService.isFeatureEnabled("IS_CREDIT_BUILDER_ENABLED"),d=this.updateStoreUsingActionService.getState().isPPSprofile,t=this.getPartnerName()||this.isHostedPartner();return!d&&!t&&n}isRemittanceStatementEnabled(){const n=this.featureFlagService.isFeatureEnabled("REMITTANCE_STATEMENT_ENABLED"),d=this.updateStoreUsingActionService.getState().isPPSprofile,t=this.getPartnerName()||this.isHostedPartner();return!d&&!t&&n}isGreenStateUser(){if(this.isCreditBuilderEnabled()){const n=this.updateStoreUsingActionService.getState()?.countryDynamicParams,d=JSON.parse(n?.CreditBuilderConfig||"{}"),t=this.cookieService.get("AKRegioncode")?.toUpperCase(),o=this.cookieService.get("AKCountry")?.toUpperCase(),e=this.smoConfig._getCountryIsoFromURL()?.toUpperCase(),x=this.sender?.address?.countryIsoCode,$=this.sender?.address?.state;if(("true"===sessionStorage.getItem("byPassIPAddressCheck")||e===o&&d?.greenStateList?.includes(t))&&e===x&&(d?.greenStateList?.includes($)||this.progressiveRegisteredCustomer()))return!0}return!1}getCreditBuilderInstructionsCount(){return lodash__WEBPACK_IMPORTED_MODULE_1__.get(JSON.parse(this?.updateStoreUsingActionService?.getState()?.countryDynamicParams?.CreditBuilderConfig||"{}"),"creditBuilderInstructionsCount",9999)}generateCreditBuilderUrl(n,d,t){const o=this.updateStoreUsingActionService.getState()?.countryDynamicParams,e=JSON.parse(o.CreditBuilderConfig),x=UtilService.isProduction()?e?.productionURL:e?.sandboxURL;return this.isCreditLineStatusActive()?`${x}/credit-insights?cid=${t}&access_token=${d}`:`${x}/onboarding?pcid=${n}&access_token=${d}`}getFieldsValueMappedForAmplitude(n,d){return Object.keys(n||{}).map($=>{if(d===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FORM_FIELD_STATUS.VALID)return{[$]:"no-error"};if(d===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FORM_FIELD_STATUS.INVALID){const W=!0===n[$]?.required||lodash__WEBPACK_IMPORTED_MODULE_1__.isNil(n[$])||"boolean"==typeof n[$]&&!1===n[$]||"string"==typeof n[$]&&0===n[$]?.length?"data-missing":"data-error";return{[$]:W}}})}getFormValidationFields(n,d){const t={};return n||!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(n)||d?(Object.keys(n||{}).forEach(o=>{n[o]?.status===d&&(t[o]=_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FORM_FIELDS_NAMES.indexOf(o)>-1?lodash__WEBPACK_IMPORTED_MODULE_1__.clone(n[o].value):lodash__WEBPACK_IMPORTED_MODULE_1__.clone(o===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FORM_FIELD_NAME_PASSWORD?n[o].value[_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FORM_FIELD_NAME_PASSWORD]:n[o].value))}),lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(t)?null:t):null}isThirdPartyConsentDefaultOpted(){const n=this.smoConfig._getCountryIsoFromURL(),d=this.cookieService.get("AKRegioncode");return _shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.thirdPartyConsentDefaultOptedCountry.indexOf(n)>-1||"US"===n&&_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.thirdPartyConsentDefaultOptedUSStates.indexOf(d)>-1}isNavigateToSMOEnabled(){const n=this.featureFlagService.isFeatureEnabled("ENABLE_NAVIGATE_TO_SMO")||"true"===sessionStorage.getItem("EnableNavigateToSMO");return"JP"===this.readURLService.getCountryFromURL().toUpperCase()&&n}isAnnualIncomeEnabled(){return this.featureFlagService.isFeatureEnabled("POSTE_ANNUAL_INCOME_WEB")&&"posteitaliane"===sessionStorage.getItem("partnerName")}ignoreSpecialcharValidation(){return!0===this.featureFlagService.isFeatureEnabled("PASSWORD_IGNORE_SPECIALCHAR_VALIDATION")||"true"===sessionStorage.getItem("PASSWORD_IGNORE_SPECIALCHAR_VALIDATION")}isV2GetLimits(){return!0===this.featureFlagService.isFeatureEnabled("GETLIMITS_V2_Enabled")||"true"===sessionStorage.getItem("GETLIMITS_V2_Enabled")}isDcaasRegisterationEnabled(){return!0===this.featureFlagService.isFeatureEnabled("DCAAS_REGISTERATION_ENABLED")||"true"===sessionStorage.getItem("DCAAS_REGISTERATION_ENABLED")}isDcaasCollectIdConfigEnabled(){return!0===this.featureFlagService.isFeatureEnabled("DCAAS_COLLECTIDCONFIG_ENABLED")||"true"===sessionStorage.getItem("DCAAS_COLLECTIDCONFIG_ENABLED")}isC2008RedirectToGCREnabled(){return this.featureFlagService.isFeatureEnabled("C2008_REDIRECT_GCR")}displayThirdPartyConsentPopUp(){return!(!this.showThirdPartyConsentPopup||!this.showThirdPartyConsentPopup||this.progressiveRegisteredCustomer()&&this.isThirdPartyConsentImplicit())}getErrorCodeWithSubCodes(n){const d=lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"reasons.reason");if(this.sessionFlags=this.updateStoreUsingActionService.getState().sessionFlags,!this.sessionFlags.enableSubErrorCodeDisplay||!d||d.length<1)return lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"code");const t=d.filter(o=>o.code).map(o=>o.code);return lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"code")+" ["+t+"]"}isMYWUEnrolled(){if(this.sender=this.updateStoreUsingActionService.getState().sender,!this.isEmpty(this.sender))return"1"===this.sender.termsConditionFlag}joinMyWUEnabled(){return _constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.RECEIPT_MYWU.indexOf(this.readURLService.getCountryFromURL().toLowerCase())>-1}isEmpty(n){return n&&"object"==typeof n?0===Object.keys(n).length:null==n||"null"===n||"undefined"===n}isMyWUWidget(){return!!this.countryConfigService.getMyWuWidget()&&(!this.countryConfigService.getDigitallyVerified()&&!this.isLoyalityPauseProgramEnabled()||(this.sender=this.updateStoreUsingActionService.getState().sender,""!==this.sender&&null!==this.sender&&!this.isLoyalityPauseProgramEnabled()&&this.sender.verificationStatus&&"Y"===this.sender.verificationStatus))}getDesignMode(){let n="desktop";return window.matchMedia("only screen and (max-width: 992px)").matches&&(n="mobile"),n}isStateSWBorOK(n){return!!_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.swbStates[n]}getSWBorOKPostalCode(n){return _shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.swbStates[n]}getAKZipCodes(){const n=this.getCookieStoreItem("AKZip");let d=[];return n&&(d=n.split(/[^0-9a-zA-Z]/)),d}getSessionStorageItem(n){return sessionStorage.getItem(n)||""}isCollectIdEnabled(){return"TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.CollectId")}isCollectIdModuleEnabled(){return"TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.CollectId.module")}isKycVerificationEnabled(){return"TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.KYCVerification")}getCookieFromSessionStorage(n){if(this.getSessionStorageItem("cookiestore")){const d=JSON.parse(this.getSessionStorageItem("cookiestore"));if(d&&d[n])return d[n]}return""}getCookieStoreItem(n){return this.getCookieFromSessionStorage(n)||this.cookieService.get(n)}deleteCookieItem(n){this.isCookieDeleteFixEnabled()&&this.cookieService.delete(n,"/"),this.cookieService.delete(n,"/",this.getDomainName(null)),this.cookieService.delete(n,"/",this.getDomainName(window.location.host));const d=sessionStorage.getItem(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.partnerName);d&&_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.cookieNotAllowedPartners.indexOf(d.toUpperCase())>=0&&this.deleteCookieStoreItemInSessionStorage(n)}getCookieItem(n){if(this.isAutologinFixEnabled()&&"user_session_token"===n)return this.cookieService.get(n);const d=sessionStorage.getItem("cookiestore");return d&&JSON.parse(d)&&JSON.parse(d)[n]?JSON.parse(d)[n]:this.cookieService.get(n)}setCookieStoreItemInSessionStorage(n,d){const t=sessionStorage.getItem("cookiestore");if(t&&JSON.parse(t)){const o=JSON.parse(t);o[n]=d,sessionStorage.setItem("cookiestore",JSON.stringify(o))}else sessionStorage.setItem("cookiestore",JSON.stringify({key:d}))}deleteCookieStoreItemInSessionStorage(n){const d=sessionStorage.getItem("cookiestore");if(d&&JSON.parse(d)&&JSON.parse(d)[n]){const t=JSON.parse(d);delete t[n],sessionStorage.setItem("cookiestore",JSON.stringify(t))}}setCookieItem(n,d,t,o,e,x,$){t||e||$?this.cookieService.set(n,d,this.getCookieExpiry(t,x,$),"/",this.getDomainName(e)):this.cookieService.set(n,d);const W=sessionStorage.getItem(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.partnerName);W&&_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.cookieNotAllowedPartners.indexOf(W.toUpperCase())>=0&&this.setCookieStoreItemInSessionStorage(n,d)}setCookieItemWithPath(n,d,t,o,e,x,$){t||e||$?this.cookieService.set(n,d,this.getCookieExpiry(t,x,$),o,this.getDomainName(e)):this.cookieService.set(n,d)}getCookieExpiry(n,d,t){let o=n||31;return o=t?new Date(t):o instanceof Date&&isNaN(o.getTime())?new Date:!0===d?new Date((new Date).getTime()+1e3*parseInt(o,10)*60*60*24):new Date((new Date).getTime()+1e3*parseInt(o,10)*60),o}setCookieItemWithoutEncoding(n,d,t,o,e,x){let W=n+"="+d+";expires="+this.getCookieExpiry(t,x)+";path=/;";const K=document?.domain?.split(".");let P,V="";K&&K.length&&typeof K[K.length-2]<"u"&&(V=K[K.length-2]+"."),K&&K.length&&(P=V+K[K.length-1]),e?W=W+"Domain="+e+";":"localhost"!==P&&P&&isNaN(parseInt(P.charAt(0),10))&&(W=W+"Domain="+P+";"),-1!==window.location.protocol.indexOf("https")&&(W+="secure;"),document.cookie=W}getDomainName(n){const d=this.readURLService.getDomainUrl().split(".");let t;return t=n||(-1===this.readURLService.getDomainUrl().indexOf("localhost")&&d[d.length-2]?"."+d[d.length-2]+"."+d[d.length-1]:window.location.hostname),t}getURLParameter(n){const d=this.readURLService.getURLParams(),t=new RegExp("[?|&]"+n+"=([^&;]+?)(&|#|;|$)").exec(d);let o="";t&&t.length>=2&&(o=t[1]);let e=decodeURIComponent(o.replace(/\+/g,"%20"))||"";return e&&(e=e.trim()),e}updateSelectedProductAsPerFIFOCombinationInURL(n){const d=this.readURLService.getURLParam(_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.FUNDS_IN),t=this.readURLService.getURLParam(_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.FUNDS_OUT);if(!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(t)&&!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(d)&&n.length>0){const o=n.find(e=>e.payIn===d&&e.payOut===t);if(lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(o)){const e=n[0].destination?.countryIsoCode;if(!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(e)){const x=this.smoConfig.fifoDefaults(),$=x?x.find(W=>W.isoCode===e):null;if(!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty($)){const W=n.find(K=>K.payIn===$.fundsIn&&K.payOut===$.fundsOut);lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(W)||this.updateStoreUsingActionService.updateSelectedProduct(W)}}}else this.updateStoreUsingActionService.updateSelectedProduct(o)}}clearAllStorage(){const n=_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.HI.SESSION_COOKIES_KEYS_LIST,d=["SessionId","SessionInfo","SessionDomain","SessionIdRetail","SessionInfoRetail","PhoneNumber","sessionCountry","SessionDomainRetail"];for(let t=0;t<n.length;t++)lodash__WEBPACK_IMPORTED_MODULE_1__.includes(d,n[t])&&this.isCookieDeleteFixEnabled()&&this.deleteCookieItem(n[t]),lodash__WEBPACK_IMPORTED_MODULE_1__.includes(d,n[t])&&(this.cookieService.delete(n[t],"/"),this.cookieService.delete(n[t],"/",this.getDomainName(null)),this.cookieService.delete(n[t],"/",this.getDomainName(window.location.host)));this.updateStoreUsingActionService.cleanStoreValue(),this.clearAllSessionStorageItems()}clearAllSessionStorageItems(){const n=["ng6","switches","wubotconfig","IsMessengerWebview","WebViewUserID","env","src","page_name","wudebug","RetailLimit","Efl","appboySwitch","bMock","appboyPushPermissionAsked","territorySwitch","territoryCountry","loginRedirectApi","GuestInfo","shareMtcnOnHistory","removeSecurityQuestionsSwitch","removeSecurityQuestionsGlobalSwitch","amazonCampaignConfig","amazonGC2018CampaignActive","campaign_name","amazonGC2018CampaignMsgShown","AmazonGC2018Src","partnerName","UExp","uExpBCountries","acceptYYFormatCreditCardExpiry","googlePhoneValidator","assetVersion","psEndpoint","configVersion","dcaasVersion","contentVersion","cookiestore","progressBarForMobileWeb","LastPage","AutoLogin","IBANSeparator","PerformanceHorizonAPIEnabled","ab_test","ab_test_variant","tempUser","featureFlags","isPhoneLoginEnabled","initiator","enableChangeCountryLanguage","enableMFA","userConsentForAds"],d={};for(let t=0;t<n.length;t++){const o=window.sessionStorage.getItem(n[t]);o&&""!==o&&(d[n[t]]=o)}window.sessionStorage.clear();for(let t=0;t<n.length;t++)d[n[t]]&&window.sessionStorage.setItem(n[t],d[n[t]])}handleCreateSessionCookies(n,d){d&&d.security&&(this.updateDigitalsCookiesValue(d.security.session.id),d.security.session.encryptedSessionId&&this.updateEncryptedSessionId(d.security.session.encryptedSessionId),this.setCookieItem("ClientIp",void 0===d.security.clientIp?d.security.client_ip:d.security.clientIp,10),this.setCookieItem("sessionCountry",this.readURLService.getCountryFromURL().toLowerCase(),10,"/"),!sessionStorage.getItem("providerSiteLogo")&&this.getURLParameter("providerId")&&sessionStorage.setItem("providerSiteLogo",this.getURLParameter("providerId"))),d&&d.ev_url&&sessionStorage.setItem("EVURL",d.ev_url),d&&d.security&&d.security.clientIp&&sessionStorage.setItem("ClientIp",d.security.clientIp),d&&d.security&&d.security.dataCenter&&sessionStorage.setItem("DataCenter",d.security.dataCenter)}handleCreateSessionRetailCookies(n,d,t){"/CreateSession"===n?(this.updateRetailSessionValue(t.security.session.id),this.setCookieItem("retailClientIp",t.security.client_ip?t.security.client_ip:t.security.clientIp,10,"/")):this.setCookieItem("SessionIdRetail",d.security.session.id,10,"/"),this.setCookieItem("SessionInfoRetail",(new Date).valueOf(),10,"/"),this.setCookieItem("SessionDomainRetail",this.readURLService.getDomainUrl(),10,"/")}updateRetailSessionValue(n){const d=(new Date).valueOf().toString();n?this.setCookieItem("SessionIdRetail",n,10,"/"):this.deleteCookieItem("SessionIdRetail");const t=sessionStorage.getItem("cookiestore");if(t){const o=JSON.parse(t);o.SessionIdRetail=n,o.SessionInfoRetail=d,o.SessionDomainRetail=this.readURLService.getDomainUrl(),sessionStorage.setItem("cookiestore",JSON.stringify(o))}}updateDigitalsCookiesValue(n){const d=(new Date).valueOf().toString();this.setCookieItem("SessionInfo",d,10,"/"),this.setCookieItem("SessionDomain",this.readURLService.getDomainUrl(),10,"/");const t=this.getCookieItem("partnerName")?this.getCookieItem("partnerName"):sessionStorage.getItem("partnerName");if(n&&t&&t===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.LBP_PARTNER){const x=window.location.hostname;this.setCookieItem("SessionId",n,10,"/",x)}else n?this.setCookieItem("SessionId",n,10,"/"):this.deleteCookieItem("SessionId");this.updateStoreUsingActionService.updateSessionInfo(d),this.updateStoreUsingActionService.updateSessionId(n);const e=sessionStorage.getItem("cookiestore");if(e){const x=JSON.parse(e);x.SessionId=n,x.SessionInfo=d,x.SessionDomain=this.readURLService.getDomainUrl(),x.sessionCountry=this.smoConfig._getCountryIsoFromURL().toLowerCase(),sessionStorage.setItem("cookiestore",JSON.stringify(x))}}updateEncryptedSessionId(n){this.setCookieItemWithoutEncoding("EncryptedSessionId",n,10,"/"),this.updateStoreUsingActionService.updateEncryptedSessionId(n);const d=sessionStorage.getItem("cookiestore");if(d){const t=JSON.parse(d);t.EncryptedSessionId=n,sessionStorage.setItem("cookiestore",JSON.stringify(t))}!window.RISKX&&n&&this.riskifiedService.insertRiskifiedScript()}updateStorageInfo(n,d,t){if(this.sender=this.updateStoreUsingActionService.getState().sender,"/CreateSession"===n)t.security.session.encrypted_session_id&&(t=this.formatToCamelCase(t)),this.handleCreateSessionCookies(d,t);else if(!(["GetTransactionDetails","CustomerSignOn","GetCustomerVerificationStatus","GetReceivers","GetCreditCards","SendMoneyValidation","SendMoneyStore"].indexOf(n)>-1))if(!d.security||!d.security.session||"/SessionKeepAlive"!==n&&this.sender&&this.sender.isLoggedIn){const e=this.getCookieItem("SessionInfo")?this.getCookieItem("SessionInfo"):0,$=(new Date).getTime()-Number(e)>9e5;this.getCookieItem("SessionDomain")&&this.getCookieItem("SessionDomain")!==this.readURLService.getDomainUrl()?(this.clearAllStorage(),location.reload()):$&&this.sender&&this.sender.isLoggedIn?(this.clearAllSessionStorageItems(),this.updateDigitalsCookiesValue(d.security.session.id),this.updateEncryptedSessionId(this.getCookieItem("EncryptedSessionId"))):$?(this.clearAllStorage(),this.routingService.navigateToSessionExpire()):this.getCookieItem("SessionId")&&(this.updateDigitalsCookiesValue(this.getCookieItem("SessionId")),this.updateEncryptedSessionId(this.getCookieItem("EncryptedSessionId")))}else this.updateDigitalsCookiesValue(d.security.session.id),this.updateEncryptedSessionId(this.getCookieItem("EncryptedSessionId"))}getLoggedInStatus(){let n=!1;return this.sender=this.updateStoreUsingActionService.getState().sender,this.sender&&this.sender.isLoggedIn&&(n=!0),n}isNewAirModalEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&(this.featureFlagService.isFeatureEnabled("NEW_AIR_MODAL")||"true"===sessionStorage.getItem("isNewAirModalEnabled"))}frequnetlyUserUsedEmailDomain(){const n=this.updateStoreUsingActionService.getState()?.countryDynamicParams;return n?.AUTO_FILL_EMAIL_DOMAIN?JSON.parse(n?.AUTO_FILL_EMAIL_DOMAIN):[]}isPrefferedEmailSelectionEnabled(){return this.featureFlagService.isFeatureEnabled("AUTO_FILL_EMAIL_DOMAIN")||this.isFeatureEnabledViaSessionStorage("autoFillEmailDomin")}isFeatureProjectBetterEnabled(){return"TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.projectBetter")}isNewIdDetailsEnabled(){return"true"==sessionStorage.getItem("ngMigrationIdDetails")||this.featureFlagService.isFeatureEnabled("ID_Details_NG_New_Page")}isPartnerCloudPricingEnabled(){return!!this.getCookieItem("partnerName")&&"VIGO"!==this.getCookieItem("partnerName").toUpperCase()}isHostedPartner(){return!!this.getCookieItem("partnerName")}isPriceQuotecountry(n){return this.sender=this.updateStoreUsingActionService.getState().sender,this.isPPSprofile=this.updateStoreUsingActionService.getState().isPPSprofile,!(this.isPPSprofile||!this.isPriceQuoteApiEnabled()||!this.isHostedPartner()&&-1===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.metaConfig.indexOf(n)||this.sender&&this.sender.promoCode)}isPriceQuoteValue(){const n=sessionStorage.getItem("switches")||window.SWITCHES,d=this.isbyPassPriceQuote();let t=!1;const o=sessionStorage.getItem("page_name"),e=JSON.parse(sessionStorage.getItem("resLoyalityCard"));lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(e)||lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(e.gatewayCustomer)||lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(e.gatewayCustomer.additionalPreferredCustomers)||lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(e.gatewayCustomer.additionalPreferredCustomers.preferredCustomer)||lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(e.gatewayCustomer.additionalPreferredCustomers.preferredCustomer.promoCode)||(t=!0);const x=this.countryConfigData?.ConfigTemplate?.country?.toUpperCase()||this.readURLService.getCountryFromURL().toUpperCase();return this.isWuPartner()||this.isHostedPartner()?"false"!==this.countryConfigData?.ConfigTemplate?.partner?.isPriceQuoteEnabled?.toLowerCase()&&!("sendmoneyoption"==o&&!0===t&&!0===d):!(!(this.isPriceQuoteApiEnabled()&&n?.PriceQuoteCountryList?.indexOf(x)>=0)||"sendmoneyoption"==o&&!0===t&&!0===d)}isbyPassPriceQuote(){const n=this.countryConfigData?.ConfigTemplate?.country.toLowerCase()||this.readURLService.getCountryFromURL().toLowerCase();return _constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.BYPASS_PRICE_QUOTE.indexOf(n)>-1}isHostedPartnerType(){const n=this.getCookieItem("partnerName")?this.getCookieItem("partnerName"):sessionStorage.getItem("partnerName");return!(!n||-1===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.HOSTED_PARTNERS.indexOf(n))}isCookieNotAllowedPartnerType(){const n=this.getCookieItem("partnerName")?this.getCookieItem("partnerName"):sessionStorage.getItem("partnerName");return!(!n||-1===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.cookieNotAllowedPartners.indexOf(n.toUpperCase()))}isPWMBToBeDisabled(){return this.countryConfigService.isPWMBToBeDisabledForPartner()}partnerEmailLockCheck(){const n=this.updateStoreUsingActionService.getState().partnerData;if(n&&n.retrieveResponseData&&n.retrieveResponseData.actionFlag&&(n.retrieveResponseData.sender?.email||n.retrieveResponseData.email)){const d=n&&n.partnerName&&n.partnerName.toUpperCase(),t=Number(n.retrieveResponseData.actionFlag);return!(!(n.partnerFlow&&"omni"===n.partnerFlow.toLowerCase()||"GOOGLESPOT"===d)||3!==t||!n.retrieveResponseData.sender?.email&&!n.retrieveResponseData.email)}return!1}getHostedPartnerEmail(){const n=this.updateStoreUsingActionService.getState().partnerData;return n.retrieveResponseData.sender?.email?n.retrieveResponseData.sender.email:n.retrieveResponseData?.email}maskEmail(n){const d=n.split("@"),t=d[0],o=d[1];if(t&&t.length){if(1===t.length)return n;{let e="";return e=2===t.length?"*"+t.substring(1)+"@"+o:t.substring(0,1)+"***"+t.substring(t.length-1)+"@"+o,e}}return null}isPriceQuoteApiEnabled(){return!this.isCloudPricingEnabled()&&"TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.isPriceQuoteApiEnabled")}getRUIntra(n,d){const t={reload:!1,urlQueryParams:""};return d&&(t.urlQueryParams=d),"RU"===n&&t.urlQueryParams!==_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.ruIntra?(this.setCookieItem("lastCountry",n,31,"","",!0),t.reload=!0,t.urlQueryParams=_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.ruIntra,t):("RU"!==n&&t.urlQueryParams===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.ruIntra&&(this.setCookieItem("lastCountry",n,31,"","",!0),t.reload=!0,t.urlQueryParams=""),t)}getURLQueryParam(){return this.getUrlParam()}getUrlParam(){return this.readURLService.getURLParams()}triggerReceivingCorridorChangeEvent(n){if(n&&n.selectedCountryCode&&n.selectedCountryName){const d=n.selectedCountryCode,t=n.selectedCountryName;this.countryChangeEvent=document.createEvent("CustomEvent"),this.countryChangeEvent.initCustomEvent("countryChangeEvent",!0,!0,{country:{isoCode:d,name:t}}),window.dispatchEvent(this.countryChangeEvent),this.setOptimizelyCustomAttrs({receiverCountry:d})}}updateDataLayerBeforeLogin(){if(this.isStateServiceFPEnabled()){window.dataLayer=window.dataLayer||[];const n={si:this.getCookieStoreItem("SessionId")},d={ut:this.getCookieStoreItem("userIdentity")},t={di:this.getCookieStoreItem("wu_device_id")};this.getFingerprintHash().then(o=>{window.dataLayer.push(n,d,t,{fp:o})})}}updateDataLayerAfterLogin(){if(this.isStateServiceFPEnabled()){window.dataLayer=window.dataLayer||[];const n={ut:this.getCookieStoreItem("userIdentity")};window.dataLayer.push(n)}}updateDataLayerForCampaign(){if(this.isStateServiceFPEnabled()&&this.promoPricingWebCampaign().promoPricingCampaign){window.dataLayer=window.dataLayer||[];const n=this.promoPricingWebCampaign().promoPricingCampaign;window.dataLayer.push({pc:n})}}isPostLoginPromoCampaignEnabled(){return"true"===sessionStorage.getItem("isPostLoginPromoCampaignEnabled")||this.featureFlagService.isFeatureEnabled("POST_LOGIN_PROMO_CAMPAIGN")}setMerchantData(n){this.merchantData=lodash__WEBPACK_IMPORTED_MODULE_1__.cloneDeep(n),sessionStorage.setItem("merchantData",JSON.stringify(n))}getMerchantData(){return this.merchantData}isStateServiceFPEnabled(){return"true"===sessionStorage.getItem("isStateServiceFPEnabled")||this.featureFlagService.isFeatureEnabled("STATE_SERVICE_FP")}getFingerprintHash(){return new Promise(d=>{_fingerprintjs_fingerprintjs__WEBPACK_IMPORTED_MODULE_25__.Ay.load().then(o=>o.get()).then(o=>{d(o.visitorId)})})}isCloudPricingEnabled(){if(this.isPromoPricingEnabled())return!0;const n=this.smoConfig._getCountryIsoCode().toUpperCase(),d=this.updateStoreUsingActionService.getState().isPPSprofile;return"US"!==n||d||this.isPartnerCloudPricingEnabled()?"true"===this.getSessionStorageItem("cloudPricing"):(sessionStorage.setItem("cloudPricing","true"),!0)}isPriceEstimateEnabled(){return this.countryConfigService.isPriceEstimateEnabled()}isPromoPricingEnabled(){const n=this.updateStoreUsingActionService.getState().isPPSprofile,d=this.getPartnerName();return!(!this.countryConfigService.isPromoPricingEnabled()&&(!this.featureFlagService.isFeatureEnabled("FS_CLOUD_PRICING")||n||d))}isRegisterCustomerV2Enabled(){return!!this.countryConfigService.isRegisterCustomerV2Enabled()}isFundsInOptionsTabEnabled(n){return!(!this.smoConfig.getFundsInOptionsTabEnabled(n)&&"true"!==sessionStorage.getItem("isFundsInOptionsTabEnabled")&&!this.featureFlagService.isFeatureEnabled("FUNDS_IN_OPTIONS_TAB")||!n)}setR4ProxyApiHeaders(n){let d={},t={};const o=this.getCookieFromSessionStorage("user_access_token");return t.Authorization="Bearer "+o,n=n||{},t={...t,...n},Object.keys(t).length>0&&t.constructor===Object&&(d={headers:new _angular_common_http__WEBPACK_IMPORTED_MODULE_26__.Lr(t)}),d}setSessionKeepAliveHeaders(n){let d={},t={};const o=JSON.parse(sessionStorage.getItem("WUSharedData"))||"{}";return o&&(t.Authorization="Bearer "+o?.security?.accessToken),n=n||{},t={...t,...n},Object.keys(t).length>0&&t.constructor===Object&&(d={headers:new _angular_common_http__WEBPACK_IMPORTED_MODULE_26__.Lr(t)}),d}setR4ApiHeaders(n,d,t){let o={},e={};const x=this.readURLService.getCountryFromURL().toUpperCase(),$=this.readURLService.getLanguageFromURL().toLowerCase();return"/MobileReload"===n||"/GwpCardStatus"===n?(e.WUCountryCode=x,e.WULanguageCode=$):n===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.mfaConstant.send||n===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.mfaConstant.verify?(e["x-wu-countryCode"]=x,e["x-wu-externalRefId"]=this.getCookieItem("SessionId"),e["x-wu-correlationId"]=this.getCookieItem("SessionId"),e.WUCountryCode=x,e.wulanguagecode=$,e["x-wu-sessionId"]=this.getCookieItem("SessionId"),e["Content-Type"]="application/json"):"/GwpPreAuth"===n?(e["x-wu-sessionId"]=this.getCookieItem("SessionId"),e.wucountrycode=x,e.wulanguagecode=$):"/GwpRuleCount"===n?(e["x-wu-sessionId"]=this.getCookieItem("SessionId"),e.wucountrycode=x):(e["x-wu-sessionId"]=this.getCookieItem("SessionId"),e["x-wu-correlationId"]=this.getCookieItem("SessionId"),e["x-wu-externalRefId"]=this.getCookieItem("SessionId"),e["x-wu-clientIp"]=this.getCookieItem("ClientIp")?this.getCookieItem("ClientIp"):this.updateStoreUsingActionService.getState().ClientIp?this.updateStoreUsingActionService.getState().ClientIp:"245024209201",e["x-wu-operationName"]=_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.R4_OperationNameMapping[n],e["Accept-Language"]=$+"-"+x,e.WUCountryCode=x,e.WULanguageCode=$,e.WUChannel="RESPONSIVE_WEB",e.WUSource="R3WebApp",t&&""!==t&&(e.Authorization="Bearer "+t)),d=d||{},e={...e,...d},Object.keys(e).length>0&&e.constructor===Object&&(o={headers:new _angular_common_http__WEBPACK_IMPORTED_MODULE_26__.Lr(e)}),o}isSybaseEnabled(n,d){if(this.updateStoreUsingActionService.getState()?.flowType===_shared_models_session__WEBPACK_IMPORTED_MODULE_16__.do.DSS2&&"/CustomerSignOn"===n||"/GwpPreAuth"===n)return!0;let o;o="retail"===d?"PSREMOVERETAIL_"+n.toUpperCase().substr(1):"PSREMOVE_"+n.toUpperCase().substr(1);const e="PSREMOVEEXLUDE_"+n.toUpperCase().substr(1),x=this.featureFlagService.isFeatureEnabled(e);return x?(!x||"true"===this.getSessionStorageItem("sybaseEnabled"))&&_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.PSCSAPIMappping[n]&&!this.isHostedPartnerType():(this.featureFlagService.isFeatureEnabled(o)||"true"===this.getSessionStorageItem("sybaseEnabled")||"true"===this.getSessionStorageItem("sybaseEnabled"+n.substr(1)))&&_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.PSCSAPIMappping[n]&&!this.isHostedPartnerType()}is3DSv2Enabled(){return this.countryConfigService.is3DSv2Enabled()&&"true"===sessionStorage.getItem("tdsv2FlowEnabled")||this.featureFlagService.isFeatureEnabled("THREEDS_V2")&&lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(this.getPartnerName())&&!this.updateStoreUsingActionService.getState().isPPSprofile||this.featureFlagService.isFeatureEnabled("THREEDS_V2_PARTNERS")&&!!this.getPartnerName()&&!this.updateStoreUsingActionService.getState().isPPSprofile||this.featureFlagService.isFeatureEnabled("THREEDS_V2_PPS")&&this.updateStoreUsingActionService.getState().isPPSprofile}isRussia3DSv2Enabled(n){const d=sessionStorage.getItem("RU_3DSv2_CardType")?sessionStorage.getItem("RU_3DSv2_CardType"):"MIR,VISA,MASTER",t=sessionStorage.getItem("ValidationResponse")||"",o=sessionStorage.getItem("tdsv2FlowEnabled")?sessionStorage.getItem("tdsv2FlowEnabled"):"true";return"RU"===this.smoConfig._getCountryIsoCode().toUpperCase()&&"true"===o&&this.featureFlagService.isFeatureEnabled("RU_3DSV2")&&d&&(n&&d.indexOf(n)>=0||!n&&"2.0"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(JSON.parse(t),"payment_details.credit_debit_card.cardinal_info.wu_3ds_version"))}getCorrelationTransactionId(){const n=this.getCookieStoreItem("SessionId")?this.getCookieStoreItem("SessionId"):"";return{"X-WU-Correlation-ID":n,"X-WU-Transaction-ID":n+"-"+(new Date).getTime()}}promoPricingWebCampaign(){const n=sessionStorage.getItem("serverSidePromoCampaignName")?sessionStorage.getItem("serverSidePromoCampaignName"):"";return{promoPricingCampaign:(sessionStorage.getItem("userAppliedPromoCampaignName")?sessionStorage.getItem("userAppliedPromoCampaignName"):"")||n||sessionStorage.getItem("promoPricingCampaignNameUrlParam")||sessionStorage.getItem("promoPricingCampaignName"),subscriptionId:this.getCookieItem("promoCampaignSubscriptionId"),subscriptionEndDate:this.getCookieItem("promoCampaignSubscriptionEndDate")}}updateUserIdentity(n,d,t,o){let e=this.getCookieItem("userIdentity");const x=document.domain;e||this.setCookieItem("userIdentity","newCustomer",25245882e5,"/",x,!1,25245882e5),"0"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"gatewayCustomer.transactionCount")&&!("AIRCustomer"===e||"registeredCustomer"===e)&&this.setCookieItem("userIdentity","registeredCustomer",25245882e5,"/",x,!1,25245882e5),d&&0===d.length&&this.isPosteFXDiscountEnabled()&&"POSTEITALIANE"===this.getPartnerName().toUpperCase()&&this.setCookieItem("userIdentity","registeredCustomer",25245882e5,"/",x,!1,25245882e5),(d&&d.length>0||lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"gatewayCustomer.transactionCount")>0||t)&&"existingCustomer"!==e&&this.setCookieItem("userIdentity","existingCustomer",25245882e5,"/",x,!1,25245882e5),o&&"existingCustomer"!==e&&this.setCookieItem("userIdentity","AIRCustomer",25245882e5,"/",x,!0,25245882e5),e=this.getCookieItem("userIdentity"),this.setOptimizelyCustomAttrs({userIdentity:e})}clearPromoCampaign(){sessionStorage.getItem("promoPricingCampaignName")&&sessionStorage.removeItem("promoPricingCampaignName"),sessionStorage.getItem("serverSidePromoCampaignName")&&sessionStorage.removeItem("serverSidePromoCampaignName"),localStorage.getItem("promoPricingCampaignNameUrlParam")&&localStorage.removeItem("promoPricingCampaignNameUrlParam"),sessionStorage.getItem("promoPricingCampaignNameUrlParam")&&sessionStorage.removeItem("promoPricingCampaignNameUrlParam"),sessionStorage.getItem("userAppliedPromoCampaignName")&&sessionStorage.removeItem("userAppliedPromoCampaignName"),this.isPromoSegmentPricingEnabled()&&this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.campaign_name&&(delete this.selectedProduct.promotion,this.promoCode&&(this.promoCode=""),this.updateStoreUsingActionService.updatePromoCode(this.promoCode),this.updateStoreUsingActionService.updateSelectedProduct(this.selectedProduct))}getFeatureFromSSC(n){const d={};let t;const o=sessionStorage.getItem("sscAbTests"),e=JSON.parse(o||"{}");return e&&e.campaignResponses&&e.campaignResponses.length>0&&(t=e.campaignResponses.filter(x=>x.campaignName.toLowerCase()===n.toLowerCase())[0]),t&&(d.experience=t.experienceName?t.experienceName:void 0,d.data=lodash__WEBPACK_IMPORTED_MODULE_1__.get(t,"serverSideMessages[0].dataMap")?lodash__WEBPACK_IMPORTED_MODULE_1__.get(t,"serverSideMessages[0].dataMap"):void 0),d}getFeatureFlagFromSSC(n,d){const t=this.getFeatureFromSSC(n);if(lodash__WEBPACK_IMPORTED_MODULE_1__.get(t,"data."+d))return lodash__WEBPACK_IMPORTED_MODULE_1__.get(t,"data."+d)}isMobileOrTabletBrowser(n){let d=!1;const t=new RegExp(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.We.MOBILE_REGEX.join(""),"i"),o=new RegExp(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.We.MOBILE_AND_TABLET_REGEX.join(""),"i"),e=t.test(n),x=o.test(n.substr(0,4));return d=e||x,d}getCloudPricingErrorsList(){return this.getSessionStorageItem("CLOUD_PRICING_ERRORS_LIST")}setCloudPricingErrorsList(n){sessionStorage.setItem("CLOUD_PRICING_ERRORS_LIST",JSON.stringify(n))}updateCloudPricingErrorCodeMsg(n){const d=this.getCloudPricingErrorsList(),t=d&&d.length>0?JSON.parse(d):void 0;return t&&n&&n.code&&t[n.code]?n.message=t[n.code]:t&&t.P1011&&(n.message=t.P1011),n}getIntersectionKeys(n,d){return Object.keys(n).filter(o=>void 0!==d[o])}compareAddressChange(n,d){let t=!1;const o=this.getIntersectionKeys(n,d);return lodash__WEBPACK_IMPORTED_MODULE_1__.forEach(o,e=>{n[e]!==d[e]&&(t=!0)}),t}checkSepaCountry(n,d){return!!(n&&_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.sepaCountryList.indexOf(n.toUpperCase())>-1&&"BA"===d)}checkForSilvercountry(n,d,t){if(("BA"===d||"500"===d)&&"0"===t&&n){if(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.realtime.indexOf(n.toUpperCase())>-1)return"realTime";if(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.buisnessDay.indexOf(n.toUpperCase())>-1)return"buisnessDay";if(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.rangeBuisnessDay.indexOf(n.toUpperCase())>-1)return"range";if(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.inMinutesText.indexOf(n.toUpperCase())>-1)return"inminutes"}}CheckForD2CPayout(n,d){return"200"===n&&"0"===d||"201"===n||"202"===n}getDisabledReceivingCountryList(){let n=null!==this.smoConfig.getGlobalConfig("switches","disabledReceivingCountries")?this.smoConfig.getGlobalConfig("switches","disabledReceivingCountries"):"",d=null!==this.smoConfig.getGlobalConfig("switches","exceptionsForDisabledRecceiverCorridor")?this.smoConfig.getGlobalConfig("switches","exceptionsForDisabledRecceiverCorridor"):"";n=n.split(",");let t=[];if(n&&n.length>0){d=d.split(",");const o=this.smoConfig._getCountryIsoCode().toUpperCase();t=n.filter(function(e){return d.indexOf(o+"-"+e)<0})}return t}getUrlVars(){const vars=[];let hash;const hashes=this.readURLService.getCurrentUrl().slice(this.readURLService.getCurrentUrl().indexOf("?")+1).split("&");for(let i=0;i<hashes.length;i++)hash=hashes[i].split("="),vars.push(hash[0]),vars[hash[0]]=eval("hash[1]");return vars}isMobileDevice(){let n=!1;return navigator&&navigator.userAgent&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n=!0),n}isMobileDeviceOnly(){let n=!1;return navigator&&navigator.userAgent&&/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n=!0),n}checkScreenSize(){let n=!1;const d=window.innerWidth;return d&&d<768&&(n=!0),n}isCSTLogin(){return!1}isIphone(){return null!==navigator.userAgent.match(/iPhone/i)}getAmount(n){return parseFloat((n/100).toString()).toFixed(2)}fpxIdStatusCountryWithIdStatusR(){const n=this.isNavigateWithIdStatusCountry();this.sender=this.updateStoreUsingActionService.getState().sender;const d=this.sender&&"R"===this.sender.identityVerificationStatus,t=this.getSessionStorageItem("SelectedPayInOption");return n&&d&&t&&"FPX"===t.toUpperCase()}isNavigateWithIdStatusCountry(){const n=lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.navigateWithIdStatus");return n&&"TRUE"===n.toUpperCase()}isReceiverBankCityEnabled(){const n=lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.isReceiverBankCityEnabled");return!(!n||"TRUE"!==n.toUpperCase())}isResumeTransferEnabled(){const n=this.updateStoreUsingActionService.getState().userJourney,d=this.featureFlagService.isFeatureEnabled("RESUME_TRANSFER"),t=window.location.pathname;let o=this.isSPTransaction();return this.isPPSprofile=this.updateStoreUsingActionService.getState().isPPSprofile,"BR"===this.readURLService.getCountryFromURL().toUpperCase()&&"AG"===this.selectedProduct.payIn&&(o=!0),d&&!this.isPPSprofile&&lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(this.getPartnerName())&&!o&&("sending_money"===n||-1!==t.indexOf("history")||this.isSelfieKycFeatureEnabled())}isEditReceiverNameEnabled(){return"true"===sessionStorage.getItem("isEditReceiverNameEnabled")}isResumeTransferAltEnabled(){const n=this.featureFlagService.isFeatureEnabled("RESUME_TRANSFER_ALT");return this.isResumeTransferEnabled()&&n}isResumeTransferAlt(){return this.isFeatureEnabled("RESUME_TRANSFER_ALT")&&this.isHistoryResumeTransferProvisionEnabled()&&"sending_money"===this.getSessionStorageItem("userJourney")&&!this.isSPTransaction()}isHistoryResumeTransferProvisionEnabled(){const n=this.isFeatureEnabled("RESUME_TRANSFER");return!(this.isApplicationPPS()||this.isHostedPartner()||!n)}isPosteFXDiscountEnabled(){const n=this.getCookieItem("partnerName")?this.getCookieItem("partnerName"):sessionStorage.getItem("partnerName");return this.featureFlagService.isFeatureEnabled("WEB_POSTE_FX_DISCOUNT_ENABLED")&&n&&"POSTEITALIANE"===n.toUpperCase()}isStrikethroughEnabled(){return(this.isFXStrikethroughEnabled()||this.isFeeStrikethroughEnabled())&&!("AG"===this.selectedProduct?.payIn||this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isDelightConfettiEnabled(n){try{if(!this.getPartnerName()&&!this.updateStoreUsingActionService.getState()?.isPPSprofile&&this.featureFlagService.isFeatureEnabled("DELIGHT_CONFETTI")&&("true"===sessionStorage.getItem("delightConfettiEnabled")||this.isFeatureEnabledViaCode("DELIGHT_CONFETTI"))){const t=this.updateStoreUsingActionService.getState()?.countryDynamicParams,o=t?.Delight_Confetti_Corridor?t?.Delight_Confetti_Corridor.split(","):[];return!!o.includes(n)||!!o.includes("ALL")}return!1}catch{return!1}}isDelightConfettiApplicable(){return this.isDelightConfettiEnabled(this.selectedProduct?.destination?.countryIsoCode)&&this.selectedProduct?.strikeThrough?.fee_percentage>=10&&(this.selectedProduct?.payIn===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.DebitCard||this.selectedProduct?.payIn==_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.CreditCard)}redirectBasedOnUserIdentity(){const n=this.getCookieItem("userIdentity");this.isUserIdentityBasedRedirectionEnabled()&&n&&"newCustomer"===n?this.routingService.navigateTORegister():this.routingService.navigateTOSmlogin()}isEnableMXReceiverCityList(){return"true"===sessionStorage.getItem("isEnableMXReceiverCityList")}isFXStrikethroughEnabled(){return this.featureFlagService.isFeatureEnabled("WEB_ENABLE_FX_STRIKETHROUGH_PRICING")||"true"===sessionStorage.getItem("strikethroughExchangerateEnabled")}isFeeStrikethroughEnabled(){return this.featureFlagService.isFeatureEnabled("WEB_ENABLE_FEE_STRIKETHROUGH_PRICING")||"true"===sessionStorage.getItem("strikethroughFeeEnabled")}islifeTimeSavingsEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_LIFETIME_SAVINGS")}isloginOtpOptionEnabled(){return this.featureFlagService.isFeatureEnabled("LOGIN_WITH_OTP_OPTION")&&"true"===sessionStorage.getItem("isloginOtpOptionEnabled")}isSendToMySelfNameVisibility(){return this.featureFlagService.isFeatureEnabled("send_to_myself_name_visible")}isLoginMfaEnabled(){if(this.getPartnerName())return this.featureFlagService.isFeatureEnabled("ENABLE_LOGIN_MFA_PARTNERS")||JSON.parse(sessionStorage.getItem("enableMFAPartners"));{const d=sessionStorage.getItem("enableMFA");return(this.featureFlagService.isFeatureEnabled("ENABLE_LOGIN_MFA")||!!d&&JSON.parse(d).isLoginMfaEnabled)&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}}isLoginTypeFixEnabled(){return this.featureFlagService.isFeatureEnabled("LOGIN_TYPE_FIX")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isMfaTriggeredByErrorCode(){const n="C5008"===sessionStorage.getItem("MFALoginErrorCode");return n&&sessionStorage.removeItem("MFALoginErrorCode"),n}isRegisterMfaEnabled(){if(this.getPartnerName())return this.featureFlagService.isFeatureEnabled("ENABLE_REGISTER_MFA_PARTNERS")||JSON.parse(sessionStorage.getItem("enableRegisterMFAPartners"))||JSON.parse(sessionStorage.getItem("enableMFAPartners"));{const d=sessionStorage.getItem("enableRegisterMFA")||sessionStorage.getItem("enableMFA");return(this.featureFlagService.isFeatureEnabled("ENABLE_REGISTER_MFA")||!!d&&JSON.parse(d).isRegisterMfaEnabled)&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}}isScvProxyEnabled(){const n=sessionStorage.getItem("isSCVEnabled");return(this.featureFlagService.isFeatureEnabled("ENABLE_SCV_CHANGES")||"true"===n)&&!this.isPartnerEnabled()}isAbandonedResumeHistoryDisabled(){const n=sessionStorage.getItem("abandonedResumeHistoryDisabled"),d=this.updateStoreUsingActionService.getState()?.isResendFlowHistory;return(this.featureFlagService.isFeatureEnabled("DISABLE_ABANDONED_RESUME_HISTORY")||"true"===n)&&!this.isPartnerEnabled()&&d}isUsScvEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_SCV_DELTA_MAPPING")||this.isScvProxyEnabled()}getR2dlookupEnable(){return this.isDOBPhoneLookupEnable()&&!this.isIDDOBPhoneLookupEnable()}isBypassWYKEnabled(){return this.featureFlagService.isFeatureEnabled("LOGIN_WITH_PHONE_OTP")}isTransactionFavorite(){const n=this.getCookieItem("partnerName")?this.getCookieItem("partnerName"):sessionStorage.getItem("partnerName");return this.featureFlagService.isFeatureEnabled("FAVORITE_TRANSACTION")&&"true"===sessionStorage.getItem("isFavoriteTransactionEnabled")&&this.isEmpty(n)}isSMOTransactionFavorite(){const n=this.getCookieItem("partnerName")?this.getCookieItem("partnerName"):sessionStorage.getItem("partnerName");return this.featureFlagService.isFeatureEnabled("FAVORITE_TRANSACTION_SMO")&&"true"===sessionStorage.getItem("isFavoriteTransactionEnabled")&&this.isEmpty(n)}isSocialLoginOptionEnabled(){return this.featureFlagService.isFeatureEnabled("SOCIAL_LOGIN")&&"TRUE"===sessionStorage.getItem("isSocialLoginEnabled")&&!sessionStorage.getItem("partnerName")}isVendorFlowEnabledOnProfile(){return this.featureFlagService.isFeatureEnabled("ENABLE_MYINFO_PROFILE_FLOW")}isAddressPopulateEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_AUTO_POPULATE_ADDRESS")&&this.progressiveRegisteredCustomer()}isReceiverAccountBlockedPopupEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_RECEIVER_ACCOUNT_BLOCKED_POPUP")}isIovationEnabled(){return this.featureFlagService.isFeatureEnabled("IOVATION_ENABLED")||"true"===this.getSessionStorageItem("iovationEnabled")}isResumeTransferPayInChangeEnabled(){return this.featureFlagService.isFeatureEnabled("RESUME_TRANSFER_PAYIN_CHANGE")}isResumeTransferDeclineErrorStorageEnabled(){return this.featureFlagService.isFeatureEnabled("RESUME_TRANSFER_STORE_ERROR")}isCorridorForBankCity(n,d){return _shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.excludeCorridorBankCity.indexOf(n+"-"+d)>-1}isPhoneLoginEnabled(){return this.featureFlagService.isFeatureEnabled("LOGIN_WITH_PHONE_NUMBER")}isPhoneFieldOnPR(){return this.featureFlagService.isFeatureEnabled("PHONE_FIELD_ON_PROGRESSIVE_REG_PAGE")}isPhoneLoginWithEvergageEnabled(){return this.isPhoneLoginEnabled()&&(this.isFullyRampedUp("LOGIN_WITH_PHONE_NUMBER")||"true"===sessionStorage.getItem("isPhoneLoginEnabled"))}isResetPasswordWithOTPEnabled(){return this.featureFlagService.isFeatureEnabled("PWDRESET_WITH_PHONE_NUMBER")}isResetPasswordWithMultipleChannelEnabled(){return this.featureFlagService.isFeatureEnabled("PWDRESET_WITH_MULTIPLE_OPTIONS")}isResetPasswordWithOTPEvergageEnabled(){return this.isResetPasswordWithOTPEnabled()&&(this.isFullyRampedUp("PWDRESET_WITH_PHONE_NUMBER")||"true"===sessionStorage.getItem("Reset_Password_With_Phone_Number"))}isForgotPwdOptimizationEnabled(){return"true"===JSON.parse(sessionStorage.getItem("app")||"{}")?.countryDynamicParams?.isForgotPwdOptimizationEnabled&&this.isResetPasswordWithOTPEvergageEnabled()}isManageScheduleReminderEnabled(){return this.featureFlagService.isFeatureEnabled(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.SCHEDULE_REMINDER_FEATURE_FLAG)}isManageScheduledReminderEvergageEnabled(){return this.isPPSprofile=this.updateStoreUsingActionService.getState().isPPSprofile,!this.isPPSprofile&&lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(this.getPartnerName())&&this.isManageScheduleReminderEnabled()&&"true"===sessionStorage.getItem(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.SCHEDULE_REMINDER_SESSION_VARIABLE)}isPhoneNumberPresent(){const n=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}"),d=lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"contactPhone",null),t=lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"contactPhoneCountryPrefix",null),o=lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"mobilePhone.phoneNumber.countryCode",null),e=lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"mobilePhone.phoneNumber.nationalNumber",null);return!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(d)&&!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(t)||!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(o)&&!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(e)}isWhatsAppConsentEnable(){const n=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}"),d=JSON.parse(sessionStorage.getItem("app")||"{}"),t=lodash__WEBPACK_IMPORTED_MODULE_1__.get(d,"sender.accountPreferences",null);let o="false";return(n&&n?.accountPreferences&&n.accountPreferences?.whatsAppMsg&&"true"===n.accountPreferences.whatsAppMsg||t&&t?.whatsAppMsg&&"true"===t.whatsAppMsg||sessionStorage.getItem("whatsApp")&&"true"===sessionStorage.getItem("whatsApp"))&&(o="true"),o}isFxRateAlertsEnabled(){return this.featureFlagService.isFeatureEnabled("FX_RATE_ALERTS")}isManageAlertsEnabled(){return this.featureFlagService.isFeatureEnabled("FX_RATE_MANAGE_ALERTS")}auPOLIEnableAfterVerification(){return this.isAuPoliIssueExpiryForPartnerDisabled()}isFxRateAlertsEnabledViaEvergage(){return this.isFxRateAlertsEnabled()&&"true"===sessionStorage.getItem("fxRateAlertsEnabled")}isFPXSunsetEnabled(){return this.featureFlagService.isFeatureEnabled("FPX_SUNSET")}isSOFORTSunsetEnabled(){return this.featureFlagService.isFeatureEnabled("SUNSET_SOFORT_KLARNA_PAYIN")||this.featureFlagService.isFeatureEnabled("SUNSET_SOFORT_PAYIN_FOR_POSTBANK")&&this.getPartnerName()===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.POSTBANK_PARTNER}isProgressiveRegistration(){const n=lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.isProgressiveRegistrationFlow");return n&&"TRUE"===n.toUpperCase()&&"true"===sessionStorage.getItem("isProgressiveRegEnabled")}isDssEnabled(){return this.featureFlagService.isFeatureEnabled("ECDD_DIGITAL_SELF_SERVICE")}isDssIDCollectionEnabled(){return this.featureFlagService.isFeatureEnabled("DSS_SECOND_ID_ENABLE")||"enabled"===sessionStorage.getItem("DSS_SECOND_ID_ENABLE")}isDssMultiDocCollectionEnabled(){return this.featureFlagService.isFeatureEnabled("DSS_MULTI_DOC_COLLECTION_ENABLE")||"enabled"===sessionStorage.getItem("DSS_MULTI_DOC_COLLECTION_ENABLE")}isCorridorMultiCountryEnabled(){return!0===this.featureFlagService.isFeatureEnabled("PRICE_CORRIDOR_MULTI_CURRENCY")||"true"===sessionStorage.getItem("PRICE_CORRIDOR_MULTI_CURRENCY")}isAirDisabledFF(){const n=this.featureFlagService.isFeatureEnabled("OVERRIDDEN_AIR_TILE");return _shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.airTileOverridenCountries.indexOf(this.readURLService.getCountryFromURL().toUpperCase())>-1&&n}isAIRCountryEnabledForComplianceUpgarde(){return this.featureFlagService.isFeatureEnabled("WURETAIL_COUNTRY_COMPLIANCE_UPGRADE")}isAIRMessagingBannerEnabled(){return this.featureFlagService.isFeatureEnabled("SPECIAL_AIR_MESSAGING_BANNER")}isEcddCddUnionEnabled(){return this.featureFlagService.isFeatureEnabled("ECDD_CDD_DIGITAL_SELF_SERVICE")}isAccountBasedRelationshipEnabled(){return this.featureFlagService.isFeatureEnabled("ACCOUNT_BASED_RELATIONSHIP")||"true"===sessionStorage.getItem("accountBasedRelationship")}isNonTransactionalEkycEnbaled(){return this.featureFlagService.isFeatureEnabled("NON_TRANSACTIONAL_EKYC")||"true"===sessionStorage.getItem("NonTransactionalEkyc")}isTrustdocKycOptimizationEnbaled(){return this.featureFlagService.isFeatureEnabled("TRUSTDOC_KYC_OPTIMIZATION")||"true"===sessionStorage.getItem("TrustdocKycOptimization")}isKycAbandonedPopupEnabled(){const d=this.updateStoreUsingActionService.getState().countryDynamicParams||{};return!!d?.isKycAbandonedPopup&&"true"==d.isKycAbandonedPopup}verificationScreenHandler(){const n=this.sender?.customerVerificationStatus?.identityFlag||this.sender.verificationStatus;_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.verificationData.verificationInProgress.indexOf(n)>-1?this.routingService.navigateToVerificationOnHold():_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.verificationData.reverification.indexOf(n)>-1?this.routingService.navigateToVerificationUnsuccessful():_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.verificationData.notVerified.indexOf(n)>-1?this.routingService.navigateToVerificationInstruction():this.routingService.navigateTOSendmoneystart()}verificationScreenHandlerSCV(){_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.idvvSCVError.indexOf(this.sender?.customerVerificationStatus?.identityFlag||this.sender.verificationStatus)>-1?this.routingService.navigateToVerificationUnsuccessful():this.routingService.navigateTOSendmoneystart()}isRMFlowPresent(){return"MT_REQUEST"===JSON.parse(sessionStorage.getItem("getTokenData")||"{}")?.data?.type}isDssTransactionalCaseEnabled(){return this.featureFlagService.isFeatureEnabled("WURETAIL_NOTIFICATION_SRC")}hidePostTDBanner(){return!(this.isNonTransactionalEkycEnbaled()&&!lodash__WEBPACK_IMPORTED_MODULE_1__.includes(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.verificationData.verified,this.sender?.customerVerificationStatus?.identityFlag))}isDssDutLookupCaseEnabled(){return this.featureFlagService.isFeatureEnabled("ECDD_DUT_LOOKUP_FLOW")}isDssDutCaseEnabled(){return this.featureFlagService.isFeatureEnabled("ECDD_DUT_FLOW")}isDssAuthenticationEnabled(){return this.featureFlagService.isFeatureEnabled("ECDD_AUTHENTICATION")}isBackButtonMFAScreenOTP(){return this.featureFlagService.isFeatureEnabled("BACK_BUTTON_MFA_OTP")}checkVerificationNeeded(){const n=this.readURLService.getCountryFromURL(),t=this.updateStoreUsingActionService.getState().sender||{};return this.checkForTxnError("C1144")&&"N"===t.identityVerificationStatus&&"ES"!==n.toUpperCase()&&this.isCollectIdModuleEnabled()}checkForTxnError(n){const d=sessionStorage.getItem("txnErrorList")?JSON.parse(sessionStorage.getItem("txnErrorList")):[];for(let t=0;t<d.length;t++)if(d[t].error===n)return!0;return!1}progressiveRegisteredCustomer(){return"P"===((this.updateStoreUsingActionService.getState().sender||{}).registrationStatus||"").toUpperCase()}isCustomerFullyRegistered(){return"F"===((this.updateStoreUsingActionService.getState().sender||{}).registrationStatus||"").toUpperCase()}isRedirectToCompleteProfile(){const d=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}").identityVerificationStatus||"",o=JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}")?.pendingPOA||"N";return!(!this.featureFlagService.isFeatureEnabled("ENABLE_RETURNING_CUSTOMER")||!this.featureFlagService.isFeatureEnabled("ENABLE_MYINFO")||"success"===sessionStorage.getItem("complete-profile-GCP")||"N"!==d.toUpperCase()&&("I"!==d.toUpperCase()||"Y"===o?.toUpperCase()))}capitalizeFirstLetter(n){if(!n)return;let d=n.toLowerCase();d=d.split(" ");for(let t=0;t<d.length;t++)d[t]=d[t].charAt(0).toUpperCase()+d[t].slice(1);return d.join(" ")}addSubscriptionDetails(n){if(n&&n.campaign_name&&n.end_date&&n.subscription_id&&this.promoPricingWebCampaign().subscriptionId!==n.subscription_id){const d=new Date(n.end_date).getTime();this.setCookieItem("promoCampaignSubscriptionId",n.subscription_id,d,void 0,void 0,void 0,d),this.setCookieItem("promoCampaignSubscriptionEndDate",d,d,void 0,void 0,void 0,d),this.setCookieItem("subscribedCampaignName",n.campaign_name,d,void 0,void 0,void 0,d)}}isPOTCountryEnabled(){return this.countryConfigService.isRetail()&&this.featureFlagService.isFeatureEnabled("POT_CHANGE")}isSPTransaction(){return this.countryConfigService.getAirEnabled()&&"AG"===this.getSessionStorageItem("SelectedPayInOption")}getOccupationFromKey(n){if(!n)return n;const d=n.charAt(0);return n=isNaN(d)?(n=n.replace(/_/g,"/")).replace(/\$/g," "):(n=(n=(n=n.replace(d,"")).replace("_","")).replace(/_/g,"/")).replace(/\$/g," ")}getPartnerName(){let n=this.cookieService.get("partnerName")||this.getURLParameter("partnerName");if(n)return n.toUpperCase();{const d=this.updateStoreUsingActionService.getState()?.partnerData;return n=d&&d.partnerName?d.partnerName.toUpperCase():"",n||(n=this.getCookieItem("partnerName")?this.getCookieItem("partnerName").toUpperCase():""),n}}getCurrentFiscalYear(){const n=new Date;let t="";if(n.getMonth()>2){const o=(n.getFullYear()+1).toString();t=n.getFullYear().toString()+"-"+o.charAt(2)+o.charAt(3)}else{const o=n.getFullYear().toString();t=(n.getFullYear()-1).toString()+"-"+o.charAt(2)+o.charAt(3)}return t}formatToCamelCase(n){return lodash__WEBPACK_IMPORTED_MODULE_1__.isArray(n)?n.map(d=>this.formatToCamelCase(d)):lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(n)||n.constructor!==Object?n:lodash__WEBPACK_IMPORTED_MODULE_1__.keys(n).reduce((d,t)=>({...d,[lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase(t)]:this.formatToCamelCase(n[t])}),{})}formatToSnakeCase(n){return lodash__WEBPACK_IMPORTED_MODULE_1__.isArray(n)?n.map(d=>this.formatToSnakeCase(d)):lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(n)||n.constructor!==Object?n:lodash__WEBPACK_IMPORTED_MODULE_1__.keys(n).reduce((d,t)=>({...d,[lodash__WEBPACK_IMPORTED_MODULE_1__.snakeCase(t)]:this.formatToSnakeCase(n[t])}),{})}convertBoolAndNumValuesToString(n){if(n instanceof Object)for(const d in n)"boolean"==typeof n[d]||"number"==typeof n[d]?n[d]=String(n[d]):this.convertBoolAndNumValuesToString(n[d]);return n}objectRenaming(n,d,t){if(n){if(n[d]){const o=n[d];delete n[d],n[t]=o}}else console.error("Error in object renaming, obj is undefined");return n}isScheduledTransferEnabled(){return this.featureFlagService.isFeatureEnabled("CREATE_SCHEDULED_TRANSFER")}isScheduledTransferEnabledViaEvergage(){return this.isPPSprofile=this.updateStoreUsingActionService.getState().isPPSprofile,!this.isPPSprofile&&lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(this.getPartnerName())&&(this.isScheduledTransferEnabled()||"true"===this.getSessionStorageItem("Scheduled_Transfer_Enabled"))}isGMOPaymentGatewayEnabled(){return this.featureFlagService.isFeatureEnabled("GMO_PAYMENT_GATEWAY")}isGMOPaymentGatewayEnabledViaEvergage(){return this.isGMOPaymentGatewayEnabled()}isDingEnabled(){const n=sessionStorage.getItem("isDingTopupEnabled")?JSON.parse(sessionStorage.getItem("isDingTopupEnabled")):{},d=this.readURLService.getCountryFromURL().toUpperCase(),t=n.senderCountry?.toUpperCase()===d&&"true"===n.isEnabled,o=this.updateStoreUsingActionService.getState().isPPSprofile,e=this.getPartnerName()||this.isHostedPartner();return!o&&!e&&(this.featureFlagService.isFeatureEnabled("DING_TOPUP_ENABLED")||t)}isHomeDeliveryEnable(){const n=this.updateStoreUsingActionService.getState().isPPSprofile,d=this.getPartnerName()||this.isHostedPartner();return!n&&!d&&this.featureFlagService.isFeatureEnabled("CASH_HOME_DELIVERY")}isLoyalityPauseProgramEnabled(){return this.featureFlagService.isFeatureEnabled("PAUSE_LOYALTY_REWARDS_PROGRAM")||"true"===this.getSessionStorageItem("isLoyalityPauseProgramEnabled")}isGMOPaymentResendRedirectionEnabled(){return"true"===this.getSessionStorageItem("GMO_Payment_Resend_redirection")}isGMOScheduledMaintenanceActive(n){return this.ValidateGMOMaintenanceTime(n)||"true"===this.getSessionStorageItem("GMO_Scheduled_Maintenance_Active")}isRedirectReceiverToBank(){return this.featureFlagService.isFeatureEnabled("RECEIVER_REDIRECT_WEB")&&"true"===this.getSessionStorageItem("isReceiverRedirectEnabled")&&!this.isPartnerEnabled()}isRedirectReceiverToBankShareMail(){return this.featureFlagService.isFeatureEnabled("RECEIVER_REDIRECT_SHARE_MAIL")&&"true"===this.getSessionStorageItem("isReceiverRedirectEnabled")&&!this.isPartnerEnabled()}isIDDOBPhoneLookupEnable(){return this.featureFlagService.isFeatureEnabled("ENABLE_LOOKUP_FLOW_WEB")}isShareMtcnWithRtoB(n){const d=n.paymentDetails.destination.countryIsoCode,t=_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.rasdSenderEnabled[d]?.includes(n.paymentDetails.origination.countryIsoCode);return this.shareUpdateMailContent=!!t}isPartnerEnabled(){const n=this.updateStoreUsingActionService.getState().isPPSprofile,d=this.getPartnerName()||this.isHostedPartner();return n||d}isWuPartner(){const n=sessionStorage.getItem("applicationName");return n&&"wupartner"==n}getHideNavMenuReceiverToBank(){return"FR"===this.readURLService.getLanguageFromURL().toUpperCase()&&this.isRedirectReceiverToBank()&&!this.isPartnerEnabled()}ValidateGMOMaintenanceTime(n){const d=new Date;let t={startDate:this.getDDMMYYYYFormat(d),endDate:this.getDDMMYYYYFormat(d)};const o="true"===this.getSessionStorageItem("GMO_Scheduled_Maintenance_Active")?"true":"false";if(sessionStorage.setItem("isGMOMaintenanceActive",o),sessionStorage.setItem("gMOMaintenanceDates",JSON.stringify(t)),lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(n))return!1;const e=this.calculateNextMaintenanceDate(n,"ST"),x=this.calculateNextMaintenanceDate(n,"ET");return e.getTime()>x.getTime()&&x.setDate(x.getDate()+1),t={startDate:this.getDDMMYYYYFormat(e),endDate:this.getDDMMYYYYFormat(x)},sessionStorage.setItem("gMOMaintenanceDates",JSON.stringify(t)),d.getTime()<=x.getTime()&&d.getTime()>=e.getTime()&&(sessionStorage.setItem("isGMOMaintenanceActive","true"),!0)}calculateNextMaintenanceDate(n,d){const t="ST"===d?n.startTime.split(":"):n.endTime.split(":"),o=new Date;return o.setDate(7-parseInt(n.day,10)),o.setDate(7*parseInt(n.iterant,10)-o.getDay()),o.setHours(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)),o}getDDMMYYYYFormat(n){return n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear()}isWuRefundEnabled(){return this.featureFlagService.isFeatureEnabled("WUPAY_REFUND")}IsSingpassMyinfoV4APIEnabled(){const n="true"===sessionStorage.getItem("isSingPassV4Enabled"),d=this.featureFlagService.isFeatureEnabled("IS_SINGPASS_MYINFO_V4_API");return n||d}isWuPayRefundDocumentsUploadDisabled(){const n="true"===sessionStorage.getItem("isWuPayRefundDocumentsUpload"),d=this.featureFlagService.isFeatureEnabled("WUPAY_REFUND_DOCUMENTS_UPLOAD");return n||d}inFrame(){try{return window.self!==window.top}catch{return!1}}isNgDUCEnabled(){let n;const d=sessionStorage.getItem("isNgDUCEnabled"),t=this.featureFlagService.isFeatureEnabled("ENABLE_NEW_DUC_UI")||!!d&&JSON.parse(d),o=sessionStorage.getItem("SelectedPayInOption")||"";return sessionStorage.getItem("CustomerVerificationStatus")&&(n=lodash__WEBPACK_IMPORTED_MODULE_1__.get(JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||""),"payment_details.payment_type")),n=n||o||"",!0===t&&n&&"cash"!==n.toLowerCase()&&!this.isHostedPartner()}setSessionStorageItem(n,d){sessionStorage.setItem(n,d)}numberOnly(n){(8!==n.which&&0!==n.which&&n.which<48||n.which>57)&&n.preventDefault()}getIsoCodePrefix(n,d){const t=[];for(const e in d)if(d.hasOwnProperty(e)){const x=Object.keys(d[e])[0];t.push({key:x,value:e})}return t.filter(e=>e.key===n)[0].value}isDeleteAbandonedTokenEnabled(){return this.featureFlagService.isFeatureEnabled("RESUME_TRANSFER_DELETE_TOKEN")}formatDate(n,d,t){return dayjs__WEBPACK_IMPORTED_MODULE_11___default()(n,t).format(d)}toCamel(n){return n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace("-","").replace("_",""))}keysToCamel(n){if(n===Object(n)&&!Array.isArray(n)&&"function"!=typeof n){let d=new Object;const t=new Map(Object.entries(d));return Object.keys(n).forEach(o=>{t.set(this.toCamel(o),this.keysToCamel(n[o]))}),d=this.mapToObj(t),d}return Array.isArray(n)?n.map(d=>this.keysToCamel(d)):n}mapToObj(n){const d={};return n.forEach(function(t,o){d[o]=t}),d}getCookieItemFromCookieService(n){return this.cookieService.get(n)}setIsProgressiveSMOEnabled(){let n=sessionStorage.getItem("enableNoCacheCookieExp");const d=this.smoConfig._getCountryIsoCode().toUpperCase(),t=this.smoConfig.getGlobalConfig("switches","countriesWithProgressiveSmoEnabled")||"";d&&t&&t.indexOf(d)>=0&&(n="enable"),this.isProgressiveSMOEnable=!(!n||"enable"!==n)}isDisableProgressiveSMOAfterCountrySelect(){const n="true"===sessionStorage.getItem("isDisableProgressiveSMOAfterCountrySelect"),d=this.featureFlagService.isFeatureEnabled("DISABLE_PSMO_AFTER_COUNTRY_SELECT");return n||d}promoCampaignFromSessionToLocalStorage(n){const d=new Date,o={value:sessionStorage.getItem(n),expiry:d.getTime()+72e5};localStorage.setItem(n,JSON.stringify(o))}promoCampaignFromLocalToSessionStorage(n){const d=localStorage.getItem(n);if(d){const t=JSON.parse(d);(new Date).getTime()>t.expiry?localStorage.removeItem(n):sessionStorage.setItem(n,t.value)}}isAuPoliIssueExpiryForPartnerDisabled(){return!(this.isHostedPartner()||!this.featureFlagService.isFeatureEnabled("ENABLE_ISSUE_EXPIRATION_DATE")&&!this.featureFlagService.isFeatureEnabled("AU_POLI_AFTER_VERIFICATION"))}isProductRankingEnabled(){const n=!(!sessionStorage.getItem("isProductRankingEnabled")||"true"!==sessionStorage.getItem("isProductRankingEnabled")),d=this.featureFlagService.isFeatureEnabled("IS_PRODUCT_RANKING_ENABLED");return!(!n&&!d)}deleteACHForCanada(n,d){n&&n.senderCountry&&"CA"===n.senderCountry.isoCode&&this.countryConfigService.isParamountEnabled()&&delete d.ACH}setPartnerFundsOutOptions(n,d){this.getPartnerName()===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.POSTBANK_PARTNER?n.hasOwnProperty(d)&&(n[d]="Y"):n.hasOwnProperty(d)&&(n[d]="")}isEnabledWalletPayout(n,d){const t=this.featureFlagService.isFeatureEnabledForReceiver("GETWALLETFLAG",n);!this.smoConfig.isMobileWalletEnabled()&&!t&&d&&this.setPartnerFundsOutOptions(d,"WA")}isFeatureEnabledForReceiver(n,d){return this.featureFlagService.isFeatureEnabledForReceiver(n,d)}isEnabledD2cPayout(n,d){!this.featureFlagService.isFeatureEnabledForReceiver("GETD2CRECVRFLAG",n)&&d&&this.setPartnerFundsOutOptions(d,"D2C")}isEnabledPaysendD2CPayout(n,d){let t=!1,o=!1;const e=this.updateStoreUsingActionService.getState().countryDynamicParams,x=JSON.parse(this.getSessionStorageItem("D2CPaysendEnabledReceiverCountries")||"null");x&&(t=x.includes(n)),e&&(UtilService.isProduction()?e.PaysendReceiveCountries&&(o=e.PaysendReceiveCountries.split(",").includes(n)):e.PaysendReceiveCountries_UAT&&(o=e.PaysendReceiveCountries_UAT.split(",").includes(n))),d&&d.D2C_PS&&(t||o)?sessionStorage.setItem("paysendD2CPayoutEnabled","true"):sessionStorage.setItem("paysendD2CPayoutEnabled","")}paysendD2CObjFromProduct(n,d){const t=d||this.selectedProduct.payIn,o=n?.filter($=>"201"===$.code&&$.payIn===t),e=n?.filter($=>"202"===$.code&&$.payIn===t);return{isVisaAvailable:o,isMastercardAvailable:e}}isDSREnabledCorridor(){const n=this.featureFlagService.isFeatureEnabledForReceiver("DIRECTED_SOURCE_RATE_ENABLED_CTRY",this.receivingCountryIsoCode),d=JSON.parse(sessionStorage.getItem("isPakistanPRIEnabled")||"null"),t=this.updateStoreUsingActionService.getState().countryDynamicParams,o=this.getPartnerName()?"DSR_ENABLED_PARTNER_COUNTRY":"DSR_ENABLED_COUNTRY",e=t[o]?JSON.parse(t[o]):null;return!(!n||!(e&&e[this.receivingCountryIsoCode]||d&&d[this.receivingCountryIsoCode]))&&(e[this.receivingCountryIsoCode]||d[this.receivingCountryIsoCode])}isReceiverDSREnabledCorridor(){const n=JSON.parse(this.getSessionStorageItem("RECEIVER_DSR_ENABLED_PAYOUTS")||"null"),d=this.updateStoreUsingActionService.getState().countryDynamicParams,t=d&&d.RECEIVER_DSR_ENABLED_PAYOUTS?JSON.parse(d.RECEIVER_DSR_ENABLED_PAYOUTS):null;return t&&t[this.receivingCountryIsoCode]?t[this.receivingCountryIsoCode]:n&&n[this.receivingCountryIsoCode]?n[this.receivingCountryIsoCode]:void 0}mapCatalogToExistingProduct(n,d,t){let o;const e=JSON.parse(sessionStorage.getItem("PriceCatalogRes")||"{}")||null,x=lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.selectedProduct,"payOut"),W=(e&&e.services_groups)?.filter(V=>V.fund_out===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Oi[x]||V.fund_out===t),K=W?.filter(V=>{if(V.institution_list&&V.institution_list.find(P=>P.institution_code===n.value))return!0});if(K?.length){const P={...K[0].pay_groups.filter(D=>D.fund_in===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.ld[d])[0]};P.value=n.value,P.name=n.name,P.code=K[0].service,P.payIn=d,o={...P}}else{const V=W?.filter(P=>P.service===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Oi[x]);if(V?.length){const D={...V[0].pay_groups.filter(f=>f.fund_in===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.ld[d])[0]};D.value=n.value,D.name=n.name,D.code=V[0].service,D.payIn=d,o={...D}}}return o}mapCatalogResponse(n,d,t){const o=[],e=lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.selectedProduct,"payIn"),x=JSON.parse(sessionStorage.getItem("PriceCatalogRes"))||null,$=x&&x.services_groups;let W;"BA"===n&&(W=d),"WA"===n&&(W=t);const K=Object.keys(W||{}).map(V=>({name:W&&W[V]&&W[V]?.trim()||"",value:V}));if((n===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.BA||n===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.WA)&&x&&Array.isArray($)&&e&&K){for(let V=0;V<K.length;V++){const P=$?.filter(f=>f.fund_out===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Oi[n]),D=P?.filter(f=>{if(f.institution_list&&f.institution_list.find(C=>C.institution_code===K[V].value))return!0});if(D?.length){const C={...D[0].pay_groups.filter(A=>A.fund_in===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.ld[e])[0]};C.value=K[V].value,C.name=K[V].name,C.code=D[0].service,C.payIn=e,o.push(C)}else{const f=P?.filter(C=>C.service===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Oi[n]);if(f?.length){const A={...f[0].pay_groups.filter(E=>E.fund_in===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.ld[e])[0]};A.value=K[V].value,A.name=K[V].name,A.code=f[0].service,A.payIn=e,o.push(A)}}}return o}}isEnabledBankPayout(n,d){this.featureFlagService.isFeatureEnabledForReceiver("GETBANKFLAG",n)&&d&&(d.BA="")}isDisabledBankPayout(n,d,t){const o=this.featureFlagService.isFeatureEnabledForReceiver("GETENABLEDBANKSENDER",n),e=this.featureFlagService.isFeatureEnabledForReceiver("GETENABLEDBANKRECEIVER",d);!o&&e&&t&&(t.BA="")}isEnabledUSCUD2B(n,d){"CU"===n&&!this.featureFlagService.isFeatureEnabled(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.USCUD2BEnableFlag)&&d&&(d.BA="")}isEnabledWuPayout(n,d){const t=this.featureFlagService.isFeatureEnabled("WU_BANK_TILE_ENABLED_SENDER"),o=this.featureFlagService.isFeatureEnabledForReceiver("WU_BANK_TILE_ENABLED_RECEIVER",n);(!t||!o)&&d&&d.WU&&(d.WU="")}showSelectLanguagePrefPopup(n){const d=this.featureFlagService.isFeatureEnabled("SHOW_LANGUAGEPREFERENCE_POPUP"),t=window.navigator.language&&window.navigator.language.split("-")[0]?window.navigator.language.split("-")[0]:null,o=localStorage.getItem("wuLanguagePreference")?localStorage.getItem("wuLanguagePreference"):null,e=this.readURLService.getCountryLanguage().language,x=!!n&&n.some(P=>P===t),$=this.getFeatureFromSSC("displayLanguageModal_featureFlag_Campaign")?this.getFeatureFromSSC("displayLanguageModal_featureFlag_Campaign"):void 0;let W,K,V;return lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"experience")&&lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"data.displayLanguageModal")&&"true"===lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"data.displayLanguageModal")&&(W=lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"data.displayLanguageModal"),window.logEvergageExperienceAmplitudeEvent({ab_test:"displayLanguageModal_featureFlag_Campaign",ab_test_variant:"displayLanguageModal_featureFlag_Campaign-"+lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"experience")})),lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"experience")&&lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"data.displayLanguageModalWhenParamAvilable")&&"true"===lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"data.displayLanguageModalWhenParamAvilable")&&(K=lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"data.displayLanguageModalWhenParamAvilable"),window.logEvergageExperienceAmplitudeEvent({ab_test:"displayLanguageModalWhenParamAvilable_featureFlag_Campaign",ab_test_variant:"displayLanguageModalWhenParamAvilable_featureFlag_Campaign-"+lodash__WEBPACK_IMPORTED_MODULE_1__.get($,"experience")})),V=o?!(!o||!x||o===e||!d&&"true"!==sessionStorage.getItem("displayLanguageModalWhenParamAvilable")&&"true"!==K):!(!t||o||t===o||t===e||!x||!d&&"true"!==sessionStorage.getItem("displayLanguageModal")&&"true"!==sessionStorage.getItem("displayLanguageModalWhenParamAvilable")&&"true"!==W&&"true"!==K),V}redirectToPreferredLanguage(){const n=this.readURLService.getCurrentUrl().split("?"),d=n&&n.length>1?"?"+n[1]:"",t=this.featureFlagService.isFeatureEnabled("SHOW_LANGUAGEPREFERENCE_POPUP"),o=localStorage.getItem("wuLanguagePreference")?localStorage.getItem("wuLanguagePreference"):null,e=this.readURLService.getCountryFromURL();o&&this.readURLService.getCountryLanguage().language!==o&&(t||"true"===sessionStorage.getItem("displayLanguageModal"))&&this.routingService.crossLanguageNavigation(e,o,d)}isSendUpToAmountSpinnerEnabled(){const n=!(!sessionStorage.getItem("sendUpToAmountSpinnerExp")||"true"!==sessionStorage.getItem("sendUpToAmountSpinnerExp")),d=this.featureFlagService.isFeatureEnabled("IS_SEND_UP_TO_AMOUNT_SPINNER");return!(!n&&!d)}isRemoveMaxContainerExpEnabled(){const n=!(!sessionStorage.getItem("removeMaxLimitContainerExp")||"true"!==sessionStorage.getItem("removeMaxLimitContainerExp")),d=this.featureFlagService.isFeatureEnabled("IS_REMOVE_MAX_LIMIT_EXP");return!(!n&&!d)}isGlobalLangSelectorEnabled(){const n=this.updateStoreUsingActionService.getState()?.flowType,t=!!["/web/dss2/"].find(x=>this.readURLService.getCurrentUrl().indexOf(x)>-1);if(n===_shared_models_session__WEBPACK_IMPORTED_MODULE_16__.do.DSS2||t)return!0;const o=!(!sessionStorage.getItem("isGlobalLangSelector")||"true"!==sessionStorage.getItem("isGlobalLangSelector")),e=this.featureFlagService.isFeatureEnabled("IS_GLOBAL_LANG_SELECTOR");return!(!o&&!e)}isPromoSegmentPricingEnabled(){const n=!(!sessionStorage.getItem("isPromoSegmentPricingEnabled")||"true"!==sessionStorage.getItem("isPromoSegmentPricingEnabled")),d=this.featureFlagService.isFeatureEnabled("PROMO_SEGMENT_PRICING");return!(!n&&!d)}isUserAppliedPromoCampaignAvailable(){return!(!sessionStorage.getItem("userAppliedPromoCampaignName")||""===sessionStorage.getItem("userAppliedPromoCampaignName"))}handleUserAppliedPromoCampaign(n){n&&n.campaign_name&&n.end_date&&n.subscription_id&&this.isUserAppliedPromoCampaignAvailable()&&sessionStorage.removeItem("userAppliedPromoCampaignName")}updateSubscriptionMessage(n){let d="";const t=n&&n.subscription&&n.subscription.subscription_id||n&&n.subscription&&n.subscription.subscriptionId||n&&n.subscription_id;let o=n&&n.subscription&&n.subscription.end_date||n&&n.subscription&&n.subscription.endDate||n&&n.end_date;const e=n&&n.subscription&&n.subscription.campaign_name||n&&n.subscription&&n.subscription.campaignName||n&&n.campaign_name;o&&(o=this.converFormate(new Date(o))),this.selectedProduct&&this.selectedProduct.promotion&&this.selectedProduct.promotion.campaign_name?d=this.selectedProduct.promotion.campaign_name.toLowerCase():n&&n.end_date&&n.campaign_name&&n.subscription_id&&this.isUserAppliedPromoCampaignAvailable()&&(d=sessionStorage.getItem("userAppliedPromoCampaignName"),d=d.toLowerCase()),t&&o&&e&&d===e&&this.isPromoSegmentPricingEnabled()&&(sessionStorage.setItem("showMessageToSubscriptonUser","true"),sessionStorage.setItem("storedSubscriptionData",JSON.stringify({subscriptionId:t,expiryDateTimestamp:o,subscribedCampaignName:e})),n&&!n.end_date&&!n.campaign_name&&!n.subscription_id&&sessionStorage.setItem("StopScrollingWhenSubscriptionBannerCome","true"))}converFormate(n){const d=String(n.getDate()).padStart(2,"0");return String(n.getMonth()+1).padStart(2,"0")+"/"+d+"/"+n.getFullYear()}getsubscriptionData(){return sessionStorage.getItem("storedSubscriptionData")&&""!==sessionStorage.getItem("storedSubscriptionData")?JSON.parse(sessionStorage.getItem("storedSubscriptionData")||"{}"):null}showMessageToSubscriptonUser(){const n=!(!sessionStorage.getItem("showMessageToSubscriptonUser")||"true"!==sessionStorage.getItem("showMessageToSubscriptonUser"));return!(!this.isPromoSegmentPricingEnabled()||!n)}isStopScrollingWhenSubscriptionBannerCome(){return!(!sessionStorage.getItem("StopScrollingWhenSubscriptionBannerCome")||"true"!==sessionStorage.getItem("StopScrollingWhenSubscriptionBannerCome"))}RemoveSessionAfterBannerIsCome(){this.isStopScrollingWhenSubscriptionBannerCome()&&sessionStorage.removeItem("StopScrollingWhenSubscriptionBannerCome")}isOnlyPVOcr(){return this.featureFlagService.isFeatureEnabled("ENABLE_ONLY_PV_OCR")||"true"===sessionStorage.getItem("isOnlyPVOCRFlowEnabled")}isChooseOcrTileEnable(){return this.featureFlagService.isFeatureEnabled("ENABLE_CHOOSE_OCR_TILE")||"true"===sessionStorage.getItem("isChooseOcrTileEnabled")}isSecretQuestionEnable(){return this.featureFlagService.isFeatureEnabled("ENABLE_SECRET_QUESTION")}isOcrFlowEnabled(n){let d;const t=this.ocrInitialCheckInSession();if(!t)return!1;const o=sessionStorage.getItem("isOCRFlowEnabledForCC"),e=sessionStorage.getItem("isOCRFlowEnabledForDC"),x=sessionStorage.getItem("isOCRFlowEnabledForIBP"),$=sessionStorage.getItem("isOCRFlowEnabledForWUPay"),W=sessionStorage.getItem("IBPFundsInList")||"",K=this.updateStoreUsingActionService.getState().kycVendorConfig,V=lodash__WEBPACK_IMPORTED_MODULE_1__.get(K,"allowedPayinMethods");sessionStorage.setItem("allowedPayinMethods",V);const P=sessionStorage.getItem("ocrPayInMethod")||V||"";t&&(this.checkNewSelfieFlow()||this.featureFlagService.isFeatureEnabled("OCR_OPTIMIZE_FLOW_PARAM"))&&this.setNewSelfieOcrSession(),sessionStorage.getItem("CustomerVerificationStatus")&&(d=lodash__WEBPACK_IMPORTED_MODULE_1__.get(JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||""),"payment_details.payment_type"));const f=n||this.selectedProduct.payIn||d,C="CreditCard"===f&&o||"DebitCard"===f&&e||W.indexOf(f)>-1&&x||"WUPay"===f&&$;return t&&(P?.indexOf(f)>-1||C)&&!this.isHostedPartner()}ocrInitialCheckInSession(){return sessionStorage.getItem("isOCRFlowEnabled")||this.featureFlagService.isFeatureEnabled("OCR_FLOW_ENABLED")||this.isOnlyPVOcr()}setNewSelfieOcrSession(){sessionStorage.setItem("History_Resume_Transfer_Provision","enabled"),sessionStorage.setItem("idDobFieldsEditable","true"),sessionStorage.setItem("isSkipChooseMethodExp","true"),sessionStorage.setItem("isNextGenOcrIbpFlowPayInMethod","Sofort")}isCardExpired(n,d){if(n&&d){const t=new Date,o=t.getMonth()+1,e=t.getFullYear();if(e>d)return!0;if(e===d&&o>n)return!0}}updateLastSelectedProduct(n){this.selectedProduct&&n&&(this.updateStoreUsingActionService.updateLastSelectedProduct(this.selectedProduct),this.fifoTilesSelected.next(!1))}setActiveTab(n){this.currentTabSubject.next(n)}isSelfieKycFeatureEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_SELFIE_KYC")||"true"===sessionStorage.getItem("isSelfieKycFeatureEnabled")}isSelfieKycFeatureEnabledForPayin(){const n=sessionStorage.getItem("getTokenData")?JSON.parse(sessionStorage.getItem("getTokenData")||"{}"):"",d=this.selectedProduct.payIn?this.selectedProduct.payIn:lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"data.json.payment_details.payment_type");if(this.isOCRSelfieKycFeatureEnabledForPayin())return!0;const o=this.readURLService.getCountryFromURL(),e=[{countryCode:"my",payin:"FPX"},{countryCode:"my",payin:"IBP"},{countryCode:"my",payin:"DebitCard"}].filter(x=>x.countryCode===o&&x.payin?.toLowerCase()===d?.toLowerCase());return this.isSelfieKycFeatureEnabled()&&lodash__WEBPACK_IMPORTED_MODULE_1__.get(e[0],"payin")===d&&!this.isHostedPartner()}isOCRSelfieKycFeatureEnabledForPayin(){if(!this.ocrInitialCheckInSession())return!1;const d=sessionStorage.getItem("getTokenData")?JSON.parse(sessionStorage.getItem("getTokenData")||"{}"):"",t=this.selectedProduct.payIn?this.selectedProduct.payIn:lodash__WEBPACK_IMPORTED_MODULE_1__.get(d,"data.json.payment_details.payment_type"),o=this.updateStoreUsingActionService.getState().kycVendorConfig,e=lodash__WEBPACK_IMPORTED_MODULE_1__.get(o,"allowedPayinMethods"),x=sessionStorage.getItem("newOcrPayInMethod")?JSON.parse(sessionStorage.getItem("newOcrPayInMethod")||"{}"):e;for(let $=0;$<x?.length;$++)if(x[$]===(t&&t.toUpperCase()))return!0;return!1}dssErrorOptimization(){return sessionStorage.getItem("isDssErrorOptimizationEnabled")||this.featureFlagService.isFeatureEnabled("DSS_ERROR_OPTIMIZATION_ENABLED")}isDataRemovalRequiredInSMV(){return"SG"!==this.readURLService.getCountryFromURL().toUpperCase()}isRAFEnabledForPostoffice(){return this.featureFlagService.isFeatureEnabled("REFER_A_FRIEND_POSTOFFICE")||sessionStorage.getItem("postofficeRAF")}isSaasquatchTenantUpgrade(){return this.featureFlagService.isFeatureEnabled("SAASQUATCH_TENANT_UPGRADE")}isRcxReferFriendEnable(){const n=sessionStorage.getItem("enableRcxRaf")?JSON.parse(sessionStorage.getItem("enableRcxRaf")):{},d=this.readURLService.getCountryFromURL().toUpperCase(),t=n.senderCountry?.toUpperCase()===d&&"true"===n.isEnabled;return this.featureFlagService.isFeatureEnabled("REFER_A_FRIEND_WU_DIGITAL")||t}ShowAddReceiverSectionWithSendToMySelf(){return this.featureFlagService.isFeatureEnabled("SHOW_ADD_RECEIVER_SECTION_WITH_SEND_TO_MYSELF")}isLoyaltyProgramEnabled(){const n=this.updateStoreUsingActionService.getState().isPPSprofile,d=this.getPartnerName()||this.isHostedPartner();return!n&&!d&&(this.featureFlagService.isFeatureEnabled("LOYALTY_WU_DIGITAL")||"true"===sessionStorage.getItem("isLoyaltyProgramEnabled"))}isDOBPhoneLookupEnable(){const n=this.updateStoreUsingActionService.getState()?.flowType;return(this.featureFlagService.isFeatureEnabled("RETAIL_CUSTOMER_DIGITAL_ONBOARDING_PUMN")||"true"===sessionStorage.getItem("isR2DOnboardingEnabled")||"true"===sessionStorage.getItem("isSCVEnabled"))&&!this.isPartnerEnabled()&&n!==_shared_models_session__WEBPACK_IMPORTED_MODULE_16__.do.DSS2}inAbandonTrxnDataForPayInIsAvailable(n){const t=lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"data.json.payment_details.payment_type");return["POLI","FPX","IBP"].some(o=>t===o)}getLocalizedDate(n){let t,o,d=5;n&&(d=n.toString().indexOf("EST")>-1?5:4,t=n.toString().split(" "),o=t[0]+" "+t[1]);const e=new Date(o),x=e.getTime()-6e4*e.getTimezoneOffset(),$=new Date(x+36e5*d),W="US"===this.urlService.getCountryFromURL().toUpperCase()?"en-"+this.urlService.getCountryFromURL().toUpperCase():this.urlService.getLanguageFromURL().toLowerCase()+"-"+this.urlService.getCountryFromURL().toUpperCase();return $.toLocaleString(W,{year:"numeric",month:"2-digit",day:"2-digit"}).toString().split(",")[0]}enableScrollingWhenInvalid(){return!(!this.featureFlagService.isFeatureEnabled("ENABLESCROLLING_WHEN_INVALID")&&"true"!==sessionStorage.getItem("enableScrollingWhenInvalid"))}isAvailableKYCOptionEnabled(){return this.featureFlagService.isFeatureEnabled("GET_AVAILABLEKYC_OPTIONS")}isVideoKYCEnabledForCountry(){const n=this.countryConfigData?.ConfigTemplate;return"TRUE"===n?.KYCVerification?.toUpperCase()&&"TRUE"===n?.enableStartVerificationFromProfile||"true"===sessionStorage.getItem("videoKYCEnabled")||this.featureFlagService.isFeatureEnabled("VIDEO_KYC_ENABLED")}isVideoKYCEnabledForOfflineKycCountry(n,d){const o=this.updateStoreUsingActionService.getState().sender||{};return("TRUE"===this.countryConfigData?.ConfigTemplate?.KYCVerification?.toUpperCase()||n)&&sessionStorage.getItem("offlineKyc")&&!d&&"F"===o?.registrationStatus&&"N"===o?.identityVerificationStatus}isCompleteYourProfileForOfflineKycCountry(n,d){const o=this.updateStoreUsingActionService.getState().sender||{};return n&&sessionStorage.getItem("offlineKyc")&&!d&&o&&"P"===o.registrationStatus&&"N"===o.identityVerificationStatus}isCollectidChooseForOfflineKycCountry(n,d){const o=this.updateStoreUsingActionService.getState().sender||{};return("FALSE"===this.countryConfigData?.ConfigTemplate?.KYCVerification?.toUpperCase()||!n)&&sessionStorage.getItem("offlineKyc")&&!d&&"F"===o?.registrationStatus&&"N"===o?.identityVerificationStatus}handlingVideoOfflineKycFlow(n,d,t){if(n&&this.isVideoKYCEnabledForOfflineKycCountry(d,t))return sessionStorage.removeItem("offlineKyc"),void this.routingService.navigateTOVerificationOptions();n&&this.isCompleteYourProfileForOfflineKycCountry(d,t)&&this.routingService.completeYourProfile()}handlingEIDOfflineKycFlow(n,d,t){if(!n||!this.isCompleteYourProfileForOfflineKycCountry(!d,t))return n&&this.isCollectidChooseForOfflineKycCountry(d,t)?(sessionStorage.removeItem("offlineKyc"),void this.routingService.navigateTOCollectIdChoose()):void 0;this.routingService.completeYourProfile()}isMYForeignWorker(){const n=this.updateStoreUsingActionService.getState().sender,d=this.smoConfig._getCountryIsoCode().toUpperCase(),t=n?.customerCategory||n?.customer_category||"";return this.isSelfieKycFeatureEnabled()&&"MY"===d&&"foreign worker"===t.toLowerCase()}sendingToHomeCountry(){let n=!1;const d=this.updateStoreUsingActionService.getState().corridor,t=this.updateStoreUsingActionService.getState().sender;return n=!d?.receiverCountry||d?.receiverCountry?.isoCode===t?.registrationDetails?.nationality?.isoCode,n}buildGenericPopupModel(n,d,t,o,e,x,$,W){const K=new _shared_models_modal_popup__WEBPACK_IMPORTED_MODULE_27__.i;return K.showWarningIcon="boolean"!=typeof e||e,K.showContinueButton="boolean"!=typeof x||x,K.showCloseIcon="boolean"!=typeof $||$,K.showWarningTriangle="boolean"!=typeof W||W,K.description=n,K.additionalDesc=d,K.title=t,K.buttonText=o,K}getConfigValuesForMyeKYC(){const d=this.updateStoreUsingActionService.getState().countryDynamicParams||{},t={pastHistoryDays:d?.RECEIVER_HISTORY_DAYS?Number(d?.RECEIVER_HISTORY_DAYS):365,allowedReceiverCountForFW:d?.FW_RECEIVER_COUNT?Number(d?.FW_RECEIVER_COUNT):6,allowedReceiverCountForNonFW:d?.NON_FW_RECEIVER_COUNT?Number(d?.NON_FW_RECEIVER_COUNT):20};return t.pastHistoryInMonths=Math.round(t.pastHistoryDays/30),t}getAdditionalInfoForPP(){return(this.updateStoreUsingActionService.getState().countryDynamicParams||{})?.AdditionInfoForIllustration}getBrazilPotFilters(){const d=this.updateStoreUsingActionService.getState().countryDynamicParams||{};let o,e,x,$;return this.featureFlagService.isFeatureEnabled("BRAZIL_NEW_POT_VALUE")?(o=d?.RECV_BANK_CASH_NAME_MATCH?d?.RECV_BANK_CASH_NAME_MATCH:"329990006767",e=d?.RECV_BANK_BANK_NAME_MATCH?d?.RECV_BANK_BANK_NAME_MATCH:"679950006767,P001,P002,P003,P004,P005,P006,P007,P008,P009,P010,P011,P012,P101,P102",x=d?.RECV_BANK_CASH_NAME_NOT_MATCH?d?.RECV_BANK_CASH_NAME_NOT_MATCH:"129950006767,379940006767,329990006767,P001,P002,P003,P004,P005,P006,P007,P008,P009,P010,P011,P012,P101,P102",$=d?.RECV_CASH_CASH?d?.RECV_CASH_CASH:"379940006767"):(o=d?.RECV_BANK_CASH_NAME_MATCH?d?.RECV_BANK_CASH_NAME_MATCH:"320160000090",e=d?.RECV_BANK_BANK_NAME_MATCH?d?.RECV_BANK_BANK_NAME_MATCH:"675000000090,P001,P002,P003,P004,P005,P006,P007,P008,P009,P010,P011,P012,P101,P102",x=d?.RECV_BANK_CASH_NAME_NOT_MATCH?d?.RECV_BANK_CASH_NAME_NOT_MATCH:"120360000290,370040000290,370110000290,320160000090,P001,P002,P003,P004,P005,P006,P007,P008,P009,P010,P011,P012,P101,P102",$=d?.RECV_CASH_CASH?d?.RECV_CASH_CASH:"370040000290,370110000290"),{RECV_BANK_CASH_NAME_MATCH:o.split(","),RECV_BANK_BANK_NAME_MATCH:e.split(","),RECV_BANK_CASH_NAME_NOT_MATCH:x.split(","),RECV_CASH_CASH:$.split(",")}}fillSecretQestionModel(n){const d=new _shared_models_secret_question__WEBPACK_IMPORTED_MODULE_28__.TT;return d.questionKey=n.key,d.question=n.value,this.securityQuestionSubject.next(d),d}hasHomeCountryReceiver(n){let d=!1;const o=this.updateStoreUsingActionService.getState().sender?.registrationDetails?.nationality?.isoCode;if(n&&o){const e=n.filter(x=>x?.address?.countryIsoCode===o);d=e&&e.length>0}return d}getStartDate(n){const d=new Date;if(lodash__WEBPACK_IMPORTED_MODULE_1__.get(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.K,"CONST_DATE_FORMATS.ISO_DATE.YYYY_MM_DD"))return dayjs__WEBPACK_IMPORTED_MODULE_11___default()(d).subtract(n,"month").format(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.K.CONST_DATE_FORMATS.ISO_DATE.YYYY_MM_DD)}isPlaidFlowNewBankDesignEnabled(){return(sessionStorage.getItem("SelectedPayInOption")||"")==_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.Plaid&&(this.featureFlagService.isFeatureEnabled("PLAID_BANK_NEW_DESIGN")||"true"==sessionStorage.getItem("plaidNewDesignEnabled")||this.isFeatureEnabledViaOptimizelyFeatureExperimentation("plaid_add_bank_guidance"))}getEndDate(){const n=new Date;if(lodash__WEBPACK_IMPORTED_MODULE_1__.get(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.K,"CONST_DATE_FORMATS.ISO_DATE.YYYY_MM_DD"))return dayjs__WEBPACK_IMPORTED_MODULE_11___default()(n).format(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.K.CONST_DATE_FORMATS.ISO_DATE.YYYY_MM_DD)}isNewMyWURewardsSiteEnabled(){return this.featureFlagService.isFeatureEnabled("MYWU_REDEMPTION_NEW_PAGE")}focusIfInvalidOnPaymentPage(){return!(!this.featureFlagService.isFeatureEnabled("ENABLESCROLLING_ONPAYMENT_INVALID")&&"true"!==sessionStorage.getItem("enableScrollingOnPaymentWhenInvalid"))}isPromoEnableForResend(){return this.featureFlagService.isFeatureEnabled("ENABLE_RESEND_PROMO")||"true"===sessionStorage.getItem("enableResendPromo")}isRegexRulesDisabledForCard(){const n=this.updateStoreUsingActionService.getState().corridor,d=n?.senderCountry?.isoCode,t=n?.receiverCountry?.isoCode,o=Object.keys(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.RELAX_REGEX_SENDER_RECEIVER_LIST),e=Object.values(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.RELAX_REGEX_SENDER_RECEIVER_LIST);let x;for(let $=0;$<o.length;$++)if(o[$]===d)for(let W=$;W<e.length;W++){$===W&&(x=e[W].split(" "));for(let K=0;K<x.length;K++)if(x[K]===t)return sessionStorage.getItem("isMXCardRegexEnabled")}}hidePagelLevelErrors(){const n=this.updateStoreUsingActionService.getState().pageLevelNotification,d=JSON.parse(sessionStorage.getItem("app")||"{}");(-1!==_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.HIDE_PAGE_LEVEL_ERRORS.indexOf(lodash__WEBPACK_IMPORTED_MODULE_1__.get(d,"pageLevelNotification.errorCode"))||-1!==_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.HIDE_PAGE_LEVEL_ERRORS.indexOf(lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"errorCode")))&&this.updateStoreUsingActionService.updatePageLevelNotification(null)}getFingerPrintFromSession(){return sessionStorage.getItem("fingerprint_id")?sessionStorage.getItem("fingerprint_id"):void 0}setFingerPrintIDIfNotAvailableInSession(){const n=window.dataLayer;if(this.getFPInDataLayer(n)&&!this.getFingerPrintFromSession()){const d=this.getFPInDataLayer(n);sessionStorage.setItem("fingerprint_id",d)}else!this.getFingerPrintFromSession()&&!this.getFPInDataLayer(n)&&this.getFingerprintHash().then(d=>{sessionStorage.setItem("fingerprint_id",d)})}getFPInDataLayer(n){let d;return n&&(d=n.filter(t=>t.fp)[0]),d}getDynamicParamsForOCR(){return this.updateStoreUsingActionService.getState().countryDynamicParams||{}}getLicenseKeyForMicroblink(n){let d=window.location.host;d=d.includes("localhost")?"localhost":d;const o=n+"-"+d.replace(/\./gi,"-")+"-license";return this.getDynamicParamsForOCR()[o]}getEngineLocationForMicroblink(n){const d=this.getDynamicParamsForOCR();let t=window.location.hostname;t=t.includes("localhost")?"wudispatcher-qa11.qawesternunion.com":t;let o=n===_shared_models_constants_kyc__WEBPACK_IMPORTED_MODULE_13__.wp.ID?d?.MicroblinkEngineLocationIdProd:d?.MicroblinkEngineLocationCardProd;return UtilService.isProduction()||(o=n===_shared_models_constants_kyc__WEBPACK_IMPORTED_MODULE_13__.wp.ID?d?.MicroblinkEngineLocationId:d?.MicroblinkEngineLocationCard),o.indexOf("{0}")>-1?o.replace("{0}",t):o}isOCRSDkVendor(){const n=this.updateStoreUsingActionService.getState(),d=n?.kycVendorConfig?.activeVendor,t=lodash__WEBPACK_IMPORTED_MODULE_1__.filter(n?.kycVendorConfig?.applicableVendors,o=>o.name===d);return!0===lodash__WEBPACK_IMPORTED_MODULE_1__.get(t[0],"sdkVendor")}isUpdateReceiverResendEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_RESEND_UPDATERECEIVER")||"true"===sessionStorage.getItem("enableResendUpdateReceiver")}isCurrencySelectionProminentEnabled(){return this.featureFlagService.isFeatureEnabled("FUNDS_OUT_CURRENCY_MESSAGING")||"true"===sessionStorage.getItem("enableCurrencySelectionProminent")}isRedeemPromoCode(n){return n.rewardList&&(void 0!==n.rewardList.totalPointsEarned||void 0!==n.rewardList.total_points_earned)||n.rewards&&void 0!==n.totalPointsEarned}mapCustSignonRespPs2Cs(n){if(n.mfa_check)return this.keysToCamel(n);if(!n.gateway_customer)return n;const d=Object.assign({},n);n.hasOwnProperty("isSwb")&&(n.isSWB=d.isSwb,delete n.isSwb);const t=this.keysToCamel(n);if(t.security&&t.security.requestHeader){const o=new Map,e=t.security.requestHeader;for(let x=0;x<e.length;x++){const $=e[x];o.set($.key,$.value)}t.security.requestHeader={A4kgk7nd_dc:o.get("A4kgk7nd_dc"),dc:o.get("dc"),user_session_expiry_time:o.get("user_session_expiry_time"),user_session_token:o.get("user_session_token"),UserAgent:o.get("UserAgent"),XForwardedFor:o.get("XForwardedFor"),encUmn:o.get("encUmn"),accessToken:o.get("accessToken"),refreshToken:o.get("refreshToken")}}if(d.subscription&&(t.subscription=d.subscription),t.gatewayCustomer.hasOwnProperty("fbMsgEnabled")&&(t.gatewayCustomer.fbMsgEnabled=t.gatewayCustomer.fbMsgEnabled.toString()),t.gatewayCustomer.hasOwnProperty("showThirdPartyConsentPopup")&&(t.gatewayCustomer.showThirdPartyConsentPopup=t.gatewayCustomer.showThirdPartyConsentPopup.toString()),t.gatewayCustomer.accountPreferences){const o=Object.keys(t.gatewayCustomer.accountPreferences);o.forEach(function(e,x){t.gatewayCustomer.accountPreferences[o[x]]=t.gatewayCustomer.accountPreferences[e].toString()})}return t}isSkipChooseMethodExpEnabled(){const n=!!sessionStorage.getItem("isSkipChooseMethodExp");return!(!this.isOcrFlowEnabled()||!n)}showLimitBasedOnCurrency(){return this.featureFlagService.isFeatureEnabled("SHOWLIMIT_BASEDON_CURRENCY")||"true"===sessionStorage.getItem("showLimitBasedOnCurrency")}getOcrSupportedmethod(n){return n instanceof Array||(n=this.isMobileDevice()?n.mobile:n.web?n.web:n.default),n}isCityFieldDropDownPoste(){return this.getPartnerName()===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.POSTEITALIANE_PARTNER.toUpperCase()&&(this.featureFlagService.isFeatureEnabled("POSTE_CITY_FIELD_LIST")||sessionStorage.getItem("cityListPoste"))}isEmsEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_WEB_EMS_FEATURE")}isRateLimitEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_WEB_RATE_LIMIT")}isEncryptOcrFeatureEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_ENCRYPT_OCR")||"true"===sessionStorage.getItem("isEncryptOcrFeatureEnabled")}autoSelectSingleFIFO(){return this.featureFlagService.isFeatureEnabled("AUTO_SELECT_SINGLE_FIFO")||"true"===sessionStorage.getItem("autoSelectSingleFIFO")}isAutoFillCityStateFeatureEnable(){const n=this.updateStoreUsingActionService.getState().isPPSprofile,d=this.getPartnerName()||this.isHostedPartner();return!n&&!d&&this.featureFlagService.isFeatureEnabled("ENABLE_AUTO_FILL_CITY_STATE")}isWupayQrCodeEnabled(){return this.featureFlagService.isFeatureEnabled("WUPAY_QR_CODE")}isOCRErrorSecondAttemptEnabled(n){return this.featureFlagService.isFeatureEnabled("PV"===n?"ENABLE_OCR_ERROR_SECOND_ATTEMPT_PV":"ENABLE_OCR_ERROR_SECOND_ATTEMPT_ID")}isRedirectedToOcr(){let n=sessionStorage.getItem("countExtractApiCall");n=n?JSON.parse(n):"",!this.isOcrFlowEnabled()||n>=2?this.isOcrFlowEnabled()&&n>=2&&this.isDisableOldIdSelfie()?(sessionStorage.setItem("IdentityData",JSON.stringify({error:{code:"C1999"}})),this.router.navigate(["kyc/verification/select-doc"])):this.routingService.navigateTOIdDetails():(sessionStorage.setItem("IdentityData",JSON.stringify({error:{code:"C1999"}})),this.router.navigate(["kyc/verification/select-doc"]))}isMobileWalletPayInEnabled(){return this.featureFlagService.isFeatureEnabled("MOBILE_WALLET_ENABLED")||"true"===sessionStorage.getItem("isMobileWalletPayInEnabled")}isBusinessCardPaymentInfoEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_BUSINESS_CARD_PAYMENT_INFO")}enableMissingReceiverAddress(){return this.featureFlagService.isFeatureEnabled("ENABLE_MISSING_RECEIVER_ADDRESS")}getMissingAddress(n,d){let t;return d.forEach(function(e){(e.receiver?.uid||e.generalInformation?.uid)===n.uid&&(t=Object.assign(e.receiver.address,n.address))}),t&&lodash__WEBPACK_IMPORTED_MODULE_1__.isEqual(t,n.address)?null:t}isDisabledCorridor(n){const d=null!==this.smoConfig.getGlobalConfig("switches","disabledReceivingCountries")?this.smoConfig.getGlobalConfig("switches","disabledReceivingCountries"):"";n=n||"";let t=!1;return lodash__WEBPACK_IMPORTED_MODULE_1__.has(d,"disabledReceivingCountries")&&d.includes(n)&&(t=!0,lodash__WEBPACK_IMPORTED_MODULE_1__.has(d,"exceptionsForDisabledRecceiverCorridor")&&d.includes(this.readURLService.getCountryFromURL().toUpperCase()+"-"+n.toUpperCase())&&(t=!1)),t}isDebitCardEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLED_DEBIT_PAYMENT")}isCreditCardEnabled(){const n=this.featureFlagService.isFeatureEnabled("IS_CREDITCARD_FUNDSIN_ENABLED"),d="true"===sessionStorage.getItem("isCreditCardEnable");return n||d}getMissingAddressfield(n,d,t){let o;const e=t?.receivers?.length>0?t.receivers.filter($=>$.generalInformation.uid===n.generalInformation.uid)[0]:t;o=e?.address?Object.assign(e.address,n.address):o;const x=d.filter($=>$.receiver.uid===n.generalInformation.uid);return x&&x.length>0&&x.forEach($=>{$.receiver.address=this.correctFieldsKey($.receiver.address,"addressFields"),o=Object.assign($.receiver.address,n.address)}),lodash__WEBPACK_IMPORTED_MODULE_1__.isEqual(o,n.address)?null:lodash__WEBPACK_IMPORTED_MODULE_1__.isEqual(o,e.address)?e.address:o}correctFieldsKey(n,d){const t={addressFields:[{field:"addrLine1",replaceField:"addressLine1"},{field:"addrLine2",replaceField:"addressLine2"},{field:"postalCode",replaceField:"zipCode"}]};for(const o in n)if(n.hasOwnProperty(o)){const e=t[d].filter(x=>x.field===o)[0];e&&n[e.field]&&(n[e.replaceField]=n[o],delete n[o])}return n}isGlobalChangeLanguageCountryEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_CHANGE_COUNTRY_LANGUAGE_HEADER")||"true"===sessionStorage.getItem("enableChangeCountryLanguage")}mappedDropdownLists(n,d){n.listPath&&delete n.listPath;const o=(n&&Object.keys(n)).map(W=>{const K={};return K.key=W,K.value=n[W],(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.R3_COUNTRIES_LISTS.indexOf(W)<0||d)&&(K.disabled=!0),K}),e=o.filter(W=>!0===(W&&W.disabled)),x=o.filter(W=>W&&!W.disabled);return lodash__WEBPACK_IMPORTED_MODULE_1__.orderBy(x,"value","asc").concat(lodash__WEBPACK_IMPORTED_MODULE_1__.orderBy(e,"value","asc"))}setLanguageCode(n,d,t){let o=n.currentLanguage;if(d.allLanguageLists[t]){const e=Object.keys(d.allLanguageLists[t]),x=e.filter($=>$===o)[0];o=x||e[0]}else o=n.defaultLanguage;return o}isNewSelfieKYCFlow(){const n=this.isOcrFlowEnabled(),d=this.checkNewSelfieFlow();return n&&d}checkNewSelfieFlow(){return"true"===sessionStorage.getItem("isNewSelfieFlowEnabled")||this.featureFlagService.isFeatureEnabled("NEW_SELFIE_FLOW_ENABLED")}isLimitWidgetPopupEnabled(){return this.isPPSprofile=this.updateStoreUsingActionService.getState().isPPSprofile,this.featureFlagService.isFeatureEnabled("ENABLE_WEB_LIMIT_POPUP")&&!this.getPartnerName()&&!this.isPPSprofile}isAllowMYWalletFundsIn(){const d=this.updateStoreUsingActionService.getState().transactionHistory;return!!["F2F API","Bank Name Match"].includes(sessionStorage.getItem("customerVerificationSource")||"")||d.length>0&&d.filter(o=>"FPX"===o.paymentDetails.paymentMethod.payment_type&&["Complete","Available"].includes(o.status)).length>0}getbasePath(){return`/${this.readURLService.getCountryFromURL()}/${this.readURLService.getLanguageFromURL()}`}getReasonCode(n){if(n?.reasons?.reason&&n?.reasons?.reason?.length>0)for(const d of n?.reasons?.reason){const t=_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.subErrorcode_messages[n.code].indexOf(d.code);if(t>-1)return _shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.subErrorcode_messages[n.code][t]}return null}isLeanRegistrationEnabled(){const n=this.readURLService.getCountryFromURL()?.toUpperCase();return!this.updateStoreUsingActionService.getState()?.isPPSprofile&&this.featureFlagService.isFeatureEnabled("LEAN_REGISTRATION_ENABLED")&&(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.K.LEAN_REG_ENABLED_COUNTRIES.indexOf(n)>-1||"true"===sessionStorage.getItem("isLeanRegistrationFlowEnabled"))}isNewRegistrationEnabled(){return this.isLeanRegistrationEnabled()&&!this.getPartnerName()&&("true"===sessionStorage.getItem("isNewRegistrationEnabled")||this.featureFlagService.isFeatureEnabled("LEAN_REGISTRATION_REDESIGN_ENABLED"))}isLoginCTAEnabledOnRegistration(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&("true"===sessionStorage.getItem("isLoginCTAEnabledOnRegistration")||this.featureFlagService.isFeatureEnabled("LOGIN_CTA_ON_REGISTRATION"))}isLeanRegRedirectionEnabled(){return!(this.updateStoreUsingActionService.getState().isPPSprofile||"true"!==sessionStorage.getItem("isLeanRegRedirectionEnabled")&&!this.featureFlagService.isFeatureEnabled("LEAN_REG_REDIRECTION"))}getUserFullName(){const n=this.sender?.firstName||this.sender?.givenName||"",d=this.sender?.middleName||this.sender?.maternalName||"",t=this.sender?.lastName||this.sender?.paternalName||"";return d?(n+" "+d+" "+t).trim():(n+" "+t).trim()}getLeanRegRedirectionPayouts(){const n=this.updateStoreUsingActionService.getState()?.countryDynamicParams,t=JSON.parse(n&&n.LEAN_REG_REDIRECTION_PAYOUTS||sessionStorage.getItem("leanRegRedirectionPayouts")||"{}");return lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(t.payouts)?_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.K.LEAN_REG_ENABLED_PAYOUTS_REDIRECTION_CYP_ON_REGISTRATION:t.payouts}isFundsOutSpeedFXEnabled(){return this.featureFlagService.isFeatureEnabled("FUNDS_OUT_SPEED_FX")||"true"===sessionStorage.getItem("isFundsOutSpeedFXEnabled")}getLeanRedirectionPayouts(){const n=this.updateStoreUsingActionService.getState()?.countryDynamicParams,d=n&&n.LEAN_REG_REDIRECTION_PAYOUTS;return d?JSON.parse(d):{}}isNewHomePageWithLeanRegEnabled(){return this.isLeanRegistrationEnabled()}isAchPmwbEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_ACH_PWMP")}isDcaasReceiverConfigEnabled(){return this.featureFlagService.isFeatureEnabled("DCAAS_RECEIVER_CONFIG_ENABLED")}isSendToMyselfEnabled(){const n=!(!this.sender?.firstName&&!this.sender?.givenName),d=!(!this.sender?.lastName&&!this.sender?.paternalName),t=this.smoConfig._getCountryIsoCode().toUpperCase();return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&this.featureFlagService.isFeatureEnabled("SEND_TO_MYSELF_RECEIVER")&&n&&d&&("true"===sessionStorage.getItem("isSendToMyselfEnabled")||_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.SendToMyselfWithoutEvergage.indexOf(t)>-1||this.isFeatureEnabledViaCode("SEND_TO_MYSELF_RECEIVER"))}isCountryChangeCapabilityEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&("true"===sessionStorage.getItem("countryChangeCapability")||this.isFeatureEnabledViaCode("Country_Change_Capability"))}isSMORevampEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&("true"===sessionStorage.getItem("isSMORevampEnabled")||this.featureFlagService.isFeatureEnabled("SMO_REVAMP"))}isSMORevampV2SectionEnabled(n){try{const d=this.updateStoreUsingActionService.getState()?.countryDynamicParams?.enableSMORevampSections,t=sessionStorage.getItem("enableSMORevampSections"),o=d&&JSON.parse(d)[n]||t&&JSON.parse(t)[n]||!1;return this.isSMORevampEnabled()&&o}catch{return!1}}isSMORevampedSidePanelOpen(){const n=this.isSMORevampEnabled(),d=this.isSMORevampV2SectionEnabled("addNewReceiverTile"),t=this.updateStoreUsingActionService.getState();return n&&d&&t?.smoRevampSidePanelData&&t.smoRevampSidePanelData?.sidePanelActionData&&t.smoRevampSidePanelData?.sidePanelActionData?.isPanelOpen}isSMORevampedMySelfEnable(){const n=this.isSMORevampEnabled(),d=this.isSMORevampV2SectionEnabled("receiverForMySelf");return n&&d}isSMORevampedSidePanelOpenForMySelf(){const n=this.updateStoreUsingActionService.getState(),d=lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"smoRevampSidePanelData.sidePanelActionData.isPanelOpen"),t=0==lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"smoRevampSidePanelData.sidePanelActionData.isReceiverSection");return this.isSMORevampedMySelfEnable()&&d&&t}getSMOrevampedCountry(){const n=this.updateStoreUsingActionService.getState();return n?.smoRevampSidePanelData&&n?.smoRevampSidePanelData?.selectedCountry?.isoCode}onCountryDropdownChange(n){n.key!==this.smoConfig._getCountryIsoCode()?.toLowerCase()&&this.routingService.crossCountryNavigationByCountryAndLanguage(n.key)}isFeatureEnabledViaCode(n){const d=this.smoConfig._getCountryIsoCode()?.toUpperCase(),t=this.updateStoreUsingActionService.getState()?.countryDynamicParams;return!(!t||!t[n])&&t[n]?.split(",")?.includes(d)}isSendToMyselfIntraEnabled(){return this.featureFlagService.isFeatureEnabled("SEND_TO_MYSELF_RECEIVER_INTRA")}applyCustomCss(){const n=this.urlService.getLanguageFromURL()?.toUpperCase(),d=this.updateStoreUsingActionService.getState()?.countryDynamicParams?.Custom_UI_Changes_For_Language;return!!d&&d?.split(",")?.includes(n)}isImplicitThirdPartyDatasharingConsentNonUsEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&this.featureFlagService.isFeatureEnabled("ENABLE_IMPLICIT_THIRD_PARTY_DATASHARING_CONSENT_NON_US")}enableUpdateReceiverFeatureIfExists(){return this.featureFlagService.isFeatureEnabled("UPDATE_RECEIVER_FOR_EXISTING_USER")}removeCancelReceiverCTA(){return this.featureFlagService.isFeatureEnabled("REMOVE_CANCEL_CTA_FOR_ADD_NEW_RECEIVER")}isSelfTransferApplicable(n){const d=this.smoConfig._getCountryIsoCode().toUpperCase(),t=lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"address.countryIsoCode")||lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"address.country_iso_code")||this.receivingCountryIsoCode;return!(this.featureFlagService.isFeatureEnabled("SEND_TO_MYSELF_RECEIVER")&&"BR"===d&&!this.featureFlagService.isFeatureEnabledForReceiver("SEND_TO_MYSELF_BR_RECEIVING_COUNTRY",t)||!(this.isSendToMyselfEnabled()&&lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.sender,"address.countryIsoCode")!==t||this.isSendToMyselfMy()||this.isSendToMyselfEnabled()&&this.isSendToMyselfIntraEnabled()&&lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.sender,"address.countryIsoCode")===t))}sendToMySelfRelationshipToReceiverDefaultValue(){return this.featureFlagService.isFeatureEnabled("SENDTO_MYSELF_DEFAULT_RELATIONSHIP_VALUE")}isSendToMyselfMy(){return this.featureFlagService.isFeatureEnabled("SEND_TO_MYSELF_RECEIVER_MY")}displayReceiverNameAsSendToMyself(n){const t=JSON.parse(sessionStorage.getItem("GatewayCustomer")||"{}").name;return t.firstName?.toLowerCase()==n.firstName?.toLowerCase()&&t.lastName?.toLowerCase()==n.lastName?.toLowerCase()}isDisplayPricingStrikeProperty(n){const d={isDisplayFxStrike:!1,isDisplayFeePercentStrike:!1,isDisplayFeeStrike:!1};return n.strikeThrough?.fx_rate_percentage&&(d.isDisplayFxStrike=n.strikeThrough.fx_rate_percentage>0&&this.isFXStrikethroughEnabled()),n.strikeThrough?.strike_gross_fee&&(d.isDisplayFeeStrike=n.strikeThrough?.strike_gross_fee>n.fees&&this.isFeeStrikethroughEnabled(),d.isDisplayFeeStrike&&n.strikeThrough.fee_percentage&&(d.isDisplayFeePercentStrike=n.strikeThrough.fee_percentage>=10)),d}isFeildTooltipMsgEnabled(){return this.featureFlagService.isFeatureEnabled("REGISTER_PROFILE_PAGE_NAMEFEILD_TOOLTIP")}isPromolistEnabled(){return(this.featureFlagService.isFeatureEnabled("WEB_ENABLE_PROMOCODE_LIST")||"true"===sessionStorage.getItem("promocodelistEnabled"))&&this.getLoggedInStatus()&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isTrustlyEnabledCountry(n){return this.featureFlagService.isFeatureEnabled("IS_TRUSTLY_EXPRESS_ENABLED")&&"Trustly"===n}isRealTimeACHEnabled(){return(this.featureFlagService.isFeatureEnabled("REALTIME_ACH_ENABLED")||"TRUE"===sessionStorage.getItem("isRealTimeACHEnabled")?.toString().toUpperCase())&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isRealTimeACHviaTrustlyEnabled(){return(this.featureFlagService.isFeatureEnabled("REALTIME_TRUSTLY_ACH_ENABLED")||"TRUE"===sessionStorage.getItem("isRealTimeTrustlyACHEnabled")?.toString().toUpperCase())&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isReduceDeliveryEnabled(){return(this.featureFlagService.isFeatureEnabled("REDUCE_DELIVERY_TIME")||"TRUE"===sessionStorage.getItem("isReduceDeliveryEnabled")?.toString().toUpperCase())&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isVisaRejectedEnabled(){return this.isSpecificCountryVisaAllowedEnabled()||this.isSpecificCountryVisaRejectEnabled()}isSpecificCountryVisaAllowedEnabled(){return this.getPartnerName()&&!this.updateStoreUsingActionService.getState().isPPSprofile?this.featureFlagService.isFeatureEnabled("SPECIFIC_COUNTRY_VISA_ALLOWED_PARTNERS")||"TRUE"===sessionStorage.getItem("isSpecificCountryVisaAllowedPartners")?.toString().toUpperCase():this.featureFlagService.isFeatureEnabled("SPECIFIC_COUNTRY_VISA_ALLOWED")||"TRUE"===sessionStorage.getItem("isSpecificCountryVisaAllowed")?.toString().toUpperCase()}isSpecificCountryVisaRejectEnabled(){return this.getPartnerName()&&!this.updateStoreUsingActionService.getState().isPPSprofile?this.featureFlagService.isFeatureEnabled("SPECIFIC_COUNTRY_VISA_REJECT_PARTNERS")||"TRUE"===sessionStorage.getItem("isSpecificCountryVisaRejectPartners")?.toString().toUpperCase():this.featureFlagService.isFeatureEnabled("SPECIFIC_COUNTRY_VISA_REJECT")||"TRUE"===sessionStorage.getItem("isSpecificCountryVisaReject")?.toString().toUpperCase()}scrollToFirstInvalidControl(n){n&&setTimeout(()=>{this.pageScrollService.scroll({document:this.document,scrollTarget:n,scrollOffset:0}),document.querySelector(n).focus()},50)}getFormattedDate(n,d){const t=String(n?.getDate()).padStart(2,"0"),o=String(n?.getMonth()+1).padStart(2,"0");return n?.getFullYear()+d+o+d+t}hideF2FMessageOnSelectDoc(){return!!(this.updateStoreUsingActionService.getState().countryDynamicParams||{})?.HideF2FMessageBanner}isAddBankFromPlaidFeatureEnabled(){return this.featureFlagService.isFeatureEnabled("ADD_BANK_FROM_PLAID_SIDE")||"true"===sessionStorage.getItem("isAddBankFromPlaid")}isPennyDropEnabled(){return this.featureFlagService.isFeatureEnabled("PENNY_DROP_FLOW_MY")||"true"===sessionStorage.getItem("isMyPennyDropEnabled")}isMockAPIDataEnable(){return!UtilService.isProduction()&&this.featureFlagService.isFeatureEnabled("MOCK_API_DATA")}mockAPIData(n,d){try{const t=JSON.parse(sessionStorage.getItem("mockAPIData")||"{}");console.groupCollapsed(`%c ------ API Information ---- ${d}`,"color: #0000CD;font-weight:bold;"),console.warn(`%c Response: %c ${JSON.stringify(n)}`,"color: #228B22;font-weight:bold;","font-weight:normal;");for(const[o,e]of Object.entries(t))d.match(new RegExp(o,"i"))&&(n=lodash__WEBPACK_IMPORTED_MODULE_1__.merge(n,e),console.warn(`%c Response with mock data:  %c ${JSON.stringify(n)}`,"color: #006400;font-weight:bold;","font-weight:normal;"));console.groupEnd()}catch(t){console.error("mockAPIData is not working because "+t)}return n}getFundsOutLabel(n,d){switch(n){case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.AG:return d.cash_txt;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.BA:return d.payout_label_ba;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.HD:return d.payout_label_hd;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.WU:return d.wu_account_txt;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.MT:case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.WA:return d.payout_label_mt;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.D2C:case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.D2C_PS:return d.payout_label_dc;default:return}}getFundsInLabel(n,d){switch(n){case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.CreditCard:return d.payin_label_creditcard_seperate;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.DebitCard:return d.payin_label_debitcard;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.ACH:return d.payin_label_ach;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.Cash:return d.payin_label_cash;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.WUPay:case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.PartnerFunds:return d.payin_label_wupay;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.BankAccount:return d.payin_label_ach;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.Sofort:return d.payin_label_sofort;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.FPX:return d.payin_label_FPX;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.POLI:return d.payin_label_poli;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.Trustly:return d.payin_label_trustly;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.IDEAL:return d.payin_label_IDEAL;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.TapNGo:return d.payin_label_tapngo;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.Paramount:return d.payin_label_ach;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.iACH:return d.payin_label_iach;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.GooglePay:return d.payin_label_gpay;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.MW:return d.payin_label_wallet;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.Plaid:return d.payin_label_plaid;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.PayNow:return d.payin_label_paynow;case _shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.BanContact:return d.payin_label_bancontact;default:return}}updateButtonLabelVerifiedUserOnHistory(){return(this.updateStoreUsingActionService.getState().countryDynamicParams||"")?.updateButtonLabelVerifiedUserOnHistory}isDssNewdocUploadEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_DSS_NEW_DOC_UPLOAD")||"true"===sessionStorage.getItem("isDssNewDocUpload")}isForgotPasswordDSSEnabled(){return this.featureFlagService.isFeatureEnabled("FORGOT_PASSWORD_LBP_DSS")||"true"===sessionStorage.getItem("isForgotPasswordDSSEnabled")}isNewDocHubEnabledForDSS(){const d=this.updateStoreUsingActionService.getState()?.flowType;return(this.featureFlagService.isFeatureEnabled("ENABLE_NEW_DOC_HUB_FOR_DSS")||"true"===sessionStorage.getItem("isNewDocHubEnabled"))&&d===_shared_models_session__WEBPACK_IMPORTED_MODULE_16__.do.DSS}isNewDocHubEnabledCountry(){return this.featureFlagService.isFeatureEnabled("ENABLE_NEW_DOC_HUB_FOR_DSS")||"true"===sessionStorage.getItem("isNewDocHubEnabled")}isDssOperationalCodeEnable(){return this.featureFlagService.isFeatureEnabled("ENABLE_OPERATIONAL_ERRORS_DSS")||"true"===sessionStorage.getItem("isDssOperationalCodeEnabled")}isNewTATWidgetEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&(this.featureFlagService.isFeatureEnabled("NEW_TAT_WIDGET")||"true"===sessionStorage.getItem("isNewTATWidgetEnabled"))}isRegisterModalEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&(this.featureFlagService.isFeatureEnabled("ENABLE_REGISTER_MODAL")||"true"===sessionStorage.getItem("isRegisterModalEnabled"))}isNoQuestionsAskedEnabled(){return(this.featureFlagService.isFeatureEnabled("WEB_ENABLE_NO_QUESTION_ASKED")||"true"===sessionStorage.getItem("noQuestionsAskedEnabled"))&&!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()}isVerificationInProcessing(){const n=this.sender?.customerVerificationStatus?.identityFlag||this.sender.verificationStatus;return lodash__WEBPACK_IMPORTED_MODULE_1__.includes(lodash__WEBPACK_IMPORTED_MODULE_1__.concat(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.verificationData.verificationInProgress,_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.verificationData.reverification),n)}isSDQRequired(){const n=this.sender?.customerVerificationStatus;return this.isAccountBasedRelationshipEnabled()&&(lodash__WEBPACK_IMPORTED_MODULE_1__.includes(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.verificationData.notVerified,n?.identityFlag)||"Y"===n?.verificationFlag?.sdqRequired)}isIDExpired(){const n=this.sender?.customerVerificationStatus?.verificationFlag;return this.isAccountBasedRelationshipEnabled()&&"Y"===n?.idExpired}isReacredPostDue(){const n=this.sender?.customerVerificationStatus?.verificationFlag;return this.isAccountBasedRelationshipEnabled()&&"Y"===n?.reaccreditation?.pastDue}isReacredDue(){const n=this.sender?.customerVerificationStatus?.verificationFlag;return this.isAccountBasedRelationshipEnabled()&&("Y"===n?.reaccreditation?.pastDue||"N"===n?.reaccreditation?.pastDue)}ignoreABRErrorCodes(n){const d=this.updateStoreUsingActionService.getState()?.countryDynamicParams?.ignoreABRErrorCodes;return!(!n||!d)&&d?.split(",")?.includes(n)}handleABRRedirections(){this.isIDExpired()?this.routingService.navigateToVerificationInstruction():this.isReacredPostDue()||this.isReacredDue()||this.isSDQRequired()?this.routingService.navigateToOnboarding():this.routingService.navigateToVerificationInstruction()}iSODateToDispDate(n){return lodash__WEBPACK_IMPORTED_MODULE_1__.get(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.K,"CONST_DATE_FORMATS.SHORT_DATE.YYYY_MM_DD")?dayjs__WEBPACK_IMPORTED_MODULE_11___default()(n).format(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.K.CONST_DATE_FORMATS.SHORT_DATE.YYYY_MM_DD):n}accountBasedRelationshipValidation(n){return new Promise(d=>{this.translationService.getStickyNotificationTranslations().subscribe(t=>{const o={};this.isIDExpired()?(o.popup_heading_message=t?.reAcredIDExpiryTitle,o.popup_confirmation_message=t?.reAcredOIDExpiryMessage,o.popup_yes=t?.reAcredIDExpiryContinue,o.popup_no=t?.reAcredIDExpiryCancel,o.type="alert"):this.isReacredPostDue()?(o.popup_heading_message=t?.reAcredOverDueTitle,o.popup_confirmation_message=t?.reAcredOverDueMessage,o.popup_yes=t?.reAcredOverDueContinue,o.popup_no=t?.reAcredOverDueCancel,o.type="alert"):this.isReacredDue()&&(o.popup_heading_message="",o.popup_confirmation_message=t?.reAcredDueMessage.replace("{{date}}",n?.reaccreditation?.date),o.popup_yes=t?.reAcredDueContinue,o.popup_no=t?.reAcredIDExpiryCancel,o.type="warning"),d(o)})})}isNewCustomerBFPromoEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&(this.featureFlagService.isFeatureEnabled("NEW_CUSTOMER_BF_PROMO_ENABLED")||"true"===sessionStorage.getItem("newCustomerBFPromoEnabled"))}isCountryTypeaheadForDSS(){return this.featureFlagService.isFeatureEnabled("COUNTRY_AS_TYPEAHEAD")||"true"===sessionStorage.getItem("countryAsTypeahead")}isPVDocTypeOverride(){return this.featureFlagService.isFeatureEnabled("PV_DOCTYPE_OVERRIDE")}isNewDocHubFlowForDSSApplicable(n){const d=this.updateStoreUsingActionService.getState(),t=n||d?.dssCustomerLookupResponse?.pendingDocs,o=t&&t.filter(e=>-1===_shared_models_dss2_constants__WEBPACK_IMPORTED_MODULE_29__.u.DSS_REVAMP_SUPPORTED_DOCS.indexOf(e));return this.isNewDocHubEnabledForDSS()&&(o&&0===o.length||!o)}isPreferredFIFOEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&(this.featureFlagService.isFeatureEnabled("ENABLE_PREFERRED_FIFO")||"true"===sessionStorage.getItem("isPreferredFIFOEnabled"))}isMiddleNameRemovalOptimizationEnabled(){return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&(this.featureFlagService.isFeatureEnabled("REMOVE_SENDER_MIDDLENAME_OPTIMIZATION")||"true"===sessionStorage.getItem("isMiddleNameRemovalOptimizationEnabled"))}handleRegisterPageDeeplink(){if(this.isNewHomePageWithLeanRegEnabled()||this.isFeatureEnabledViaCode("RegisterPageDeeplink")){const n=this.readURLService.getURLParam(_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.RECEIVE_COUNTRY),d=this.readURLService.getURLParam(_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.RECEIVE_CURRENCY),t=this.readURLService.getURLParam("funds-in")??this.readURLService.getURLParam(_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.FUNDS_IN),o=this.readURLService.getURLParam("funds-out")??this.readURLService.getURLParam(_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.FUNDS_OUT),e=this.readURLService.getURLParam(_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.SEND_AMOUNT);n&&d&&t&&o&&e&&this.updateStoreUsingActionService.updateReceiverCtrFromRegister({[_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.RECEIVE_COUNTRY]:n,[_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.RECEIVE_CURRENCY]:d,[_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.SEND_AMOUNT]:e,[_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.FUNDS_IN]:t,[_shared_models_marketingdefaults__WEBPACK_IMPORTED_MODULE_14__.a.FUNDS_OUT]:o})}}getPreferredFifo(n,d,t,o){const e=n?.[0]?.origination?.principalAmount||t;let x=o||null;if(e&&(x=Number((e/100).toFixed(2))),Array.isArray(d)&&x){for(let $=0;$<d.length;$++)if(d[$].minimumSendAmount&&d[$].maximumSendAmount&&x>=d[$].minimumSendAmount&&x<=d[$].maximumSendAmount||d[$].minimumSendAmount&&!d[$].maximumSendAmount&&x>=d[$].minimumSendAmount||!d[$].minimumSendAmount&&d[$].maximumSendAmount&&x<=d[$].maximumSendAmount){d=d[$];break}}else Array.isArray(d)&&(d=d[0]);return d}getEnumKeyByEnumValue(n,d){const t=Object.keys(n).filter(o=>n[o]===d);return t.length>0?t[0]:null}isGBGKycEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_GBG_KYC_OCR")||"ENABLE_GBG_KYC_OCR"===sessionStorage.getItem("enableGbgKycOcr")}isOnfidoKycEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_ONFIDO_KYC_OCR")||"ENABLE_ONFIDO_KYC_OCR"===sessionStorage.getItem("enableOnfidoKycOcr")}isReceiverNameChangeEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_RECEIVER_NAME_CHANGE")||"ENABLE_RECEIVER_NAME_CHANGE"===sessionStorage.getItem("enableReceiverNameChange")}isGlobalReceiverNameChange(){return this.featureFlagService.isFeatureEnabled("ENABLE_GLOBAL_RECEIVER_NAME_CHANGE")||"ENABLE_GLOBAL_RECEIVER_NAME_CHANGE"===sessionStorage.getItem("enableGlobalReceiverNameChange")}arrayToString(n){return lodash__WEBPACK_IMPORTED_MODULE_1__.isArray(n)?n.toString():n}isCollectDeltaProfileEnabled(){return this.featureFlagService.isFeatureEnabled("COLLECT_MISSING_PROFILE_DATA")}convertHashValueToBackslash(n){return n&&n.indexOf("##")>-1?n.replace(/##/g,"/"):n&&n.indexOf("#")>-1?n.replace(/#/g,"/"):n}convertBackslashTotHashValue(n,d){return n.replace(/\//g,2===d?"##":"#")}checkIfUserIsFromMyWuSite(){return"mywu"===this.getURLParameter("requestFrom")&&this.isLoyaltyProgramEnabled()}isIdealNewUserExp(){const n=this.featureFlagService.isFeatureEnabled("IS_IDEAL_NEW_USER_EXP"),d="true"===sessionStorage.getItem("isIdealNewUserExp");return n||d}checkIfUserIsFromMyWuSiteLogin(){return"mywu"===this.getURLParameter("requestFrom")&&"MYWUSITELOGIN"===this.getURLParameter("Route")&&this.isLoyaltyProgramEnabled()}checkIfUserIsFromMyWuSiteRegister(){return"mywu"===this.getURLParameter("requestFrom")&&"MYWUSITEREGISTER"===this.getURLParameter("Route")&&this.isLoyaltyProgramEnabled()}getSingPassConfig(){let n={};const d=this.updateStoreUsingActionService.getState().countryDynamicParams;return d&&(n=UtilService.isProduction()?d.SingPassConfigPROD?JSON.parse(d.SingPassConfigPROD||"{}"):{}:d.SingPassConfigUAT?JSON.parse(d.SingPassConfigUAT||"{}"):{}),n}isRetainEmailEnabled(){return(this.featureFlagService.isFeatureEnabled("WEB_ENABLE_RETAIN_EMAIL")||"true"===sessionStorage.getItem("retainEmailEnabled"))&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isReceiverMobileNumberMandatoryEnabled(){const n=sessionStorage.getItem("receiverMobileNumberMandatory")||"",d=sessionStorage.getItem("nonReceiverMobileNumberMandatory")||"",t=this.updateStoreUsingActionService.getState()?.countryDynamicParams?.mobileNumberMandatoryReceiver||"",o=this.updateStoreUsingActionService.getState()?.countryDynamicParams?.mobileNumberNonMandatoryReceiver||"",e=t.concat(n),x=o.concat(d),$=!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(e)&&(lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(x)||-1===x.indexOf(this.receivingCountryIsoCode))&&(-1!==e.indexOf("ALL")||-1!==e.indexOf(this.receivingCountryIsoCode));return!this.updateStoreUsingActionService.getState().isPPSprofile&&!this.getPartnerName()&&!this.isHostedPartner()&&this.featureFlagService.isFeatureEnabled("RECEIVER_MOBILE_NUMBER_MANDATORY")&&$}isSearchableISOCodeEnabled(){return this.featureFlagService.isFeatureEnabled("RECEIVER_MOBILE_NUMBER_MANDATORY")}isSDQRequiredTxnFlow(){const n=this.sender?.customerVerificationStatus;return this.isAccountBasedRelationshipEnabled()&&lodash__WEBPACK_IMPORTED_MODULE_1__.includes(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.verificationData.verified,n?.identityFlag)&&"Y"===n?.verificationFlag?.sdqRequired}isNoLastNameValue(){const n=this.updateStoreUsingActionService.getState().countryDynamicParams;return n&&n?.noLastNameValue&&n.noLastNameValue?n.noLastNameValue:""}isNoLastNameEnabled(){const n=this.updateStoreUsingActionService.getState().countryDynamicParams;return!(!n||!n?.isNoLastNameEnabled)&&"true"==n.isNoLastNameEnabled}enableAccountNumberPrePopulation(){return this.featureFlagService.isFeatureEnabled("POPULATE_RECEIVER_ACCOUNT_NUMBER")}KycIconsEnchancement(){return this.featureFlagService.isFeatureEnabled("KYC_ICON_ENCHANCEMENT")}enableReceiverNoLastNameCheckbox(){return this.featureFlagService.isFeatureEnabled("RECEIVER_NO_LAST_NAME_CHECKBOX")}showReceiverFieldsGrouping(){return this.featureFlagService.isFeatureEnabled("RECEIVER_FIELDS_GROUPING")||"true"===sessionStorage.getItem("enableReceiverFieldsGrouping")}enableReceiverHintTexts(){return this.featureFlagService.isFeatureEnabled("RECEIVER_HINT_TEXT")||"true"===sessionStorage.getItem("receiverHintTexts")}enableAlertNonEnUsers(){return this.featureFlagService.isFeatureEnabled("ALERT_NON_EN_USERS")||"true"===sessionStorage.getItem("AlertNonEnUsers")}isNonEnUsersAlertEnabled(){return"HK"===this.readURLService.getCountryFromURL().toUpperCase()&&"EN"!==this.readURLService.getLanguageFromURL().toUpperCase()&&this.enableAlertNonEnUsers()}isNonWalletTranscation(){return this.selectedProduct&&!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(this.selectedProduct?.code)&&-1===["800"].indexOf(this.selectedProduct?.code)}isQuickLoginEnabled(){return(this.featureFlagService.isFeatureEnabled("VULCAN_QUICK_LOGIN")||"true"===sessionStorage.getItem("isQuickLoginEnabled"))&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isR4ProxyEnabled(){return this.featureFlagService.isFeatureEnabled("WEB_ENABLE_R4_Proxy")||"true"===sessionStorage.getItem("R4ProxyEnabled")}generateMetaEventId(){return(new Date).valueOf()}setPrepaidToken(n){this.featureFlagService.isFeatureEnabled("PREPAID_TOKEN_FEATURE")&&n.security&&n.security.requestHeader&&n.security.requestHeader.prepaidToken&&sessionStorage.setItem("prepaidToken",n.security.requestHeader.prepaidToken)}isRevampLoginPanelEnabled(){const n=JSON.parse(sessionStorage.getItem("isLoginRevampEnabled")),d=this.readURLService.getCountryFromURL(),t="true"===n?.value&&n?.country?.toLowerCase()===d?.toLowerCase();return(this.featureFlagService.isFeatureEnabled("REVAMP_LOGIN_PANEL_ENABLED")||t)&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isTabularDesignEnabled(){const n=JSON.parse(sessionStorage.getItem("isTabularDesignEnabled")),d=this.readURLService.getCountryFromURL(),t=n?.country?.toLowerCase()===d?.toLowerCase()&&"true"===n?.value;return(this.featureFlagService.isFeatureEnabled("TABULAR_DESIGN_ENABLED")||t)&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isFeatureEnabledViaSessionStorage(n){try{const d=sessionStorage.getItem(n)?JSON.parse(sessionStorage.getItem(n)):"";let t=!1;return d&&d?.isEnabled&&d?.enabledCountry&&(t="true"==d.isEnabled&&(d.enabledCountry.indexOf(this.getCountryCode()?.toLowerCase())||d.enabledCountry.indexOf(this.getCountryCode()?.toUpperCase()))),t}catch{return!1}}isRegisterV2Enabled(){const n=this.isFeatureEnabledViaSessionStorage("isRegisterV2Enabled"),d=this.isFeatureEnabled("REGISTER_V2_ENABLED");return(n||d)&&!this.getPartnerName()&&!this.updateStoreUsingActionService.getState().isPPSprofile}isFeatureEnabledViaOptimizelyFeatureExperimentation(n,d){if(!window.optimizelyFeatureExp)return"true"===sessionStorage.getItem(n);{const t=window.optimizelyFeatureExp;if(t){const o=t.decide(n);if(o&&o.ruleKey){this.logOptimizelyFeatureExp(o,d);const e=o.variationKey?.toUpperCase();return"ON"===e||e===d?.toUpperCase()}return!1}}}getVariablesForActiveVariation(n){let d=null;if(window.optimizelyFeatureExp){const t=window.optimizelyFeatureExp;if(t){const o=t.decide(n);o&&o.ruleKey&&o.variables&&(d=o.variables)}}return d}logOptimizelyFeatureExp(n,d){const t=window.optimizelyFeatureExp,o={ab_test:n.ruleKey,ab_test_variant:n.ruleKey+"_"+n.variationKey};d&&(o.ab_test_variant=d),t.trackEvent(n.ruleKey,{$opt_event_properties:o}),window.logEvergageExperienceAmplitudeEvent(o)}isUserIdentityBasedRedirectionEnabled(){const n="true"===sessionStorage.getItem("userIdentityBasedRedirectionEnabled"),d=this.featureFlagService.isFeatureEnabled("USERIDENTITYBASED_REDIRECTION_ENABLED");return(n||d)&&!this.getPartnerName()&&!this.updateStoreUsingActionService.getState().isPPSprofile}isFIFOInfoToolTipEnabled(n){return this.featureFlagService.isFeatureEnabled("FIFO_INFO_TOOLTIP_ENABLED")&&_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.INFO_TOOLTIP_ENABLED_CORRIDORS.includes(n)&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isHideErrorCodeEnabled(){return this.featureFlagService.isFeatureEnabled("HIDE_ERROR_CODE_ENABLED")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isHideHeaderMenuEnabled(){return this.featureFlagService.isFeatureEnabled("HIDE_HEADER_MENU_ENABLED")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isHideEstimatePriceEnabled(){return this.featureFlagService.isFeatureEnabled("HIDE_ESTIMATE_PRICE_ENABLED")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isITSMEContinueEnabled(){return this.featureFlagService.isFeatureEnabled("ITSME_CONTINUE_ENABLED")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isMetaCapiMparticleEnabled(){return!0===this.featureFlagService.isFeatureEnabled("META_CAPI_MPARTICLE_EVENT")||"true"===sessionStorage.getItem("isMetaCapiMparticleEventEnabled")}isMFARegisterWithPhoneEnabled(){return this.featureFlagService.isFeatureEnabled("MFA_REGISTER_WITH_PHONE_NUMBER")||"true"===sessionStorage.getItem("isMFARegisterWithPhoneNumberEnabled")}isMFALoginWithPhoneEnabled(){return this.featureFlagService.isFeatureEnabled("MFA_LOGIN_WITH_PHONE_NUMBER")||"true"===sessionStorage.getItem("isMFALoginWithPhoneNumberEnabled")}isMFAPWDRESETWithPhoneEnabled(){return this.featureFlagService.isFeatureEnabled("MFA_PWDRESET_WITH_PHONE_NUMBER")||"true"===sessionStorage.getItem("isMFAResetPasswordWithPhoneNumber")}isMFANewUIEnabled(){return this.featureFlagService.isFeatureEnabled("MFA_NEW_UI_ENABLE")||"true"===sessionStorage.getItem("isMFANewUIEnabled")}isInlineEidEnabled(){return this.featureFlagService.isFeatureEnabled("ENABLE_EID_INLINE_SIGNICAT")||"true"===sessionStorage.getItem("isInlineEidEnabled")}isQuickResendDesignEnabled(){return"true"===sessionStorage.getItem("quickResendDesignEnabled")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isQuickResendEnabled(){return this.isPPSprofile=this.updateStoreUsingActionService.getState().isPPSprofile,this.featureFlagService.isFeatureEnabled("ENABLE_QUICK_RESEND")&&!this.getPartnerName()&&!this.isPPSprofile||this.featureFlagService.isFeatureEnabled("ENABLE_QUICK_RESEND_FOR_PARTNERS_OR_PPS")&&(!!this.getPartnerName()||this.isPPSprofile)}isPayNowBA(){return this.featureFlagService.isFeatureEnabled("PAY_NOW_AND_BA")}setOptimizelyCustomAttrs(n){try{if(window&&window.optimizely&&(0,_angular_common__WEBPACK_IMPORTED_MODULE_22__.UE)(this.platformId)){this.customAttrs=lodash__WEBPACK_IMPORTED_MODULE_1__.merge(this.customAttrs,n),window.optimizely.push({type:"user",attributes:this.customAttrs});const d=new CustomEvent("customAttrAdded",{detail:{attributes:this.customAttrs}});window.dispatchEvent(d),sessionStorage.setItem("optimizelyCustomAttrs",JSON.stringify(this.customAttrs))}}catch(d){sessionStorage.removeItem("optimizelyCustomAttrs"),console.error("[Optimizely] Custom Attribute Error -"+d)}}generateUUID(){let n=(new Date).getTime(),d=typeof performance<"u"&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let o=16*Math.random();return n>0?(o=(n+o)%16|0,n=Math.floor(n/16)):(o=(d+o)%16|0,d=Math.floor(d/16)),("x"===t?o:3&o|8).toString(16)})}isLogouttriggered(){this.triggerLogout.next("logout")}getLogoutClickEvent(){return this.triggerLogout.asObservable()}navigateTOIdDetails(){this.featureFlagService.isFeatureEnabled("CLEAR_OCR_AND_ACTIVE_VENDOR_DATA")&&(sessionStorage.removeItem("ActiveVendor"),sessionStorage.removeItem("ExtractOcrData")),this.routingService.navigateTOIdDetails()}getBestDigitalProductForSelectedFO(){const n=this.getAllBetterDigitalProductsForSelectedFO();return this.isEmpty(n)?null:this.findBestDigitalProduct(n)}getBestDigitalProduct(){const n=this.getAllBetterDigitalProducts();return this.isEmpty(n)?null:this.findBestDigitalProduct(n)}getAllBetterDigitalProducts(){const n=this.updateStoreUsingActionService.getState(),d=n?.products??[],t=n?.smoConfig?.fundsInOptions?n.smoConfig.fundsInOptions[this.receivingCountryIsoCode]:{},o=n?.smoConfig?.fundsOutOptions?n.smoConfig.fundsOutOptions[this.receivingCountryIsoCode]:{},e=!!this.isSplitTileEnabled()&&this.isReceiverDSREnabledCorridor().isMultiTileEnabled,x=(0,_modules_send_money_option_helpers_getFundsOutListVM__WEBPACK_IMPORTED_MODULE_30__.Y)(d,o,e),$=this.getAIRProduct(),W=this.getCashToSelectedFOProduct(),K="AG"===this.selectedProduct?.payOut?$:W;return d?.filter(P=>{const D=x.find(f=>f?.payOut===P?.payOut);return"Y"===t[P?.payIn]&&"Y"===o[P?.payOut]&&D?.isEnabled&&D?.payOut===P?.payOut&&P?.maxAmount>=this.senderAmount&&P?.fees<K?.fees&&parseFloat(P?.exchangeRate)>=parseFloat(K?.exchangeRate)})}getAllBetterDigitalProductsForSelectedFO(){const n=this.updateStoreUsingActionService.getState(),d=n?.products??[],t=n?.smoConfig?.fundsInOptions?n.smoConfig.fundsInOptions[this.receivingCountryIsoCode]:{},o=n?.smoConfig?.fundsOutOptions?n.smoConfig.fundsOutOptions[this.receivingCountryIsoCode]:{},e=!!this.isSplitTileEnabled()&&this.isReceiverDSREnabledCorridor().isMultiTileEnabled,x=(0,_modules_send_money_option_helpers_getFundsOutListVM__WEBPACK_IMPORTED_MODULE_30__.Y)(d,o,e),$=this.getCashToSelectedFOProduct();return d?.filter(K=>{const V=x?.find(P=>P?.payOut===K?.payOut);return K?.payOut===this.selectedProduct?.payOut&&"Y"===t[K?.payIn]&&"Y"===o[K?.payOut]&&V?.isEnabled&&V?.payOut===K?.payOut&&K?.maxAmount>=this.senderAmount&&K?.fees<$?.fees&&parseFloat(K?.exchangeRate)>=parseFloat($?.exchangeRate)})}findBestDigitalProduct(n){const d=n?.sort((t,o)=>parseFloat(o?.exchangeRate)-parseFloat(t?.exchangeRate));if(!this.isEmpty(d)){const t=parseFloat(d[0]?.exchangeRate);if(t){const o=d?.filter(e=>parseFloat(e?.exchangeRate)===t);if(!this.isEmpty(o)){const e=o?.sort((x,$)=>x?.fees-$?.fees);if(!this.isEmpty(e)){const x=e[0]?.fees;let $=e?.filter(W=>W?.fees===x);return $?.length>1&&($=this.getBestDeliverySpeedProduct($)),this.isEmpty($)?null:$[0]}}}}}isHostedPartners(n){const d=this.cookieService.get("partnerName")?this.cookieService.get("partnerName"):this.getURLParameter("partnerName");return!!(d&&null!==d&&d.length>1)&&(!n||"pid"!==n||d)}getAIRProduct(){return(this.updateStoreUsingActionService.getState()?.products??[])?.find(t=>t?.payIn===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.Cash&&t?.payOut===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.AG)}getCashToSelectedFOProduct(){return(this.updateStoreUsingActionService.getState()?.products??[])?.find(t=>t?.payIn===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.mt.Cash&&t?.payOut===this.selectedProduct?.payOut)}getBestDeliverySpeedProduct(n){const d=n?.sort(function(t,o){let e=t?.speedIndicator?.split("-"),x=o?.speedIndicator?.split("-");return e?.length>1&&(e=[e[1]]),x?.length>1&&(x=[x[1]]),Number(e[0])>Number(x[0])?1:-1});return this.isEmpty(d)?null:d}setReviewSubmitTime(){let t=.001*((Date.now()||function(){return+new Date})-this.getSessionStorageItem("sitebehaviour-reviewStartTime"));-1===Math.sign(t)&&(t="1"),this.setSessionStorageItem("sitebehaviour-reviewTotalTime",t)}removePromoCampaign(){sessionStorage.getItem("promoPricingCampaignName")&&sessionStorage.removeItem("promoPricingCampaignName"),sessionStorage.getItem("promoPricingCampaignNameUrlParam")&&sessionStorage.removeItem("promoPricingCampaignNameUrlParam"),sessionStorage.getItem("serverSidePromoCampaignName")&&sessionStorage.removeItem("serverSidePromoCampaignName"),sessionStorage.getItem("userAppliedPromoCampaignName")&&sessionStorage.removeItem("userAppliedPromoCampaignName")}getLocale(){const n={no:"nb"},d=this.urlService.getLanguageFromURL().toLowerCase();return n[d]?n[d]:d}getCPFeeFxOrRoadrunnerUpdate(){return this.cpFeeFxRoadrunnerData}setCPFeeFxOrRoadrunnerUpdate(n){n.isCPRoadRunnerUpdatesReview&&(this.cpFeeFxRoadrunnerData.isCPRoadRunnerUpdatesReview=n.isCPRoadRunnerUpdatesReview),n.isFeeFxMismatchUpdatesReview&&(this.cpFeeFxRoadrunnerData.isFeeFxMismatchUpdatesReview=n.isFeeFxMismatchUpdatesReview),n.isCPRoadRunnerUpdatesStickyNotification&&(this.cpFeeFxRoadrunnerData.isCPRoadRunnerUpdatesStickyNotification=n.isCPRoadRunnerUpdatesStickyNotification),n.isFeeFxMismatchUpdatesStickyNotification&&(this.cpFeeFxRoadrunnerData.isFeeFxMismatchUpdatesStickyNotification=n.isFeeFxMismatchUpdatesStickyNotification)}getDivAndSlotIdsForAd(n){const d={divId:"",slotId:""};try{const t=JSON.parse(sessionStorage.getItem("countryDynamicParams")||"{}"),e=(t&&JSON.parse(t.adScript||"{}").adSlots)[n];e?(d.divId=e.div,d.slotId=e.slot):console.error("No matching slot found for page - ",n)}catch(t){console.error(t)}return d}getCurrentCountryFromURL(){const n=window.location.pathname,d=n.split("/");let t;t=-1!==n.indexOf("content")?d[4]:d[1],-1!=t.indexOf("_")&&(t=t.split("_")[1]);let o=t?t.toUpperCase():null;return"INTERNATIONAL"==o&&(o="GB"),("FRAUD-AWARENESS"==o||null==o||"FRAUDAWARENESS"==o)&&(o="US"),o&&2==o.length?o:"US"}getCurrentLanguageFromURL(){const n=window.location.pathname,d=n.split("/");let t;t=-1!==n.indexOf("content")?d[5]:d[2],("index"==t||"index.html"==t||null==t)&&(t="en");const o=t?t.toLowerCase():null;return o&&2==o.length?o:"en"}getCountryFromSession(){let n=sessionStorage.getItem("fraudReportCountry");return null!=n&&""!=n&&null!=n||(n="US"),n}getVerificationStatus(){let n=!1;const d=sessionStorage.getItem("isMyInfoVerifiedCustomer")||!1,t=window.currentStateName||"globalcollectid",o=sessionStorage.getItem("isVerifiedMsgShown")||!1,e=JSON.parse(sessionStorage.getItem("GatewayCustomer"));if(e&&e.hasOwnProperty("identityVerificationStatus")){const x=e.identityVerificationStatus;this.featureFlagService.isFeatureEnabled("ENABLE_MYINFO")&&x&&"Y"==x&&!o&&("globalcollectid"==t||"review"==t)&&d&&(n=!0)}return n}isMobileOrTabletDevice(){let n=!1;return d=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,4)))&&(n=!0),n;var d}itemsReOrderById(n,d){return n.sort(function(t,o){return t.key===d?-1:o.key===d?1:0}),n}getReminderExecutionDate(n){let d="";const t=new Date;switch(n.frequency){case"DAILY":t.setDate(t.getDate()+1),d=this.formatReminderDate(t);break;case"WEEKLY":if(lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"day"))if(t.getDay()===parseInt(n.day))t.setDate(t.getDate()+7),d=this.formatReminderDate(t);else for(let o=1;o<=7;o++){if(t.getDay()===parseInt(n.day)){d=this.formatReminderDate(t);break}t.setDate(t.getDate()+1)}break;case"BIWEEKLY":if(lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"day"))if(t.getDay()===parseInt(n.day))t.setDate(t.getDate()+14),d=this.formatReminderDate(t);else{let o=0;for(let e=1;e<=14;e++){if(t.getDay()===parseInt(n.day)&&o>1){d=this.formatReminderDate(t);break}t.setDate(t.getDate()+1),t.getDay()===parseInt(n.day)&&o++}}break;case"MONTHLY":if(lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"date"))if(parseInt(n.date)<=t.getDate()){const o=new Date(t.getFullYear(),t.getMonth()+2,0);n.date>o.getDate()||o.setDate(n.date),d=this.formatReminderDate(o)}else t.setDate(n.date),d=this.formatReminderDate(t);break;case"ONETIME":lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"date")&&lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"month")>=0&&(t.setDate(n.date),t.setMonth(n.month),t.setFullYear(n.year),d=this.formatReminderDate(t));break;default:console.info("You are inside default Scheduled Reminder CASE !")}return d}formatReminderDate(n){return n.getDate()+"-"+(n.getMonth()+1)+"-"+n.getFullYear()}getDaySuffix(n){return["st","nd","rd"][((n+90)%100-10)%10-1]||"th"}setPageNames(n,d){void 0!==n&&""!==n&&null!==n&&sessionStorage.setItem("previous_page_name",n),void 0!==d&&""!==d&&null!==d&&sessionStorage.setItem("page_name",d)}loadScriptWithErrorCallBack(n,d,t){const o=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src=n,e.onreadystatechange=d,e.onload=d,e.onerror=t,o.appendChild(e)}maskIdNumber(n,d){return n.substring(0,n.length-d).replace(/\w/g,"x")+n.substring(n.length-d,n.length)}formatToJsonArrObj(n,d){if(!n||!d)return;const t=n.split(","),o=[];return Object.entries(d).forEach(([e,x])=>{const $={};$[t[0]]=e,$[t[1]]=x,o.push($)}),o}getCountryConfigData(n){return n?this.countryConfigData.ConfigTemplate[n]:this.countryConfigData.ConfigTemplate}enableReceiverNoLastNameCheckBox(){return this.featureFlagService.isFeatureEnabled("RECEIVER_NO_LAST_NAME_CHECKBOX")}getStageAndPayConfig(n,d){const t=d||this.readURLService.getCountryFromURL()||"",o=JSON.parse(this.getSessionStorageItem("ComplianceConfigRules"))||{};return lodash__WEBPACK_IMPORTED_MODULE_1__.get(o,t.toUpperCase()+".config."+n)||lodash__WEBPACK_IMPORTED_MODULE_1__.get(o,"DEFAULT.config."+n)}isAutologinFixEnabled(){return this.featureFlagService.isFeatureEnabled("AUTO_LOGIN_FIX_ENABLED")||"true"==sessionStorage.getItem("isAutologinFixEnabled")}isCookieDeleteFixEnabled(){return this.featureFlagService.isFeatureEnabled("COOKIE_DELETE_FIX_ENABLED")||"true"==sessionStorage.getItem("isCookieDeleteFixEnabled")}compareOtPreferences(n){const d=this.updateStoreUsingActionService.getState().countryDynamicParams,t=JSON.parse(d?.OT_WUDNA_CONFIG||"{}"),o=JSON.parse(sessionStorage.getItem("userCookiePurposePreference"))||{};let e=!0;if(Object.keys(o).length>0)for(const x in t){if(!e)break;for(const $ in t[x])if("cookie"===x?e=!!Object.keys(n).length&&(o.cookie.includes(t[x][$])?"Y":"N")===n[$]:"purpose"===x?e=!!Object.keys(n).length&&(o?.purpose&&o.purpose[t[x][$]]?"Y":"N")===n[$]:"special_purpose"===x&&(e=!!Object.keys(n).length&&(o?.special_purpose&&o.special_purpose[t[x][$]]?"Y":"N")===n[$]),!e)break}return e}toUpdateCookiePreference(){const n={},d=this.updateStoreUsingActionService.getState().countryDynamicParams,t=JSON.parse(d?.OT_WUDNA_CONFIG||"{}"),o=JSON.parse(sessionStorage.getItem("userCookiePurposePreference"))||{};if(Object.keys(o).length>0)for(const e in t)for(const x in t[e])"cookie"===e?n[x]=o.cookie.includes(t[e][x])?"Y":"N":"purpose"===e?n[x]=o?.purpose&&o.purpose[t[e][x]]?"Y":"N":"special_purpose"===e?n[x]=o?.special_purpose&&o.special_purpose[t[e][x]]?"Y":"N":"default_purpose"===e&&(n[x]="Y");return n}isNLNG9MigrationEnabled(){return this.featureFlagService.isFeatureEnabled("NL_NG9_Migration_Enable")||"true"===sessionStorage.getItem("isNg9MigrationEnable")}isGuestFlowPickupCash(){const n=(JSON.parse(localStorage.getItem("getGuestInfo"))||{}).isGuestFlow||!1;return this.isGuestFlowPickupCashEnabled()&&n}isGuestFlowPickupCashEnabled(){return!!(this.countryConfigData&&this.countryConfigData.ConfigTemplate&&this.countryConfigData.ConfigTemplate.enableGuestFlowCashPickUpAir&&"TRUE"===this.countryConfigData.ConfigTemplate.enableGuestFlowCashPickUpAir.toUpperCase())&&"pickup-cash-air"===localStorage.getItem("getuserJourney")}isEnableFeatureFlags(n){const d=sessionStorage.getItem("enableFeatureFlags")||"";return!(!d||!d.includes(n))}isEvergageEnableFeatureFlags(n){const d=lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase(n),t=sessionStorage.getItem(d)||"";return!(!t||!t.includes(n))}isFeatureEnabled(n){try{const d=JSON.parse(sessionStorage.getItem("featureFlags"))||window.FEATURE_FLAG||{},t=this.smoConfig._getCountryIsoCode().toUpperCase(),o=this.isEnableFeatureFlags(n),e=this.isEvergageEnableFeatureFlags(n),x=d[n]?d[n].countries:"";return!!("ALL"===x||x.indexOf(t)>-1||o||e)}catch{return!1}}isRunningInIframe(){try{return window.self!==window.top}catch{return!1}}isWuAxaCampaignEnabled(){return"true"==(sessionStorage.getItem("wuAxaConfiguration")?JSON.parse(sessionStorage.getItem("wuAxaConfiguration")):null)?.wuAxaCampaignEnabled}isReceiptPageSchedTFREnabledViaEvergage(){const n=this.updateStoreUsingActionService.getState().isPPSprofile,d=this.updateStoreUsingActionService.getState().userJourney;return!this.getPartnerName()&&!n&&(this.isReceiptPageSchedTFREnabled()||"true"===sessionStorage.getItem("Scheduled_Transfer_Enabled"))&&"sending_money"===d}isReceiptPageSchedTFREnabled(){return this.featureFlagService.isFeatureEnabled("SCHEDULED_TRANSFER_RECEIPT")&&!this.isSPTransaction()}isDownloadDisabled(){return-1!=_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.DOWNLOAD_DISABLED_COUNTRIES.indexOf(this.countryConfigData?.ConfigTemplate?.country||"")}updateDeliveryTime(n,d,t){const o=t||"";return"0"===n&&"500"===d&&(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.REAL_TIME.indexOf(o)>-1?"Real_Time":_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.SAME_DAY.indexOf(o)>-1?"Same_Business_Day":_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.range_Buisness_Day.indexOf(o)>-1?"range":_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.MINUTES_TEXT.indexOf(o)>-1&&"In_Minutes")}helperFormatToJsonArrObj(n,d){if(!n||!d)return;const t=n.split(","),o=[];return d.listPath&&delete d.listPath,Object.keys(d).forEach(function(e){const $=d[e],W={};W[t[0]]=e,W[t[1]]=$,o.push(W)}),o}helperFormatCountryList(n){const d=[];let t={};return Object.keys(n).forEach(function(o){const e=n[o];Object.keys(e).forEach(function(x){const W=e[x];t={},t.isoCode=x,t.name=W,this.push(t)},d)}),d}isFMACountry(){return-1!=_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.FMA_CORRIDORS.indexOf(this.countryConfigData.ConfigTemplate.country)}isVoucherCountryEnable(){return!!lodash__WEBPACK_IMPORTED_MODULE_1__.includes(lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.featureFlagService,"VOUCHER_EGREETING.countries"),(this.readURLService.getCountryFromURL()||"").toUpperCase())}isTransactionUPI(){const n=JSON.parse(sessionStorage.getItem("ValidationResponse")||"{}");return"UPI"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"receiver.wallet.bank_accounts.bank_account[0].account_selected_type")}isTransactionPIX(){const n=JSON.parse(sessionStorage.getItem("ValidationResponse")||"{}");return"PIX"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"receiver.wallet.bank_accounts.bank_account[0].account_type")}ariaDialogObserverFn(n,d,t,o,e,x){typeof aria<"u"&&aria?.dialogObserverFn&&aria.dialogObserverFn(n,d,t,o,e,x)}isProfileMfaEnabled(){try{if(this.getPartnerName())return this.featureFlagService.isFeatureEnabled("ENABLE_PROFILE_MFA_PARTNERS")||JSON.parse(sessionStorage.getItem("enableMFAPartners"));{const n=sessionStorage.getItem("enableMFA")||"{}";return(this.featureFlagService.isFeatureEnabled("ENABLE_PROFILE_MFA")||!0===JSON.parse(n).isProfileMfaEnabled)&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}}catch{return!1}}isBannerAdFeatureEnabled(){return this.isFeatureEnabled("BANNER_ADS")||"true"===sessionStorage.getItem("isBannerAdEnabled")}getChannelMobile(){const n={name:"MOB",type:"RETAIL_MOBILE"};return n.version=this.getChannelVersionRetail(),n.device_identifier="RESPONSIVE_MOB",n.is_responsive="true",n}getSessionId(){let n=localStorage.getItem("getSessionId");return this.isWuPartner()&&(n=sessionStorage.getItem("token")),n||null}getClientIp(){return localStorage.getItem("getClientIp")||"245024209201"}getSecurity(){const n={},d={};return d.id=this.getSessionId(),n.session=d,n.client_ip=this.getClientIp(),n}getChannel(){const n={},d=sessionStorage.getItem("applicationName"),t=this.getURLParameter("cusType");return"PPS"===d||"PPS"===t?(n.name="Cruise",n.type="PPS",n.version="9740"):(n.name="Western Union",n.type="WEB",n.version="9Z00"),n}isEFLPuertoRico(){let n=!1;const d=sessionStorage.getItem("enablePuertoRico")||"true";return n="pickup-cash-air"==localStorage.getItem("userJourney")?"PR"==lodash__WEBPACK_IMPORTED_MODULE_1__.get(JSON.parse(sessionStorage.getItem("receiveMoneySearchReq")||null),"destnCountry"):"PR"==lodash__WEBPACK_IMPORTED_MODULE_1__.get(JSON.parse(sessionStorage.Efl||null),"address.state"),"true"==d.toLowerCase()&&n}noOfAllowedTrxnPF(){return"NA"!==this.countryConfigData?.ConfigTemplate?.partner?.noofallowedtrxn?Number.parseInt(this.countryConfigData?.ConfigTemplate?.partner?.noofallowedtrxn):"NA"}estimatedExchangeRateDF(n){return n&&lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"address.countryIsoCode")&&lodash__WEBPACK_IMPORTED_MODULE_1__.includes(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.EXCHANGE_RATE_DF,lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"address.countryIsoCode"))}removeSubscriptionId(){const n=sessionStorage.getItem("cookiestore");if(n){const d=JSON.parse(n);d?.promoCampaignSubscriptionId&&(lodash__WEBPACK_IMPORTED_MODULE_1__.unset(d,"promoCampaignSubscriptionId"),lodash__WEBPACK_IMPORTED_MODULE_1__.unset(d,"promoCampaignSubscriptionEndDate"),lodash__WEBPACK_IMPORTED_MODULE_1__.unset(d,"subscribedCampaignName"),sessionStorage.setItem("cookiestore",JSON.stringify(d)))}this.deleteCookieItem("promoCampaignSubscriptionId"),this.deleteCookieItem("promoCampaignSubscriptionEndDate"),this.deleteCookieItem("subscribedCampaignName")}hideSaveDeskMessageForOcr(){const n=JSON.parse(sessionStorage.getItem("ValidationResponse")),d=JSON.parse(sessionStorage.getItem("ValidationRequest")||"{}"),o=this.isOcrFlowEnabled(n?.payment_details?.payment_type||d?.payment_details?.payment_type),e=sessionStorage.getItem("ActiveVendor");return o&&e}isNextGenOcrIbpFlow(n){const d=JSON.parse(sessionStorage.getItem("SummaryObjects")),t=sessionStorage.getItem("isNextGenOcrIbpFlowPayInMethod")||[];let o="";return o=n||(d&&d.paying_method?d.paying_method:sessionStorage.getItem("SelectedPayInOption")||""),this.isOcrFlowEnabled()&&t.indexOf(o)>-1}getNameForDisplaySPTrx(n,d){const t=[];try{if(!n||!this.isSPTransaction())return;t.push(n.first_name),n.middle_name&&n.last_name?-1===_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__._3.LATIN_COUNTRY_LIST.indexOf(d)||this.isCountryEnabledForSPGetCustomerProfile()?(t.push(n.middle_name),t.push(n.last_name)):(t.push(n.last_name),t.push(n.middle_name)):n.last_name&&t.push(n.last_name)}catch(o){console.error(o)}return t.join(" ")}isCountryEnabledForSPGetCustomerProfile(){const n=sessionStorage.getItem("switches")||window.SWITCHES,d=this.countryConfigData?.ConfigTemplate?.country.toUpperCase()||this.readURLService.getCountryFromURL().toUpperCase();return!(!n||n&&!n?.CountriesWithRetailCustomerProfileCallDisabled||n&&n?.CountriesWithRetailCustomerProfileCallDisabled&&n?.CountriesWithRetailCustomerProfileCallDisabled?.split(",").indexOf(d)>=0)}toTitleCase(n){if(null!=n&&""!=n)return n.replace(/\w\S*/g,function(d){return d.charAt(0).toUpperCase()+d.substr(1).toLowerCase()})}isSepaCountry(n,d,t){const o=this.isEmpty(t)?"":t;return _constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.SEPA_COUNTRIES.indexOf(o)>-1&&!this.isEmpty(n)&&"0"===n&&!this.isEmpty(d)&&"500"===d&&_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.v5.SEPA_FEATURE_TOGGLE}isFOR(n){const d=this.readURLService.getCountryFromURL().toUpperCase();let t;return t="US"===d?_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FOR_CORRIDORS.COUNTRY_CODES:"BR"===d||"TRUE"===this.countryConfigData?.ConfigTemplate?.isRetail?_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FOR_CORRIDORS_BR.COUNTRY_CODES:_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.FOR_CORRIDORS_INTL.COUNTRY_CODES,t&&-1!=t.indexOf(n)}isKonbiniFundsInEnabled(){const n="true"===sessionStorage.getItem("isKonbiniFundsInEnabled"),d=this.featureFlagService.isFeatureEnabled("IS_KONBINI_FUNDSIN_ENABLED");return n||d}isNGMigrationEnabled(n){const d=this.migrationPageConfig&&"object"==typeof this.migrationPageConfig[n]&&!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(this.migrationPageConfig[n])&&this.migrationPageConfig[n];return"true"==sessionStorage.getItem(d?.sessionFlag)||this.featureFlagService.isFeatureEnabled(d?.featureFlag)}isRAFNoRewards(){return this.featureFlagService.isFeatureEnabled("RAF_NO_REWARDS")}clearSessionStorageItem(n){return sessionStorage.removeItem(n)}is3DSRetryEnabled(){return(this.featureFlagService.isFeatureEnabled("IS_3DS_RETRY_ENABLED")||sessionStorage.getItem("is3dsRetryEnabled"))&&!sessionStorage.getItem("is3dsRetyTriggered")}clearPartnerStorageData(n){if(this.clearSessionStorageItem("partnerAccessToken"),this.clearSessionStorageItem("partnerRequestId"),n){let d=this.getSessionStorageItem("retrieveResponseData");d&&(d=JSON.parse(d),d.receiver&&delete d.receiver,d.paymentDetails&&delete d.paymentDetails,this.setSessionStorageItem("retrieveResponseData",JSON.stringify(d)))}else this.clearSessionStorageItem("partnerName"),this.clearSessionStorageItem("partnerClientId"),this.clearSessionStorageItem("partnerRedirectURI")}setCompletedTxnCount(){let n=this.getSessionStorageItem("completedNumberOfTrxn");n=n?Number.parseInt(n)+1:1,this.setSessionStorageItem("completedNumberOfTrxn",n)}getEndOfTxnOwner(){const n=this.countryConfigService.getCC();return n.ConfigTemplate.partner&&n.ConfigTemplate.partner.endOfTxnOwner?n.ConfigTemplate.partner.endOfTxnOwner:null}endOfTxnOwnerRedirect(n,d){if(!n||!d)return null;switch(n){case"success":window.location.href=d.partnerFields&&d.partnerFields.urlTransactionData?this.getIPFromFQDNMapping(d.partnerFields.urlTransactionData):"";break;case"error":window.location.href=d.partnerFields&&d.partnerFields.urlAbort?this.getIPFromFQDNMapping(d.partnerFields.urlAbort):""}}getIPFromFQDNMapping(n){const d=this.getChannelTypeFromFQDN(n),t=this.isFQDNProd(n);let o="";return o=d===_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.CHANNEL_APP?n:d===_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.CHANNEL_WEB&&t?n.replace(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.WEB_PROD,_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.FQDN_IP_MAPPING.WEB.PROD.REPLACE_BY):d!==_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.CHANNEL_WEB||t?n:n.replace(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.WEB_UAT,_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.FQDN_IP_MAPPING.WEB.UAT.REPLACE_BY),o}getChannelTypeFromFQDN(n){return n?n&&n.indexOf(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.POSTE_CHANNEL_MOBILE_IDENTIFIER)>-1?_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.CHANNEL_APP:_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.CHANNEL_WEB:null}isFQDNProd(n){return n?n.indexOf(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.WEB_PROD)>-1||n.indexOf(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.Dy.APP_PROD)>-1:null}getCurrentPageName(){const n=this?.location?.path()||"";if(n&&n.length>0){const t=n.split("?")[0].split("/");return t[t.length-1]}}isGuestFlowEnabled(){const n=this.countryConfigService.getCC();return!!(typeof n<"u"&&n&&n.ConfigTemplate&&n.ConfigTemplate.enableGuestLogin&&"TRUE"===n.ConfigTemplate.enableGuestLogin.toUpperCase())&&this.isSPTransaction()&&"sending_money"===this.getSessionStorageItem("userJourney")}getReceivingCountryIsoCode(){let n="";const d=JSON.parse(this.getSessionStorageItem("SummaryObjects"));return d&&d.flag_position&&d.flag_position.length>0&&(n=d.flag_position.toLowerCase()),n}is3DSv2(){const n=this.countryConfigService.getCC(),d=sessionStorage.getItem("tdsv2FlowEnabled");return"TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"ConfigTemplate.is3DSv2")&&"true"===d||this.featureFlagService.isFeatureEnabled("THREEDS_V2")&&!this.getPartnerName()&&!this.isHostedPartner()&&!this.isApplicationPPS()||this.featureFlagService.isFeatureEnabled("THREEDS_V2_PARTNERS")&&(this.getPartnerName()||this.isHostedPartner())&&!this.isApplicationPPS()||this.featureFlagService.isFeatureEnabled("THREEDS_V2_PPS")&&this.isApplicationPPS()}getIpAddress(){const n=this.getClientIp();return""!=n||null!=n?n.match(/.{1,3}/g).map(function(o){return parseInt(o,10)}).join(".").toString():""}getBrowserHeader(n){const d=new XMLHttpRequest,t=document.URL;return d.open("GET",t,!1),d.send(null),d.getResponseHeader(n).toLowerCase()}getRedirectionUrl(){let n=null;return n=null==document.location.origin?window.location.protocol+"//"+window.location.host+"/megatron/securehandler.optimus.json?countryLang="+this.getCurrentCountryFromURL().toLowerCase()+"-"+this.getCurrentLanguageFromURL().toLowerCase():location.origin+"/megatron/securehandler.optimus.json?countryLang="+this.getCurrentCountryFromURL().toLowerCase()+"-"+this.getCurrentLanguageFromURL().toLowerCase(),n}getSofortParams(n){const d={},t=[];return t.push(n?this.getSofortBankId():this.getSofortResponseCode()),d.param=t,d}getSofortBankId(){const n={},d=sessionStorage.validationRequest?JSON.parse(sessionStorage.validationRequest):"";return n.Key=sessionStorage.validateResponse.payment_details.payment_method.params?sessionStorage.validateResponse.payment_details.payment_method.params.param[0].Key:d.payment_details.payment_method.params.param[0].Key,n.Value=sessionStorage.validateResponse.payment_details.payment_method.params?sessionStorage.validateResponse.payment_details.payment_method.params.param[0].Value:d.payment_details.payment_method.params.param[0].Value,n}getSofortResponseCode(){const n={};let d=null;const t=JSON.parse(sessionStorage.ValidationResponse||"{}");if(n.Key="response_code",sessionStorage.securereasonCode&&null!=sessionStorage.securereasonCode&&(d=sessionStorage.securereasonCode.toLowerCase()),"true"==t.apollo_flag){const o=window.location.protocol+"//"+window.location.hostname+"/bin/westernunion/securehandler?response=";d="success"==d?o+"success":"timeout"==d?o+"timeout":o+"cancel"}else d="success"==d||"success?paymentstatus=success"==d||"success?response=success"==d?"OK":"abort"==d?"ERROR":"timeout"==d?"NOK":"PENDING";return n.Value=d,n}isRussia3DSV2EnabledR3(n){let d="";d=sessionStorage.getItem("RU_3DSv2_CardType")?sessionStorage.getItem("RU_3DSv2_CardType"):"MIR";const t=sessionStorage.getItem("tdsv2FlowEnabled")?sessionStorage.getItem("tdsv2FlowEnabled"):"true",o=(this.getCountryCode()||"").toUpperCase(),e=JSON.parse(sessionStorage.getItem("ValidationResponse"));return!!("RU"==o&&"true"===t&&this.featureFlagService.isFeatureEnabled("RU_3DSV2")&&d&&(n&&d.indexOf(n)>=0||!n&&"2.0"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(e,"payment_details.credit_debit_card.cardinal_info.wu_3ds_version")))}getFrontendInfo(n){const d={};return d.Zumigo=this.getZumigoId(n),btoa(JSON.stringify(d))}getZumigoId(n){const d={},t=JSON.parse(this.getSessionStorageItem("identifyMdnResp"));if(t)return d.sessionId=n,d.status=t.status,t.info&&(d.info=t.info),d}isAccuylnkValidationCheck(n){return!(n&&null!=n.payment_details&&null!=n.payment_details.credit_debit_card&&null!=n.payment_details.credit_debit_card.pin_debit&&null!=n.payment_details.credit_debit_card.pin_debit.available&&"true"==n.payment_details.credit_debit_card.pin_debit.available)}launchapplloAcculynkPinPad(n,d){let t="",o={},e="",x="",$="",W="",K="";const V=window.Acculynk;o=n.payment_details.credit_debit_card,t=d.creditDebitCard.pinDebit.guid,e=d.creditDebitCard.pinDebit.modulus,x=d.creditDebitCard.pinDebit.exponent,$=d.creditDebitCard.pinDebit.transId,W=o.card_number,K=W.substring(W.length-4,W.length),sessionStorage.appollopinpag="yes",sessionStorage.acculynkGuId=t,sessionStorage.acculynkModulus=e,sessionStorage.acculynkExponent=x,sessionStorage.accuylnkTransId=$,V.createForm(t,K,e,x),V.PINPadLoad()}checkJSONProperties(n,d,t){let o=!1;if("object"==typeof n&&"string"==typeof d){const e=d.split(".");let x=n;for(const $ in e){const W=e[$];if(x[W]){if("object"==typeof x[W])o=!0;else if(parseInt($)+1===e.length)o=!0;else{if(!t){o=!1;break}o=!0,x[W]={}}x=x[W]}else if(t)o=!0,x[W]={},x=x[W];else{if(parseInt($)+1!==e.length){o=!1;break}o=!0}}}return o}handleIBPPaymentReturnResp(){const n=this.featureFlagService.isFeatureEnabled("HANDLE_IBP_PAYMENT_RETURN_RESP"),d="true"===sessionStorage.getItem("handleIBPPaymentReturnResp");return(n||d)&&!this.getPartnerName()&&!this.isApplicationPPS()&&!this.isHostedPartner()}postPartnerHeight(n){window.postWindowMessage("wuHeight",n+"px")}ipay88enabledCountries(){return["MY"].includes(this.smoConfig._getCountryIsoCode().toUpperCase())}handleIBPPaymentReturnResponseAfterPopupBtn(){const n=this.featureFlagService.isFeatureEnabled("HANDLE_IBP_PAYMENT_RETURN_RESP_WITH_POPUP_MODAL"),d="true"===sessionStorage.getItem("handleIBPPaymentReturnRespWithPopupModal");return(n||d)&&!this.getPartnerName()&&!this.isApplicationPPS()&&!this.isHostedPartner()}getChannelVersionRetail(n){const d=(n||this.getCurrentCountryFromURL()||"").toUpperCase(),t=1==lodash__WEBPACK_IMPORTED_MODULE_1__.includes(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.HI.EU_COUNTRIES_FOR_AIR,d)?"INTL":"DEFAULT";return _constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.YH[t]}getSecurityRetail(){const n={};return n.session={id:this.getCookieItem("SessionIdRetail")},n.client_ip=this.getClientIp(),n}getCountryNameFromUrl(n){let d=null;for(const t in n.countries)n.countries[t].country.isoCode.toLowerCase()==this.getCurrentCountryFromURL().toLowerCase()&&(d=n.countries[t].country.name);return d}isMasterSoftLookUpAddressEnabled(){const n="TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.isMasterSoftLookUpAddressEnabled"),d=sessionStorage.getItem("isMasterSoftLookUpAddressEnabled");return n||d}setMYOcrSession(){sessionStorage.setItem("History_Resume_Transfer_Provision","enabled"),sessionStorage.setItem("idDobFieldsEditable","true"),sessionStorage.setItem("isSkipChooseMethodExp","true")}isNewSelfieKYCFlowSelectedPayin(n){const d=!!n&&this.isOcrFlowEnabled(n),t="true"===sessionStorage.getItem("isNewSelfieFlowEnabled")||this.featureFlagService.isFeatureEnabled("NEW_SELFIE_FLOW_ENABLED");return t&&this.setMYOcrSession(),d&&t}isQqcBillPayEnabled(){const n=sessionStorage.getItem("userJourney");return!("true"!==sessionStorage.getItem("isQqcBillPayEnabled")&&"TRUE"!==lodash__WEBPACK_IMPORTED_MODULE_1__.get(_store_selector__WEBPACK_IMPORTED_MODULE_8__.T7,"ConfigTemplate.isQqcBillPayEnabled")||"bill-pay"!==n||this.isApplicationPPS()||this.isHostedPartner())}isQqcInmatePayEnabled(){const n=sessionStorage.getItem("userJourney");return!("true"!==sessionStorage.getItem("isQqcInmatePayEnabled")&&"TRUE"!==lodash__WEBPACK_IMPORTED_MODULE_1__.get(_store_selector__WEBPACK_IMPORTED_MODULE_8__.T7,"ConfigTemplate.isQqcInmatePayEnabled")||"inmate-pay"!==n||this.isApplicationPPS()||this.isHostedPartner())}isCloudMobileReloadEnabled(){const n=sessionStorage.getItem("userJourney");return!("true"!==sessionStorage.getItem("isCloudMobileReloadEnabled")&&"TRUE"!==lodash__WEBPACK_IMPORTED_MODULE_1__.get(_store_selector__WEBPACK_IMPORTED_MODULE_8__.T7,"ConfigTemplate.isCloudMobileReloadEnabled")||"reload-options"!==n||this.isApplicationPPS()||this.isHostedPartner())}isCollectIdWUFSAEnabled(){return"TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(_store_selector__WEBPACK_IMPORTED_MODULE_8__.T7,"ConfigTemplate.CollectId.wufsa")}isBrazilNewTemplateEnabled(){return!(!this.featureFlagService.isFeatureEnabled("ENABLE_NEW_BR_COMPLAINCE_TEMPLATE")||"TRUE"!==this.countryConfigData?.ConfigTemplate?.isRetail)}fromJson(n){return lodash__WEBPACK_IMPORTED_MODULE_1__.isString(n)?JSON.parse(n):n}retrieveEFL(n,d){let o=d.efl||{_isModified:!1,_isSWB:!1,_init:null,address:{}};switch(d.type||"INIT"){case"INIT":let e={};if(this.getLoggedInStatus()){const V=this.fromJson(sessionStorage.getItem("GatewayCustomer"));e={address:{country_iso_code:V.address.countryIsoCode||null,state:V.address.state||null,postal_code:V.address.postalCode||null,city:V.address.city||null,addr_line1:V.address.addrLine1||null}}}else{const V=this.getSendersZipCode(),P=this.getCookieItemFromCookieService("AKRegioncode");e={address:{country_iso_code:this.getCookieItemFromCookieService("AKCountry")||o.address.country_iso_code,state:P||o.address.state,postal_code:V||o.address.postal_code}}}const $=e.address?.postal_code;return e=o._isModified?Object.assign(e,{address:{state:o.address.state,postal_code:o._isSWB?o.address.postal_code:$}}):e,sessionStorage.setItem("Efl",JSON.stringify(Object.assign(e,{_init:$,_isModified:o._isModified||!1,_isSWB:o._isSWB||!1}))),e;case"GET":const W=this.readURLService.getCountryFromURL().toUpperCase();return"US"==W?{address:Object.assign(o.address,{state:o.address.state||"CA"})}:{address:{country_iso_code:W}};case"UPDATE":const K=this.isStateSWBorOK(n);return o=Object.assign(o,{address:{state:n,postal_code:K?this.getSWBorOKPostalCode(n):o._init}},{_isModified:!0,_init:o._init,_isSWB:K}),this.setSessionStorageItem("Efl",JSON.stringify(o)),o;default:return{address:Object.assign(JSON.parse(this.getSessionStorageItem("Efl")).address,o.address)}}}getSendersZipCode(){let n=this.getSessionStorageItem("GatewayCustomer");n&&(n=JSON.parse(n));const d=this.getAKZipCodes();return n&&n.address&&n.address.postalCode?n.address.postalCode:d&&d.length>0?d[0]:"us"===this.smoConfig._getCountryIsoCode()?"94107":""}isRetailPayOutEnabled(n){let d="FALSE";const t=this.countryConfigData;switch(n){case"AG":d=lodash__WEBPACK_IMPORTED_MODULE_1__.get(t,"ConfigTemplate.airPayoutAGEnabled")||"TRUE";break;case"BA":d=lodash__WEBPACK_IMPORTED_MODULE_1__.get(t,"ConfigTemplate.airPayoutBAEnabled")||"FALSE";break;default:d="FALSE"}return"TRUE"==d.toUpperCase()}isNewBillPayEnabled(){return!0}getDeliveryDay(n){const d=dayjs__WEBPACK_IMPORTED_MODULE_11___default()(n);return dayjs__WEBPACK_IMPORTED_MODULE_11___default()().diff(d,"days")>=1?d.fromNow():d.calendar().split(" ")[0]}isNewBillPayTransaction(){return(this.isNewBillPayEnabled()||JSON.parse(sessionStorage.getItem("newBillPayFlow")))&&("bill-pay"===sessionStorage.getItem("userJourney")||"inmate-pay"===sessionStorage.getItem("userJourney"))}isNewBillPaySPTransaction(){return this.isNewBillPayTransaction()&&"AG"==this.getSelectedPayInOption()}isKlarnaFundsInEnabled(){const n=this.featureFlagService.isFeatureEnabled("FUNDS_IN_KLARNA"),d="true"===sessionStorage.getItem("isKlarnaFundsInEnabled");return n||d}isNonTranxEKYCFlowEnabled(){return this.featureFlagService.isFeatureEnabled("NON_TRANSACTIONAL_EKYC")||"true"===sessionStorage.getItem("NonTransactionalEkyc")}isCpiErrorOnHoldEnabled(){return this.featureFlagService.isFeatureEnabled("CPI_ERROR_ON_HOLD")||"true"===sessionStorage.getItem("isCpiErrorOnHold")}isDisableBankResendFlowEnabled(){return this.featureFlagService.isFeatureEnabled("BANK_DISABLE_RESEND_FLOW")||"true"===sessionStorage.getItem("BankDisableResendFlow")}isTatSuccessRevampEnabled(){return this.featureFlagService.isFeatureEnabled("TAT_SUCCESS_REVAMP")||"true"===sessionStorage.getItem("TatSuccessRevamp")}isTrustlyExpressEnabled(){return this.featureFlagService.isFeatureEnabled("IS_TRUSTLY_EXPRESS_ENABLED")}getSendingCountryIsoCode(){const n=this.readURLService.getCountryFromURL();return n?n.toLowerCase():""}isPPSApplication(){return this.updateStoreUsingActionService.getState().isPPSprofile}isNonProdEnviornment(n){return this.NON_PROD_DOMAIN_PREFIXES.find(d=>n.indexOf(d)>-1)}isGuestFlow(){const n=(JSON.parse(sessionStorage.getItem("GuestInfo"))||{}).isGuestFlow||!1;return this.isGuestFlowEnabled()&&n}isApplicationPPS(){return"PPS"===sessionStorage.getItem("applicationName")}getSelectedPayInOption(){const n=sessionStorage.getItem("SummaryObjects")||(JSON.parse(sessionStorage.getItem("SummaryObjects"))||{}).paying_method;return n?n.toUpperCase():null}isHyperBandEnabled(){return"TRUE"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.countryConfigData,"ConfigTemplate.isHyperbandEnabled")}isAmountDebitedSubErrorCodeExist(n){const d=["T4776","1","2222","C9999","C5123","U9081","U9070","U8101","U8100","U2001","U0702","T0997","T0441"];if(n&&n.length>0)for(const t in n)if(d.includes(n[t].code))return!0;return!1}checkC1997OptDeclinePage(){return"true"===sessionStorage.getItem("C1997NewDeclinePage")||!this.featureFlagService.isFeatureEnabled("SKIP_C1997_OPT_DECLINE_PAGE")}isErrorCodeACHEnabled(){return this.featureFlagService.isFeatureEnabled("ERROR_CODES_ACH_ENABLED")&&!this.getPartnerName()&&!this.isHostedPartner()&&!this.isApplicationPPS()}getCountryCode(){let n=this.smoConfig._getCountryIsoCode();const d=(sessionStorage.territoryCountry||"").toLowerCase(),t="true"==sessionStorage.territorySwitch;return d&&t&&(n=d),(n||"").toLowerCase()}isIdMissionKycEnabled(){const n=JSON.parse(sessionStorage.getItem("KYCConfigTemplate_"+this.getCountryCode()));return this.isSelfieKycEnabled()||/true/.test(lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"idMissionKyc.isEnabled"))}isSelfieKycEnabled(){const n=this.getCqSwitches(),d=this.countryConfigData&&this.countryConfigData.ConfigTemplate&&this.countryConfigData.ConfigTemplate.country?this.countryConfigData.ConfigTemplate.country.toUpperCase():this.readURLService.getCountryFromURL().toUpperCase();return!(!n||n&&!n.countryListForSelfieKycEnabled||!(n&&n.countryListForSelfieKycEnabled&&n.countryListForSelfieKycEnabled.indexOf(d)>=0))}getCqSwitches(){const n=window.sessionStorage.getItem("switches");return JSON.parse(n.replace(/'/g,'"'))}isAIREnabledCountry(){return!!(this.countryConfigData&&this.countryConfigData.ConfigTemplate&&this.countryConfigData.ConfigTemplate.isAIREnabled&&"TRUE"===this.countryConfigData.ConfigTemplate.isAIREnabled.toUpperCase())}getNg6Enable(){return"true"==sessionStorage.getItem("ng6")}getPartnerConfigValue(n){return this.countryConfigData&&this.countryConfigData.ConfigTemplate&&this.countryConfigData.ConfigTemplate.partner?this.countryConfigData.ConfigTemplate.partner[n]:null}isOcrEnabledCountry(n){const d=this.ocrInitialCheckInSession();if(!d)return!1;const t=sessionStorage.getItem("isOCRFlowEnabledForCC"),o=sessionStorage.getItem("isOCRFlowEnabledForDC"),e=sessionStorage.getItem("isOCRFlowEnabledForIBP"),x=sessionStorage.getItem("isOCRFlowEnabledForWUPay"),$=sessionStorage.getItem("IBPFundsInList")||"",W=JSON.parse(sessionStorage.getItem("kycVendorConfig"))||"",K=W&&W.allowedPayinMethods,V=JSON.parse(sessionStorage.getItem("SummaryObjects")),P=sessionStorage.getItem("ocrPayInMethod")||K||"";let D="";D=n||(V&&V.paying_method?V.paying_method:sessionStorage.getItem("SelectedPayInOption")||"");const f="CreditCard"===D&&t||"DebitCard"===D&&o||$.indexOf(D)>-1&&e||"WUPay"===D&&x;return d&&(P.indexOf(D)>-1||f)&&!this.isHostedPartner()}isEMSErrorOptimizationEnabled(){return this.featureFlagService.isFeatureEnabled("EMS_ERROR_CODE_OPTIMIZATION")&&!this.getPartnerName()&&!this.isHostedPartner()&&!this.isApplicationPPS()}isErrorCodeRTRAEnabled(){return this.featureFlagService.isFeatureEnabled("ERROR_CODES_RTRA_ENABLED")&&!this.getPartnerName()&&!this.isHostedPartner()&&!this.isApplicationPPS()}isOTWudnaFeatureEnabled(){return!0===this.featureFlagService.isFeatureEnabled("SAVE_OT_COOKIE_PREFERENCE_TO_WUDNA")||"true"===sessionStorage.getItem("SAVE_OT_COOKIE_PREFERENCE_TO_WUDNA")}getCustomerChannel(){return sessionStorage.getItem("DUTUser")?JSON.parse(sessionStorage.getItem("DUTUser")||null)?.channel?.toLowerCase():"retail"}disableMailKit(){const n=sessionStorage.getItem("isInlineEidEnabled"),d=sessionStorage.getItem("isOCRFlowEnabled");if(n&&d||this.featureFlagService.isFeatureEnabled("ENABLE_EID_INLINE_SIGNICAT")&&this.featureFlagService.isFeatureEnabled("OCR_FLOW_ENABLED"))return!0}isDisplayTrReceiverPageBanner(){return!(!this.featureFlagService.isFeatureEnabled("TR_RECEIVER_PAGE_MESSAGE_BANK_PAYOUT")||"500"!==this.selectedProduct.code||"TR"!==this.receivingCountryIsoCode)}getBankList(n,d){const e=new _shared_models_optimus_optimus_list_model__WEBPACK_IMPORTED_MODULE_31__.J;e.setOrigination(this.smoConfig._getCountryIsoFromURL()).setLanguage(this.smoConfig.getLanguageFromURL()).setLists(`D2B_${n}`,"banklist").setBashpath(d);const x=(0,_angular_core__WEBPACK_IMPORTED_MODULE_32__.zw6)(`post//list.optimus.json//${JSON.stringify(e)}`);return this.transferStateService.fetch(x,this.optimusService.invokeGenericFactory(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.MG.BANK_LIST,e))}getWalletList(n,d){const e=new _shared_models_optimus_optimus_list_model__WEBPACK_IMPORTED_MODULE_31__.J;e.setOrigination(this.smoConfig._getCountryIsoFromURL()).setLanguage(this.smoConfig.getLanguageFromURL()).setLists(`WLT_${n}`,"walletlist").setBashpath(d);const x=(0,_angular_core__WEBPACK_IMPORTED_MODULE_32__.zw6)(`post//list.optimus.json//${JSON.stringify(e)}`);return this.transferStateService.fetch(x,this.optimusService.invokeGenericFactory(_constants_global_constants__WEBPACK_IMPORTED_MODULE_5__.MG.WALLET_LIST,e))}getDSRListWithCorridors(n,d){try{this.isReceiverDSREnabledCorridor()&&(this.updateStoreUsingActionService.updateReceiverBankList(null),this.updateStoreUsingActionService.updateReceiverWalletList(null),(0,rxjs__WEBPACK_IMPORTED_MODULE_33__.p)([this.getBankList(n,d).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.Q)(this.destroyed$)),this.getWalletList(n,d).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.Q)(this.destroyed$))]).subscribe(o=>{this.updateStoreUsingActionService.updateReceiverBankList(o[0]||null),this.updateStoreUsingActionService.updateReceiverWalletList(o[1]||null)}))}catch(t){console.error("getBankList() or getWalletList() did not run through because "+t)}}mapDSRFundOutModal(){const n=lodash__WEBPACK_IMPORTED_MODULE_1__.get(this.selectedProduct,"payOut");if(this.displayDSRModal.next(!0),n===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.BA||n===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.WA){const d=this.mapCatalogResponse(n,this._bankList,this._walletList);this.mappedArr.next(d)}}bankWalletContinueForDSR(n,d){const t=this.updateStoreUsingActionService.getState();for(let e=0;e<t?.products.length;e++)if(t?.products[e].code===n.code&&t?.products[e].payIn===n.payIn){this.updateStoreUsingActionService.updateSelectedProduct(t?.products[e]);break}let o;"BA"===this.selectedProduct.payOut?(this.updateStoreUsingActionService.updateReceiverBank(d),o=!lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(this._selectedReceiver)&&this._selectedReceiver?.wallet?.bankAccounts&&this._selectedReceiver?.wallet?.bankAccounts.length?{...this._selectedReceiver,wallet:{bankAccounts:[{...this._selectedReceiver?.wallet?.bankAccounts[0],bank_code:n?.value,bank_name:n?.name}]}}:null):(this.updateStoreUsingActionService.updateReceiverWallet(d),o=lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty(this._selectedReceiver)?null:{...this._selectedReceiver,wallet:{wuWallet:{...this._selectedReceiver?.wallet?.wuWallet,service_provider_code:n?.value,service_provider_name:n?.name}}}),o&&this.updateStoreUsingActionService.updateSelectedReceiver(o)}getDSRServiceCodesFromPricing(){const n=JSON.parse(sessionStorage.getItem("PriceCatalogRes")||"{}"),d={bankServiceCodes:[],walletServiceCodes:[]};return n&&n.services_groups&&n.services_groups.length&&n.services_groups.length>0&&n.services_groups.forEach(t=>{t.service.startsWith("5")&&"500"!==t.service&&d.bankServiceCodes.push(t.service),t.service.startsWith("8")&&"800"!==t.service&&d.walletServiceCodes.push(t.service)}),d}isSplitTileEnabled(){return this.isReceiverDSREnabledCorridor()&&this.isReceiverDSREnabledCorridor().DSR_PAYOUT_CODES.includes(_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Oi.WA)&&this.isReceiverDSREnabledCorridor().isMultiTileEnabled.includes(_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Oi.WA)}isNewDeclinePageEnabledForC1974(){return this.featureFlagService.isFeatureEnabled("NEW_DECLINE_PAGE_FOR_C1974")&&!this.getPartnerName()&&!this.isHostedPartner()&&!this.isApplicationPPS()}enableWalletForAlipayPartner(){let n=[];const d=this.getPartnerName();if(d&&d.toLowerCase()===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.ALIPAY_PARTNER)return n=this.updateStoreUsingActionService.getState().countryDynamicParams?.enableWalletForAlipay||[],n}isNewDUCInstructionEnabled(){return this.featureFlagService.isFeatureEnabled("NEW_DUC_INSTRUCTION")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}ocrEnableFlowCheck(){const n=JSON.parse(sessionStorage.getItem("StoreResponse")),d=JSON.parse(sessionStorage.getItem("ValidationResponse"));let t=!1,o=!1;d.payment_details&&d.payment_details.payment_type&&(o=this.isOcrEnabledCountry(d.payment_details.payment_type));const e=sessionStorage.getItem("ActiveVendor"),x=1===lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument.length")&&"PV"===lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"sender.kycDetails.duc.ducDelivery.ducDocuments.ducDocument[0].docType");return t=!!(o&&e&&x),sessionStorage.setItem("ocrFlowEnable",t.toString()),t}isAppboyEnabled(){return!!(typeof this.countryConfigData<"u"&&this.countryConfigData&&this.countryConfigData.ConfigTemplate&&this.countryConfigData.ConfigTemplate.isAppboyEnabled&&"TRUE"===this.countryConfigData.ConfigTemplate.isAppboyEnabled.toUpperCase()&&sessionStorage.getItem("appboySwitch")&&"enable"===sessionStorage.getItem("appboySwitch"))}isProduction(){const n=window.location.hostname;return!(n.match("dev")||n.match("qa")||n.match("localhost")||n.match("uat")||n.match("-sandbox")||n.match("perf"))}getBashPath(){return"/"+this.getCountryCode()+"/"+this.getCurrentLanguageFromURL().toLowerCase()+"/"}shouldShowRegretMSGReducedSpeed(n,d){const t=this.parseDayRange(n),o=this.parseDayRange(d);return o[0]>t[0]||o[1]>t[1]}parseDayRange(n){const d=n.split("-");return 1===d.length?[parseInt(d[0],10),parseInt(d[0],10)]:[parseInt(d[0],10),parseInt(d[1],10)]}shouldShowRegretMSG(n,d,t){let o=!1;const e=JSON.parse(sessionStorage.getItem("ValidationRequest")),x="true"===sessionStorage.getItem("isACtoIAconverted"),$="Y"===t;return(this.isRealTimeACHEnabled()||this.isRealTimeACHviaTrustlyEnabled())&&n&&!d&&(o=!0),this.isRealTimeACHviaTrustlyEnabled()&&!n&&!d&&!$&&(o=!0),this.isRealTimeACHviaTrustlyEnabled()&&n&&!d&&$&&(!0===x?o=!1:("true"===sessionStorage.getItem("missingBankTransactioIdforIA")||this.isRealTimeACHviaTrustlyEnabled()&&n&&"iACH"===e.payment_details.payment_type&&!$&&x)&&(o=!0)),this.isRealTimeACHviaTrustlyEnabled()&&!d&&"ACH"===e.payment_details.payment_type&&(o=!0),o}shouldUpdateACtoIA(n,d,t,o){return!("ACH"!==t||!o||!1!==n||"Y"!==d)}checkWowForTrustlyiACH(n,d,t){sessionStorage.setItem("isrealtimeforiACH","false"),t="Y"===t;const o=sessionStorage.getItem("SelectedPayInOption"),e="true"===sessionStorage.getItem("isSeletedACHDelvFromPopUp");return!!(this.isRealTimeACHviaTrustlyEnabled()&&!n&&!d&&t&&"iACH"===o||this.isRealTimeACHviaTrustlyEnabled()&&!n&&d||this.isRealTimeACHviaTrustlyEnabled()&&n&&!d&&t&&!e&&"iACH"===o)&&(sessionStorage.setItem("isrealtimeforiACH","true"),!0)}checkReducedFee(n){const d="true"===sessionStorage.getItem("firstPRDCalledFromIAtoAC");let t;const o={},e=n&&n.payout_method_code?n.payout_method_code:"",x=JSON.parse(sessionStorage.getItem("PriceCatalogRes"));if(d){if(e&&x&&x.services_groups)for(let K=0;K<x.services_groups.length;K++)if(Number(x.services_groups[K].fund_out)===Number(e))for(let V=0;V<x.services_groups[K].pay_groups.length;V++){const P=x.services_groups[K].pay_groups[V];o[P.fund_in]=P.base_fee}o.IA>o.AC&&(t=Number(o.IA)-Number(o.AC))}const $=t?t.toString():"";return t?$+" "+(n.defaultCurrencyIsoCode?n.defaultCurrencyIsoCode:null):""}checkPrevSelectionFromInterstitial(){const n="true"===sessionStorage.getItem("isACtoIAconverted"),d="true"===sessionStorage.getItem("isSeletedACHDelvFromPopUp"),t="true"===sessionStorage.getItem("trustlySelectionPopUpOpened");return n||d||t}iACHTrustlyFee(n){let d="";const t=n&&n.payout_method_code?n.payout_method_code:"",o=JSON.parse(sessionStorage.getItem("PriceCatalogRes"));if(t&&o&&o.services_groups)for(let x=0;x<o.services_groups.length;x++)if(Number(o.services_groups[x].fund_out)===Number(t))for(let $=0;$<o.services_groups[x].pay_groups.length;$++){const W=o.services_groups[x].pay_groups[$];if("IA"===W.fund_in){d=W.base_fee;break}}return d}notInResumeTransferBlockList(){const n=this.getCurrentCountryFromURL().toUpperCase(),d=this.getCurrentPageName(),t=!!lodash__WEBPACK_IMPORTED_MODULE_1__.includes(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.BLOCK_RESUME_TRANSFER_DATA_API_CALL.COUNTRY_LIST,n),o=!!lodash__WEBPACK_IMPORTED_MODULE_1__.includes(_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.BLOCK_RESUME_TRANSFER_DATA_API_CALL.STATE_LIST,d);return!(t&&o)}getIACHDeliverySpeed(n,d){const t=JSON.parse(sessionStorage.getItem("app")||"{}"),o=JSON.parse(sessionStorage.getItem("iAchReceiverConfig"))?JSON.parse(sessionStorage.getItem("iAchReceiverConfig")):lodash__WEBPACK_IMPORTED_MODULE_1__.get(t,"iachReceiverConfig"),e=this.getReceivingCountryIsoCode().toUpperCase(),x=o&&(o[e]?o[e]:o.DEFAULT);let $="";return this.getRTRALimitForInstantTransfer()&&x&&Object.keys(x).forEach(function(W){if(W===n)if("AG"!==n){const K=Object.keys(x[n])[0];$=x[n][K].deliveryTime;const V=Object.keys(x[n]).indexOf(d)>-1;d&&!V&&($="")}else{const K=Object.keys(x[n])[0];$=x[n][K]}}),$}getRTRALimitForInstantTransfer(){const n=JSON.parse(sessionStorage.getItem("app")||"{}"),d=JSON.parse(sessionStorage.getItem("iAchReceiverConfig"))?JSON.parse(sessionStorage.getItem("iAchReceiverConfig")):lodash__WEBPACK_IMPORTED_MODULE_1__.get(n,"iachReceiverConfig"),t=lodash__WEBPACK_IMPORTED_MODULE_1__.get(JSON.parse(sessionStorage.getItem("app")||"{}"),"selectedProduct"),o=d&&d.RTRA_IACH_LIMIT;return!!(t&&t.origination&&t.origination.principalAmount&&o)&&Number(t.origination.principalAmount/100)<=o}whichMobDevice(){const n=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(n)?"Windows Phone":/android/i.test(n)?"Android":/iPad|iPhone|iPod/.test(n)&&!window.MSStream?"iOS":"unknown"}isSettingsPageNewOrderEnabled(){return!this.getPartnerName()&&!this.isApplicationPPS()&&!this.isHostedPartner()&&this.featureFlagService.isFeatureEnabled("SETTINGS_PAGE_NEW_ORDER")}getUrlQueryParamSetting(n,d){let t=d;if(null==d&&(t=location.href),-1==t.indexOf("?"))return null;const o=t.substring(t.indexOf("?"),t.length);let e=decodeURIComponent((new RegExp("[?|&]"+n+"=([^&;]+?)(&|#|;|$)").exec(o)||[,""])[1].replace(/\+/g,"%20"))||null;return null!=e&&(e=e.trim()),e}stringToArray(n,d){return d.split(n)}thirdPartyDataShare(){return!(!this.featureFlagService.isFeatureEnabled("THIRD_PARTY_DATASHARING_CONSENT")||this.featureFlagService.isFeatureEnabled("ENABLE_IMPLICIT_THIRD_PARTY_DATASHARING_CONSENT_NON_US")&&(this.isHostedPartner()||this.isApplicationPPS()))}preventProfileRedirection(){return this.isFeatureEnabled("C9998_PREVENT_PROFILE_REDIRECTION")}isSudanTrustlyTooltipEnabled(){return this.featureFlagService.isFeatureEnabled("SUDAN_TRUSTLY_TOOLTIP")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}getFilterAutoSlash(n){const t=n.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{2,8}/g),o=t&&t[0]||"",e=[];let x=0,$=0;for(;x<o.length;)0===$||1===$?(e.push(o.substring(x,x+2)),x+=2):(e.push(o.substring(x,x+4)),x+=4),$++;return e.length?e.join("/"):n}reduceInBetweenSpaces(n){return n.replace(/ +(?= )/g,"")}isHistoryPromoBannerEnabled(){const n=JSON.parse(sessionStorage.getItem("isHistoryPromoBannerEnabled")),d=this.readURLService.getCountryFromURL();return"true"===n?.value&&n?.country?.toLowerCase()===d?.toLowerCase()&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}isUSPPSBrightwell(){return this.isPPSApplication()&&this.updateStoreUsingActionService.getState()?.PPSProfileData?.providerId?.toUpperCase()===_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.ppsProviders.BWELL}isHideCorridorBwell(){return(this.featureFlagService.isFeatureEnabled("HIDE_CORRIDOR_FOR_US_PPS_BWELL")||JSON.parse(sessionStorage.getItem("HIDE_CORRIDOR_FOR_US_PPS_BWELL")))&&this.isUSPPSBrightwell()}hideCorridorList(){return JSON.parse(sessionStorage.getItem("countryDynamicParams")||"{}")?.disableReceiverCountries_PPS||[]}disableDeliveryMethod(){return this.featureFlagService.isFeatureEnabled("DISABLE_UPDATE_DELIVERY_METHOD")&&!(this.getPartnerName()||this.updateStoreUsingActionService.getState().isPPSprofile)}getTxnErrorCount(n){const d=sessionStorage.getItem("txnErrorList")?JSON.parse(sessionStorage.getItem("txnErrorList")):[];for(let t=0;t<d.length;t++)if(d[t].error===n)return d[t].count;return 0}objectToCamelCase(n,d){n.resolve=function(o,e){return o.split(".").reduce(function(x,$){return x?x[$]:void 0},e||self)};const t=function(o){return o.replace(/_([a-z])/g,function(e){return e[1].toUpperCase()})};for(const o in n)n.hasOwnProperty(o)&&("object"==typeof n[o]?(d[t(o)]={},this.objectToCamelCase(n[o],d[t(o)])):d[t(o)]=n[o]);return d}isSuspendRewardsForUSPPS(){const n=this.readURLService.getCountryFromURL();return!(!this.isPPSApplication()||"US"!==n?.toUpperCase())}showBetterRateOnWallet(n,d){let t=!1;return(this.featureFlagService.isFeatureEnabled("SHOW_BETTER_RATE_LOGO_TEXT_LOGO")||"true"==sessionStorage.getItem("showBetterRateTag"))&&n?.toUpperCase()==_shared_models_constants__WEBPACK_IMPORTED_MODULE_0__.Y.walletLogoAndBetterTextRecvCountry&&d===_shared_models_basetypes__WEBPACK_IMPORTED_MODULE_15__.Zr.WA&&(t=!0),t}redirectToVerificationOptions(){const n=JSON.parse(sessionStorage.getItem("GatewayCustomer")),d=n&&n.identityVerificationStatus,t=sessionStorage.getItem("SelectedPayInOption"),o=this.countryConfigData?.ConfigTemplate?.country?this.countryConfigData.ConfigTemplate.country.toUpperCase():this.smoConfig._getCountryIsoCode().toUpperCase();return!("AG"===t||"SG"!==o||!this.countryConfigData.ConfigTemplate.KYCVerification||"TRUE"!=this.countryConfigData.ConfigTemplate.KYCVerification.toUpperCase()||!d||-1===_shared_models_const_verification_data__WEBPACK_IMPORTED_MODULE_19__.J.NOT_VERIFIED.indexOf(d))}static#_=this.\u0275fac=function(d){return new(d||UtilService)(_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_ngrx_store__WEBPACK_IMPORTED_MODULE_23__.il),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_optimus_services__WEBPACK_IMPORTED_MODULE_3__.qd),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(ngx_cookie_service__WEBPACK_IMPORTED_MODULE_34__.O),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_store_actions_service__WEBPACK_IMPORTED_MODULE_2__.k),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_routing_service__WEBPACK_IMPORTED_MODULE_4__.O),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_optimus_services__WEBPACK_IMPORTED_MODULE_3__.l9),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_services_api_services_riskified_service__WEBPACK_IMPORTED_MODULE_6__.i),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_shared_services_optimus_services_feature_flag_service__WEBPACK_IMPORTED_MODULE_7__.y),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_core_services_read_url_service__WEBPACK_IMPORTED_MODULE_10__.F),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_shared_services_url_service__WEBPACK_IMPORTED_MODULE_12__.H),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_32__.Agw),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_angular_router__WEBPACK_IMPORTED_MODULE_35__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_sand_box_translations_service__WEBPACK_IMPORTED_MODULE_36__.C),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_angular_common__WEBPACK_IMPORTED_MODULE_22__.qQ),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(ngx_page_scroll_core__WEBPACK_IMPORTED_MODULE_37__.s6),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_core_services_transfer_state_service_service__WEBPACK_IMPORTED_MODULE_38__.G),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_optimus_services__WEBPACK_IMPORTED_MODULE_3__.B5),_angular_core__WEBPACK_IMPORTED_MODULE_32__.KVO(_angular_common__WEBPACK_IMPORTED_MODULE_22__.aZ))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_32__.jDH({token:UtilService,factory:UtilService.\u0275fac,providedIn:"root"})}return UtilService})()},33247:(n,d,t)=>{"use strict";t.d(d,{G:()=>m});var o=t(60177),e=t(89417),x=t(99830),$=t(41780),W=t(45439),K=t(2490),V=t(34852),P=t(47058),D=t(26692),f=t(75194),C=t(1027),A=t(39574),E=t(41654),N=t(34781),_=t(41908),M=t(16619),U=t(77202),w=t(94358),O=t(21148),G=t(27493),s=t(91149),a=t(56918),c=t(21239),r=t(23135),g=t(34644),p=t(69966),h=t(83594),l=t(12650),v=t(66338),S=t(54438);let m=(()=>{class b{static forRoot(){return{ngModule:b,providers:[N.k,A.DL,P.Bj,A.mj,P.Pp,A.hl,M.E,V.g,U.a,O.O,G.l,s.q,a.k,w.V,g.t,h.P,l.k]}}static#e=this.\u0275fac=function(k){return new(k||b)};static#t=this.\u0275mod=S.$C({type:b});static#i=this.\u0275inj=S.G2t({providers:[K.O,A.AI,A.Mz,A.i6,V.g,D.M,f.R,C.l,a.k,c.A,A.A6,P.B5,(0,x.Dw)()],imports:[o.MD,e.YN,e.X1,E.Y,_.h,r.YN.forRoot(),$.h,p.k0.forRoot(),v.kd,W.MQ,$.h,o.MD,_.h,E.Y,r.YN]})}return b})()},99297:(n,d,t)=>{"use strict";t.d(d,{Kk:()=>V,jz:()=>P,n:()=>D});var o=t(10467),e=t(60177),x=t(54438),$=t(78863),W=t(47058),K=t(85717);let V=(()=>{class f{constructor(A,E){this.router=A,this.platformId=E}canLoad(){return!(0,e.Vy)(this.platformId)||(this.router.navigate(["/ssr-placeholder"]),!1)}canActivate(){return!(0,e.Vy)(this.platformId)||(this.router.navigate(["/ssr-placeholder"]),!1)}static#e=this.\u0275fac=function(E){return new(E||f)(x.KVO(K.Ix),x.KVO(x.Agw))};static#t=this.\u0275prov=x.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),P=(()=>{class f{constructor(A,E){this.platformId=A,this.router=E}canActivate(){return!!(0,e.Vy)(this.platformId)||this.router.createUrlTree(["/send-money/start"])}static#e=this.\u0275fac=function(E){return new(E||f)(x.KVO(x.Agw),x.KVO(K.Ix))};static#t=this.\u0275prov=x.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),D=(()=>{class f{constructor(A,E,N,_){this.readUrlService=A,this.countryListService=E,this.router=N,this.platformId=_}canActivate(){var A=this;return(0,o.A)(function*(){if((0,e.UE)(A.platformId))return!0;const M=[A.readUrlService.getAnchorFromURL(),A.readUrlService.getURLParam("partnerName"),A.readUrlService.getSSRRequestCookie("partnerName")].indexOf("googlespot")>-1,U="existingCustomer"===A.readUrlService.getSSRRequestCookie("userIdentity");return!((A.readUrlService.getURLParam("ReceiveCountry")||A.readUrlService.getSSRRequestCookie("lastCountry")||U)&&!M)||(yield A.countryListService.getCountries().toPromise(),A.router.createUrlTree(["/ssr-placeholder"]))})()}static#e=this.\u0275fac=function(E){return new(E||f)(x.KVO($.Fq),x.KVO(W.gn),x.KVO(K.Ix),x.KVO(x.Agw))};static#t=this.\u0275prov=x.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},76976:(n,d,t)=>{"use strict";var o=t(345),e=t(54438),x=t(64646),$=t(75236),W=t(2490),K=t(57395),V=t(85717),P=t(99297);let D=(()=>{class H{static#e=this.\u0275fac=function(j){return new(j||H)};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["ng-component"]],decls:0,vars:0,template:function(j,q){},encapsulation:2})}return H})();var f=t(18456),C=t(40328);let A=(()=>{class H{constructor(u){this.httpService=u}resolve(){return this.httpService.get("activeVersion").pipe((0,f.ZZ)(u=>this.httpService.get("smoConfig",{assetVersion:u.assetVersion,country:"global"})))}static#e=this.\u0275fac=function(j){return new(j||H)(e.KVO(C.k))};static#t=this.\u0275prov=e.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();var E=t(93885),N=t(58652),_=t(87801),M=t(47058),U=t(5365),w=t(77202),O=t(45286),G=t(7605),s=t(87760),a=t(79817),c=t(60177);const r=["countrySelectionRef"],g=(H,ge)=>({activated:H,disabled:ge}),p=H=>({"cls-checkMark":H});function h(H,ge){if(1&H&&(e.j41(0,"div",24),e.nrm(1,"span",25),e.k0s()),2&H){const u=e.XpG();e.R7$(),e.Y8G("innerHTML",u.translations&&u.translations.country_selection_search_placeholder_2,e.npT)}}function l(H,ge){if(1&H&&(e.j41(0,"span"),e.nrm(1,"img",33),e.k0s()),2&H){const u=e.XpG().$implicit,j=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(1,p,j.selectedCountry&&j.selectedCountry.key===u.key))}}function v(H,ge){if(1&H){const u=e.RV6();e.qex(0),e.j41(1,"div",26)(2,"div",27),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG();return e.Njj(ue.clickToSelectCountry(q))}),e.j41(3,"div",28),e.nrm(4,"span"),e.nI1(5,"uppercase"),e.k0s(),e.j41(6,"div",29),e.nrm(7,"span",30),e.k0s(),e.j41(8,"div",31),e.DNE(9,l,2,3,"span",32),e.k0s()()(),e.bVm()}if(2&H){const u=ge.$implicit,j=e.XpG();e.R7$(2),e.FS9("title",u.value),e.Y8G("ngClass",e.l_i(9,g,j.selectedCountry&&j.selectedCountry.key===u.key,u.disabled)),e.R7$(2),e.ZvI("flag flag-icon flag-icon-size ",e.bMT(5,7,u.key),""),e.R7$(3),e.FS9("innerHTML",u.value,e.npT),e.R7$(2),e.Y8G("ngIf",j.selectedCountry&&j.selectedCountry.key===u.key)}}let S=(()=>{class H{constructor(u,j,q,ue,ye){this.smoConfigService=u,this.translationsService=j,this.optimusService=q,this.utilService=ue,this.transferStateService=ye,this.isFloatingLabel=!1,this.loginStatus=!1,this.isCountryDisabled=!1,this.destroyed$=new O.B7}ngOnInit(){this.loginStatus=this.utilService.getLoggedInStatus();const u=this.utilService.isGlobalChangeLanguageCountryEnabled(),j=!(!this.utilService.getCookieStoreItem("partnerName")&&!this.utilService.getURLParameter("partnerName"));this.isCountryDisabled=!u||j,this.loadConetnts(),this.mappedLanguageAndCountryLists()}mappedLanguageAndCountryLists(){const u=this.smoConfigService.getLanguageFromURL().toLowerCase(),j=this.smoConfigService._getCountryIsoFromURL().toUpperCase();this.currentCountryDetails={currentCountry:j,currentLanguage:u,defaultLanguage:"en"};const q=JSON.parse(sessionStorage.getItem("StoredCountryListItem")||"null");if(q&&q.DropdownList&&q.allLanguageLists&&q.currentCountryCode===this.currentCountryDetails.currentCountry&&q.currentCountryLanguage===this.currentCountryDetails.currentLanguage)return this.countryList=q,void(this.countrySelectionList=this.countryList.DropdownList);this.getCountryLangList(this.currentCountryDetails.currentLanguage,this.currentCountryDetails.currentCountry).pipe((0,G.Q)(this.destroyed$)).subscribe(ue=>{ue&&(this.countryList={DropdownList:this.utilService.mappedDropdownLists(ue.COUNTRY_LIST,this.isCountryDisabled),allLanguageLists:ue.TAT_LANGUAGES,currentCountryCode:this.currentCountryDetails.currentCountry,currentCountryLanguage:this.currentCountryDetails.currentLanguage},this.countrySelectionList=this.countryList.DropdownList,sessionStorage.setItem("StoredCountryListItem",JSON.stringify(this.countryList)),this.setStickyFooter())},ue=>console.error(ue))}getCountryLangList(u,j){const q=new N.J,ue=[{name:_.MG.TAT_LANGUAGES,type:"lang",lookupKey:"COUNTRYLANGUAGES"},{name:E.Y.COUNTRY_LIST,type:"country"}];q.setOrigination(j).setLanguage(u).setMultiList(ue).setBashpath(`/${j}/${u}`);const ye=(0,e.zw6)(`post//list.optimus.json//${JSON.stringify(q)}`);return this.transferStateService.fetch(ye,this.optimusService.invokeGenericFactory(_.MG.TAT_LANGUAGES,q))}setStickyFooter(u){const j=u||this.countrySelectionRef?.nativeElement?.parentElement;j&&("visible"!==getComputedStyle(j)?.overflow?j.style.overflow="unset":j?.parentElement&&this.setStickyFooter(j?.parentElement))}loadConetnts(){this.translationsService.getGlobalCountrySelectionTranslation().pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.translations=u},u=>console.error(u))}clickToSelectCountry(u){this.selectedCountry=u}searchCountry(u){let j=u?.target?.value;const q=JSON.parse(JSON.stringify(this.countryList.DropdownList));if(j){this.isFloatingLabel=!0,j=j.toLowerCase();const ue=q.filter(function(ye){return ye.value.toLowerCase().includes(j)});this.countrySelectionList=ue.length>0?ue:[]}else this.isFloatingLabel=!1,this.countrySelectionList=this.countryList.DropdownList}pageRouteToDestination(){switch(sessionStorage.getItem("previous_page_name")){case"login":this.changeCountry("user/login",!0);break;case"send-money-option":this.changeCountry("send-money/start",!0);break;case"register":this.changeCountry("user/register",!0);break;case"forgot-password":this.changeCountry("user/forgot-password",!0);break;default:this.changeCountry("home.html",!1)}}changeCountry(u,j){if(this.loginStatus||this.selectedCountry.disabled)return;const q=this.selectedCountry&&this.selectedCountry.key,ue=this.utilService.setLanguageCode(this.currentCountryDetails,this.countryList,q);this.setWindowUrl(q&&j?`/${q.toLowerCase()}/${ue}/web/${u}`:`/${q.toLowerCase()}/${ue}/${u}`)}setWindowUrl(u){window.location.href=u}onResize(){this.setStickyFooter()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(M.l9),e.rXU(s.C),e.rXU(U.B),e.rXU(w.a),e.rXU(a.G))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-global-countries-selection"]],viewQuery:function(j,q){if(1&j&&e.GBs(r,5),2&j){let ue;e.mGM(ue=e.lsd())&&(q.countrySelectionRef=ue.first)}},hostBindings:function(j,q){1&j&&e.bIt("resize",function(){return q.onResize()},!1,e.tSv)},decls:25,vars:8,consts:[["countrySelectionRef",""],[1,"container","country-seletion-main"],[1,"main"],[1,"header"],[1,"title","d-flex"],[1,"common-width-adjust","col-md-6","col-sm-8","col-xs-12"],[1,"title-description",3,"innerHTML"],[1,"search-box","d-flex"],[1,"col-md-5","col-sm-8","col-xs-12","common-width-adjust","p-relative"],["class","floating-search-label",4,"ngIf"],[1,"search-icon"],[1,"info-icon-black-pop","icon-0035_search","custome-icon-search"],["type","text",1,"input-serach",3,"input","placeholder"],[1,"clearfix"],[1,"content","d-flex"],[1,"common-width-adjust","col-md-5","col-sm-8","col-xs-12"],[1,"content-description",3,"innerHTML"],[1,"body"],[1,"highlight-country-box"],[4,"ngFor","ngForOf"],[1,"footer"],[1,"change-country-button"],["type","submit",3,"click","disabled"],[3,"innerHTML"],[1,"floating-search-label"],[1,"floating-search-label-design",3,"innerHTML"],[1,"set-all-box","col-md-3","col-sm-4","col-xs-12"],[1,"deactivated",3,"click","title","ngClass"],[1,"col-md-2","col-sm-2","col-xs-2","p-0"],[1,"col-md-8","col-sm-8","col-xs-8","p-0","text-left"],[1,"set-country-name-text",3,"innerHTML"],[1,"col-md-2","col-sm-2","col-xs-2","set-checkmark-parent"],[4,"ngIf"],["src","/etc/designs/westernunion/optimus/icons/icon-checkmark-green.svg",3,"ngClass"]],template:function(j,q){if(1&j){const ue=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"span",6),e.k0s()(),e.j41(7,"div",7)(8,"div",8),e.DNE(9,h,2,1,"div",9),e.j41(10,"span",10),e.nrm(11,"i",11),e.k0s(),e.j41(12,"input",12),e.bIt("input",function(be){return e.eBV(ue),e.Njj(q.searchCountry(be))}),e.k0s()(),e.nrm(13,"div",13),e.k0s(),e.j41(14,"div",14)(15,"div",15),e.nrm(16,"span",16),e.k0s()()(),e.j41(17,"div",17)(18,"div",18),e.DNE(19,v,10,12,"ng-container",19),e.nrm(20,"div",13),e.k0s()(),e.j41(21,"div",20)(22,"div",21)(23,"button",22),e.bIt("click",function(){return e.eBV(ue),e.Njj(q.pageRouteToDestination())}),e.nrm(24,"span",23),e.k0s()()()()()}2&j&&(e.R7$(6),e.Y8G("innerHTML",q.translations&&q.translations.country_selection_page_title,e.npT),e.R7$(3),e.Y8G("ngIf",q.isFloatingLabel),e.R7$(3),e.Y8G("placeholder",q.translations&&q.translations.country_selection_search_placeholder),e.R7$(4),e.Y8G("innerHTML",q.translations&&q.translations.country_selection_search_suggestion_text,e.npT),e.R7$(3),e.Y8G("ngForOf",q.countrySelectionList),e.R7$(4),e.Y8G("disabled",q.loginStatus||!q.loginStatus&&!q.selectedCountry),e.BMQ("amplitude-id","button-change-country_"+(q.selectedCountry&&q.selectedCountry.key)),e.R7$(),e.Y8G("innerHTML",q.translations&&q.translations.country_selection_button_label,e.npT))},dependencies:[c.YU,c.Sq,c.bT,c.Pc],styles:[".country-seletion-main[_ngcontent-%COMP%]{text-align:center;padding:0 15px}.d-flex[_ngcontent-%COMP%]{display:flex}.p-0[_ngcontent-%COMP%]{padding:0}.p-relative[_ngcontent-%COMP%]{position:relative}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{background:#fff;padding:0 50px}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:20px 0}.title-description[_ngcontent-%COMP%]{color:#44433d;font-family:OpenSans-SemiBold;font-size:24px;font-weight:600;height:30px;letter-spacing:0px;line-height:30px;text-align:center}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{padding:2px 0}.common-width-adjust[_ngcontent-%COMP%]{margin:0 auto;padding:0}.set-checkmark-parent[_ngcontent-%COMP%]{text-align:right;padding-right:15px;padding-left:0}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .input-serach[_ngcontent-%COMP%]{background:#fff;border-radius:3px;border:1px solid rgb(187,187,187);height:50px;width:100%;padding:15px 0 15px 15px}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-description[_ngcontent-%COMP%]{color:#767676;font-family:OpenSans-Regular;font-size:14px;font-weight:400;letter-spacing:0px;line-height:18px}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{margin:30px 0}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .highlight-country-box[_ngcontent-%COMP%]   .set-all-box[_ngcontent-%COMP%]   .set-country-name-text[_ngcontent-%COMP%]{padding-left:15px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left;display:block}.activated[_ngcontent-%COMP%]{background:#f2f9f1!important}.deactivated[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 8px #0003;height:47px;margin:10px 0;display:flex;align-items:center;padding-left:15px;cursor:pointer}.cls-checkMark[_ngcontent-%COMP%]{width:20px}.set-icon[_ngcontent-%COMP%]{height:47px;display:flex;width:15%;justify-content:space-around}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:30px 0;position:sticky;bottom:0;background:#fff}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .change-country-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#055f86;height:40px;width:408px;color:#fff}.floating-search-label[_ngcontent-%COMP%]{position:absolute;top:3px;left:17px}.floating-search-label-design[_ngcontent-%COMP%]{color:#767676;font-family:HelveticaNeue;font-size:11px;height:18px;letter-spacing:0px;line-height:17px;width:39px}.search-icon[_ngcontent-%COMP%]{position:absolute;right:15px;top:17px}.custome-icon-search[_ngcontent-%COMP%]{color:#368abb;font-size:18px}.change-country-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, button[disabled][_ngcontent-%COMP%]{opacity:.65}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.65}@media (max-width:992px){.title-description[_ngcontent-%COMP%]{font-size:20px}.set-all-box[_ngcontent-%COMP%]{padding:0 15px}}@media (max-width:768px){.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{padding:0}.title-description[_ngcontent-%COMP%]{font-size:17px}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-description[_ngcontent-%COMP%]{font-size:12px}.country-seletion-main[_ngcontent-%COMP%]{padding:0}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 15px}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;height:unset;margin-bottom:0}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .input-serach[_ngcontent-%COMP%]{width:100%}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:10px}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-description[_ngcontent-%COMP%]{width:100%}.set-all-box[_ngcontent-%COMP%]{padding:0}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .change-country-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:10px 0}.country-seletion-main[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .highlight-country-box[_ngcontent-%COMP%]   .set-all-box[_ngcontent-%COMP%]   .set-country-name-text[_ngcontent-%COMP%]{width:100%;padding:0}}"]})}return H})();const m=[{path:"",redirectTo:"send-money",pathMatch:"full"},{path:"send-money",loadChildren:()=>t.e("projects_web_src_app_modules_send-money-option_send-money-option_module_ts").then(t.bind(t,85896)).then(H=>H.SendMoneyOptionModule)},{path:"user",loadChildren:()=>t.e("projects_web_src_app_modules_user_user_module_ts").then(t.bind(t,65238)).then(H=>H.UserModule)},{path:"gbg",loadChildren:()=>t.e("projects_web_src_app_modules_gbg_gbg_module_ts").then(t.bind(t,61602)).then(H=>H.GbgModule)},{path:"onfido",loadChildren:()=>t.e("projects_web_src_app_modules_onfido_onfido-vendor_module_ts").then(t.bind(t,21508)).then(H=>H.OnfidoModule)},{path:"receiver",loadChildren:()=>t.e("projects_web_src_app_modules_receiver_receiver_module_ts").then(t.bind(t,40721)).then(H=>H.ReceiverModule),canLoad:[P.Kk]},{path:"review",loadChildren:()=>t.e("projects_web_src_app_modules_review_review_module_ts").then(t.bind(t,53406)).then(H=>H.ReviewModule)},{path:"payment",loadChildren:()=>t.e("projects_web_src_app_modules_payment_payment_module_ts").then(t.bind(t,75999)).then(H=>H.PaymentModule),canLoad:[P.Kk]},{path:"kyc",loadChildren:()=>t.e("projects_web_src_app_modules_kyc_kyc_module_ts").then(t.bind(t,82179)).then(H=>H.KycModule)},{path:"init",loadChildren:()=>t.e("projects_web_src_app_modules_partner-init_partner-init_module_ts").then(t.bind(t,93582)).then(H=>H.PartnerInitModule)},{path:"bill-pay",loadChildren:()=>t.e("projects_web_src_app_modules_bill-pay_bill-pay_module_ts").then(t.bind(t,30741)).then(H=>H.BillPayModule)},{path:"account",loadChildren:()=>t.e("projects_web_src_app_modules_account_account_module_ts").then(t.bind(t,3400)).then(H=>H.AccountModule),canLoad:[P.Kk]},{path:"enable-service",loadChildren:()=>t.e("projects_web_src_app_modules_partner-enablement_partner-enablement_module_ts").then(t.bind(t,71933)).then(H=>H.PartnerEnablementModule)},{path:"dashboard",loadChildren:()=>t.e("projects_web_src_app_modules_dashboard_dashboard_module_ts").then(t.bind(t,2514)).then(H=>H.DashboardModule)},{path:"lbp",loadChildren:()=>t.e("projects_web_src_app_modules_lbp_lbp_module_ts").then(t.bind(t,1807)).then(H=>H.LbpModule)},{path:"dss",loadChildren:()=>t.e("projects_web_src_app_modules_dss_dss_module_ts").then(t.bind(t,59251)).then(H=>H.DssModule)},{path:"collect-id",loadChildren:()=>t.e("projects_web_src_app_modules_collect-id_collect-id_module_ts").then(t.bind(t,48128)).then(H=>H.CollectIdModule)},{path:"globalcollect-id",loadChildren:()=>t.e("projects_web_src_app_modules_globalcollect-id-page_globalcollect-id-page_module_ts").then(t.bind(t,7804)).then(H=>H.GlobalcollectIdPageModule)},{path:"receipt",loadChildren:()=>t.e("projects_web_src_app_modules_receipt_receipt_module_ts").then(t.bind(t,45421)).then(H=>H.ReceiptModule)},{path:"ssr-placeholder",component:D,canActivate:(0,V.lv)([P.jz])},{path:"preview",loadChildren:()=>t.e("projects_web_src_app_modules_complete-your-profile_complete-profile_module_ts").then(t.bind(t,53047)).then(H=>H.CompleteProfileModule)},{path:"complete-profile",loadChildren:()=>t.e("projects_web_src_app_modules_complete-your-profile_complete-profile_module_ts").then(t.bind(t,53047)).then(H=>H.CompleteProfileModule)},{path:"update-bank-account-details",loadChildren:()=>t.e("projects_web_src_app_modules_bank-details_bank-details_module_ts").then(t.bind(t,58949)).then(H=>H.BankDetailsModule)},{path:"global-service",loadChildren:()=>t.e("projects_web_src_app_modules_global-service_global-service_module_ts").then(t.bind(t,41049)).then(H=>H.GlobalServiceModule),resolve:{globalSmoConfig:A}},{path:"global-country-selection",component:S},{path:"ding-topup",loadChildren:()=>t.e("projects_web_src_app_modules_ding-topup_ding-topup_module_ts").then(t.bind(t,10343)).then(H=>H.DingTopupModule)},{path:"refer-a-friend",loadChildren:()=>t.e("projects_web_src_app_modules_rcx-refer-friend_rcx-refer-friend_module_ts").then(t.bind(t,34885)).then(H=>H.RcxReferFriendModule)},{path:"dss2",loadChildren:()=>t.e("projects_web_src_app_modules_dss2_dss2_module_ts").then(t.bind(t,83056)).then(H=>H.Dss2Module)},{path:"dut",loadChildren:()=>t.e("projects_web_src_app_modules_dut_dut_module_ts").then(t.bind(t,51196)).then(H=>H.DutModule)}];let b=(()=>{class H{static#e=this.\u0275fac=function(j){return new(j||H)};static#t=this.\u0275mod=e.$C({type:H});static#i=this.\u0275inj=e.G2t({imports:[V.iI.forRoot(m,{initialNavigation:"enabledBlocking"}),V.iI]})}return H})();var Y=t(58728),R=t(1013),k=t(89461),L=t(87465),y=t(21239),I=t(50051),T=t(90592),te=t(66726),Z=t(64932),de=t(34781),oe=t(69900),ae=t(63548),he=t(56447),B=t(3902),z=t(31710),ie=t(68002),re=t(61862),Ce=t(20706),X=t(21148),Ee=t(67376),De=t(13450),fe=t(78863),Ue=t(49969),ee=t(88764),se=t(41780);function le(H,ge){if(1&H){const u=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(u);const q=e.XpG();return e.Njj(q.closeModal())}),e.nrm(1,"span",12),e.k0s()}}function F(H,ge){1&H&&(e.nrm(0,"p",13),e.nI1(1,"translate")),2&H&&e.Y8G("innerHTML",e.bMT(1,1,"refer-friend.profile_instruction_raf_subtitle"),e.npT)}function J(H,ge){1&H&&(e.nrm(0,"p",13),e.nI1(1,"translate")),2&H&&e.Y8G("innerHTML",e.bMT(1,1,"pickupcash.profile_instruction_pickupcash_subtitle"),e.npT)}let Q=(()=>{class H{constructor(u){this.routingService=u,this.isCancellable=!1,this.closeModalFlag=new e.bkB}ngOnInit(){}closeModal(){this.closeModalFlag.emit(!1)}navToProfile(){this.routingService.navigateTOProfille()}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(he.O))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-update-profile-modal"]],inputs:{isCancellable:"isCancellable",clickedLink:"clickedLink"},outputs:{closeModalFlag:"closeModalFlag"},decls:15,vars:9,consts:[[1,"upm-popup-container"],[1,"close-icon"],["type","button","class","close popup-close","aria-label","Close","amplitude-id","icon-close-update-profile-pop-up",3,"click",4,"ngIf"],[1,"info-popup-content"],[1,"margin-bottom-20"],["src","../../../../../../etc/designs/westernunion/responsive_css/images/icon-alert-orange48.svg","alt","icon-alert-warning",2,"height","30px"],[1,"info-popup-title","margin-bottom-20",3,"innerHTML"],["class","info-popup-subtitle",3,"innerHTML",4,"ngIf"],[1,"padding-top-30"],["amplitude-id","button-update-profile-pop-up","data-dismiss","modal",1,"btn","btn-primary","btn-lg","btn-ta-popup","no-margin",3,"click"],[3,"innerHTML"],["type","button","aria-label","Close","amplitude-id","icon-close-update-profile-pop-up",1,"close","popup-close",3,"click"],[1,"icons-apps","icons-apps-close"],[1,"info-popup-subtitle",3,"innerHTML"]],template:function(j,q){1&j&&(e.j41(0,"app-modal-generic")(1,"div",0)(2,"div",1),e.DNE(3,le,2,0,"button",2),e.k0s(),e.j41(4,"div",3)(5,"p",4),e.nrm(6,"img",5),e.k0s(),e.nrm(7,"p",6),e.nI1(8,"translate"),e.DNE(9,F,2,3,"p",7)(10,J,2,3,"p",7),e.j41(11,"div",8)(12,"button",9),e.bIt("click",function(){return q.navToProfile()}),e.nrm(13,"span",10),e.nI1(14,"translate"),e.k0s()()()()()),2&j&&(e.R7$(3),e.Y8G("ngIf",q.isCancellable),e.R7$(4),e.Y8G("innerHTML",e.bMT(8,5,"mywu.profile_instruction_header"),e.npT),e.R7$(2),e.Y8G("ngIf","refer-friend"===q.clickedLink),e.R7$(),e.Y8G("ngIf","pickupcash"===q.clickedLink),e.R7$(3),e.Y8G("innerHTML",e.bMT(14,7,"mywu.profile_instruction_btn"),e.npT))},dependencies:[c.bT,ae.u,se.D9],styles:[".upm-popup-container[_ngcontent-%COMP%]{position:fixed;max-width:450px;height:inherit;margin:0 auto;border:0;box-shadow:none;-webkit-box-shadow:none;background:#fff;left:50%;top:50%;transform:translate(-50%,-50%);z-index:10000}.upm-popup-container[_ngcontent-%COMP%]   .icons-apps-close[_ngcontent-%COMP%]{font-size:14px;color:#368abb}.upm-popup-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{margin:12px 12px 0 0}.upm-popup-container[_ngcontent-%COMP%]   .info-popup-content[_ngcontent-%COMP%]{padding:20px}.info-popup-content[_ngcontent-%COMP%]   .info-popup-title[_ngcontent-%COMP%]{color:#44433d;font-size:18px;font-family:OpenSans-SemiBold;font-weight:700;text-align:center;letter-spacing:0px;line-height:16px}.info-popup-content[_ngcontent-%COMP%]   .info-popup-subtitle[_ngcontent-%COMP%]{color:#44433d;font-size:14px;font-family:EuclidWU-Regular;font-weight:400;text-align:center;letter-spacing:-.1px;line-height:21px}@media (min-width: 992px){.upm-popup-container[_ngcontent-%COMP%]{position:fixed;width:400px;height:auto;background:#fff;border-radius:0;left:50%;top:50%;transform:translate(-50%,-50%);z-index:10000}}@media (max-width: 991px) and (min-width: 300px){.upm-popup-container[_ngcontent-%COMP%]{position:fixed;width:100%;height:auto;background:#fff;border-radius:0;left:50%;top:50%;transform:translate(-50%,-50%);z-index:10000}.upm-popup-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{margin:8px 8px 0 0}.upm-popup-container[_ngcontent-%COMP%]   .info-popup-content[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}}.btn-ta-popup[_ngcontent-%COMP%]{padding:4%;font-size:16px;line-height:1;border:2px solid;border-radius:6px;width:100%}"]})}return H})(),ne=(()=>{class H{static#e=this.\u0275fac=function(j){return new(j||H)};static#t=this.\u0275dir=e.FsC({type:H,selectors:[["","appWuheader",""]]})}return H})(),_e=(()=>{class H{constructor(u,j){this.Element=u,this.renderer=j,this.clicked=!1}onClick(u){const j=u.target,q=j.parentElement;!this.clicked&&q&&(q.classList.contains("select-toggle")||q.classList.contains("dropdown")||j.classList.contains("dropdown"))?this.expandSiteMenu():this.collapseSiteMenu()}onResize(){this.collapseSiteMenu()}expandSiteMenu(){this.renderer.addClass(this.Element.nativeElement,"active"),this.renderer.addClass(this.Element.nativeElement,"open");const u=this.Element.nativeElement.parentElement.querySelector(".dropdown-menu");this.renderer.addClass(u,"expand"),this.clicked=!0}collapseSiteMenu(){this.renderer.removeClass(this.Element.nativeElement,"active"),this.renderer.removeClass(this.Element.nativeElement,"open");const u=this.Element.nativeElement.parentElement.querySelector(".dropdown-menu");this.renderer.removeClass(u,"expand"),this.clicked=!1}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:H,selectors:[["","appHeaderHamburger",""]],hostBindings:function(j,q){1&j&&e.bIt("click",function(ye){return q.onClick(ye)},!1,e.EBC)("resize",function(){return q.onResize()},!1,e.tSv)}})}return H})(),pe=(()=>{class H{constructor(u,j){this.renderer=u,this.element=j}onClick(u){const j=u.target;!this.element.nativeElement.classList.contains("active")||j.classList.contains("global-lang-selector-menu")||j.classList.contains("global-lang-selector-dropdown")||j.classList.contains("global-lang-selector-button-icon")||j.classList.contains("global-lang-selector-button-text")||j.classList.contains("global-language-tab-menu")||j.classList.contains("global-lang-selector-right-icon")||j.classList.contains("global-lang-selector-down-icon")?(j.classList.contains("wu-hamburger-menu")||j.classList.contains("language-selector-button"))&&this.expandHeaderTabs():this.resetHeaderTabs()}onResize(){const u=window.innerWidth;this.element.nativeElement.classList.contains("active")&&u>768&&this.resetHeaderTabs()}resetHeaderTabs(){this.renderer.removeClass(this.element.nativeElement,"active");const u=this.element.nativeElement.parentElement.querySelector("#wuRpHeaderTabs");u&&u.querySelectorAll("li").forEach(ue=>{ue.classList.add("hidden-xs"),this.renderer.removeAttribute(ue,"style")});const j=this.element.nativeElement.parentElement.querySelector(".tab-menu-container");j&&(j.classList.remove("expand"),j.classList.remove("hmtabMenuContainer"))}expandHeaderTabs(){this.renderer.addClass(this.element.nativeElement,"active");const u=this.element.nativeElement.parentElement.querySelector("#wuRpHeaderTabs");u&&u.querySelectorAll("li").forEach(ye=>{ye.classList.contains("language-selector-item")||(ye.classList.remove("hidden-xs"),ye.style.width="100%",ye.style.border="none")});const j=this.element.nativeElement.parentElement.querySelector(".tab-menu-container");j&&(j.classList.add("expand"),j.classList.add("hmtabMenuContainer"));const q=this.element.nativeElement.parentElement.querySelector("#globalLangSelectorArrowIcon");this.addRemoveGlabalIcon(q)}addRemoveGlabalIcon(u){u&&(u.classList.remove("global-lang-selector-down-icon"),u.classList.add("global-lang-selector-right-icon"))}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(e.sFG),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:H,selectors:[["","appHeaderMenu",""]],hostBindings:function(j,q){1&j&&e.bIt("click",function(ye){return q.onClick(ye)},!1,e.EBC)("resize",function(){return q.onResize()},!1,e.tSv)}})}return H})(),Ae=(()=>{class H{constructor(u,j){this.Element=u,this.renderer=j,this.clicked=!1}onClick(u){const q=u.target.parentElement;!this.clicked&&q&&this.checkIsClassExists(q)?this.expandSiteMenu():this.collapseSiteMenu()}checkIsClassExists(u){return u.classList.contains("global-lang-selector-menu")||u.classList.contains("global-lang-selector-dropdown")}onResize(){this.collapseSiteMenu()}expandSiteMenu(){this.renderer.addClass(this.Element.nativeElement,"active"),this.renderer.addClass(this.Element.nativeElement,"open");const u=this.Element.nativeElement.parentElement.querySelector(".global-lang-selector-dropdown-menu");this.addExpandClass(u),this.clicked=!0}collapseSiteMenu(){this.renderer.removeClass(this.Element.nativeElement,"active"),this.renderer.removeClass(this.Element.nativeElement,"open");const u=this.Element.nativeElement.parentElement.querySelector(".global-lang-selector-dropdown-menu");this.removeExpandClass(u),this.clicked=!1}addExpandClass(u){null!==u&&(this.renderer.addClass(u,"expand"),this.renderer.removeClass(u,"displayNone"))}removeExpandClass(u){null!==u&&(this.renderer.removeClass(u,"expand"),this.renderer.addClass(u,"displayNone"))}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:H,selectors:[["","appGlobalLangSelectorDesktop",""]],hostBindings:function(j,q){1&j&&e.bIt("click",function(ye){return q.onClick(ye)},!1,e.EBC)("resize",function(){return q.onResize()},!1,e.tSv)}})}return H})(),ve=(()=>{class H{constructor(u,j){this.renderer=u,this.element=j,this.clicked=!1}onClick(u){const q=u.target.parentElement;this.clicked&&q&&this.checkIsClassExists(q)?this.resetHeaderTabs():!this.clicked&&q&&this.checkIsClassExists(q)&&this.expandHeaderTabs()}checkIsClassExists(u){return u.classList.contains("global-lang-selector-menu")||u.classList.contains("global-lang-selector-dropdown")||u.classList.contains("global-language-tab-menu")}onResize(){const u=window.innerWidth;this.element.nativeElement.classList.contains("active")&&u>768&&this.resetHeaderTabs()}resetHeaderTabs(){this.renderer.removeClass(this.element.nativeElement,"active");const u=this.element.nativeElement.parentElement.querySelector("#wuRpLangHeaderTabs");this.addRpHeaderTabs(u);const j=this.element.nativeElement.parentElement.querySelector(".global-lang-tab-menu-container");this.removeExpandClass(j),this.clicked=!1}addRpHeaderTabs(u){u&&(u.querySelectorAll("li").forEach(ue=>{ue.classList.add("hidden-xs"),this.renderer.removeAttribute(ue,"style")}),u.querySelectorAll("div").forEach(ue=>{ue.classList.add("hidden-xs"),this.renderer.removeAttribute(ue,"style")}))}removeExpandClass(u){u&&(u.classList.remove("expand"),u.classList.remove("hmtabMenuContainer"))}expandHeaderTabs(){this.renderer.addClass(this.element.nativeElement,"active");const u=this.element.nativeElement.parentElement.querySelector("#wuRpLangHeaderTabs");this.removeRpHeaderTabs(u);const j=this.element.nativeElement.parentElement.querySelector(".global-lang-tab-menu-container");this.addExpandClass(j),this.clicked=!0}removeRpHeaderTabs(u){u&&(u.querySelectorAll("li").forEach(ue=>{ue.classList.remove("hidden-xs"),ue.style.width="100%",ue.style.border="none"}),u.querySelectorAll("div").forEach(ue=>{ue.classList.remove("hidden-xs")}))}addExpandClass(u){u&&(u.classList.add("expand"),u.classList.add("hmtabMenuContainer"))}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(e.sFG),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:H,selectors:[["","appGlobalLangSelectorMobile",""]],hostBindings:function(j,q){1&j&&e.bIt("click",function(ye){return q.onClick(ye)},!1,e.EBC)("resize",function(){return q.onResize()},!1,e.tSv)}})}return H})();const Ie=["progressBarOptions"],Fe=["progressBarLastElement"],Ye=(H,ge,u)=>({dss2Header:H,"header-country-loaded":ge,"revamp-header":u}),ze=H=>({"hide-content":H}),Ne=H=>({"global-lang-selector-header":H}),Le=H=>({"hide-logo-left-cont":H}),Re=(H,ge,u)=>({"wu-user-loggedin":H,"wu-user-loggedout":ge,"header-adv-amr-overlap":u}),Me=H=>({"default-cursor":H}),rt=()=>["account/history"],Oe=H=>({showGlobalCountryChangeHeader:H}),Pe=(H,ge)=>({"global-language-selector-button-wrapper-Mob":H,"global-language-selector-button-wrapper-Mob_login":ge}),Se=H=>({"smo-lanaguge-selector-gl-mobile":H}),me=()=>["global-country-selection"],we=(H,ge)=>({hidden:H,"visible-xs":ge}),Be=H=>({pps:H}),je=H=>[H],it=()=>["send-money/start"],qe=(H,ge,u,j)=>({"wu-user-loggedin":H,"wu-user-loggedout":ge,"hs-back-to-partner":u,pps:j}),et=H=>({margin_top18:H}),st=H=>({"loyalty-width":H}),at=H=>({"pad-top2":H}),Xe=H=>({"new-loyalty":H}),ut=()=>["user/register"],dt=(H,ge)=>({"bg-newlable":H,"mrg-top-0":ge}),lt=H=>({hideGlobalCountryChangeHeader:H}),_t=(H,ge)=>({"global-lang-selector-right-icon":H,"global-lang-selector-down-icon":ge}),ot=(H,ge)=>({"global-border-right":H,"global-border-cls":ge}),mt=H=>({"margin-top":H}),gt=H=>({"selected-li":H}),pt=H=>({selected:H});function Ve(H,ge){if(1&H){const u=e.RV6();e.j41(0,"div",23)(1,"div",24)(2,"div",25),e.nrm(3,"p",26),e.k0s(),e.j41(4,"div",25)(5,"button",27),e.bIt("click",function(){e.eBV(u);const q=e.XpG(2);return e.Njj(q.buttonOpenProfile())}),e.k0s()()()()}}function Et(H,ge){if(1&H){const u=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"p"),e.EFF(4),e.k0s()(),e.j41(5,"div",31)(6,"p",32)(7,"a",33),e.bIt("click",function(){e.eBV(u);const q=e.XpG(2);return e.Njj(q.closeTatDownloadBnr())}),e.nrm(8,"i",34),e.k0s()()()(),e.j41(9,"div",35),e.EFF(10),e.k0s(),e.j41(11,"div",36)(12,"a",37),e.EFF(13),e.k0s()()()}if(2&H){const u=e.XpG(2);e.R7$(4),e.JRh(null==u.headerTranslations?null:u.headerTranslations.tat_download_title),e.R7$(6),e.JRh(null==u.headerTranslations?null:u.headerTranslations.tat_download_app_content),e.R7$(2),e.FS9("href",u.appDownloadLink,e.B4B),e.R7$(),e.JRh(null==u.headerTranslations?null:u.headerTranslations.tat_download_app_text)}}function At(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",38),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(u);const q=e.XpG(2);return e.Njj(q.scrollToElement())}),e.EFF(2),e.k0s()}if(2&H){const u=e.XpG(2);e.BMQ("aria-label",e.bMT(1,2,u.headerData.skip_main_content)),e.R7$(2),e.JRh(u.headerData.skip_main_content)}}function vt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",52),e.bIt("click",function(){e.eBV(u);const q=e.XpG(3);return e.Njj(q.updateGlobalUrl())}),e.j41(1,"div",53),e.nrm(2,"img",54),e.nI1(3,"translate"),e.k0s()()}if(2&H){const u=e.XpG(3);e.FS9("href",u.logourl_global,e.B4B),e.Y8G("ngClass",e.eq3(10,Me,u.stopLogoNavigation)),e.R7$(),e.BMQ("data-partner-name",u.providerId)("data-partner-map",u.parteners)("data-desktop-image",u.desktopLogoPath)("data-mobile-image",u.mobileLogoPath),e.R7$(),e.FS9("alt",e.bMT(3,8,"logo")),e.Y8G("src",u.menuWuLogo,e.B4B)}}function Pt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",55),e.bIt("click",function(){e.eBV(u);const q=e.XpG(3);return e.Njj(q.setPartnerAppRedirectURL())}),e.j41(1,"div",53),e.nrm(2,"img",56),e.nI1(3,"translate"),e.k0s()()}if(2&H){const u=e.XpG(3);e.Y8G("ngClass",e.eq3(9,Me,u.stopLogoNavigation)),e.R7$(),e.BMQ("data-partner-name",u.providerId)("data-partner-map",u.parteners)("data-desktop-image",u.desktopLogoPath)("data-mobile-image",u.mobileLogoPath),e.R7$(),e.FS9("alt",e.bMT(3,7,"logo")),e.Y8G("src",u.menuWuLogo,e.B4B)}}function Dt(H,ge){if(1&H&&(e.j41(0,"a",57)(1,"div",53),e.nrm(2,"img",54),e.nI1(3,"translate"),e.k0s()()),2&H){const u=e.XpG(3);e.Y8G("ngClass",e.eq3(10,Me,u.stopLogoNavigation))("routerLink",e.lJ4(12,rt)),e.R7$(),e.BMQ("data-partner-name",u.providerId)("data-partner-map",u.parteners)("data-desktop-image",u.desktopLogoPath)("data-mobile-image",u.mobileLogoPath),e.R7$(),e.FS9("alt",e.bMT(3,8,"logo")),e.Y8G("src",u.menuWuLogo,e.B4B)}}function It(H,ge){if(1&H&&(e.j41(0,"div",58)(1,"div",59),e.nrm(2,"i"),e.nI1(3,"lowercase"),e.k0s(),e.j41(4,"div",60),e.EFF(5),e.k0s()()),2&H){const u=e.XpG(3);e.R7$(2),e.ZvI("flag-icon flag-icon-",e.bMT(3,4,u.senderCountryIsoCode),""),e.R7$(3),e.JRh(u.headerData.sender_country_name)}}function Ot(H,ge){if(1&H){const u=e.RV6();e.qex(0),e.nrm(1,"i",68),e.j41(2,"span",69),e.bIt("click",function(){e.eBV(u);const q=e.XpG(4);return e.Njj(q.globalLangIconOnClick())}),e.EFF(3),e.nI1(4,"uppercase"),e.k0s(),e.bVm()}if(2&H){const u=e.XpG(4);e.R7$(3),e.JRh(e.bMT(4,1,u.language))}}function Tt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"span",70),e.nI1(1,"lowercase"),e.bIt("click",function(){e.eBV(u);const q=e.XpG(4);return e.Njj(q.globalLangIconOnClick())}),e.k0s(),e.j41(2,"i",71),e.bIt("click",function(){e.eBV(u);const q=e.XpG(4);return e.Njj(q.globalLangIconOnClick())}),e.k0s()}if(2&H){const u=e.XpG(4);e.ZvI("global-inner-logo flag-icon flag-icon-position  flag-icon-",e.bMT(1,3,u.country),"")}}function Rt(H,ge){if(1&H&&(e.j41(0,"a",75),e.EFF(1),e.k0s()),2&H){const u=e.XpG(5);e.Y8G("routerLink",e.lJ4(2,me)),e.R7$(),e.JRh(u.headerData.change_language_title)}}function Ci(H,ge){if(1&H&&(e.j41(0,"div",72),e.nrm(1,"span"),e.nI1(2,"lowercase"),e.j41(3,"span",73),e.EFF(4),e.k0s(),e.DNE(5,Rt,2,3,"a",74),e.k0s()),2&H){const u=e.XpG(4);e.R7$(),e.ZvI("global-inner-logo flag-icon flag-icon-position  flag-icon-",e.bMT(2,5,u.country),""),e.R7$(3),e.JRh(u.headerData.change_language_content),e.R7$(),e.Y8G("ngIf",!u.wuUserLoginStaus)}}function fi(H,ge){1&H&&e.nrm(0,"i",83)}function bt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",79),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(5);return e.Njj(ue.changeLanguageForGlobal(q.languageCode))}),e.j41(1,"div",80)(2,"span",81),e.EFF(3),e.k0s(),e.DNE(4,fi,1,0,"i",82),e.k0s()()}if(2&H){const u=ge.$implicit,j=e.XpG(5);e.BMQ("aria-label",u.languageName),e.R7$(3),e.JRh(u.languageName),e.R7$(),e.Y8G("ngIf",u.languageCode==j.language)}}function Nt(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",76)(2,"span",77),e.EFF(3),e.k0s()(),e.DNE(4,bt,5,3,"li",78),e.k0s()),2&H){const u=e.XpG(4);e.R7$(3),e.JRh(u.headerData.language_title),e.R7$(),e.Y8G("ngForOf",u.countryLanguageList)}}function Si(H,ge){if(1&H&&(e.j41(0,"div",61)(1,"div",62)(2,"div",63),e.DNE(3,Ot,5,3,"ng-container",64)(4,Tt,3,5,"ng-template",null,3,e.C5r),e.k0s(),e.j41(6,"div",65)(7,"ul",66),e.DNE(8,Ci,6,7,"div",67)(9,Nt,5,2,"div",50),e.k0s()()()()),2&H){const u=e.sdS(5),j=e.XpG(3);e.Y8G("ngClass",e.eq3(7,Oe,j.showGloballanguageAndcountryHeaderMenu)),e.R7$(2),e.Y8G("ngClass",e.l_i(9,Pe,j.isSmoPageLoaded,!j.isSmoPageLoaded)),e.R7$(),e.Y8G("ngIf",j.isRevampHeaderChangeApplicable)("ngIfElse",u),e.R7$(3),e.Y8G("ngClass",e.eq3(12,Se,j.isSMORevampEnable)),e.R7$(2),e.Y8G("ngIf",!j.isRevampHeaderChangeApplicable),e.R7$(),e.Y8G("ngIf",j.showChangeLanguageSelectors)}}function Ft(H,ge){1&H&&e.nrm(0,"i",100)}function Lt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",96),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(4);return e.Njj(ue.changeLanguage(q.languageCode))}),e.j41(1,"div",97)(2,"span",98),e.EFF(3),e.k0s(),e.DNE(4,Ft,1,0,"i",99),e.k0s()()}if(2&H){const u=ge.$implicit,j=e.XpG(4);e.BMQ("amplitude-id","button-language-changed-to-"+u.languageCode)("aria-label",u.languageName),e.R7$(3),e.JRh(u.languageName),e.R7$(),e.Y8G("ngIf",u.languageCode==j.language)}}function Mt(H,ge){1&H&&e.nrm(0,"i",100)}function Ut(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",101),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(4);return e.Njj(ue.changeLanguage(q.languageCode))}),e.j41(1,"div",97)(2,"span",98),e.EFF(3),e.k0s(),e.DNE(4,Mt,1,0,"i",99),e.k0s()()}if(2&H){const u=ge.$implicit,j=e.XpG(4);e.BMQ("amplitude-id","button-language-changed-to-"+u.languageCode)("aria-label",u.languageName),e.R7$(3),e.JRh(u.languageName),e.R7$(),e.Y8G("ngIf",u.languageCode==j.language)}}function Bt(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",84),e.nrm(2,"i",85),e.j41(3,"span",86),e.EFF(4),e.k0s()(),e.j41(5,"div",87)(6,"ul",88),e.DNE(7,Lt,5,4,"li",89),e.j41(8,"li")(9,"div",90)(10,"div",91),e.nrm(11,"i",92),e.j41(12,"span",93),e.EFF(13),e.k0s()(),e.j41(14,"ul",94),e.DNE(15,Ut,5,4,"li",95),e.k0s()()()()()()),2&H){const u=e.XpG(3);e.R7$(4),e.JRh(u.country),e.R7$(3),e.Y8G("ngForOf",u.countryLanguageList),e.R7$(6),e.JRh(u.country),e.R7$(2),e.Y8G("ngForOf",u.countryLanguageList)}}function wt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",134)(1,"a",135),e.bIt("click",function(){e.eBV(u);const q=e.XpG(5);return e.Njj(q.isAutoLoginEnabled||q.isDUTApplicationLoaded?q.customerSignOn("menu-login"):"")}),e.EFF(2),e.k0s()()}if(2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(6,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab6_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab6_linktype),e.R7$(),e.FS9("id",u.headerData.nav_tab6_amplitude_id),e.Y8G("routerLink",e.eq3(8,je,u.isAutoLoginEnabled||u.isDUTApplicationLoaded?null:"user/login")),e.BMQ("data-linkname",u.headerData.nav_tab6_linkName),e.R7$(),e.SpI("",u.headerData.nav_tab6," ")}}function kt(H,ge){if(1&H&&(e.j41(0,"li",136)(1,"a",137),e.EFF(2),e.k0s()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(6,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab7_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab7_linktype),e.R7$(),e.FS9("id",u.headerData.nav_tab7_amplitude_id),e.Y8G("routerLink",e.eq3(8,je,u.isDUTApplicationLoaded?"lbp/lookup":"user/register")),e.BMQ("data-linkname",u.headerData.nav_tab7_linkName),e.R7$(),e.SpI(" ",u.headerData.nav_tab7," ")}}function xt(H,ge){if(1&H&&(e.j41(0,"li",138)(1,"a",139),e.nrm(2,"span",140),e.EFF(3),e.k0s()()),2&H){const u=e.XpG(5);e.R7$(),e.FS9("href",u.headerLinkNames.user_name_linkUrl,e.B4B),e.R7$(2),e.SpI(" ",u.wuLoggedInUserName," ")}}function Vt(H,ge){if(1&H&&(e.j41(0,"li",141)(1,"a",142),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(10,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab1_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab1_linktype),e.R7$(),e.FS9("id",u.headerData.nav_tab1_amplitude_id),e.Y8G("routerLink",e.lJ4(12,it)),e.BMQ("data-linkname",u.headerData.nav_tab1_linkName)("aria-label",u.headerData.nav_tab1),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab1_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab1)}}function Kt(H,ge){if(1&H&&(e.j41(0,"li",143)(1,"a",144),e.nrm(2,"span",145),e.j41(3,"b")(4,"div",146),e.EFF(5),e.j41(6,"span",147),e.EFF(7),e.k0s()()()()()),2&H){const u=e.XpG(5);e.R7$(),e.FS9("id",u.headerData.nav_tab10_amplitude_id),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab10_class," hid-icon-receive-amount"),e.R7$(3),e.SpI("",u.headerData.nav_tab10," "),e.R7$(2),e.JRh(u.headerData.newLable)}}function yi(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",148)(1,"a",149),e.bIt("click",function(){e.eBV(u);const q=e.XpG(5);return e.Njj(q.pickupCashClickHandler())}),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()}if(2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(10,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab9_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab9_linktype),e.R7$(),e.FS9("id",u.headerData.nav_tab9_amplitude_id),e.FS9("href",u.headerLinkNames.nav_tab9_linkUrl,e.B4B),e.BMQ("data-linkname",u.headerData.nav_tab9_linkName)("aria-label",u.headerData.nav_tab9),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab9_class," hidden-lg hidden-md hidden-sm"),e.R7$(2),e.JRh(u.headerData.nav_tab9)}}function Wt(H,ge){if(1&H&&(e.j41(0,"li",150)(1,"a",151),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.j41(5,"a",152),e.nrm(6,"span"),e.j41(7,"b"),e.EFF(8),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(12,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab8_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab8_linktype),e.R7$(),e.FS9("href",u.headerLinkNames.nav_tab8_linkUrl,e.B4B),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab8_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab8),e.R7$(),e.FS9("href",u.headerLinkNames.nav_tab8_directlinkUrl,e.B4B),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab8_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab8)}}function Ei(H,ge){if(1&H&&(e.j41(0,"li",153)(1,"a",154),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(10,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab7_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab7_linktype),e.R7$(),e.FS9("id",u.headerData.nav_tab2_amplitude_id),e.FS9("href",u.headerLinkNames.nav_tab2_linkUrl,e.B4B),e.BMQ("data-linkname",u.headerData.nav_tab2_linkName)("aria-label",u.headerData.nav_tab2),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab2_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab2)}}function Gt(H,ge){if(1&H&&(e.j41(0,"li",155)(1,"a",156),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(11,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab3_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab3_linktype),e.R7$(),e.FS9("id",u.headerData.nav_tab3_amplitude_id),e.FS9("href",u.headerLinkNames.nav_tab3_linkUrl,e.B4B),e.BMQ("amplitude-id",u.headerData.nav_tab3_amplitude_id)("data-linkname",u.headerData.nav_tab3_linkName)("aria-label",u.headerData.nav_tab3),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab3_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab3)}}function Yt(H,ge){if(1&H&&(e.j41(0,"li",157)(1,"a",156),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(11,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab4_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab4_linktype),e.R7$(),e.FS9("id",u.headerData.nav_tab4_amplitude_id),e.FS9("href",u.headerLinkNames.nav_tab4_linkUrl,e.B4B),e.BMQ("amplitude-id",u.headerData.nav_tab4_amplitude_id)("data-linkname",u.headerData.nav_tab4_linkName)("aria-label",u.headerData.nav_tab4),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab4_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab4)}}function Ht(H,ge){if(1&H&&(e.j41(0,"li",158)(1,"a",156),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(11,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab5_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab5_linktype),e.R7$(),e.FS9("id",u.headerData.nav_tab5_amplitude_id),e.FS9("href",u.headerLinkNames.nav_tab5_linkUrl,e.B4B),e.BMQ("amplitude-id",u.headerData.nav_tab5_amplitude_id)("data-linkname",u.headerData.nav_tab5_linkName)("aria-label",u.headerData.nav_tab5),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab5_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab5)}}function $t(H,ge){if(1&H&&(e.j41(0,"span",168),e.EFF(1),e.k0s()),2&H){const u=e.XpG(8);e.R7$(),e.SpI(" ",u.headerData.newLable," ")}}function zt(H,ge){if(1&H&&(e.j41(0,"span",169)(1,"span",170),e.EFF(2),e.k0s(),e.j41(3,"span",171),e.EFF(4),e.k0s()()),2&H){const u=e.XpG(8);e.Y8G("ngClass",e.eq3(5,at,u.isLoyaltyEnabled)),e.R7$(),e.Y8G("ngClass",e.eq3(7,Xe,u.isLoyaltyEnabled)),e.R7$(),e.SpI(" ",u.loyaltyRewardPoints&&0!=u.loyaltyRewardPoints?u.loyaltyRewardPoints:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(9,Xe,u.isLoyaltyEnabled)),e.R7$(),e.JRh(u.headerData.loyaltyPoints)}}function jt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",163),e.bIt("click",function(q){e.eBV(u);const ue=e.XpG(2).$implicit,ye=e.XpG(5);return e.Njj(ye.linkClickHandler(ue,q))}),e.nrm(1,"span",164),e.j41(2,"b")(3,"div",165),e.EFF(4),e.k0s(),e.DNE(5,$t,2,1,"span",166)(6,zt,5,11,"span",167),e.k0s()()}if(2&H){const u=e.XpG(2).$implicit,j=e.XpG(5);e.Y8G("target",j.isDSSApplicationLoaded||(u.id&&j.menuListForNewTab.indexOf(u.id)>-1?"_blank":"_self"))("ngClass",e.eq3(10,et,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.BMQ("href",j.getHref(u),e.B4B)("id",u.link_id)("data-linkname",u.link_name),e.R7$(),e.Y8G("ngClass",u.link_icon_text),e.R7$(2),e.Y8G("ngClass",e.eq3(12,st,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.R7$(),e.SpI("",u.link_text," "),e.R7$(),e.Y8G("ngIf",j.isReferNewLable&&"menu-refer-friend"===u.hamburger_amplitude_id||j.enableMywu&&"menu-wurewards"==u.hamburger_amplitude_id&&!(j.loyaltyRewardPoints>0)||"menu-credit-builder"===u.hamburger_amplitude_id),e.R7$(),e.Y8G("ngIf",j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id&&j.wuUserLoginStaus&&j.loyaltyRewardPoints>0)}}function Ai(H,ge){if(1&H&&(e.j41(0,"span",169)(1,"span",170),e.EFF(2),e.k0s(),e.j41(3,"span",171),e.EFF(4),e.k0s()()),2&H){const u=e.XpG(8);e.Y8G("ngClass",e.eq3(5,at,u.isLoyaltyEnabled)),e.R7$(),e.Y8G("ngClass",e.eq3(7,Xe,u.isLoyaltyEnabled)),e.R7$(),e.SpI(" ",u.loyaltyRewardPoints&&0!=u.loyaltyRewardPoints?u.loyaltyRewardPoints:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(9,Xe,u.isLoyaltyEnabled)),e.R7$(),e.JRh(u.headerData.loyaltyPoints)}}function Jt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",172),e.bIt("click",function(){e.eBV(u);const q=e.XpG(2).$implicit,ue=e.XpG(5);return e.Njj(!ue.isAutoLoginEnabled||"menu-profile"!==q.hamburger_amplitude_id&&"menu-history"!==q.hamburger_amplitude_id&&"menu-refer-friend"!==q.hamburger_amplitude_id&&"menu-myreceivers"!==q.hamburger_amplitude_id?"":ue.customerSignOn(q.hamburger_amplitude_id))}),e.nrm(1,"span",164),e.j41(2,"b")(3,"div",165),e.EFF(4),e.k0s(),e.DNE(5,Ai,5,11,"span",167),e.k0s()()}if(2&H){const u=e.XpG(2).$implicit,j=e.XpG(5);e.Y8G("target",j.isDSSApplicationLoaded?"_blank":"_self")("routerLink",j.getHamBurgerMenuRouterLink(u.hamburger_amplitude_id))("ngClass",e.eq3(9,et,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.BMQ("id",u.link_id)("data-linkname",u.link_name),e.R7$(),e.Y8G("ngClass",u.link_icon_text),e.R7$(2),e.Y8G("ngClass",e.eq3(11,st,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.R7$(),e.JRh(u.link_text),e.R7$(),e.Y8G("ngIf",j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id&&j.wuUserLoginStaus&&j.loyaltyRewardPoints>0)}}function Zt(H,ge){if(1&H&&(e.j41(0,"li",160),e.DNE(1,jt,7,14,"a",161)(2,Jt,6,13,"a",162),e.k0s()),2&H){const u=e.XpG().$implicit,j=e.XpG(5);e.Y8G("ngClass",e.ziG(7,qe,j.wuUserLoginStaus&&u.linktype!=j.rd,!j.wuUserLoginStaus&&u.linktype!=j.rd,u.linktype===j.rd,j.isPPSProfile&&"pps"===u.link_type)),e.BMQ("data-linkname","rd"===u.link_type?"menu-redirect-to-card-bank":null)("id","rd"===u.link_type?"menu-receiver-directed":null)("amplitude-id",u.hamburger_amplitude_id)("data-linktype",u.link_type),e.R7$(),e.Y8G("ngIf",!j.isRouterLinkHref(u.hamburger_amplitude_id)),e.R7$(),e.Y8G("ngIf",j.isRouterLinkHref(u.hamburger_amplitude_id))}}function Xt(H,ge){if(1&H&&(e.qex(0),e.DNE(1,Zt,3,12,"li",159),e.bVm()),2&H){const u=ge.$implicit,j=e.XpG(5);e.R7$(),e.Y8G("ngIf",u.show_condition&&!j.isDUTApplicationLoaded)}}function Qt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",173)(1,"a",174),e.bIt("click",function(){e.eBV(u);const q=e.XpG(5);return e.Njj(q.logoutUser())}),e.EFF(2),e.k0s()()}if(2&H){const u=e.XpG(5);e.R7$(2),e.SpI(" ",u.headerData.sign_out," ")}}function qt(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",175),e.bIt("click",function(){e.eBV(u);const q=e.XpG(5);return e.Njj(q.loadMenu())}),e.nrm(1,"span",176)(2,"span",176)(3,"span",176)(4,"span",176),e.k0s()}}function ei(H,ge){if(1&H&&(e.j41(0,"li",177)(1,"a",178),e.EFF(2),e.k0s()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(4,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab7_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab7_linktype),e.R7$(),e.Y8G("routerLink",e.lJ4(6,ut)),e.R7$(),e.JRh(u.headerData.nav_tab7)}}function ti(H,ge){if(1&H&&(e.j41(0,"li",179)(1,"a",156),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(11,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab3_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab3_linktype)("amplitude-id",u.headerData.nav_tab3_amplitude_id),e.R7$(),e.FS9("id",u.headerData.nav_tab3_amplitude_id),e.FS9("href",u.headerLinkNames.nav_tab3_linkUrl,e.B4B),e.BMQ("data-linkname",u.headerData.nav_tab3_linkName)("aria-label",u.headerData.nav_tab3),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab3_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab3)}}function ii(H,ge){if(1&H&&(e.j41(0,"li",180)(1,"a",156),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(11,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab4_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab4_linktype)("amplitude-id",u.headerData.nav_tab4_amplitude_id),e.R7$(),e.Mz_("id","",u.headerData.nav_tab4_amplitude_id,"_1"),e.FS9("href",u.headerLinkNames.nav_tab4_linkUrl,e.B4B),e.BMQ("data-linkname",u.headerData.nav_tab4_linkName),e.R7$(),e.ZvI("menu-icons  ",u.headerData.nav_tab4_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab4)}}function si(H,ge){if(1&H&&(e.j41(0,"li",181)(1,"a",156),e.nrm(2,"span"),e.j41(3,"b"),e.EFF(4),e.k0s()()()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(11,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab5_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab5_linktype)("amplitude-id",u.headerData.nav_tab5_amplitude_id),e.R7$(),e.Mz_("id","",u.headerData.nav_tab5_amplitude_id,"_1"),e.FS9("href",u.headerLinkNames.nav_tab5_linkUrl,e.B4B),e.BMQ("data-linkname",u.headerData.nav_tab5_linkName),e.R7$(),e.ZvI("menu-icons ",u.headerData.nav_tab5_class,""),e.R7$(2),e.JRh(u.headerData.nav_tab5)}}function ri(H,ge){if(1&H&&(e.j41(0,"div",165),e.EFF(1),e.k0s()),2&H){const u=e.XpG(3).$implicit,j=e.XpG(5);e.Y8G("ngClass",e.eq3(2,st,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.R7$(),e.JRh(u.link_text)}}function ai(H,ge){if(1&H&&(e.j41(0,"span",187),e.EFF(1),e.k0s()),2&H){const u=e.XpG(3).$implicit,j=e.XpG(5);e.Y8G("ngClass",e.eq3(2,st,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.R7$(),e.JRh(u.link_text)}}function ce(H,ge){if(1&H&&(e.j41(0,"span",188),e.EFF(1),e.k0s()),2&H){const u=e.XpG(3).$implicit,j=e.XpG(5);e.Y8G("ngClass",e.l_i(2,dt,j.enableMywu&&"menu-wurewards"==u.hamburger_amplitude_id||"menu-credit-builder"===u.hamburger_amplitude_id,"menu-credit-builder"==u.hamburger_amplitude_id)),e.R7$(),e.SpI(" ",j.headerData.newLable,"")}}function Di(H,ge){if(1&H&&(e.j41(0,"span",169)(1,"span",170),e.EFF(2),e.k0s(),e.j41(3,"span",171),e.EFF(4),e.k0s()()),2&H){const u=e.XpG(8);e.Y8G("ngClass",e.eq3(5,at,u.isLoyaltyEnabled)),e.R7$(),e.Y8G("ngClass",e.eq3(7,Xe,u.isLoyaltyEnabled)),e.R7$(),e.SpI(" ",u.loyaltyRewardPoints&&0!=u.loyaltyRewardPoints?u.loyaltyRewardPoints:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(9,Xe,u.isLoyaltyEnabled)),e.R7$(),e.JRh(u.headerData.loyaltyPoints)}}function Ii(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",163),e.bIt("click",function(q){e.eBV(u);const ue=e.XpG(2).$implicit,ye=e.XpG(5);return e.Njj(ye.linkClickHandler(ue,q))}),e.nrm(1,"span",164),e.j41(2,"b"),e.DNE(3,ri,2,4,"div",184)(4,ai,2,4,"span",185)(5,ce,2,5,"span",186)(6,Di,5,11,"span",167),e.k0s()()}if(2&H){const u=e.XpG(2).$implicit,j=e.XpG(5);e.Y8G("target",j.isDSSApplicationLoaded||(u.id&&j.menuListForNewTab.indexOf(u.id)>-1?"_blank":"_self"))("ngClass",e.eq3(11,et,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.BMQ("href",j.getHref(u),e.B4B)("id",u.link_id)("data-linkname",u.link_name)("aria-label",u.link_text),e.R7$(),e.Y8G("ngClass",u.link_icon_text),e.R7$(2),e.Y8G("ngIf",!j.kycAbdandondPopup),e.R7$(),e.Y8G("ngIf",j.kycAbdandondPopup),e.R7$(),e.Y8G("ngIf",j.isReferNewLable&&"menu-refer-friend"===u.hamburger_amplitude_id||j.enableMywu&&"menu-wurewards"==u.hamburger_amplitude_id&&!(j.loyaltyRewardPoints>0)||"menu-credit-builder"===u.hamburger_amplitude_id),e.R7$(),e.Y8G("ngIf",j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id&&j.wuUserLoginStaus&&j.loyaltyRewardPoints>0)}}function Oi(H,ge){if(1&H&&(e.j41(0,"span",169)(1,"span",170),e.EFF(2),e.k0s(),e.j41(3,"span",171),e.EFF(4),e.k0s()()),2&H){const u=e.XpG(8);e.Y8G("ngClass",e.eq3(5,at,u.isLoyaltyEnabled)),e.R7$(),e.Y8G("ngClass",e.eq3(7,Xe,u.isLoyaltyEnabled)),e.R7$(),e.SpI(" ",u.loyaltyRewardPoints&&0!=u.loyaltyRewardPoints?u.loyaltyRewardPoints:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(9,Xe,u.isLoyaltyEnabled)),e.R7$(),e.JRh(u.headerData.loyaltyPoints)}}function Ti(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",172),e.bIt("click",function(){e.eBV(u);const q=e.XpG(2).$implicit,ue=e.XpG(5);return e.Njj(!ue.isAutoLoginEnabled||"menu-profile"!==q.hamburger_amplitude_id&&"menu-history"!==q.hamburger_amplitude_id&&"menu-refer-friend"!==q.hamburger_amplitude_id&&"menu-myreceivers"!==q.hamburger_amplitude_id?"":ue.customerSignOn(q.hamburger_amplitude_id))}),e.nrm(1,"span",164),e.j41(2,"b")(3,"div",165),e.EFF(4),e.k0s(),e.DNE(5,Oi,5,11,"span",167),e.k0s()()}if(2&H){const u=e.XpG(2).$implicit,j=e.XpG(5);e.Y8G("target",j.isDSSApplicationLoaded?"_blank":"_self")("routerLink",j.getHamBurgerMenuRouterLink(u.hamburger_amplitude_id))("ngClass",e.eq3(10,et,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.BMQ("id",u.link_id)("data-linkname",u.link_name)("aria-label",u.link_text),e.R7$(),e.Y8G("ngClass",u.link_icon_text),e.R7$(2),e.Y8G("ngClass",e.eq3(12,st,j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id)),e.R7$(),e.JRh(u.link_text),e.R7$(),e.Y8G("ngIf",j.isLoyaltyEnabled&&"menu-wurewards"==u.hamburger_amplitude_id&&j.wuUserLoginStaus&&j.loyaltyRewardPoints>0)}}function Ri(H,ge){if(1&H&&(e.j41(0,"li",183),e.DNE(1,Ii,7,13,"a",161)(2,Ti,6,14,"a",162),e.k0s()),2&H){const u=e.XpG().$implicit,j=e.XpG(5);e.Y8G("ngClass",e.ziG(7,qe,j.wuUserLoginStaus&&u.linktype!=j.rd,!j.wuUserLoginStaus&&u.linktype!=j.rd,u.linktype===j.rd,j.isPPSProfile&&"pps"===u.link_type)),e.BMQ("data-linkname","rd"===u.link_type?"menu-redirect-to-card-bank":null)("id","rd"===u.link_type?"menu-receiver-directed":null)("amplitude-id",u.hamburger_amplitude_id)("data-linktype",u.link_type),e.R7$(),e.Y8G("ngIf",!j.isRouterLinkHref(u.hamburger_amplitude_id)),e.R7$(),e.Y8G("ngIf",j.isRouterLinkHref(u.hamburger_amplitude_id))}}function bi(H,ge){if(1&H&&(e.qex(0),e.DNE(1,Ri,3,12,"li",182),e.bVm()),2&H){const u=ge.$implicit;e.R7$(),e.Y8G("ngIf",u.show_condition)}}function Ni(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",189)(1,"a",190),e.bIt("click",function(){e.eBV(u);const q=e.XpG(5);return e.Njj(q.logoutUser())}),e.EFF(2),e.k0s()()}if(2&H){const u=e.XpG(5);e.R7$(2),e.SpI(" ",u.headerData.sign_out," ")}}function Fi(H,ge){1&H&&e.nrm(0,"i",83)}function Li(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",79),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(7);return e.Njj(ue.changeLanguageForGlobal(q.languageCode))}),e.j41(1,"div",80)(2,"span",81),e.EFF(3),e.k0s(),e.DNE(4,Fi,1,0,"i",82),e.k0s()()}if(2&H){const u=ge.$implicit,j=e.XpG(7);e.BMQ("aria-label",u.languageName),e.R7$(3),e.JRh(u.languageName),e.R7$(),e.Y8G("ngIf",u.languageCode==j.language)}}function Mi(H,ge){1&H&&e.nrm(0,"i",83)}function Ui(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",203),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(7);return e.Njj(ue.changeLanguageForGlobal(q.languageCode))}),e.j41(1,"div",80)(2,"span",81),e.EFF(3),e.k0s(),e.DNE(4,Mi,1,0,"i",82),e.k0s()()}if(2&H){const u=ge.$implicit,j=e.XpG(7);e.BMQ("aria-label",u.languageName),e.R7$(3),e.JRh(u.languageName),e.R7$(),e.Y8G("ngIf",u.languageCode==j.language)}}function Bi(H,ge){if(1&H){const u=e.RV6();e.j41(0,"div")(1,"div",192)(2,"i",193),e.bIt("click",function(){e.eBV(u);const q=e.XpG(6);return e.Njj(q.globalLangIconOnClick())}),e.k0s(),e.j41(3,"span",194),e.bIt("click",function(){e.eBV(u);const q=e.XpG(6);return e.Njj(q.globalLangIconOnClick())}),e.EFF(4),e.nI1(5,"uppercase"),e.k0s(),e.j41(6,"i",195),e.bIt("click",function(){e.eBV(u);const q=e.XpG(6);return e.Njj(q.globalLangIconOnClick())}),e.k0s()(),e.j41(7,"div",196)(8,"ul",66),e.DNE(9,Li,5,3,"li",78),e.j41(10,"li")(11,"div",197)(12,"div",198),e.nrm(13,"i",199),e.j41(14,"span",200),e.EFF(15),e.nI1(16,"uppercase"),e.k0s()(),e.j41(17,"ul",201),e.DNE(18,Ui,5,3,"li",202),e.k0s()()()()()()}if(2&H){const u=e.XpG(6);e.R7$(4),e.JRh(e.bMT(5,6,u.language)),e.R7$(2),e.Y8G("ngClass",e.l_i(10,_t,u.isGlobalLangSelectorCollapse,!u.isGlobalLangSelectorCollapse)),e.R7$(3),e.Y8G("ngForOf",u.countryLanguageList),e.R7$(2),e.Y8G("ngClass",e.l_i(13,ot,u.isSmoPageLoaded,!u.isSmoPageLoaded)),e.R7$(4),e.JRh(e.bMT(16,8,u.language)),e.R7$(3),e.Y8G("ngForOf",u.countryLanguageList)}}function wi(H,ge){if(1&H&&(e.j41(0,"li",191),e.DNE(1,Bi,19,16,"div",50),e.k0s()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(2,lt,!u.showGloballanguageAndcountryHeaderMenu)),e.R7$(),e.Y8G("ngIf",u.showGlobalLangSelector)}}function ki(H,ge){1&H&&e.eu8(0)}function xi(H,ge){if(1&H&&(e.j41(0,"li",61),e.DNE(1,ki,1,0,"ng-container",204),e.k0s()),2&H){e.XpG(3);const u=e.sdS(17),j=e.XpG(2);e.Y8G("ngClass",e.eq3(2,Oe,j.showGloballanguageAndcountryHeaderMenu)),e.R7$(),e.Y8G("ngTemplateOutlet",u)}}function Vi(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",205)(1,"a",206),e.nrm(2,"span",140),e.j41(3,"span",207),e.EFF(4),e.k0s()(),e.j41(5,"div",208),e.bIt("click",function(){e.eBV(u);const q=e.XpG(5);return e.Njj(q.enableLogoutClick&&q.logoutUser())}),e.j41(6,"a",209),e.bIt("click",function(){e.eBV(u);const q=e.XpG(5);return e.Njj(q.logoutUser())}),e.EFF(7),e.k0s()()()}if(2&H){const u=e.XpG(5);e.R7$(),e.FS9("href",u.headerLinkNames.user_name_linkUrl,e.B4B),e.R7$(3),e.JRh(u.wuLoggedInUserName),e.R7$(),e.Y8G("ngStyle",e.eq3(4,mt,u.wuLoggedInUserName&&""===u.wuLoggedInUserName.trim()?"25px":"40px")),e.R7$(2),e.SpI(" ",u.headerData.sign_out," ")}}function Ki(H,ge){1&H&&(e.j41(0,"li",205)(1,"a",210),e.nrm(2,"span",140),e.k0s()())}function Wi(H,ge){if(1&H&&(e.j41(0,"li",211)(1,"a",212),e.EFF(2),e.k0s()()),2&H){const u=e.XpG(5);e.R7$(2),e.JRh(u.headerData.nav_tab6)}}function Gi(H,ge){if(1&H&&(e.j41(0,"li",213)(1,"a",212),e.EFF(2),e.k0s()()),2&H){const u=e.XpG(5);e.R7$(2),e.JRh(u.headerData.nav_tab7)}}function Yi(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",214)(1,"a",215),e.bIt("click",function(){e.eBV(u);const q=e.XpG(5);return e.Njj(q.isAutoLoginEnabled||q.isDUTApplicationLoaded?q.customerSignOn("menu-login"):"")}),e.EFF(2),e.k0s()()}if(2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(8,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab6_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab6_linktype),e.R7$(),e.Mz_("id","",u.headerData.nav_tab6_amplitude_id,"_1"),e.Y8G("routerLink",e.eq3(10,je,u.isAutoLoginEnabled||u.isDUTApplicationLoaded?null:"user/login")),e.BMQ("data-linkname",u.headerData.nav_tab6_linkName)("aria-label",u.headerData.nav_tab6),e.R7$(),e.JRh(u.headerData.nav_tab6)}}function Hi(H,ge){if(1&H&&(e.j41(0,"a",218),e.EFF(1),e.k0s()),2&H){const u=e.XpG(6);e.Mz_("id","",u.headerData.nav_tab7_amplitude_id,"_1"),e.Y8G("routerLink",e.eq3(6,je,u.isDUTApplicationLoaded?"lbp/lookup":"user/register")),e.BMQ("data-linkname",u.headerData.nav_tab7_linkName)("aria-label",u.headerData.nav_tab7),e.R7$(),e.JRh(u.headerData.nav_tab7)}}function $i(H,ge){if(1&H&&(e.j41(0,"a",218),e.EFF(1),e.k0s()),2&H){const u=e.XpG(6);e.Mz_("id","",u.headerData.nav_tab7_amplitude_id,"_1"),e.Y8G("routerLink",e.eq3(6,je,u.isDUTApplicationLoaded?"lbp/lookup":"user/register")),e.BMQ("data-linkname",u.headerData.nav_tab7_linkName)("aria-label",u.headerData.lean_nav_tab7),e.R7$(),e.JRh(u.headerData.lean_nav_tab7)}}function zi(H,ge){if(1&H&&(e.j41(0,"li",216),e.DNE(1,Hi,2,8,"a",217)(2,$i,2,8,"a",217),e.k0s()),2&H){const u=e.XpG(5);e.Y8G("ngClass",e.eq3(4,Be,u.isPPSProfile&&"pps"===u.headerData.nav_tab7_linktype)),e.BMQ("data-linktype",u.headerData.nav_tab7_linktype),e.R7$(),e.Y8G("ngIf",!u.isLeanRegistrationAvaiable),e.R7$(),e.Y8G("ngIf",u.isLeanRegistrationAvaiable)}}function ji(H,ge){1&H&&e.nrm(0,"i",225)}function Ji(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",223),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(6);return e.Njj(ue.selectLanguage(q.key))}),e.EFF(1),e.nI1(2,"uppercase"),e.DNE(3,ji,1,0,"i",224),e.k0s()}if(2&H){const u=ge.$implicit,j=e.XpG(6);e.R7$(),e.Lme("",e.bMT(2,3,u.key)," - ",u.value," "),e.R7$(2),e.Y8G("ngIf",j.selectedLanguage===u.key)}}function Zi(H,ge){if(1&H&&(e.j41(0,"div",219),e.nrm(1,"i",220),e.EFF(2),e.nI1(3,"uppercase"),e.j41(4,"ul",221),e.DNE(5,Ji,4,5,"li",222),e.k0s()()),2&H){const u=e.XpG(5);e.R7$(2),e.SpI("",e.bMT(3,2,u.selectedLanguage)," "),e.R7$(3),e.Y8G("ngForOf",u.userService.userLanguages)}}function Xi(H,ge){1&H&&e.nrm(0,"i",225)}function Qi(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",223),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(6);return e.Njj(ue.selectLanguage(q.key))}),e.EFF(1),e.DNE(2,Xi,1,0,"i",224),e.k0s()}if(2&H){const u=ge.$implicit,j=e.XpG(6);e.R7$(),e.SpI("",u.value," "),e.R7$(),e.Y8G("ngIf",j.selectedLanguage===u.key)}}function qi(H,ge){if(1&H&&(e.j41(0,"div",226)(1,"div",227),e.nrm(2,"i",220),e.EFF(3),e.nI1(4,"uppercase"),e.k0s(),e.j41(5,"ul",221),e.DNE(6,Qi,3,2,"li",222),e.k0s()()),2&H){const u=e.XpG(5);e.R7$(3),e.JRh(e.bMT(4,2,u.selectedLanguage)),e.R7$(3),e.Y8G("ngForOf",u.userService.userLanguages)}}function es(H,ge){if(1&H&&(e.j41(0,"ul",88),e.DNE(1,wt,3,10,"li",106)(2,kt,3,10,"li",107)(3,xt,4,2,"li",108)(4,Vt,5,13,"li",109)(5,Kt,8,6,"li",110)(6,yi,5,12,"li",111)(7,Wt,9,14,"li",112)(8,Ei,5,12,"li",113)(9,Gt,5,13,"li",114)(10,Yt,5,13,"li",115)(11,Ht,5,13,"li",116)(12,Xt,2,1,"ng-container",117)(13,Qt,3,1,"li",118),e.j41(14,"li")(15,"div",90),e.DNE(16,qt,5,0,"a",119),e.j41(17,"ul",120),e.DNE(18,ei,3,7,"li",121)(19,ti,5,13,"li",122)(20,ii,5,13,"li",123)(21,si,5,13,"li",124)(22,bi,2,1,"ng-container",117)(23,Ni,3,1,"li",125),e.k0s()()(),e.DNE(24,wi,2,4,"li",126)(25,xi,2,4,"li",49)(26,Vi,8,6,"li",127)(27,Ki,3,0,"li",127)(28,Wi,3,1,"li",128)(29,Gi,3,1,"li",129)(30,Yi,3,12,"li",130)(31,zi,3,6,"li",131)(32,Zi,6,4,"div",132),e.j41(33,"li"),e.DNE(34,qi,7,4,"div",133),e.k0s()()),2&H){const u=e.XpG(4);e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab6&&!u.wuUserLoginStaus),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab7&&!u.wuUserLoginStaus),e.R7$(),e.Y8G("ngIf",u.headerData.sign_out&&u.wuUserLoginStaus),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab1),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab10&&u.receiveMoneyInitiated),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab9),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab8),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab2&&!u.getHideNavMenuReceiverToBank),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab3&&!u.getHideNavMenuReceiverToBank),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab4&&!u.getHideNavMenuReceiverToBank),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab5),e.R7$(),e.Y8G("ngForOf",u.hamBurgerMenuList),e.R7$(),e.Y8G("ngIf",u.wuUserLoginStaus&&u.headerData.sign_out),e.R7$(3),e.Y8G("ngIf",!u.isDUTApplicationLoaded&&!u.isDss2ApplicationLoaded),e.R7$(2),e.Y8G("ngIf",!u.wuUserLoginStaus),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab3&&!u.getHideNavMenuReceiverToBank),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab4&&!u.getHideNavMenuReceiverToBank),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab5),e.R7$(),e.Y8G("ngForOf",u.hamBurgerMenuList),e.R7$(),e.Y8G("ngIf",u.headerData.sign_out&&u.wuUserLoginStaus),e.R7$(),e.Y8G("ngIf",!u.showGloballanguageAndcountryHeaderMenu||u.isPartnerUrl),e.R7$(),e.Y8G("ngIf",u.showGloballanguageAndcountryHeaderMenu&&!u.isPartnerUrl),e.R7$(),e.Y8G("ngIf",u.headerData.sign_out&&u.wuUserLoginStaus),e.R7$(),e.Y8G("ngIf",u.ssrHeaderHistory),e.R7$(),e.Y8G("ngIf",u.isSSRHeader),e.R7$(),e.Y8G("ngIf",u.isSSRHeader),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab6&&!u.wuUserLoginStaus&&!u.isSSRHeader),e.R7$(),e.Y8G("ngIf",u.headerData.nav_tab7&&!u.wuUserLoginStaus&&!u.isSSRHeader),e.R7$(),e.Y8G("ngIf",u.userService.showUserLanguage),e.R7$(2),e.Y8G("ngIf",u.userService.showUserLanguage)}}function ts(H,ge){if(1&H){const u=e.RV6();e.j41(0,"div")(1,"div",102)(2,"div",103),e.bIt("click",function(){e.eBV(u);const q=e.XpG(3);return e.Njj(q.loadMenu())}),e.EFF(3),e.k0s()(),e.j41(4,"div",104),e.DNE(5,es,35,30,"ul",105),e.k0s()()}if(2&H){const u=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.l_i(4,we,u.iswuHamburger,!u.iswuHamburger)),e.R7$(2),e.JRh(u.headerData.nav_tabmenu),e.R7$(),e.Y8G("ngClass",e.eq3(7,Be,u.isPPSProfile)),e.R7$(),e.Y8G("ngIf",u.showHeaderLinks)}}function is(H,ge){1&H&&e.nrm(0,"i",83)}function ss(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",238),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(5);return e.Njj(ue.changeLanguageForGlobal(q.languageCode))}),e.j41(1,"div",239)(2,"span",81),e.EFF(3),e.k0s(),e.DNE(4,is,1,0,"i",82),e.k0s()()}if(2&H){const u=ge.$implicit,j=e.XpG(5);e.Y8G("ngClass",e.eq3(5,gt,u.languageCode==j.language)),e.BMQ("aria-label",u.languageName),e.R7$(),e.Y8G("ngClass",e.eq3(7,pt,u.languageCode==j.language)),e.R7$(2),e.JRh(u.languageName),e.R7$(),e.Y8G("ngIf",u.languageCode==j.language)}}function rs(H,ge){if(1&H){const u=e.RV6();e.j41(0,"div")(1,"div",230)(2,"i",231),e.bIt("click",function(){e.eBV(u);const q=e.XpG(4);return e.Njj(q.globalLangIconOnClick())}),e.k0s(),e.j41(3,"span",232),e.bIt("click",function(){e.eBV(u);const q=e.XpG(4);return e.Njj(q.globalLangIconOnClick())}),e.EFF(4),e.nI1(5,"uppercase"),e.k0s()(),e.j41(6,"div",233)(7,"div",234),e.nrm(8,"i",199),e.j41(9,"span",200),e.EFF(10),e.nI1(11,"uppercase"),e.k0s()(),e.j41(12,"div",235)(13,"ul",236),e.DNE(14,ss,5,9,"li",237),e.k0s()()()()}if(2&H){const u=e.XpG(4);e.R7$(4),e.JRh(e.bMT(5,3,u.language)),e.R7$(6),e.JRh(e.bMT(11,5,u.language)),e.R7$(4),e.Y8G("ngForOf",u.countryLanguageList)}}function as(H,ge){if(1&H&&(e.j41(0,"div",228)(1,"li",229),e.DNE(2,rs,15,7,"div",50),e.k0s()()),2&H){const u=e.XpG(3);e.R7$(2),e.Y8G("ngIf",u.showGlobalLangSelector)}}function ns(H,ge){1&H&&e.eu8(0)}function os(H,ge){if(1&H&&(e.j41(0,"div",61),e.DNE(1,ns,1,0,"ng-container",204),e.k0s()),2&H){e.XpG();const u=e.sdS(17),j=e.XpG(2);e.Y8G("ngClass",e.eq3(2,Oe,j.showGloballanguageAndcountryHeaderMenu)),e.R7$(),e.Y8G("ngTemplateOutlet",u)}}function cs(H,ge){1&H&&e.nrm(0,"i",246)}function us(H,ge){if(1&H&&(e.nrm(0,"span"),e.nI1(1,"lowercase")),2&H){const u=e.XpG(4);e.ZvI("global-lang-logo flag-icon flag-icon-position  flag-icon-",e.bMT(1,3,u.country),"")}}function ds(H,ge){if(1&H&&(e.j41(0,"a",75),e.EFF(1),e.k0s()),2&H){const u=e.XpG(5);e.Y8G("routerLink",e.lJ4(2,me)),e.R7$(),e.JRh(u.headerData.change_language_title)}}function ls(H,ge){if(1&H&&(e.j41(0,"div",247),e.nrm(1,"span"),e.nI1(2,"lowercase"),e.j41(3,"span",248),e.EFF(4),e.k0s(),e.DNE(5,ds,2,3,"a",74),e.k0s()),2&H){const u=e.XpG(4);e.R7$(),e.ZvI("global-inner-logo flag-icon flag-icon-position  flag-icon-",e.bMT(2,5,u.country),""),e.R7$(3),e.JRh(u.headerData.change_language_content),e.R7$(),e.Y8G("ngIf",!u.wuUserLoginStaus)}}function _s(H,ge){1&H&&e.nrm(0,"i",83)}function ms(H,ge){if(1&H){const u=e.RV6();e.j41(0,"li",251),e.bIt("click",function(){const q=e.eBV(u).$implicit,ue=e.XpG(5);return e.Njj(ue.changeLanguageForGlobal(q.languageCode))}),e.j41(1,"div",80)(2,"span",81),e.EFF(3),e.k0s(),e.DNE(4,_s,1,0,"i",82),e.k0s()()}if(2&H){const u=ge.$implicit,j=e.XpG(5);e.BMQ("aria-label",u.languageName),e.R7$(3),e.JRh(u.languageName),e.R7$(),e.Y8G("ngIf",u.languageCode==j.language)}}function gs(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",249)(2,"span",73),e.EFF(3),e.k0s()(),e.DNE(4,ms,5,3,"li",250),e.k0s()),2&H){const u=e.XpG(4);e.R7$(3),e.JRh(u.headerData.language_title),e.R7$(),e.Y8G("ngForOf",u.countryLanguageList)}}function ps(H,ge){if(1&H){const u=e.RV6();e.j41(0,"div")(1,"div",196)(2,"ul",66)(3,"li")(4,"div",197)(5,"div",240),e.DNE(6,cs,1,0,"i",241)(7,us,2,5,"span",242),e.j41(8,"span",243),e.EFF(9),e.nI1(10,"uppercase"),e.k0s(),e.j41(11,"i",244),e.bIt("click",function(){e.eBV(u);const q=e.XpG(3);return e.Njj(q.globalLangIconOnClick())}),e.k0s()(),e.j41(12,"ul",201),e.DNE(13,ls,6,7,"div",245)(14,gs,5,2,"div",50),e.k0s()()()()()()}if(2&H){const u=e.XpG(3);e.R7$(4),e.Y8G("ngClass",e.l_i(8,ot,u.isSmoPageLoaded,!u.isSmoPageLoaded)),e.R7$(2),e.Y8G("ngIf",u.isRevampHeaderChangeApplicable),e.R7$(),e.Y8G("ngIf",!u.isRevampHeaderChangeApplicable),e.R7$(2),e.JRh(e.bMT(10,6,u.language)),e.R7$(4),e.Y8G("ngIf",!u.isRevampHeaderChangeApplicable),e.R7$(),e.Y8G("ngIf",u.showChangeLanguageSelectors)}}function hs(H,ge){if(1&H&&(e.j41(0,"div",39)(1,"div",40),e.nrm(2,"div",41),e.j41(3,"div",42),e.DNE(4,vt,4,12,"a",43)(5,Pt,4,11,"a",44)(6,Dt,4,13,"a",45)(7,It,6,6,"div",46),e.k0s(),e.j41(8,"div",47)(9,"a",48),e.EFF(10),e.k0s()(),e.DNE(11,Si,10,14,"div",49)(12,Bt,16,4,"div",50)(13,ts,6,9,"div",50)(14,as,3,1,"div",51)(15,os,2,4,"div",49)(16,ps,15,11,"ng-template",null,2,e.C5r),e.k0s()()),2&H){const u=e.XpG(2);e.Y8G("ngClass",e.eq3(16,Ne,u.showGlobalLangSelector)),e.R7$(2),e.Y8G("ngClass",e.eq3(18,Le,u.isDss2ApplicationLoaded)),e.R7$(),e.xc7("pointer-events",u.isPPSProfile?"none":""),e.Y8G("ngClass",e.sMw(20,Re,u.wuUserLoginStaus,!u.wuUserLoginStaus,u.providePartnerName)),e.R7$(),e.Y8G("ngIf",!u.isRedirectToPartnerApp&&-1===u.logourl_global.indexOf("history")),e.R7$(),e.Y8G("ngIf",u.isRedirectToPartnerApp&&-1===u.logourl_global.indexOf("history")),e.R7$(),e.Y8G("ngIf",-1!==u.logourl_global.indexOf("history")),e.R7$(),e.Y8G("ngIf",u.headerCountryChangeCapability),e.R7$(2),e.FS9("href",u.headerLinkNames.nav_tab6_linkUrl,e.B4B),e.R7$(),e.JRh(u.headerData.nav_tab6),e.R7$(),e.Y8G("ngIf",u.showGloballanguageAndcountryHeaderMenu&&!u.isPartnerUrl),e.R7$(),e.Y8G("ngIf",u.showLanguageSelector),e.R7$(),e.Y8G("ngIf",!u.focusHeaderStatus&&!u.isDss2ApplicationLoaded),e.R7$(),e.Y8G("ngIf",!u.focusHeaderStatus&&u.isDss2ApplicationLoaded&&!u.showGloballanguageAndcountryHeaderMenu),e.R7$(),e.Y8G("ngIf",u.focusHeaderStatus&&u.showGloballanguageAndcountryHeaderMenu&&!u.isPartnerUrl)}}function Cs(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",52),e.bIt("click",function(){e.eBV(u);const q=e.XpG(3);return e.Njj(q.updateGlobalUrl())}),e.j41(1,"div",53),e.nrm(2,"img",54),e.nI1(3,"translate"),e.k0s()()}if(2&H){const u=e.XpG(3);e.FS9("href",u.logourl_global,e.B4B),e.Y8G("ngClass",e.eq3(10,Me,u.stopLogoNavigation)),e.R7$(),e.BMQ("data-partner-name",u.providerId)("data-partner-map",u.parteners)("data-desktop-image",u.desktopLogoPath)("data-mobile-image",u.mobileLogoPath),e.R7$(),e.FS9("alt",e.bMT(3,8,"logo")),e.Y8G("src",u.menuWuLogo,e.B4B)}}function fs(H,ge){if(1&H){const u=e.RV6();e.j41(0,"a",55),e.bIt("click",function(){e.eBV(u);const q=e.XpG(3);return e.Njj(q.setPartnerAppRedirectURL())}),e.j41(1,"div",53),e.nrm(2,"img",56),e.nI1(3,"translate"),e.k0s()()}if(2&H){const u=e.XpG(3);e.Y8G("ngClass",e.eq3(9,Me,u.stopLogoNavigation)),e.R7$(),e.BMQ("data-partner-name",u.providerId)("data-partner-map",u.parteners)("data-desktop-image",u.desktopLogoPath)("data-mobile-image",u.mobileLogoPath),e.R7$(),e.FS9("alt",e.bMT(3,7,"logo")),e.Y8G("src",u.menuWuLogo,e.B4B)}}function Ss(H,ge){if(1&H&&(e.j41(0,"a",57)(1,"div",53),e.nrm(2,"img",54),e.nI1(3,"translate"),e.k0s()()),2&H){const u=e.XpG(3);e.Y8G("ngClass",e.eq3(10,Me,u.stopLogoNavigation))("routerLink",e.lJ4(12,rt)),e.R7$(),e.BMQ("data-partner-name",u.providerId)("data-partner-map",u.parteners)("data-desktop-image",u.desktopLogoPath)("data-mobile-image",u.mobileLogoPath),e.R7$(),e.FS9("alt",e.bMT(3,8,"logo")),e.Y8G("src",u.menuWuLogo,e.B4B)}}function ys(H,ge){if(1&H&&(e.j41(0,"div",58)(1,"div",59),e.nrm(2,"i"),e.nI1(3,"lowercase"),e.k0s(),e.j41(4,"div",60),e.EFF(5),e.k0s()()),2&H){const u=e.XpG(3);e.R7$(2),e.ZvI("flag-icon flag-icon-",e.bMT(3,4,u.senderCountryIsoCode),""),e.R7$(3),e.JRh(u.headerData.sender_country_name)}}function Es(H,ge){if(1&H&&(e.j41(0,"div",39)(1,"div",40),e.nrm(2,"div",41),e.j41(3,"div",42),e.DNE(4,Cs,4,12,"a",43)(5,fs,4,11,"a",44)(6,Ss,4,13,"a",45)(7,ys,6,6,"div",46),e.k0s()()()),2&H){const u=e.XpG(2);e.Y8G("ngClass",e.eq3(9,Ne,u.showGlobalLangSelector)),e.R7$(2),e.Y8G("ngClass",e.eq3(11,Le,u.isDss2ApplicationLoaded)),e.R7$(),e.xc7("pointer-events",u.isPPSProfile?"none":""),e.Y8G("ngClass",e.sMw(13,Re,u.wuUserLoginStaus,!u.wuUserLoginStaus,u.providePartnerName)),e.R7$(),e.Y8G("ngIf",!u.isRedirectToPartnerApp&&-1===u.logourl_global.indexOf("history")),e.R7$(),e.Y8G("ngIf",u.isRedirectToPartnerApp&&-1===u.logourl_global.indexOf("history")),e.R7$(),e.Y8G("ngIf",-1!==u.logourl_global.indexOf("history")),e.R7$(),e.Y8G("ngIf",u.headerCountryChangeCapability)}}function As(H,ge){if(1&H&&(e.j41(0,"li",252)(1,"span"),e.EFF(2),e.k0s()()),2&H){const u=e.XpG(2);e.R7$(2),e.JRh(u.headerData.progress_bar_step1)}}function vs(H,ge){if(1&H&&(e.j41(0,"li",253)(1,"span"),e.EFF(2),e.k0s()()),2&H){const u=e.XpG(2);e.R7$(2),e.JRh(u.headerData.progress_bar_step2)}}function Ps(H,ge){if(1&H){const u=e.RV6();e.j41(0,"span")(1,"a",255),e.bIt("click",function(){e.eBV(u);const q=e.XpG(3);return e.Njj(q.headerProgressiveLinkClick("receiver"))}),e.EFF(2),e.k0s()()}if(2&H){const u=e.XpG(3);e.R7$(2),e.JRh(u.headerData.progress_bar_step1)}}function Ds(H,ge){if(1&H&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.JRh(u.headerData.progress_bar_step1)}}function Is(H,ge){if(1&H&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.JRh(u.headerData.progress_bar_step1)}}function Os(H,ge){if(1&H&&(e.j41(0,"li",254),e.DNE(1,Ps,3,1,"span",50)(2,Ds,2,1,"span",50)(3,Is,2,1,"span",50),e.k0s()),2&H){const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",-1!==u.progressiveHeaderSelectedSteps.indexOf("receiver")&&u.progressiveHeaderSelectedSteps.indexOf("receiver")!==u.progressiveHeaderCurrentIndex),e.R7$(),e.Y8G("ngIf",-1===u.progressiveHeaderSelectedSteps.indexOf("receiver")),e.R7$(),e.Y8G("ngIf",u.progressiveHeaderSelectedSteps.indexOf("receiver")===u.progressiveHeaderCurrentIndex)}}function Ts(H,ge){if(1&H){const u=e.RV6();e.j41(0,"span")(1,"a",257),e.bIt("click",function(){e.eBV(u);const q=e.XpG(3);return e.Njj(q.headerProgressiveLinkClick("payment"))}),e.EFF(2),e.k0s()()}if(2&H){const u=e.XpG(3);e.R7$(2),e.JRh(u.headerData.progress_bar_step2)}}function Rs(H,ge){if(1&H&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.JRh(u.headerData.progress_bar_step2)}}function bs(H,ge){if(1&H&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.JRh(u.headerData.progress_bar_step2)}}function Ns(H,ge){if(1&H&&(e.j41(0,"li",256),e.DNE(1,Ts,3,1,"span",50)(2,Rs,2,1,"span",50)(3,bs,2,1,"span",50),e.k0s()),2&H){const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",-1!==u.progressiveHeaderSelectedSteps.indexOf("payment")&&u.progressiveHeaderSelectedSteps.indexOf("payment")!==u.progressiveHeaderCurrentIndex),e.R7$(),e.Y8G("ngIf",-1===u.progressiveHeaderSelectedSteps.indexOf("payment")),e.R7$(),e.Y8G("ngIf",u.progressiveHeaderSelectedSteps.indexOf("payment")===u.progressiveHeaderCurrentIndex)}}function Fs(H,ge){if(1&H&&(e.j41(0,"header",6),e.DNE(1,Ve,6,0,"div",7)(2,Et,14,4,"div",8)(3,At,3,4,"a",9)(4,hs,18,24,"div",10)(5,Es,8,17,"div",10),e.j41(6,"div",11)(7,"div",12),e.nrm(8,"div",13),e.j41(9,"ul",14,0),e.nrm(11,"li",15),e.DNE(12,As,3,1,"li",16)(13,vs,3,1,"li",17)(14,Os,4,3,"li",18)(15,Ns,4,3,"li",19),e.j41(16,"li",20),e.EFF(17),e.k0s(),e.j41(18,"li",21),e.EFF(19),e.k0s()(),e.nrm(20,"div",22,1),e.k0s()()()),2&H){const u=e.XpG();e.Y8G("ngClass",e.sMw(15,Ye,u.isDss2ApplicationLoaded,u.headerCountryChangeCapability,u.isRevampHeaderChangeApplicable)),e.R7$(),e.Y8G("ngIf",1==u.showOptimizeData),e.R7$(),e.Y8G("ngIf",u.showTATDownloadAppBanner),e.R7$(),e.Y8G("ngIf",u.isSkipToEnabled),e.R7$(),e.Y8G("ngIf",u.headerData&&!u.isDutPageHeader),e.R7$(),e.Y8G("ngIf",!u.headerData&&u.isDutPageHeader),e.R7$(),e.Y8G("ngClass",e.eq3(19,ze,!u.showProgressBar)),e.BMQ("aria-label",u.headerData.progress_bar_aria_label),e.R7$(),e.BMQ("aria-label",u.headerData.progress_bar_aria_label),e.R7$(5),e.Y8G("ngIf",u.ssrHeaderPayment),e.R7$(),e.Y8G("ngIf",u.ssrHeaderPayment),e.R7$(),e.Y8G("ngIf",u.showProgressBarReceiverOption&&!u.ssrHeaderPayment),e.R7$(),e.Y8G("ngIf",u.showProgressBarPaymentOption&&!u.ssrHeaderPayment),e.R7$(2),e.JRh(u.headerData.progress_bar_step3),e.R7$(2),e.JRh(u.headerData.progress_bar_step4)}}let Ls=(()=>{class H{onResize(){this.setHeaderLogo()}constructor(u,j,q,ue,ye,be,Te,$e,Ke,Ze,nt,tt,ht,li,_i,mi,gi,pi,Ct,ke,St){this.gblComponentProvider=u,this._store=j,this.sessionService=q,this.utilService=ue,this.routingService=ye,this.smoConfigService=be,this.readURLService=Te,this.location=$e,this.wuDataAccess=Ke,this.router=Ze,this.updateStore=nt,this.renderer=tt,this.userService=ht,this.userSandBox=li,this.optimusService=_i,this.changeDetector=mi,this.socialAuthHandling=gi,this.modalGeneric=pi,this.featureFlagService=Ct,this.translationService=ke,this.platformId=St,this.isSkipToEnabled=!1,this.isInIframe=!1,this.wuUserLoginStaus=!1,this.hamBurgerMenuList=[],this.menuListForNewTab=["menu-search-agencies"],this.stopLogoNavigation=!1,this.country="us",this.language="en",this.focusHeaderStatus=!1,this.isDUTApplicationLoaded=!1,this.isDSSApplicationLoaded=!1,this.isDss2ApplicationLoaded=!1,this.isSCVApplied=!1,this.isDUTHomePage=window.location.href.indexOf("/web/lbp/home")>-1,this.pageNameMappingObj={start:"sendmoneyoption"},this.skiptoEnabledPages=["sendmoneyoption","send-money"],this.isLeanRegistrationAvaiable=!1,this.destroyed$=new O.B7,this.showProgressBar=!1,this.showProgressBarPaymentOption=!0,this.showProgressBarReceiverOption=!0,this.isAutoLoginEnabled=!1,this.iswuHamburger=!1,this.animationState="out",this.progressiveHeaderSelectedSteps=[],this.progressiveHeaderCurrentIndex=0,this.showLanguageSelector=!1,this.showGlobalLangSelector=!1,this.isGlobalLangSelectorCollapse=!0,this.globalCountryLangList={},this.GLOBAL_LANG_SELECTOR_ENABLED_PAGES=["sendmoneyoption","login","forgot-password","register","primary-email"],this.globalLangSelectorRedirectUrl={sendmoneyoption:"/web/send-money/start",login:"/web/user/login","forgot-password":"/web/user/forgot-password",register:"/web/user/register","primary-email":"web/user/primary-account-update"},this.GLOBAL_LANG_SELECTOR_Class_ENABLED_Mobile=["sendmoneyoption"],this.showGloballanguageAndcountryHeaderMenu=!1,this.showChangeLanguageSelectors=!1,this.isSmoPageLoaded=!0,this.showHeader=!0,this.showHeaderLinks=!0,this.countryLanguageList=[],this.isSSRHeader=!1,this.ssrHeaderHistory=!1,this.ssrHeaderPayment=!1,this.isRedirectToPartnerApp=!1,this.isLanguageSelectorEnabled=!0,this.isPartnerUrl=!1,this.getHideNavMenuReceiverToBank=this.utilService.getHideNavMenuReceiverToBank(),this.headerCountryChangeCapability=!1,this.enableMywu=!1,this.kycAbdandondPopup=!1,this.isRevampHeaderChangeApplicable=!1,this.enableLogoutClick=!1,this.isDutPageHeader=!1,this.showOptimizeData=!1,this.showTATDownloadAppBanner=!1,this.appDownloadLink="",this.HEADER_DISABLE_NAVIGATION=["verification-status"],this.isPartnerReturnUrl=function(){const He=Ee.get(this.countryConfigData,"ConfigTemplate.partner");return He&&He.returnurl},this.countryConfigData=this.gblComponentProvider.getCountryConfig(),this.selectedLanguage=this.readURLService.getCountryLanguage().language,this.receiveMoneyInitiated=this.utilService.isRedirectReceiverToBank(),this.headerData=this.gblComponentProvider.getHeaderComponents(),this.isDUTApplicationLoaded=!!this.gblComponentProvider.isDUTApplicationLoaded(this.readURLService.getCurrentUrl()),this.isDSSApplicationLoaded=!!this.gblComponentProvider.isDSSApplicationLoaded(this.readURLService.getCurrentUrl()),this.isDss2ApplicationLoaded=!!this.gblComponentProvider.isDSS2ApplicationLoaded(this.readURLService.getCurrentUrl()),this.utilService.isNewDocHubEnabledForDSS()&&(this.isDss2ApplicationLoaded=!0),this.headerLinkNames=this.getHeaderLinkNames(this.headerData),this._store.pipe((0,x.Lt)(te.KZ),(0,G.Q)(this.destroyed$)).subscribe(He=>{this.hostedPartner=He,this.hideMenuOptions=Ee.get(this.countryConfigData,"ConfigTemplate.partner.hidefeatures")}),this.isDss2ApplicationLoaded&&this.GLOBAL_LANG_SELECTOR_ENABLED_PAGES.push("lookup"),this._store.pipe((0,x.Lt)(te.w8),(0,G.Q)(this.destroyed$)).subscribe(He=>{He&&He.isLoggedIn?(this.sender=He,this.wuUserLoginStaus=!0,this.getUserFullName(),this.setPropertiesFromHeaderMap(),this.updateGlobalUrl()):this.wuUserLoginStaus=!1,this.setFocusHeaderStatus(),this.setSSRHeader()}),this._store.pipe((0,x.Lt)(te.dj),(0,G.Q)(this.destroyed$)).subscribe(He=>{this.isPPSProfile=He}),this.isLeanRegistrationAvaiable=this.utilService.isLeanRegistrationEnabled(),this._store.pipe((0,x.Lt)(te.oB),(0,G.Q)(this.destroyed$)).subscribe(He=>{this.clickedLink=He.clickedLink,He.flag?(this.modalGeneric.open("update-profile-modal"),this.wuDataAccess.logPopupEvent("update-profile")):this.modalGeneric.close("update-profile-modal")}),this.router.events.pipe((0,Y.p)(He=>He instanceof V.wF),(0,G.Q)(this.destroyed$)).subscribe(()=>{this.fromStateName=this.currentStateName,this.getCurrentPageName()&&(this.currentStateName=this.getCurrentPageName()),this.setFocusHeaderStatus(),this.setHeaderLogo(),this.preProcessProgressBar(),this.setLanguageSelector(),this.getCountryLangList(),this.displayCountryNameInHeader(),this.evergageDataShowPL(),this.tatDownloadAppBanner(),this.hideNavigationHeader(),this.enableLogoutClick=this.utilService.isKycAbandonedPopupEnabled()&&("/user/verification-instructions"===this.router.url||"/user/onboarding"==this.router.url)}),this.isAutoLoginEnabled=!(!this.utilService.getCookieItem("user_session_token")||"true"!==sessionStorage.getItem("loginExt")),this.isLoyaltyEnabled=this.utilService.isLoyaltyProgramEnabled(),this.kycAbdandondPopup=this.utilService.isKycAbandonedPopupEnabled(),this.utilService.isRevampLoginPanelEnabled()&&(this.readURLService.getCurrentUrl().indexOf("/web/user/login")>-1||this.readURLService.getCurrentUrl().indexOf("/web/user/sm-login")>-1)&&(this.isRevampHeaderChangeApplicable=!0)}ngOnInit(){if(this.setSkipToFlag(),this.setDesktopLogoPath(),this.setMobileLogoPath(),this.setMessengerWebviewParams(),this.setHeaderLogo(),this.parteners=this.getParteners(),null!=this.parteners){const u=this.utilService.getCookieStoreItem("partnerName")||this.gblComponentProvider.partnerName,j=this.readURLService.getLanguageFromURL().toLowerCase()||"en";this.providePartnerName=!(!u||u.toLowerCase()!==E.Y.partner_advanceamerica||"es"!==j);const q=this.filterPartenerByProviderId(u);null!=q&&this.setPartenerAttributes(q)}this.setGlobalUrl(),this.setLogoUrlLoggedOut(),this.setLogoUrlLoggedIn(),this.setPropertiesFromHeaderMap(),this.setFocusHeaderStatus(),this.setSessionCountry(),this.utilService.updateUserIdentity(),this.utilService.inFrame()&&!this.utilService.isHostedPartner()&&(this.isInIframe=!0,this.showHeader=!1),this.showHeaderLinks=!this.isSCVApplied&&!this.gblComponentProvider.hideHeaderLinks,this.setLanguageSelector(),this.setSSRHeader(),this.getCountryLangList(),this.displayCountryNameInHeader(),this.loadMenu(),this.reloadMenusAfterEvergageLoad(),this.evergageDataShowPL(),this.setDutHeader(),this.tatDownloadAppBanner(),this.hideNavigationHeader(),this.isSMORevampEnable=this.utilService.isSMORevampEnabled()}hideNavigationHeader(){const j="X"===JSON.parse(sessionStorage.getItem("CustomerVerificationStatus")||"{}").identityVerificationStatus,q=window.location.pathname.split("/"),ue=q&&q.length>0?q.pop():"";this.featureFlagService.isFeatureEnabled("HEADER_DISABLE_NAVIGATION")&&(this.showHeaderLinks=!(-1!==this.HEADER_DISABLE_NAVIGATION.indexOf(ue)&&j||this.isSCVApplied||this.gblComponentProvider.hideHeaderLinks))}setDutHeader(){const u=window.location.pathname.split("/");"kycsuccess"==(u&&u.length>0?u.pop():"")&&this.utilService.isNGMigrationEnabled("kycsuccess")&&(this.isDutPageHeader=!0,this.headerData=!1)}setMessengerWebviewParams(){const u=this.utilService.getURLParameter("msngr_webview");if(u&&"true"===u){sessionStorage.setItem("IsMessengerWebview",u),sessionStorage.setItem("PathFromMessenger",window.location.pathname),sessionStorage.setItem("src","FB_BOT");const j=this.utilService.getURLParameter("messenger_id");j&&sessionStorage.setItem("WebViewUserID",j)}}setSkipToFlag(){this.getCurrentPageName()&&(this.currentStateName=this.getCurrentPageName()),"us"===this.readURLService.getCountryFromURL().toLowerCase()?-1!==this.skiptoEnabledPages.indexOf(this.currentPageName)&&(this.isSkipToEnabled=!0):this.isSkipToEnabled=!1}selectLanguage(u){const j=this.readURLService.getURLParam("src"),q=this.readURLService.getURLParam("pcp"),ue=this.readURLService.getCountryLanguage();if(u&&ue.country&&q&&j){const ye="/"+ue.country+"/"+u+"/",be=encodeURIComponent(q);window.location.href=decodeURIComponent(encodeURIComponent(`${ye}web/dss/dss-home?pcp=${be}&src=${j}`))}}scrollToElement(){const u=this.getCurrentPageName();if("sendmoneyoption"===u||"send-money"===u){const j=this.getSMOTitleText(),q=this.getSMOTitleTextNoCache(),ue=this.getSMOTitleTextNoCacheCountry();j?(j.focus(),j.scrollIntoView()):q?(q.focus(),q.scrollIntoView()):ue&&(ue.focus(),ue.scrollIntoView())}}getSMOTitleText(){return document.getElementById("smotitletext")}getSMOTitleTextNoCache(){return document.getElementById("smotitletext-no-cache")}getSMOTitleTextNoCacheCountry(){return document.getElementById("smotitletext-no-cache-country-selection-text")}setSessionCountry(){const u=this.utilService.getCookieItem("sessionCountry"),j=this.readURLService.getCountryFromURL().toLowerCase();u&&j&&u!==j&&(this.utilService.clearAllStorage(),this.utilService.updateRetailSessionValue(null),this.utilService.updateDigitalsCookiesValue(null),this.utilService.updateEncryptedSessionId(null),this.utilService.setCookieItem("sessionCountry",j))}ngAfterViewInit(){this.isDSSApplicationLoaded&&this._store.pipe((0,x.Lt)(te.yx),(0,ie.c)(0),(0,G.Q)(this.destroyed$)).subscribe(u=>{this.customerLookupResponse=u;const j=`/${this.readURLService.getCountryFromURL().toLowerCase()}/${this.readURLService.getLanguageFromURL()}/`;this.customerLookupResponse&&this.customerLookupResponse.pcpNumber&&this.customerLookupResponse.source&&(this.logourl_global=`${j}web/dss/dss-home?pcp=${this.customerLookupResponse.pcpNumber}&src=${this.customerLookupResponse.source}`)})}getParteners(){return this.headerData&&this.headerData.partner_map?this.headerData.partner_map:null}filterPartenerByProviderId(u){const j=this.getCookedPartnerMap();return null!=u&&j?j.find(function(q){return q.partner_name===u}):null}setDesktopLogoPath(){this.headerData&&this.headerData.header_logo&&(this.desktopLogoPath=this.headerData.header_logo)}setMobileLogoPath(){this.headerData&&this.headerData.mobile_header_logo&&(this.mobileLogoPath=this.headerData.mobile_header_logo)}setPartenerAttributes(u){null!=u&&(this.hideLogoValue=u.hideLogo,this.hideLogoValue&&(this.desktopLogoPath=u.desktop_logo_path,this.mobileLogoPath=u.mobile_logo_path))}setPartnerAppRedirectURL(){const u=Ee.get(this.countryConfigData,"ConfigTemplate.partner.name");u&&u.toUpperCase()===E.Y.cloudPricingAPIForPartners.LINXO.client&&(w.a.isProduction()?this.setWindowUrl(this.isPartnerReturnUrl()):this.setWindowUrl(E.Y.LINXO_SANDBOX_RETURNURL))}setGlobalUrl(){const u=Ee.get(this.countryConfigData,"ConfigTemplate.partner.name"),j=`/${this.readURLService.getCountryFromURL().toLowerCase()}/${this.readURLService.getLanguageFromURL()}/`;if(this.parteners&&this.countryConfigData.ConfigTemplate.partner&&this.countryConfigData.ConfigTemplate.partner.name&&this.countryConfigData.ConfigTemplate.partner.name.toUpperCase()===E.Y.cloudPricingAPIForPartners.MONEYMART.client)this.stopLogoNavigation=!0,this.logourl_global="javascript:void(0);";else if(u&&u.toUpperCase()===E.Y.cloudPricingAPIForPartners.LINXO.client)this.isRedirectToPartnerApp=!0,this.logourl_global=w.a.isProduction()?this.isPartnerReturnUrl():E.Y.LINXO_SANDBOX_RETURNURL;else if(u&&u.toUpperCase()===E.Y.cloudPricingAPIForPartners.GOOGLESPOT.client)this.logourl_global=this.isPartnerReturnUrl()?`${j}`+this.isPartnerReturnUrl():"javascript:void(0);";else if(this.wuUserLoginStaus)this.logourl_global=this.isDUTApplicationLoaded?`${j}web/lbp/home`:`${j}web/account/history`;else{const q=this.isPartnerReturnUrl();this.logourl_global=this.isDUTApplicationLoaded?`${j}web/lbp/home`:q?q&&q.startsWith("https://")?`${q}`:`${j}${q}`:`${j}home.html`}}setLogoUrlLoggedOut(){this.headerData&&this.headerData.header_logo_url&&(this.logourl_loggedout=this.headerData.header_logo_url)}setLogoUrlLoggedIn(){this.headerData&&this.headerData.header_logo_url_loggedin&&(this.logourl_loggedin=this.headerData.header_logo_url_loggedin)}getMapFromHeader(){return this.headerData&&this.headerData.map?this.headerData.map:null}hideNavTabProperties(){this.headerData&&Object.keys(this.headerData).filter(u=>{u.match(/nav_tab\d*_class/g)&&-1!==this.hideMenuOptions.indexOf(this.headerData[u])&&(this.headerData[u.split("_class")[0]]=!1)})}setPropertiesFromHeaderMap(){if(setTimeout(()=>{this.translationService.getHeaderTranslations().pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.headerTranslations=u})},1e3),null!==this.getMapFromHeader()){this.hamBurgerMenuList=[],this.hideMenuOptions&&this.hideNavTabProperties();for(const u of this.getMapFromHeader()){const j=JSON.parse(u);if(j.show_condition="loggedin"===j.link_type?this.wuUserLoginStaus:"loggedout"===j.link_type?!this.wuUserLoginStaus:"rd"!==j.link_type&&"rtobredirect"!==j.link_type&&("returnToPartner"!==j.link_type||this.hostedPartner&&this.wuUserLoginStaus),this.hideMenuOptions&&-1!==this.hideMenuOptions.indexOf(j.link_icon_text)&&(j.show_condition=!1),"menu-wurewards"===j.hamburger_amplitude_id&&this.utilService.isLoyaltyProgramEnabled()&&"loggedout"===j.link_type&&(this.enableMywu=!0),"menu-wurewards"===j.hamburger_amplitude_id&&this.utilService.isLoyaltyProgramEnabled()&&"loggedin"===j.link_type&&(this.enableMywu=0===Number(this.sender?.loyalityPoints)||void 0===this.sender?.loyalityPoints),"menu-wurewards"===j.hamburger_amplitude_id&&"loggedin"===j.link_type&&(j.show_condition=this.getMyWuStatus()),"menu-mywu"===j.hamburger_amplitude_id&&this.utilService.isLoyaltyProgramEnabled()&&"loggedout"===j.link_type&&(j.show_condition=!this.sender?.isLoggedIn),!(this.utilService.getCookieStoreItem("partnerName")||this.gblComponentProvider.partnerName||this.isPPSProfile)&&"menu-mywu"===j.hamburger_amplitude_id&&this.utilService.isLoyaltyProgramEnabled()&&("loggedin"===j.link_type||"loggedout"===j.link_type)){if("Western Union Rewards"!==j?.link_text){const ue=JSON.parse(this.headerData.mywuLoyaltyData||{});j.link_text=ue?.link_text,j.link_url=this.sender?.isLoggedIn?ue?.link_url:ue?.non_loyalty_link,j.hamburger_amplitude_id=ue?.amplitude_id}this.enableMywu="loggedout"===j.link_type||0===Number(this.sender?.loyalityPoints)||void 0===this.sender?.loyalityPoints}!this.utilService.isRAFEnabledForPostoffice()&&sessionStorage.getItem("partnerName")===E.Y.POSTOFFICE_PARTNER&&"menu-refer-friend"===j.hamburger_amplitude_id&&(j.show_condition=!1),"menu-mobile-topup-Ding"===j.hamburger_amplitude_id&&!this.utilService.isDingEnabled()&&(j.show_condition=!1),"menu-credit-builder"===j.hamburger_amplitude_id&&(!this?.utilService?.isCreditBuilderEnabled()||!this?.utilService?.isGreenStateUser()&&!this.utilService?.isCreditLineStatusActive())&&(j.show_condition=!1),"menu-remittance-statement"===j.hamburger_amplitude_id&&!this.utilService.isRemittanceStatementEnabled()&&(j.show_condition=!1),this.receiveMoneyInitiated&&"rtobredirect"===j.link_type&&(j.show_condition=!0),this.receiveMoneyInitiated&&("button-fund-redirect"===j.hamburger_amplitude_id||"menu-update-delivery-method"===j.hamburger_amplitude_id)&&(j.show_condition=!1),this.utilService.isHideEstimatePriceEnabled()&&("loggedout"===j.link_type||"pps"===j.link_type&&!this.isPPSProfile&&!this.wuUserLoginStaus)&&"menu-estimate-price"===j.hamburger_amplitude_id&&(j.show_condition=!1),this.utilService.isHideHeaderMenuEnabled()&&("loggedout"===j.link_type||"pps"===j.link_type&&!this.isPPSProfile&&!this.wuUserLoginStaus)&&E.Y.HIDE_HEADER_MENU.indexOf(j.hamburger_amplitude_id)>-1&&(j.show_condition=!1),"menu-refer-friend"===j.hamburger_amplitude_id&&this.utilService.isRcxReferFriendEnable()&&(this.isReferNewLable=!0),j.link_url&&(j.link_url=this.convertHeaderLinkName(j.link_url)),this.updateLinkData(j),this.hamBurgerMenuList.push(j)}}}reloadMenusAfterEvergageLoad(){window.reloadMenus=()=>{this.setPropertiesFromHeaderMap()}}updateLinkData(u){u&&"loggedin"===u.link_type&&"menu-prepaid-card"===u.hamburger_amplitude_id&&sessionStorage.getItem("prepaidToken")&&(w.a.isProduction()||(u.link_url=E.Y.WU_PREPAID_LOWER_ENVIRONMENT_URL),u.link_url=u.link_url+"SSO?Token="+sessionStorage.getItem("prepaidToken"))}loadMenu(){if(this.sender?.isLoggedIn&&this.utilService.isLoyaltyProgramEnabled()){const u=JSON.parse(sessionStorage.getItem("resLoyalityCard")||"{}");this.loyaltyRewardPoints=u?.gatewayCustomer?.additionalPreferredCustomers?.preferredCustomer?.totalPointsEarned}}updateGlobalUrl(){const u=`/${this.readURLService.getCountryFromURL().toLowerCase()}/${this.readURLService.getLanguageFromURL()}/`;this.logourl_global=this.isDUTApplicationLoaded?`${u}web/lbp/home`:this.isDSSApplicationLoaded?`${u}web/dss/dss-home?pcp=${this.customerLookupResponse.pcpNumber}&src=${this.customerLookupResponse.source}`:`${u}web/account/history`;const j=Ee.get(this.countryConfigData,"ConfigTemplate.partner.name");j&&j.toUpperCase()===E.Y.cloudPricingAPIForPartners.GOOGLESPOT.client?this.logourl_global=this.isPartnerReturnUrl()?`${u}`+this.isPartnerReturnUrl():"javascript:void(0);":(this.isDss2ApplicationLoaded||this.isSCVApplied)&&(this.logourl_global=E.Y.LBP_PARTNER_NON_CLICKABLE_HEADER_LOGO)}setHeaderLogo(){if(this.isPPSProfile)this.menuWuLogo=this.getPPSHeaderLogo();else{const u=window.innerWidth;this.iswuHamburger=u>768,this.menuWuLogo=u<1e3?this.mobileLogoPath:this.desktopLogoPath}}setLanguageSelector(){const u=this.smoConfigService.getGlobalConfig("switches","isPPSLanguageSelectorEnabled");if(this.country=this.smoConfigService._getCountryIsoFromURL().toUpperCase(),this.language=this.smoConfigService.getLanguageFromURL().toLowerCase(),this.showLanguageSelector=!1,this.isPPSProfile&&-1!==E.Y.PPSLanguageSelectorConfig.countries.indexOf(this.country)&&"true"===u){const j=this.getCurrentPageName(),q=E.Y.PPS_US_COUNTRY_LANGUAGE_LIST[this.language.toUpperCase()];if(q&&-1!==E.Y.PPSLanguageSelectorConfig.pages.indexOf(j)){this.countryLanguageList=[];for(const ue in q)q.hasOwnProperty(ue)&&this.countryLanguageList.push({languageCode:ue,languageName:q[ue]});this.showLanguageSelector=this.countryLanguageList.length>1}}}displayCountryNameInHeader(){const u=this.getCurrentPageName();this.senderCountryIsoCode=this.readURLService.getCountryFromURL();const j=this.updateStore.getState()?.countryDynamicParams?.DISPLAY_COUNTRY_NAME_IN_HEADER_ENABLED_PAGES;this.headerCountryChangeCapability=!!(this.wuUserLoginStaus&&j&&-1!==j?.indexOf(u)&&this.utilService.isCountryChangeCapabilityEnabled())}getCountryLangList(){if(this.showGlobalLangSelector=!1,this.showGloballanguageAndcountryHeaderMenu=this.utilService.isGlobalLangSelectorEnabled()&&-1!==this.GLOBAL_LANG_SELECTOR_ENABLED_PAGES.indexOf(this.currentStateName),this.showGloballanguageAndcountryHeaderMenu=!this.isDss2ApplicationLoaded&&this.showGloballanguageAndcountryHeaderMenu,this.utilService.isGlobalLangSelectorEnabled()&&-1!==this.GLOBAL_LANG_SELECTOR_ENABLED_PAGES.indexOf(this.currentStateName)){if(this.country=this.smoConfigService._getCountryIsoFromURL().toUpperCase(),this.language=this.smoConfigService.getLanguageFromURL().toLowerCase(),this.globalCountryLangList=this.updateStore.getState().globalCountryLangList,this.globalCountryLangList[this.country+"-"+this.language])this.countryLanguageList=this.globalCountryLangList[this.country+"-"+this.language],this.showGlobalLangSelector=this.utilService.isGlobalLangSelectorEnabled()&&this.countryLanguageList.length>1,this.showChangeLanguageSelectors=this.countryLanguageList.length>1;else{const u=new N.J;u.setOrigination(this.country).setLanguage(this.language).setLists(_.MG.TAT_LANGUAGES,"lang","COUNTRYLANGUAGES").setBashpath(`/${this.country}/${this.language}`),this.optimusService.invokeGenericFactory(_.MG.TAT_LANGUAGES,u).pipe((0,G.Q)(this.destroyed$)).subscribe(j=>{if(j[_.MG.TAT_LANGUAGES]){this.countryLanguageList=[];const q=j[_.MG.TAT_LANGUAGES][this.country.toUpperCase()];this.countryLanguageList=Object.keys(q||{}).map(ue=>({languageName:q[ue],languageCode:ue})),this.globalCountryLangList=Object.assign({},this.globalCountryLangList),this.globalCountryLangList[this.country+"-"+this.language]=this.countryLanguageList,this.updateStore.updateGlobalCountryLangList(this.globalCountryLangList),this.showGlobalLangSelector=this.utilService.isGlobalLangSelectorEnabled()&&this.countryLanguageList.length>1,this.showChangeLanguageSelectors=this.countryLanguageList.length>1}})}this.isSmoPageLoaded=-1!==this.GLOBAL_LANG_SELECTOR_Class_ENABLED_Mobile.indexOf(this.currentStateName),this.isPartnerUrl=!!(this.utilService.getCookieStoreItem("partnerName")||this.gblComponentProvider.partnerName||this.isPPSProfile)}}changeLanguage(u){this.isDss2ApplicationLoaded&&(this.globalLangSelectorRedirectUrl.login="/web/dss2/login",this.globalLangSelectorRedirectUrl.lookup="/web/dss2/lookup"),this.language=this.smoConfigService.getLanguageFromURL().toLowerCase(),this.language!==u&&(this.language=u,this.setWindowUrl(`/${this.country.toLowerCase()}/${this.language}/web/user/${this.getCurrentPageName()}`))}changeLanguageForGlobal(u){this.isDss2ApplicationLoaded&&(this.globalLangSelectorRedirectUrl.login="/web/dss2/login",this.globalLangSelectorRedirectUrl.lookup="/web/dss2/lookup"),this.language=this.smoConfigService.getLanguageFromURL().toLowerCase(),this.language!==u&&(this.language=u,localStorage.setItem("wuLanguagePreference",this.language),this.setWindowUrl(`/${this.country.toLowerCase()}/${this.language}${this.globalLangSelectorRedirectUrl[this.currentStateName]}`))}globalLangIconOnClick(){this.isGlobalLangSelectorCollapse=!this.isGlobalLangSelectorCollapse}getPPSHeaderLogo(){let u="";const j=this.getCookedPartnerMap(),q=sessionStorage.getItem("providerSiteLogo");if(j){const ue=j.find(ye=>ye.partner_name&&ye.partner_name===q);ue&&(u=window.innerWidth<1e3?ue.mobile_logo_path:ue.desktop_logo_path)}return u}getCookedPartnerMap(){const u=this.headerData&&this.headerData.partner_map?this.headerData.partner_map:null;if(u){const j=[];for(const q of u)try{const ue="object"==typeof q?q:JSON.parse(q);j.push(ue)}catch{return null}return j}return null}getUserFullName(){const u=this.sender?.firstName||this.sender?.givenName||"",j=this.sender?.middleName||this.sender?.maternalName||"",q=this.sender?.lastName||this.sender?.paternalName||"",ue=!!(q&&this.utilService.isNoLastNameEnabled()&&this.utilService.isNoLastNameValue()&&q.toLowerCase()===this.utilService.isNoLastNameValue().toLowerCase());this.wuLoggedInUserName=j?u+" "+j+" "+(ue?"":q):u+" "+(ue?"":q)}logoutUser(){!this.utilService.isKycAbandonedPopupEnabled()||"/user/verification-instructions"!==this.router.url&&"/user/onboarding"!=this.router.url?this.logoutUserValidated():this.utilService.getLogoutClickEvent().subscribe(()=>{this.logoutUserValidated()})}logoutUserValidated(){this.wuUserLoginStaus=!1,this.setPropertiesFromHeaderMap(),this.utilService.isSocialLoginOptionEnabled()&&this.socialAuthHandling.onRevokeAccessCall(),this.terminateSession()}terminateSession(){this.sessionService.terminateSession().pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{const j=this.utilService.getCookieStoreItem("providerSiteUrl");this.utilService.deleteCookieItem("SessionId"),this.utilService.deleteCookieItem("SessionInfo"),window.sessionStorage.removeItem("cookiestore"),this.utilService.deleteCookieItem("user_session_token"),this.utilService.updateRetailSessionValue(null);const q=Ee.get(this.countryConfigData,"ConfigTemplate.partner.name");if(u&&!u.error)if(this.utilService.deleteCookieItem("PhoneNumber"),j)this.utilService.deleteCookieItem("providerSiteUrl"),this.setWindowUrl(j);else if(this.hostedPartner&&this.countryConfigData.ConfigTemplate.partner&&this.countryConfigData.ConfigTemplate.partner.name&&this.countryConfigData.ConfigTemplate.partner.name.toUpperCase()!==E.Y.cloudPricingAPIForPartners.MONEYMART.client){const ue=this.isPartnerReturnUrl(),ye=`/${this.readURLService.getCountryFromURL().toLowerCase()}/${this.readURLService.getLanguageFromURL()}/`;this.utilService.clearAllStorage(),ue?q&&q.toUpperCase()===E.Y.cloudPricingAPIForPartners.LINXO.client?w.a.isProduction()?this.setWindowUrl(this.isPartnerReturnUrl()):this.setWindowUrl(E.Y.LINXO_SANDBOX_RETURNURL):ue&&!ue.startsWith("https://")?this.setWindowUrl(`${ye}${ue}`):ue&&ue.startsWith("https://")&&this.setWindowUrl(ue):this.setWindowUrl(`${ye}home.html`)}else{this.utilService.getCookieStoreItem("lbptrack")&&this.utilService.deleteCookieItem("lbptrack"),this.utilService.clearAllStorage();const ue="RU"===this.readURLService.getCountryFromURL()?this.routingService.getBaseUrl()+"/web/user/phone-verification":this.routingService.getBaseUrl()+"/web/user/login";this.setWindowUrl(ue)}},u=>console.error(u))}convertHeaderLinkName(u){const j={"billpay-start":"bill-pay"};let q="";const ue=`/${this.readURLService.getCountryFromURL().toLowerCase()}/${this.readURLService.getLanguageFromURL()}/`,ye=u.split("/"),be=ye[ye.length-1],Te=ye[ye.length-3],$e=this.updateStore.getState()?.countryDynamicParams?.handleHeaderLink,Ke="true"==sessionStorage.getItem("ngNewMyReceiverPage"),Ze="true"==sessionStorage.getItem("ngNewSettingsPage");q="optimus"===Te&&j[be]?`${ue}${j[be]}/app/${be}`:"optimus"!==Te||j[be]?"account"===Te?`${ue}${Te}/app/${be}`:u.includes("global-service")||u.includes("www.westernunion.com")||this.gblComponentProvider.isDUTApplicationLoaded(this.readURLService.getCurrentUrl())||this.isDSSApplicationLoaded?u:"ru"===this.readURLService.getCountryFromURL().toLowerCase()&&(u.indexOf("contact-us")>0||u.indexOf("frequently-asked-questions")>0||u.indexOf("transfer-fees")>0)?`${ue}${be}`:"locations.westernunion.com"===ye[2]||u.includes("ding-topup")||u.includes("credit-builder")||u.includes("remittance-statement")||u.includes("refer-a-friend")||u.includes("web/user/sm-login")?u:u.indexOf("frequently-asked-questions")>0&&"ta"===this.readURLService.getLanguageFromURL().toLowerCase()?`${ue}${be}`:u.includes("rewards/home.html")||u.includes("rewards/dashboard.html")||u.includes("contact-us.html")||u.includes("find-locations.html")&&$e?.split(",").includes(this.selectedLanguage&&this.selectedLanguage.toUpperCase())?u:`${ue}${Te}/app/${be}`:`${ue}send-money/app/${be}`,q.includes("send-money/app/start")&&(q=q.replace("send-money/app/start","web/send-money/start"));const nt="true"==sessionStorage.getItem("ngNewCashPickupAir");return q.includes("send-money/app/pickupcashair")&&(nt||this.featureFlagService.isFeatureEnabled("PICKUPCASHAIR_NG_NEW_PAGE"))&&(q=q.replace("send-money/app/pickupcashair","web/send-money/pickupcashair")),q.includes("send-money/app/login")&&(q=q.replace("send-money/app/login","web/user/login")),q.includes("send-money/app/register")&&(q=q.replace("send-money/app/register","web/user/register")),q.includes("app/manage-reminders")&&(q=q.replace("app/manage-reminders","account/manage-reminders")),q.includes("app/my-receivers")&&(Ke||this.featureFlagService.isFeatureEnabled("My_RECEIVER_NG_New_Page"))&&(q=q.replace("account/app/my-receivers","web/account/my-receivers")),q.includes("app/settings")&&(Ze||this.featureFlagService.isFeatureEnabled("SETTINGS_NG_New_Page"))&&(q=q.replace("account/app/settings","web/account/settings")),q.includes("web/app/static-estimate")&&(q=q.replace("web/app/static-estimate","web/send-money/static-estimate")),q.includes("account/app/refer-friend")&&(this.utilService.isNGMigrationEnabled("refer-friend")||this.utilService.isRcxReferFriendEnable())&&(q=q.replace("account/app/refer-friend","web/refer-a-friend")),q}getHeaderLinkNames(u){if(!u)return;const j={};for(const q in u)q&&q.includes("_linkUrl")&&(j[q]=u[q]);for(const q in j)if(j[q]&&j[q].split("/")){const ue=j[q].split("/");ue[ue.length-1].includes(".html")||(j[q]=this.convertHeaderLinkName(j[q]))}return j}setWindowUrl(u){window.location.href=decodeURIComponent(encodeURIComponent(u))}closeCookiePopupModal(){const u=document&&document.getElementById("cookie-popup-modal")?document.getElementById("cookie-popup-modal"):null;u&&u.style&&(u.style.display="block",this.wuDataAccess.manageCookiePopupEvent())}closeCookieWidget(){this.animationState="out"}setFocusHeaderStatus(){if(this.headerData&&this.headerData.focus_header_states){const j=this.headerData.focus_header_states.split(",").map(be=>be.trim()),q=this.getCurrentPageName();this.focusHeaderStatus=-1!==j.indexOf(q);const ue=this.readURLService.getCurrentUrl();(0,c.Vy)(this.platformId)&&(-1!==ue.indexOf("receiver")||-1!==ue.indexOf("payment"))&&(this.focusHeaderStatus=!0);const ye=this.utilService.getCookieStoreItem("partnerName");ye&&ye===E.Y.LBP_PARTNER&&q===E.Y.smoPageName&&!this.wuUserLoginStaus&&(this.logourl_global=E.Y.LBP_PARTNER_NON_CLICKABLE_HEADER_LOGO,this.focusHeaderStatus=!0),this.isDUTApplicationLoaded&&!(this.readURLService.getCurrentUrl().indexOf("/web/lbp/home")>-1)&&(this.focusHeaderStatus=!0),this.isDSSApplicationLoaded&&!(this.readURLService.getCurrentUrl().indexOf("/web/dss/")>-1)&&(this.focusHeaderStatus=!0),this.isDss2ApplicationLoaded&&!(this.readURLService.getCurrentUrl().indexOf("/web/dss2/")>-1)&&(this.focusHeaderStatus=!0)}}getCurrentPageName(){const u=this?.location?.path()||"";if(u&&u.length>0){const q=u.split("?")[0].split("/"),ue=q[q.length-1];return this.pageNameMappingObj[ue]?this.pageNameMappingObj[ue]:ue}}getMyWuStatus(){let u;"TRUE"===Ee.get(this.countryConfigData,"ConfigTemplate.mywuEnabled")&&(u=!0);const j=this.Isdigitallyverified();return u&&this.wuUserLoginStaus&&j}Isdigitallyverified(){const u=this.readURLService.getCountryFromURL().toLowerCase();return!E.Y.digitallyVerifiedCountries||-1===E.Y.digitallyVerifiedCountries.indexOf(u)||this.sender&&"Y"===this.sender.verificationStatus}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}preProcessProgressBar(){if((0,c.Vy)(this.platformId))return;this.showProgressBar=!1,this.showProgressBarPaymentOption=!1,this.showProgressBarReceiverOption=!0;let u="",j="",q=0,ue=0;this.currentStateName&&(u=this.currentStateName);const ye=[],be=this.updateStore.getState().userJourney;if("payment"===this.fromStateName&&-1!==E.Y.holdPreviousState.indexOf(u)?u="payment":"receiver"===this.fromStateName&&-1!==E.Y.holdPreviousState.indexOf(u)&&(u="receiver"),-1!==E.Y.hideProgressBarReceiverOption.indexOf(be)&&(this.showProgressBarReceiverOption=!1),u&&"receipt"===u)return;const Te=sessionStorage.getItem("partnerName")||"";if(-1===E.Y.availableProgressBarSteps.indexOf(u)||-1!==E.Y.disableProgressBarPartners.indexOf(Te))return;this.showProgressBar=!0,this.updateStore.getState()&&this.updateStore.getState().selectedProduct&&this.updateStore.getState().selectedProduct.payIn&&(j=this.updateStore.getState().selectedProduct.payIn.toUpperCase());const $e=this.featureFlagService.isFeatureEnabled("HEADER_STEPPER_ENABLED");if(-1!==E.Y.payInMethodsWithOutPaymentPage.indexOf(j)){if(this.showProgressBarPaymentOption=!1,this.changeDetector.detectChanges(),q=E.Y.availableProgressBarStepsWotPayment.length,ue=E.Y.availableProgressBarStepsWotPayment.indexOf(u)>-1?E.Y.availableProgressBarStepsWotPayment.indexOf(u):0,$e){if(ue>=0&&ue<1e3)for(let Ke=0;Ke<=ue;Ke++)ye.push(E.Y.availableProgressBarStepsWotPayment[Ke])}else if(ue>0&&ue<1e3)for(let Ke=0;Ke<=ue;Ke++)ye.push(E.Y.availableProgressBarStepsWotPayment[Ke])}else if(this.showProgressBarPaymentOption=!0,this.changeDetector.detectChanges(),q=E.Y.availableProgressBarSteps.length,ue=E.Y.availableProgressBarSteps.indexOf(u)>-1?E.Y.availableProgressBarSteps.indexOf(u):0,$e){if(ue>=0&&ue<1e3)for(let Ke=0;Ke<=ue;Ke++)ye.push(E.Y.availableProgressBarSteps[Ke])}else if(ue>0&&ue<1e3)for(let Ke=0;Ke<=ue;Ke++)ye.push(E.Y.availableProgressBarSteps[Ke]);this.setProgressBarSteps(u,ye,ue,q)}setProgressBarSteps(u,j,q,ue){if(this.progressiveHeaderSelectedSteps=j,this.progressiveHeaderCurrentIndex=q,-1===j.indexOf(u))return void(this.showProgressBar=!1);const ye=this.progressBarOptions.nativeElement.children;"review"===u?(this.renderer.removeClass(this.progressBarOptions.nativeElement,"final-review-container"),this.renderer.addClass(this.progressBarOptions.nativeElement,"final-review-container")):("receiver"===u||"payment"===u)&&this.renderer.removeClass(this.progressBarOptions.nativeElement,"final-review-container");for(const be of ye){const Te=be.getAttribute("data-state");this.renderer.removeClass(be,"selected-steps"),this.renderer.removeClass(be,"completedsteps"),-1!==j.indexOf(Te)&&(j.indexOf(Te)===q?this.renderer.addClass(be,"selected-steps"):this.renderer.addClass(be,"completedsteps"))}ue-1===q?q===ye.length-1&&(this.renderer.addClass(this.progressBarLastElement.nativeElement,"progress-extra"),this.renderer.addClass(this.progressBarOptions.nativeElement,"final-review-container")):this.renderer.removeClass(this.progressBarLastElement.nativeElement,"progress-extra")}headerProgressiveLinkClick(u){"receiver"===u?this.routingService.navigateTOReceiver():"payment"===u&&this.routingService.navigateToPayment()}customerSignOn(u){if(this.isAutoLoginEnabled){setTimeout(()=>{this.wuDataAccess.logPageEvent("user/login")});try{this.userService.getCustomerSignon("","",null,!1,null,!1).pipe((0,G.Q)(this.destroyed$)).subscribe(j=>{if(j&&j.error)this.utilService.deleteCookieItem("user_session_token"),this.router.navigateByUrl("/user/login");else{sessionStorage.setItem("sc_login_success","true"),sessionStorage.setItem("dtm_login_success","true");const q=this.handleRedirection(u);this.userSandBox.customerSignOnSuccess(q)}})}catch{this.router.navigateByUrl("/user/login")}}else this.router.navigateByUrl(this.isDUTApplicationLoaded?"/lbp/login":"/user/login")}handleRedirection(u){let j="";return"menu-login"===u?j=this.routingService.getBaseUrl()+"/web/send-money/start":"menu-profile"===u?j=this.routingService.getBaseUrl()+"/account/app/profile":"menu-history"===u?j=this.routingService.getBaseUrl()+"/web/account/history":"menu-refer-friend"===u?j=this.routingService.getBaseUrl()+"/account/app/refer-friend":"menu-myreceivers"===u&&(j=this.routingService.getBaseUrl()+"/account/app/my-receivers"),j}setSSRProgressBar(u){this.ssrHeaderPayment=!1,(-1!==u.indexOf("receiver")||-1!==u.indexOf("payment"))&&(this.ssrHeaderPayment=-1!==u.indexOf("payment"),this.focusHeaderStatus=!0,this.showProgressBar=!0)}setSSRHeader(){if((0,c.Vy)(this.platformId)){const u=this.readURLService.getCurrentUrl();this.setSSRProgressBar(u),this.ssrHeaderHistory=-1!==u.indexOf("history")}else this.ssrHeaderHistory=!1;this.isSSRHeader=(0,c.Vy)(this.platformId)}getHamBurgerMenuRouterLink(u){let j;return"menu-history"===u&&(j=this.wuUserLoginStaus?"account/history":"user/login"),j}isRouterLinkHref(u){return(!this.isAutoLoginEnabled||"menu-profile"!==u&&"menu-history"!==u&&"menu-refer-friend"!==u&&"menu-myreceivers"!==u)&&-1!==["menu-history"].indexOf(u)}closeModal(){this.modalGeneric.close("update-profile-modal")}getHref(u){return"menu-refer-friend"===u.hamburger_amplitude_id?this.wuUserLoginStaus&&Ee.isEmpty(this.wuLoggedInUserName?.trim())?null:u.link_url:!this.isAutoLoginEnabled||"menu-profile"!==u.hamburger_amplitude_id&&"menu-history"!==u.hamburger_amplitude_id&&"menu-myreceivers"!==u.hamburger_amplitude_id?u.link_url:"#"}linkClickHandler(u,j){if("menu-refer-friend"===u.hamburger_amplitude_id&&this.wuUserLoginStaus&&Ee.isEmpty(this.wuLoggedInUserName?.trim()))return this.clickedLink="refer-friend",this.modalGeneric.open("update-profile-modal"),this.wuDataAccess.logPopupEvent("update-profile"),!1;this.isAutoLoginEnabled&&("menu-profile"===u.hamburger_amplitude_id||"menu-history"===u.hamburger_amplitude_id||"menu-refer-friend"===u.hamburger_amplitude_id||"menu-myreceivers"===u.hamburger_amplitude_id)&&(!this.utilService.getLoggedInStatus()&&this.utilService.isAutologinFixEnabled()?this.customerSignOn(u.hamburger_amplitude_id):this.utilService.getLoggedInStatus()?"menu-profile"===u.hamburger_amplitude_id?this.routingService.navigateTOProfille():"menu-myreceivers"===u.hamburger_amplitude_id?this.routingService.navigateToMYReceiver():"menu-history"===u.hamburger_amplitude_id?this.routingService.navigateTOHistory():"menu-refer-friend"===u.hamburger_amplitude_id&&this.routingService.navigateTORcxReferFriend():this.isDUTApplicationLoaded?this.router.navigateByUrl("/lbp/login"):this.routingService.navigateToLoginNG8(),j&&j.preventDefault())}pickupCashClickHandler(){if(this.wuUserLoginStaus&&Ee.isEmpty(this.wuLoggedInUserName?.trim()))return this.clickedLink="pickupcash",this.modalGeneric.open("update-profile-modal"),this.wuDataAccess.logPopupEvent("update-profile"),!1}evergageDataShowPL(){const u=sessionStorage.getItem("GatewayCustomer"),j=sessionStorage.getItem("fromState"),q=window.location.pathname.split("/"),ue=q[q.length-1];this.showOptimizeData=!(!this.featureFlagService.isFeatureEnabled("MY_WU_BANNER_REWARDS")||!u||"register"!==j||"start"!==ue)}buttonOpenProfile(){this.routingService.navigateTOMyWuRewards()}isModalCancellable(){const u=this.updateStore.getState().userJourney;return-1===["refer-friend","receive-money"].indexOf(u)}tatDownloadAppBanner(){const u=window.location.pathname.split("/"),j=u[u.length-1].toLowerCase(),q=this.utilService.whichMobDevice();"true"===sessionStorage.getItem("mtcn-deeplinking")&&this.featureFlagService.isFeatureEnabled("TAT_Download_App_Banner")&&j&&-1!==E.Y.tatAppDownloadBannerPages.indexOf(j)?setTimeout(()=>{this.getHeaderTranslation(),this.showTATDownloadAppBanner="Android"===q||"iOS"===q,this.appDownloadLink="Android"===q?this.headerTranslations?.tat_google_store_link:this.headerTranslations?.tat_apple_store_link},2e3):this.showTATDownloadAppBanner=!1}closeTatDownloadBnr(){this.showTATDownloadAppBanner=!1,sessionStorage.removeItem("mtcn-deeplinking")}getHeaderTranslation(){this.translationService.getHeaderTranslations().pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.headerTranslations=u})}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(re.b),e.rXU(x.il),e.rXU(Ce.Q),e.rXU(w.a),e.rXU(X.O),e.rXU(M.l9),e.rXU(fe.Fq),e.rXU(c.aZ),e.rXU(R.a),e.rXU(V.Ix),e.rXU(de.k),e.rXU(e.sFG),e.rXU(oe.D),e.rXU(De.K),e.rXU(U.B),e.rXU(e.gRc),e.rXU(ee.$),e.rXU(ae.u),e.rXU(B.y),e.rXU(s.C),e.rXU(e.Agw))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-header"]],viewQuery:function(j,q){if(1&j&&(e.GBs(Ie,5),e.GBs(Fe,5)),2&j){let ue;e.mGM(ue=e.lsd())&&(q.progressBarOptions=ue.first),e.mGM(ue=e.lsd())&&(q.progressBarLastElement=ue.first)}},hostBindings:function(j,q){1&j&&e.bIt("resize",function(){return q.onResize()},!1,e.tSv)},features:[e.Jv_([ae.u])],decls:2,vars:3,consts:[["progressBarOptions",""],["progressBarLastElement",""],["showGloballanguageAndcountrys",""],["showDropdownIcon",""],["id","wu-header","appWuheader","","role","banner","style","position: relative",3,"ngClass",4,"ngIf"],["id","update-profile-modal",2,"display","none",3,"closeModalFlag","isCancellable","clickedLink"],["id","wu-header","appWuheader","","role","banner",2,"position","relative",3,"ngClass"],["id","mywu-rewards-page-evga-banner","class","topSectionEvergage",4,"ngIf"],["class","tat-success-app-download-banner",4,"ngIf"],["href","javascript:void(0);","class","forceSkipLink",3,"click",4,"ngIf"],["class","container",3,"ngClass",4,"ngIf"],["role","progressbar",1,"progress-bar-web-main-container",3,"ngClass"],["role","progressbar",1,"progress-bar-web"],[1,"progress-extra"],["role","progressbar","aria-label","Progress-Bar-Options",1,"row","progress-bar-options","container","container-new"],[1,"selectedLi"],["id","progressbar-receiver","class","completedsteps",4,"ngIf"],["id","progressbar-payment","class","selected-steps",4,"ngIf"],["id","progressbar-receiver","amplitude-id","progressbar-receiver","aria-label","Receiver","label","Receiver","data-state","receiver","class","completedsteps selected-steps",4,"ngIf"],["id","progressbar-payment","amplitude-id","progressbar-payment","aria-label","Payment","label","Payment","data-state","payment",4,"ngIf"],["id","progressbar-review","amplitude-id","progressbar-review","aria-label","Review","label","Review","data-state","review"],["id","progressbar-receipt","amplitude-id","progressbar-receipt","aria-label","Receipt","label","Receipt","data-state","receipt"],["id","progress-bar-last-elment-id"],["id","mywu-rewards-page-evga-banner",1,"topSectionEvergage"],[1,"banner-ads__top_new"],[1,"message__container_new"],["translate","sendmoneyoption.profile_updated_msg",1,"text-main-euclid-medium","text-main__heading1_new",2,"color","rgb(10, 0, 5)"],["id","button-open-profile","amplitude-id","button-open-profile","translate","sendmoneyoption.continue_mywu_rewards_button",1,"cta","cta--primary-dark_new",2,"width","auto","height","32px","text-align","center","white-space","nowrap",3,"click"],[1,"tat-success-app-download-banner"],[1,"row","bnr-title"],[1,"col-xs-10","col-sm-10","col-xs-10"],[1,"col-xs-2","col-sm-2","col-xs-2"],[1,"pull-right","bnr-close"],["href","javascript:void(0)","id","close-tatsuccess-downloadapp-banner","amplitude-id","close-tatsuccess-downloadapp-banner",3,"click"],["data-grunticon-embed","","name","0022_close",1,"wu-message__inline__body-icon-close","wu-icon","icon-0022_close","wu-icon__spacing-scale-xs"],[1,"bnr-content"],[1,"bnr-download-link"],["amplitude-id","download-appStore","target","_blank",3,"href"],["href","javascript:void(0);",1,"forceSkipLink",3,"click"],[1,"container",3,"ngClass"],[1,"row","header-top-container"],[1,"col-xs-3","visible-xs","hide-logo-left-conainer",3,"ngClass"],[1,"wu-logo","col-xs-6","col-md-3","col-sm-2","header-country-name",3,"ngClass"],["id","menu-wu-logo",3,"ngClass","href","click",4,"ngIf"],["id","menu-wu-logo",3,"ngClass","click",4,"ngIf"],["id","menu-wu-logo",3,"ngClass","routerLink",4,"ngIf"],["aria-label","country-name","class","header-country-name-wraper",4,"ngIf"],[1,"fbWebviewHeaderLinks","hidden"],[1,"btn",3,"href"],["class","hideGlobalCountryChangeHeader",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","dss2GobalLangHeader",4,"ngIf"],["id","menu-wu-logo",3,"click","ngClass","href"],[1,"wu-header-logo","wu-partner-logo"],[1,"wu-log",3,"src","alt"],["id","menu-wu-logo",3,"click","ngClass"],[3,"src","alt"],["id","menu-wu-logo",3,"ngClass","routerLink"],["aria-label","country-name",1,"header-country-name-wraper"],[1,"logo-wraper"],[1,"header-country-name-text"],[1,"hideGlobalCountryChangeHeader",3,"ngClass"],[1,"language-menu"],["aria-label","change-language","appGlobalLangSelectorMobile","",1,"col-xs-2","global-lang-selector-dropdown","hidden-lg","hidden-md","hidden-sm",3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"lanaguge-selector-gl-mobile","global-lang-selector-menu-container",3,"ngClass"],["id","wuRpLangHeaderTabs",1,"nav","nav-tabs","tab-menu","global-language-tab-menu"],["id","moreMenuMobileProfileLink","role","presentation","class","mobile-global-change-country  hidden-xs hidden-lg hidden-md hidden-sm hidden-xs",4,"ngIf"],[1,"icon-0113_globe","custom-globe","revamp-globe-mob"],["amplitude-id","list-language",1,"global-lang-selector-button-text","revamp-language-mob",3,"click"],["amplitude-id","list-language",3,"click"],["amplitude-id","list-language","id","globalLangSelectorArrowIcon",1,"global-lang-down-icon",3,"click"],["id","moreMenuMobileProfileLink","role","presentation",1,"mobile-global-change-country","hidden-xs","hidden-lg","hidden-md","hidden-sm","hidden-xs"],[1,"chng-lang-content"],["class","chng-lang-msg","amplitude-id","link-change-country",3,"routerLink",4,"ngIf"],["amplitude-id","link-change-country",1,"chng-lang-msg",3,"routerLink"],[1,"lang-title","hidden-xs","hidden-lg","hidden-md","hidden-sm","hidden-xs"],[1,"chng-lang-content-Mob"],["id","moreMenuMobileProfileLink","role","presentation","class","wu-user-name wu-user-loggedin hidden-xs hidden-lg hidden-md hidden-sm hidden-xs menu-link hmrpHeaderTabsLi language-selector-item","amplitude-id","list-language-selection",3,"click",4,"ngFor","ngForOf"],["id","moreMenuMobileProfileLink","role","presentation","amplitude-id","list-language-selection",1,"wu-user-name","wu-user-loggedin","hidden-xs","hidden-lg","hidden-md","hidden-sm","hidden-xs","menu-link","hmrpHeaderTabsLi","language-selector-item",3,"click"],[1,"global-lang-selector-item-container"],[1,"global-lang-selector-item-text"],["class","global-lang-selector-item-selected-icon",4,"ngIf"],[1,"global-lang-selector-item-selected-icon"],["aria-label","change-language","appHeaderMenu","",1,"col-xs-2","select-toggle","wu-hamburger","language-selector-button","language-selector-button-wrapper","hidden-lg","hidden-md","hidden-sm"],[1,"language-selector-button","language-selector-button-icon"],[1,"language-selector-button","language-selector-button-text"],[1,"tab-menu-container","col-xs-12","col-md-9","col-sm-10","language-selector-menu-container"],["id","wuRpHeaderTabs",1,"nav","nav-tabs","tab-menu"],["id","moreMenuMobileProfileLink","role","presentation","class","wu-user-name wu-user-loggedin hidden-lg hidden-md hidden-sm hidden-xs menu-link hmrpHeaderTabsLi language-selector-item",3,"click",4,"ngFor","ngForOf"],[1,"header-top","more-menu","dropdown","hidden-xs","header_off-menu"],["aria-label","change-language","appHeaderHamburger","",1,"col-xs-2","select-toggle","toggle-nav","language-selector-button-wrapper"],[1,"language-selector-button-icon"],[1,"language-selector-button-text"],["id","language-selector-menu",1,"dropdown-menu"],["id","moreMenuMobileProfileLink","role","presentation","class","wu-user-name wu-user-loggedin hidden-xs menu-link hmrpHeaderTabsLi language-selector-item",3,"click",4,"ngFor","ngForOf"],["id","moreMenuMobileProfileLink","role","presentation",1,"wu-user-name","wu-user-loggedin","hidden-lg","hidden-md","hidden-sm","hidden-xs","menu-link","hmrpHeaderTabsLi","language-selector-item",3,"click"],[1,"language-selector-item-container"],[1,"language-selector-item-text"],["class","language-selector-item-selected-icon",4,"ngIf"],[1,"language-selector-item-selected-icon"],["id","moreMenuMobileProfileLink","role","presentation",1,"wu-user-name","wu-user-loggedin","hidden-xs","menu-link","hmrpHeaderTabsLi","language-selector-item",3,"click"],["appHeaderMenu","",1,"col-xs-2","select-toggle","wu-hamburger","hidden",3,"ngClass"],["amplitude-id","menuicon",1,"wu-hamburger-menu",3,"click"],[1,"tab-menu-container","col-xs-12","col-md-9","col-sm-10","flex-container",3,"ngClass"],["class","nav nav-tabs tab-menu","id","wuRpHeaderTabs",4,"ngIf"],["id","nav_tab6","role","presentation","class","hidden-xs hidden-lg hidden-md hidden-sm wu-register wu-user-loggedout menu-link","amplitude-id","menu-login",3,"ngClass",4,"ngIf"],["id","nav_tab7","role","presentation","class","wu-login hidden-xs hidden-sm hidden-lg hidden-md wu-user-loggedout menu-link","amplitude-id","menu-signup",3,"ngClass",4,"ngIf"],["id","moreMenuMobileProfileLink","role","presentation","class","wu-user-name wu-user-loggedin hidden-lg hidden-md hidden-sm hidden-xs menu-link hmrpHeaderTabsLi",4,"ngIf"],["id","nav_tab1","role","presentation","class","hidden-xs menu-link",3,"ngClass",4,"ngIf"],["id","nav_tab10","role","presentation","class","menu-link hidden-xs",4,"ngIf"],["id","nav_tab9","role","presentation","class","hidden-xs menu-link",3,"ngClass",4,"ngIf"],["id","nav_tab8","role","presentation","class","hidden-xs menu-link",3,"ngClass",4,"ngIf"],["id","nav_tab2","role","presentation","class","hidden-xs menu-link",3,"ngClass",4,"ngIf"],["id","nav_tab3","role","presentation","class","hidden-xs hidden-sm hidden-md menu-link",3,"ngClass",4,"ngIf"],["id","nav_tab4","role","presentation","class","hidden-xs hidden-sm hidden-md menu-link hidden-lg",3,"ngClass",4,"ngIf"],["id","nav_tab5","role","presentation","class","hidden-xs hidden-md hidden-sm menu-link",3,"ngClass",4,"ngIf"],[4,"ngFor","ngForOf"],["role","presentation","class","hidden-xs hidden-lg hidden-md hidden-sm wu-user-loggedin wu-signout more-links hmrpHeaderTabsLi",4,"ngIf"],["href","javascript:void(0)","aria-label","MoreMenu","id","menuicon","amplitude-id","menuicon","class","select-toggle toggle-nav toggle-nav-burger","appHeaderHamburger","",3,"click",4,"ngIf"],["id","site-menu",1,"dropdown-menu"],["id","nav_tab8","role","presentation","class","menu-link hide visible-sm wu-login hidden-xs wu-user-loggedout",3,"ngClass",4,"ngIf"],["id","nav_tab3_1","role","presentation","class","visible-xs visible-sm visible-md menu-link",3,"ngClass",4,"ngIf"],["id","nav_tab4_1","role","presentation","class","menu-link hide visible-sm visible-md visible-lg",3,"ngClass",4,"ngIf"],["id","nav_tab5_1","role","presentation","class","menu-link hide visible-md visible-sm",3,"ngClass",4,"ngIf"],["role","presentation","class","hidden-xs hidden-md hidden-lg wu-user-loggedin wu-signout",4,"ngIf"],["class","showGlobalCountryChangeHeader",3,"ngClass",4,"ngIf"],["role","presentation","class","visible-sm visible-md visible-lg wu-user-name wu-user-loggedin","id","moreMenuDesktopProfileLink",4,"ngIf"],["class","hidden-xs visible-md visible-lg visible-sm wu-register wu-user-loggedout menu-link",4,"ngIf"],["class","wu-login hidden-xs visible-md visible-lg hidden-sm wu-user-loggedout menu-link",4,"ngIf"],["id","nav_tab6_1","role","presentation","class","hidden-xs visible-md visible-lg visible-sm wu-register wu-user-loggedout menu-link",3,"ngClass",4,"ngIf"],["id","nav_tab7_1","role","presentation","class","wu-login hidden-xs visible-md visible-lg hidden-sm wu-user-loggedout menu-link",3,"ngClass",4,"ngIf"],["class","language-bar hidden-xs",4,"ngIf"],["class","language-bar-mobile hidden-lg hidden-md hidden-sm",4,"ngIf"],["id","nav_tab6","role","presentation","amplitude-id","menu-login",1,"hidden-xs","hidden-lg","hidden-md","hidden-sm","wu-register","wu-user-loggedout","menu-link",3,"ngClass"],[3,"click","id","routerLink"],["id","nav_tab7","role","presentation","amplitude-id","menu-signup",1,"wu-login","hidden-xs","hidden-sm","hidden-lg","hidden-md","wu-user-loggedout","menu-link",3,"ngClass"],[3,"id","routerLink"],["id","moreMenuMobileProfileLink","role","presentation",1,"wu-user-name","wu-user-loggedin","hidden-lg","hidden-md","hidden-sm","hidden-xs","menu-link","hmrpHeaderTabsLi"],["aria-label","menu",1,"user-profile","hmtabMenuText",3,"href"],[1,"menu-icons","header-icon-profile"],["id","nav_tab1","role","presentation",1,"hidden-xs","menu-link",3,"ngClass"],["amplitude-id","menu-send-money","routerLinkActive","active",3,"id","routerLink"],["id","nav_tab10","role","presentation",1,"menu-link","hidden-xs"],["amplitude-id","menu-fund-redirect","href","/global-service/redirect-start","routerLinkActive","active",3,"id"],[2,"padding-bottom","4px"],[1,"dut-font-size-14"],[1,"newlable-sm"],["id","nav_tab9","role","presentation",1,"hidden-xs","menu-link",3,"ngClass"],["amplitude-id","menu-cash-pickup-retail",3,"click","id","href"],["id","nav_tab8","role","presentation",1,"hidden-xs","menu-link",3,"ngClass"],["id","directUrl",3,"href"],["id","directUrl2",3,"href"],["id","nav_tab2","role","presentation",1,"hidden-xs","menu-link",3,"ngClass"],["amplitude-id","menu-track-transfer",3,"id","href"],["id","nav_tab3","role","presentation",1,"hidden-xs","hidden-sm","hidden-md","menu-link",3,"ngClass"],[3,"id","href"],["id","nav_tab4","role","presentation",1,"hidden-xs","hidden-sm","hidden-md","menu-link","hidden-lg",3,"ngClass"],["id","nav_tab5","role","presentation",1,"hidden-xs","hidden-md","hidden-sm","menu-link",3,"ngClass"],["role","presentation","class","hidden-xs hidden-lg hidden-md hidden-sm",3,"ngClass",4,"ngIf"],["role","presentation",1,"hidden-xs","hidden-lg","hidden-md","hidden-sm",3,"ngClass"],[3,"target","ngClass","click",4,"ngIf"],[3,"target","routerLink","ngClass","click",4,"ngIf"],[3,"click","target","ngClass"],[1,"menu-icons","icon_margin",3,"ngClass"],[3,"ngClass"],["class","newlable",4,"ngIf"],["class","loyalty-section",3,"ngClass",4,"ngIf"],[1,"newlable"],[1,"loyalty-section",3,"ngClass"],["id","loyalty-points",1,"loyalty-points",3,"ngClass"],[1,"loyalty-points",3,"ngClass"],[3,"click","target","routerLink","ngClass"],["role","presentation",1,"hidden-xs","hidden-lg","hidden-md","hidden-sm","wu-user-loggedin","wu-signout","more-links","hmrpHeaderTabsLi"],["href","javascript:void(0)",1,"wu-user-logout","hmtabMenuText",3,"click"],["href","javascript:void(0)","aria-label","MoreMenu","id","menuicon","amplitude-id","menuicon","appHeaderHamburger","",1,"select-toggle","toggle-nav","toggle-nav-burger",3,"click"],[1,"menubar"],["id","nav_tab8","role","presentation",1,"menu-link","hide","visible-sm","wu-login","hidden-xs","wu-user-loggedout",3,"ngClass"],[3,"routerLink"],["id","nav_tab3_1","role","presentation",1,"visible-xs","visible-sm","visible-md","menu-link",3,"ngClass"],["id","nav_tab4_1","role","presentation",1,"menu-link","hide","visible-sm","visible-md","visible-lg",3,"ngClass"],["id","nav_tab5_1","role","presentation",1,"menu-link","hide","visible-md","visible-sm",3,"ngClass"],["role","presentation","class","menu-link",3,"ngClass",4,"ngIf"],["role","presentation",1,"menu-link",3,"ngClass"],[3,"ngClass",4,"ngIf"],["class","font_13 fontOpenSans",3,"ngClass",4,"ngIf"],["class","newlable",3,"ngClass",4,"ngIf"],[1,"font_13","fontOpenSans",3,"ngClass"],[1,"newlable",3,"ngClass"],["role","presentation",1,"hidden-xs","hidden-md","hidden-lg","wu-user-loggedin","wu-signout"],["href","javascript:void(0)",1,"wu-user-logout",3,"click"],[1,"showGlobalCountryChangeHeader",3,"ngClass"],["aria-label","change-language","appGlobalLangSelectorMobile","",1,"col-xs-2","global-lang-selector-dropdown","global-language-selector-button-wrapper","hidden-lg","hidden-md","hidden-sm"],["amplitude-id","list-language",1,"global-lang-selector-button-icon",3,"click"],["amplitude-id","list-language",1,"global-lang-selector-button-text",3,"click"],["amplitude-id","list-language","id","globalLangSelectorArrowIcon",3,"click","ngClass"],[1,"global-lang-tab-menu-container","global-lang-selector-menu-container"],[1,"header-top","more-menu","global-lang-selector-dropdown","hidden-xs","header_off-menu",3,"ngClass"],["aria-label","change-language","appGlobalLangSelectorDesktop","",1,"col-xs-2","global-lang-selector-menu","toggle-nav","global-language-selector-button-wrapper"],["amplitude-id","list-language",1,"global-lang-selector-button-icon"],["amplitude-id","list-language",1,"global-lang-selector-button-text"],["id","global-lang-selector-menu",1,"global-lang-selector-dropdown-menu"],["id","moreMenuMobileProfileLink","role","presentation","class","wu-user-name wu-user-loggedin hidden-xs menu-link hmrpHeaderTabsLi language-selector-item global-lang-selector-item","amplitude-id","list-language-selection",3,"click",4,"ngFor","ngForOf"],["id","moreMenuMobileProfileLink","role","presentation","amplitude-id","list-language-selection",1,"wu-user-name","wu-user-loggedin","hidden-xs","menu-link","hmrpHeaderTabsLi","language-selector-item","global-lang-selector-item",3,"click"],[4,"ngTemplateOutlet"],["role","presentation","id","moreMenuDesktopProfileLink",1,"visible-sm","visible-md","visible-lg","wu-user-name","wu-user-loggedin"],["aria-label","Profile",1,"user-profile",3,"href"],[1,"text","wuLoggedInUserName"],["role","presentation",1,"hidden-xs","hidden-sm","wu-user-loggedin","wu-signout","menu-link",3,"click","ngStyle"],["href","javascript:void(0);",1,"wu-user-logout",3,"click"],["href","javascript:void(0)","aria-label","Profile",1,"user-profile"],[1,"hidden-xs","visible-md","visible-lg","visible-sm","wu-register","wu-user-loggedout","menu-link"],["href","javascript:void(0)",2,"opacity","0","cursor","default"],[1,"wu-login","hidden-xs","visible-md","visible-lg","hidden-sm","wu-user-loggedout","menu-link"],["id","nav_tab6_1","role","presentation",1,"hidden-xs","visible-md","visible-lg","visible-sm","wu-register","wu-user-loggedout","menu-link",3,"ngClass"],["amplitude-id","menu-login",3,"click","id","routerLink"],["id","nav_tab7_1","role","presentation",1,"wu-login","hidden-xs","visible-md","visible-lg","hidden-sm","wu-user-loggedout","menu-link",3,"ngClass"],["amplitude-id","menu-signup",3,"id","routerLink",4,"ngIf"],["amplitude-id","menu-signup",3,"id","routerLink"],[1,"language-bar","hidden-xs"],[1,"icon-0113_globe","custom-globe"],[1,"langauge-select"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["class","icon-0019_checkmark left-margin20",4,"ngIf"],[1,"icon-0019_checkmark","left-margin20"],[1,"language-bar-mobile","hidden-lg","hidden-md","hidden-sm"],[1,"language-content"],[1,"dss2GobalLangHeader"],[1,"showGlobalCountryChangeHeader"],["aria-label","change-language","appGlobalLangSelectorMobile","",1,"col-xs-2","col-md-2","col-sm-2","col-lg-2","global-lang-selector-dropdown","global-language-selector-button","hidden-lg","hidden-sm","hidden-md"],["amplitude-id","list-language","data-target","#backdrop-modal","data-dismiss","modal",1,"global-lang-selector-button-icons",3,"click"],["amplitude-id","list-language","data-target","#backdrop-modal","data-dismiss","modal",1,"global-lang-selector-button-texts",3,"click"],[1,"global-lang-selector-dropdown"],["aria-label","change-language","appGlobalLangSelectorDesktop","",1,"col-xs-2","global-lang-selector-menu","toggle-nav","global-language-selector-button-wrapper","hidden-xs"],[1,"global-lang-tab-menu-container","header-top"],["id","wuRpLangHeaderTabs",1,"nav","nav-tabs","tab-menu","global-language-tab-menu","dss2HeaderGlobal","global-lang-selector-dropdown","global-lang-selector-dropdown-menu","displayNone","cursor-pointer"],["id","","role","presentation","class","wu-user-name wu-user-loggedin menu-link language-selector-item-dss2 hidden-xs","amplitude-id","list-language-selection",3,"ngClass","click",4,"ngFor","ngForOf"],["id","","role","presentation","amplitude-id","list-language-selection",1,"wu-user-name","wu-user-loggedin","menu-link","language-selector-item-dss2","hidden-xs",3,"click","ngClass"],[1,"global-lang-selector-item-container",3,"ngClass"],["aria-label","change-language","appGlobalLangSelectorDesktop","",1,"col-xs-2","global-lang-selector-menu","desktopSelector","toggle-nav","global-language-selector-button-wrapper-ChangeLan"],["class","icon-0113_globe revamp-globe-desktop",4,"ngIf"],[3,"class",4,"ngIf"],["amplitude-id","list-language",1,"global-lang-selector-button-text","lang-color"],["amplitude-id","list-language","id","globalLangSelectorArrowIcon",1,"global-lang-down-icon-Desk",3,"click"],["class","Global-Change-Country",4,"ngIf"],[1,"icon-0113_globe","revamp-globe-desktop"],[1,"Global-Change-Country"],[1,"chng-lang-content-title"],[1,"lang-title"],["id","moreMenuMobileProfileLink","role","presentation","class","wu-user-name wu-user-loggedin hidden-xs menu-link hmrpHeaderTabsLi language-selector-item global-lang-selector-item-new","amplitude-id","list-language-selection",3,"click",4,"ngFor","ngForOf"],["id","moreMenuMobileProfileLink","role","presentation","amplitude-id","list-language-selection",1,"wu-user-name","wu-user-loggedin","hidden-xs","menu-link","hmrpHeaderTabsLi","language-selector-item","global-lang-selector-item-new",3,"click"],["id","progressbar-receiver",1,"completedsteps"],["id","progressbar-payment",1,"selected-steps"],["id","progressbar-receiver","amplitude-id","progressbar-receiver","aria-label","Receiver","label","Receiver","data-state","receiver",1,"completedsteps","selected-steps"],["amplitude_id","progressbar_tab-receiver",3,"click"],["id","progressbar-payment","amplitude-id","progressbar-payment","aria-label","Payment","label","Payment","data-state","payment"],["amplitude_id","progressbar_tab-payment",3,"click"]],template:function(j,q){1&j&&(e.DNE(0,Fs,22,21,"header",4),e.j41(1,"app-update-profile-modal",5),e.bIt("closeModalFlag",function(){return q.closeModal()}),e.k0s()),2&j&&(e.Y8G("ngIf",q.showHeader),e.R7$(),e.Y8G("isCancellable",q.isModalCancellable())("clickedLink",q.clickedLink))},dependencies:[c.YU,c.Sq,c.bT,c.T3,c.B3,se.Mm,V.Wk,V.wQ,Q,ne,_e,pe,Ae,ve,c.Pc,c.GH,se.D9],styles:['a.forceSkipLink[_ngcontent-%COMP%]{position:absolute;top:-1000px;left:-1000px;height:1px;width:1px;text-align:left;overflow:hidden;padding:6px 12px;color:#3c3d3d;background:#fffffffa}.default-cursor[_ngcontent-%COMP%]{cursor:default!important}a.forceSkipLink[_ngcontent-%COMP%]:active, a.forceSkipLink[_ngcontent-%COMP%]:focus, a.forceSkipLink[_ngcontent-%COMP%]:hover{left:0;top:0;width:auto;height:auto;overflow:visible;z-index:1000;text-decoration:underline;color:#005fb2;outline:5px auto #1589ee;outline-offset:-2px}.cookie-set-pop-up[_ngcontent-%COMP%]{display:block}  .menu-link[amplitude-id=menu-refer-friend]{display:block!important}.tab-menu-container.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.language-bar[_ngcontent-%COMP%]{color:#efe2b5;font-family:Open Sans,sans-serif;height:68px;font-size:15px;position:relative;display:flex;padding:20px;justify-content:center;align-items:center;cursor:pointer}.language-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none;position:absolute;font-family:Open Sans,sans-serif;top:68px;cursor:pointer;background:#000!important;z-index:99999999}.language-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;width:260px}.language-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:gray}.language-bar[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%]{display:block}i.left-margin20[_ngcontent-%COMP%]{margin-left:20px}i.custom-globe[_ngcontent-%COMP%]{font-size:25px;padding-right:10px;margin-left:2px}.hideGlobalCountryChangeHeader[_ngcontent-%COMP%]{display:none}.showGlobalCountryChangeHeader[_ngcontent-%COMP%]{display:block}.header-adv-amr-overlap[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.header-adv-amr-overlap[_ngcontent-%COMP%]   .wu-header-logo[_ngcontent-%COMP%]{cursor:pointer;padding:0;margin-left:35px;width:100%}@media (max-width: 767px){.hid-icon-receive-amount[_ngcontent-%COMP%]{color:#f0e2b5}i.custom-globe[_ngcontent-%COMP%]{font-size:20px;margin-left:17px}header[_ngcontent-%COMP%]   .tab-menu-container[_ngcontent-%COMP%]{right:0}header[_ngcontent-%COMP%]   .tab-menu-container.expand[_ngcontent-%COMP%]{transform:none}header[_ngcontent-%COMP%]   .wu-hamburger[_ngcontent-%COMP%]{float:right}.tab-menu-container.flex-container[_ngcontent-%COMP%]{justify-content:unset}div.language-bar-mobile[_ngcontent-%COMP%]{padding:10px 0;color:#f0e2b5;font-family:Open Sans,sans-serif}div.language-bar-mobile[_ngcontent-%COMP%]   div.language-content[_ngcontent-%COMP%]{display:flex;align-items:center}div.language-bar-mobile[_ngcontent-%COMP%]   div.language-content[_ngcontent-%COMP%]   .icon-0024_dropdown-more[_ngcontent-%COMP%]{margin-left:10px}div.language-bar-mobile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;font-family:Open Sans,sans-serif;margin:5px 5px 5px 40px}div.language-bar-mobile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px;display:flex;justify-content:space-between}}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   #global-lang-selector-menu[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;right:-12px!important}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{background-color:#fff}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:nth-child(2){margin-bottom:10px}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-selected-icon[_ngcontent-%COMP%]:before{content:"\\e950";color:green;font-size:17px}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-text[_ngcontent-%COMP%]{color:#368abb}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-container.selected[_ngcontent-%COMP%]{background:#f2f2f2}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-container.selected[_ngcontent-%COMP%]   .global-lang-selector-item-text[_ngcontent-%COMP%]{color:#000}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-container[_ngcontent-%COMP%]{padding:0 15px;margin-top:10px}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-language-selector-button-wrapper[_ngcontent-%COMP%]{padding-top:20px;padding-right:40px}header.dss2Header[_ngcontent-%COMP%]{background:#000}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-button-icon[_ngcontent-%COMP%], .dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-button-text[_ngcontent-%COMP%], .dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-button-icon[_ngcontent-%COMP%]:before{color:#fd0}.dss2HeaderGlobal[_ngcontent-%COMP%]{z-index:1050}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   ul.expand[_ngcontent-%COMP%]{border-radius:10px;transform:none;top:57px}@media (max-width: 999px){header[_ngcontent-%COMP%]   .wu-logo[_ngcontent-%COMP%]{z-index:0}}.language-selector-button-wrapper[_ngcontent-%COMP%]{width:auto;float:right;padding-top:16px;padding-left:0;padding-right:15px;cursor:pointer}.language-selector-button-icon[_ngcontent-%COMP%]:before{content:"\\e970";color:#efe2b5;font-size:28px}.language-selector-button-text[_ngcontent-%COMP%]{color:#efe2b5;font-size:16px;text-align:center;letter-spacing:-.32px;bottom:6px;margin-left:10px;position:relative;font-family:Open Sans,sans-serif}header[_ngcontent-%COMP%]   .header_off-menu-pps-language-selector[_ngcontent-%COMP%]{position:relative;float:right;margin-right:130px}.language-selector-item-container[_ngcontent-%COMP%]{margin-left:15px;height:100%;border-bottom:1px solid rgb(58,58,58);margin-right:16px}.language-selector-item[_ngcontent-%COMP%]{height:53px;cursor:pointer}.language-selector-item-text[_ngcontent-%COMP%]{position:absolute;color:#efe2b5;font-size:16px;letter-spacing:-.32px;font-family:Open Sans,sans-serif;width:80%;height:50%;padding-top:17px}.language-selector-item-text[_ngcontent-%COMP%]:hover{color:#fff}.language-selector-item-selected-icon[_ngcontent-%COMP%]{position:relative;float:right;padding-top:17px}.language-selector-item-selected-icon[_ngcontent-%COMP%]:before{position:relative;content:"\\e913";color:#efe2b5;font-size:22px}header[_ngcontent-%COMP%]   #language-selector-menu[_ngcontent-%COMP%]{opacity:0;transition:.4s ease-in-out;width:220px;height:144px;position:absolute;top:68px;overflow:hidden;z-index:1002;background-color:#212a33;border-top:solid 1px #44433d}.wu-log[_ngcontent-%COMP%]{height:100%;width:100%}@media (min-width: 615px) and (max-width: 768px){header[_ngcontent-%COMP%]   .header_off-menu-pps-language-selector[_ngcontent-%COMP%]{margin-right:80px}}@media (max-width: 615px){header[_ngcontent-%COMP%]   .header_off-menu-pps-language-selector[_ngcontent-%COMP%]{margin-right:22px}}@media (max-width: 767px){.language-selector-menu-container[_ngcontent-%COMP%], .global-lang-selector-menu-container[_ngcontent-%COMP%]{width:192px;padding-top:0}.newlable-sm[_ngcontent-%COMP%]{display:inline-block!important;color:#fff;font-size:11px;margin-left:8px;vertical-align:baseline;font-family:Open Sans Regular!important;border:rgb(44,78,157);background:#2c4e9d;padding:3px 5px;border-radius:1px}}@media (min-width: 768px){.hid-icon-receive-amount[_ngcontent-%COMP%]{display:none}.language-selector-button-icon[_ngcontent-%COMP%]:before{font-size:32px}.global-lang-selector-button-icon[_ngcontent-%COMP%]:before{font-size:32px}.language-selector-button-text[_ngcontent-%COMP%], .global-lang-selector-button-text[_ngcontent-%COMP%]{font-size:18px;letter-spacing:-.36px;margin-left:10px;bottom:6px}.language-selector-button-wrapper[_ngcontent-%COMP%]{padding-top:18px;padding-right:0}.global-language-selector-button-wrapper[_ngcontent-%COMP%]{padding-top:18px}.language-selector-item[_ngcontent-%COMP%]{height:72px}.language-selector-item-container[_ngcontent-%COMP%]{margin-left:24px;margin-right:24px}.language-selector-item-text[_ngcontent-%COMP%]{font-size:20px;letter-spacing:-.44px;padding-top:24px;padding-bottom:24px}.language-selector-item-text[_ngcontent-%COMP%]{margin-left:0}.global-lang-selector-item-text[_ngcontent-%COMP%]{font-size:20px;letter-spacing:-.44px;padding-top:24px;padding-bottom:24px;margin-left:0}.language-selector-item-selected-icon[_ngcontent-%COMP%]{padding-top:24px}.language-selector-item-selected-icon[_ngcontent-%COMP%]:before{font-size:24px}.global-lang-selector-item-selected-icon[_ngcontent-%COMP%]{padding-top:24px}.global-lang-selector-item-selected-icon[_ngcontent-%COMP%]:before{font-size:24px}}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px) and (max-width: 991px){header[_ngcontent-%COMP%]   #language-selector-menu[_ngcontent-%COMP%]{width:220px!important;left:-100px!important}header[_ngcontent-%COMP%]   #global-lang-selector-menu[_ngcontent-%COMP%]{width:220px!important;left:-85px!important}.language-selector-button-wrapper[_ngcontent-%COMP%]{margin-right:80px}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   #global-lang-selector-menu[_ngcontent-%COMP%]{left:auto!important}}@media (min-width: 992px){header[_ngcontent-%COMP%]   #language-selector-menu[_ngcontent-%COMP%]{left:-100px!important}header[_ngcontent-%COMP%]   #global-lang-selector-menu[_ngcontent-%COMP%]{right:-50px!important}.language-selector-button-wrapper[_ngcontent-%COMP%]{margin-right:140px}}@media screen and (min-width: 767px){#moreMenuDesktopProfileLink[_ngcontent-%COMP%]{width:calc(20% - 90px)!important;white-space:nowrap!important}#wuRpHeaderTabs[_ngcontent-%COMP%]{margin-left:-5%;white-space:nowrap!important;display:flex}}.global-language-selector-button-wrapper[_ngcontent-%COMP%]{width:auto;float:right;padding-top:20px;margin-left:15px;cursor:pointer}.global-lang-selector-item[_ngcontent-%COMP%]{height:60px!important}.global-lang-selector-item-container[_ngcontent-%COMP%]{margin-left:15px;height:100%;margin-right:16px}.global-lang-selector-item-selected-icon[_ngcontent-%COMP%]{position:relative;float:right;padding-top:17px}.global-lang-selector-item-selected-icon[_ngcontent-%COMP%]:before{position:relative;content:"\\e913";color:#efe2b5;font-size:22px}.global-lang-selector-item-text[_ngcontent-%COMP%]{position:absolute;color:#efe2b5;font-size:16px;letter-spacing:-.32px;font-family:Open Sans,sans-serif;width:80%;height:50%;padding-top:18px}.global-lang-selector-item-text[_ngcontent-%COMP%]:hover{color:#fff}.global-lang-selector-button-icon[_ngcontent-%COMP%]:before{content:"\\e970";color:#efe2b5;font-size:28px}@media (max-width: 767px){header[_ngcontent-%COMP%]   .global-lang-tab-menu-container[_ngcontent-%COMP%]{right:0}header[_ngcontent-%COMP%]   .global-lang-tab-menu-container.expand[_ngcontent-%COMP%]{transform:none}.global-lang-down-icon[_ngcontent-%COMP%]{top:25px!important}}.global-lang-selector-right-icon[_ngcontent-%COMP%]:before{content:url(/../etc/designs/westernunion/optimus/icons/chevron-right.svg);margin-left:30px}.global-lang-selector-down-icon[_ngcontent-%COMP%]:before{content:url(/../etc/designs/westernunion/optimus/icons/chevron-down.svg);margin-left:30px}.global-lang-down-icon[_ngcontent-%COMP%]{content:url(/../etc/designs/westernunion/optimus/icons/Down-arrow.svg);position:absolute;top:22px;margin-left:26px}.global-lang-down-icon-Desk[_ngcontent-%COMP%]{content:url(/../etc/designs/westernunion/optimus/icons/Down-arrow.svg);position:absolute;top:21px;margin-left:0}@media (min-width: 992px){.global-lang-selector-header[_ngcontent-%COMP%]{max-width:1230px!important}}header[_ngcontent-%COMP%]   #global-lang-selector-menu[_ngcontent-%COMP%]{opacity:0;width:310px;height:auto;position:absolute;top:67px;overflow:hidden;background-color:#212a33;border-top:solid 1px #44433d}.global-lang-selector-button-text[_ngcontent-%COMP%]{color:#efe2b5;font-size:17px;text-align:center;letter-spacing:-.32px;bottom:6px;margin-left:10px;position:relative;font-family:Open Sans,sans-serif}@media (min-width: 360px) and (max-width: 500px){.global-language-selector-button-wrapper[_ngcontent-%COMP%]{float:left!important;padding-top:10px!important;padding-left:15px!important;margin-bottom:10px!important}header[_ngcontent-%COMP%]   .global-lang-tab-menu-container[_ngcontent-%COMP%]{position:inherit!important}.global-lang-selector-button-text[_ngcontent-%COMP%]{font-size:14px!important;letter-spacing:-.68px!important;margin-left:12px!important;bottom:4px!important}.global-lang-selector-button-icon[_ngcontent-%COMP%]:before{font-size:20px!important}.global-lang-selector-item-text[_ngcontent-%COMP%]{font-size:14px!important;padding-top:0!important}.global-lang-selector-item-selected-icon[_ngcontent-%COMP%]{padding-top:0!important;font-size:14px!important}.global-lang-selector-item-selected-icon[_ngcontent-%COMP%]:before{padding-top:0!important;font-size:14px!important}.language-selector-item[_ngcontent-%COMP%]{height:40px!important;padding:0!important}}.global-lang-logo[_ngcontent-%COMP%]{text-align:left;left:-18px;position:absolute;top:5px;padding-right:10px;border-radius:100%;width:25px;height:19px;border:0}.Global-Change-Country[_ngcontent-%COMP%]{text-align:left;color:#fff;font-size:17px;padding-bottom:5px;margin-left:50px;margin-top:15px}.mobile-global-change-country[_ngcontent-%COMP%]{display:none}.global-border-cls[_ngcontent-%COMP%]{height:70px;border-right:solid 1px #777;border-left:solid 1px #777;padding-right:5px}.global-border-right[_ngcontent-%COMP%]{height:70px;border-right:solid 1px #777;padding-right:5px}.global-lang-selector-dropdown.mobileSelector[_ngcontent-%COMP%]{display:none}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-button-icons[_ngcontent-%COMP%]:before{content:"\\e970";color:#fd0;font-size:28px}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-button-texts[_ngcontent-%COMP%]{color:#fd0;font-size:17px;text-align:center;letter-spacing:-.32px;bottom:6px;margin-left:10px;position:relative;font-family:Open Sans,sans-serif}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-language-selector-button[_ngcontent-%COMP%]{float:right}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-tab-menu-containers[_ngcontent-%COMP%]{right:0}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-tab-menu-containers.expand[_ngcontent-%COMP%]{transform:none}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{height:auto;padding:10px!important}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-container[_ngcontent-%COMP%]{padding-top:0}.dss2HeaderGlobal[_ngcontent-%COMP%]{right:0;max-width:277px;position:absolute;top:50px;z-index:1002;border-radius:10px;margin-right:30px}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-container[_ngcontent-%COMP%]{padding:12px 15px;margin:0}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-container[_ngcontent-%COMP%]   .global-lang-selector-item-text[_ngcontent-%COMP%]{position:initial}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:nth-child(1){padding-bottom:0}header[_ngcontent-%COMP%]   .dss2GobalLangHeader[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:nth-child(2){padding-top:0!important;margin-bottom:0}.dss2GobalLangHeader[_ngcontent-%COMP%]   .global-lang-selector-item-selected-icon[_ngcontent-%COMP%]{padding-top:0}.hide-logo-left-cont.visible-xs[_ngcontent-%COMP%]{display:none!important}@media (max-width: 767px){.dss2Header[_ngcontent-%COMP%]   .wu-log[_ngcontent-%COMP%]{width:90px!important;height:auto!important;margin-right:60px}.global-lang-selector-menu.desktopSelector[_ngcontent-%COMP%]{display:none}.mobile-global-change-country[_ngcontent-%COMP%]{display:block;text-align:left;color:#fff;font-size:14px;padding-bottom:5px;margin-left:17px;margin-top:-15px}.chng-lang-msg[_ngcontent-%COMP%]{text-align:center;color:#efe2b5;display:block;margin-left:-50px;border-bottom:solid 1px #777;margin-top:14px;padding-bottom:13px}.Global-Change-Country[_ngcontent-%COMP%]{display:none}.lanaguge-selector-gl-mobile[_ngcontent-%COMP%]{border-radius:0;opacity:1!important;transform:none;transition:.4s ease-in-out;width:300px;position:absolute;top:59px;right:-18px;overflow:hidden;z-index:1002;background-color:#212a33;border-top:solid 1px #44433D}.smo-lanaguge-selector-gl-mobile.lanaguge-selector-gl-mobile[_ngcontent-%COMP%]{border-top:none!important}.chng-lang-content[_ngcontent-%COMP%]{padding-left:30px;display:block;padding-top:33px;font-size:12px}.global-lang-selector-item-container[_ngcontent-%COMP%]{height:75%!important}.language-menu[_ngcontent-%COMP%]{position:absolute;right:17px;top:0}.mobileMainLanguageSelector[_ngcontent-%COMP%]{width:172px}.global-language-selector-button-wrapper-Mob[_ngcontent-%COMP%]{position:absolute;left:calc(100% - 140px)}}@media (max-width: 767px) and (max-width: 380px){.global-language-selector-button-wrapper-Mob[_ngcontent-%COMP%]{position:absolute;left:calc(100% - 120px)}}@media (max-width: 767px){.global-language-selector-button-wrapper-Mob_login[_ngcontent-%COMP%]{position:absolute;left:calc(100% - 45px)}.chng-lang-content-Mob[_ngcontent-%COMP%]{display:block;padding-bottom:15px;font-size:14px}.global-inner-logo[_ngcontent-%COMP%]{top:8px!important}}.chng-lang-content[_ngcontent-%COMP%]{display:block;font-size:14px}.chng-lang-content-title[_ngcontent-%COMP%]{display:block;font-size:14px;padding-top:4px}.chng-lang-content-Mob2[_ngcontent-%COMP%]{display:block;font-size:12px;margin-top:6px}.chng-lang-msg[_ngcontent-%COMP%]{text-align:center;color:#efe2b5;display:block;margin-left:-50px;border-bottom:solid 1px #777}.global-inner-logo[_ngcontent-%COMP%]{text-align:left;left:-18px;position:absolute;top:5px;padding-right:10px;border-radius:100%;width:25px;height:19px;border:0;margin-left:30px}.lang-color[_ngcontent-%COMP%]{color:#fff}.lang-title[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin-left:13px;padding-top:10px}.global-language-selector-button-wrapper-ChangeLan[_ngcontent-%COMP%]{width:auto;float:right;padding-top:20px;margin-left:15px;cursor:pointer;margin-top:8px}.global-lang-selector-item-new[_ngcontent-%COMP%]{height:45px!important}@media (min-width: 540px) and (max-width: 768px){.global-language-selector-button-wrapper-Mob[_ngcontent-%COMP%]{left:calc(100% - 213px)!important}}@media (min-width: 768px) and (max-width: 800px){.wu-log[_ngcontent-%COMP%]{margin-left:-50%}}.newlable[_ngcontent-%COMP%]{border-radius:1.5px;background:#2c4e9d;padding:3px 5px;color:#fff;font-family:OpenSans-SemiBold!important;font-size:11px;height:18px;width:auto;margin:0 0 .1em 10px;letter-spacing:.01px}.pad-top2[_ngcontent-%COMP%]{background:#f9da63;padding:4px;margin-top:8px}.new-loyalty[_ngcontent-%COMP%]{font-size:12px!important;color:#000}.bg-newlable[_ngcontent-%COMP%]{background:#fd0;color:#000;vertical-align:top;margin-top:10px;width:auto!important}@media (min-width: 320px) and (max-width: 768px){.global-language-selector-button[_ngcontent-%COMP%]{float:right!important;padding-top:10px!important;margin-bottom:10px!important;margin-right:30px}header[_ngcontent-%COMP%]   .global-lang-tab-menu-containers[_ngcontent-%COMP%]{right:0}header[_ngcontent-%COMP%]   .global-lang-tab-menu-containers.expand[_ngcontent-%COMP%]{transform:none}.global-lang-selector-button-texts[_ngcontent-%COMP%]{color:#fd0;font-size:17px;text-align:center;letter-spacing:-.32px;bottom:6px;margin-left:10px;position:relative;font-family:Open Sans,sans-serif}.global-lang-selector-item-text[_ngcontent-%COMP%]{font-size:14px!important;padding-top:0!important}.global-lang-selector-item-selected-icons[_ngcontent-%COMP%]{position:relative;float:right;padding-top:17px}.global-lang-selector-item-selected-icons[_ngcontent-%COMP%]:before{position:relative;content:"\\e913";color:#fd0;font-size:22px}.global-lang-selector-button-icons[_ngcontent-%COMP%]:before{content:"\\e970";color:#fd0;font-size:28px}}.newlable-sm[_ngcontent-%COMP%]{display:inline;color:#fff;font-size:11px;margin-left:8px;font-family:Open Sans Regular!important;border:#2c4e9d;background:#2c4e9d;padding:3px 5px;border-radius:1px}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name[_ngcontent-%COMP%]{display:flex}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:219px}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name-wraper[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:-5px}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name-wraper[_ngcontent-%COMP%]   .logo-wraper[_ngcontent-%COMP%]{border-left:1px solid #fff;padding-left:10px}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name-wraper[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{margin-right:9px;border-radius:100%;font-size:20px;background-size:cover!important;width:25px;height:25px}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name-wraper[_ngcontent-%COMP%]   .header-country-name-text[_ngcontent-%COMP%]{color:#fff;text-overflow:ellipsis;width:105px;white-space:nowrap;overflow:hidden;text-align:left;font-family:OpenSans-SemiBold!important;font-size:14px}header.header-country-loaded[_ngcontent-%COMP%]   .header-country-name[_ngcontent-%COMP%]   .wu-header-logo[_ngcontent-%COMP%]{margin-left:10px}@media (max-width: 999px){header.header-country-loaded[_ngcontent-%COMP%]   .header-country-name[_ngcontent-%COMP%]   .wu-header-logo[_ngcontent-%COMP%]{margin-left:-10px}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:145px}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name-wraper[_ngcontent-%COMP%]{margin-left:-25px}}@media (max-width: 800px){.header-country-loaded[_ngcontent-%COMP%]   .header-country-name-wraper[_ngcontent-%COMP%]{margin-left:-65px}}@media (max-width: 767px){header.header-country-loaded[_ngcontent-%COMP%]   .hide-logo-left-conainer.visible-xs[_ngcontent-%COMP%]{display:none!important}.header-country-loaded[_ngcontent-%COMP%]   .header-country-name-wraper[_ngcontent-%COMP%]{margin-left:-25px}header.header-country-loaded[_ngcontent-%COMP%]   .header-country-name[_ngcontent-%COMP%]   .wu-header-logo[_ngcontent-%COMP%]{margin-left:-35px}}.loyalty-width[_ngcontent-%COMP%]{width:110px}.margin_top18[_ngcontent-%COMP%]   .icon_margin[_ngcontent-%COMP%]{margin-top:17px}.revamp-header[_ngcontent-%COMP%]   .revamp-globe-desktop[_ngcontent-%COMP%]{position:absolute;top:12px;left:-5px;color:#efe2b5;font-size:22px}.revamp-header[_ngcontent-%COMP%]   .lang-color[_ngcontent-%COMP%]{color:#efe2b5}@media (max-width: 767px){.revamp-header[_ngcontent-%COMP%]   .revamp-language-mob[_ngcontent-%COMP%]{position:absolute;top:22px;font-size:18px!important;margin-left:16px!important}.revamp-header[_ngcontent-%COMP%]   .revamp-globe-mob[_ngcontent-%COMP%]{position:absolute;left:-12px;top:22px;color:#efe2b5}}@media only screen and (min-width: 1200px){.banner-ads__top_new[_ngcontent-%COMP%]{width:1170px}}.topSectionEvergage[_ngcontent-%COMP%]{background-color:#f6f7f7}.banner-ads__top_new[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:space-evenly;padding:32px;align-items:center}.message__container_new[_ngcontent-%COMP%]{flex-grow:1;padding-right:150px}.text-main__heading1_new[_ngcontent-%COMP%]{font-size:20px;font-weight:600;line-height:26px;margin:0}.cta--primary-dark_new[_ngcontent-%COMP%]{background-color:#fd0;color:#000;font-weight:600;border:none;font-size:16px;border-radius:999px;padding:0 44px;cursor:pointer}.cta--primary-dark_new[_ngcontent-%COMP%]:hover{background-color:#454545;color:#fff}@media only screen and (max-width: 992px){.message__container_new[_ngcontent-%COMP%]{padding:0 20px}}@media only screen and (max-width: 992px){.banner-ads__top_new[_ngcontent-%COMP%]{flex-wrap:wrap;text-align:center}}.fontOpenSans[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif!important}.tat-success-app-download-banner[_ngcontent-%COMP%]{background-color:#fd0;padding:20px}.tat-success-app-download-banner[_ngcontent-%COMP%]   .bnr-title[_ngcontent-%COMP%]{margin-bottom:10px}.tat-success-app-download-banner[_ngcontent-%COMP%]   .bnr-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.tat-success-app-download-banner[_ngcontent-%COMP%]   .bnr-title[_ngcontent-%COMP%]   .bnr-close[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.tat-success-app-download-banner[_ngcontent-%COMP%]   .bnr-content[_ngcontent-%COMP%]{font-size:12px;margin-bottom:20px}.tat-success-app-download-banner[_ngcontent-%COMP%]   .bnr-download-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;text-decoration:underline;color:#000}'],data:{animation:[(0,Ue.hZ)("slideInOut",[(0,Ue.wk)("in",(0,Ue.iF)({maxHeight:"500px",opacity:"1",visibility:"visible",padding:"15"})),(0,Ue.wk)("out",(0,Ue.iF)({maxHeight:"0px",opacity:"0",visibility:"hidden",padding:"0"})),(0,Ue.kY)("in => out",[(0,Ue.Os)([(0,Ue.i0)("400ms ease-in-out",(0,Ue.iF)({opacity:"0"})),(0,Ue.i0)("600ms ease-in-out",(0,Ue.iF)({maxHeight:"0px"})),(0,Ue.i0)("700ms ease-in-out",(0,Ue.iF)({visibility:"hidden"}))])]),(0,Ue.kY)("out => in",[(0,Ue.Os)([(0,Ue.i0)("1ms ease-in-out",(0,Ue.iF)({visibility:"visible"})),(0,Ue.i0)("600ms ease-in-out",(0,Ue.iF)({maxHeight:"500px"})),(0,Ue.i0)("800ms ease-in-out",(0,Ue.iF)({opacity:"1"}))])])])]}})}return H})();var Ms=t(28116);const Us=(H,ge)=>({background:H,color:ge,"text-align":"center"}),Bs=H=>({dss2Footer:H}),ws=H=>({mobileFooterSummaryWidget:H});function ks(H,ge){if(1&H&&(e.j41(0,"div",15),e.nrm(1,"img",16),e.k0s()),2&H){const u=e.XpG(4);e.R7$(),e.Y8G("src",u.footerData.partner_logo,e.B4B)}}function xs(H,ge){if(1&H&&(e.j41(0,"div",12),e.nrm(1,"div",13),e.DNE(2,ks,2,1,"div",14),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.Y8G("innerHtml",u.footerData.poweredby_text,e.npT),e.R7$(),e.Y8G("ngIf",u.footerData.partner_logo)}}function Vs(H,ge){if(1&H&&(e.j41(0,"div",17)(1,"b"),e.nrm(2,"span",18),e.nI1(3,"sanitizeHtml"),e.k0s()()),2&H){const u=e.XpG(3);e.R7$(2),e.Y8G("innerHtml",e.bMT(3,1,u.footerData.partner_copyrights_links_menu),e.npT)}}function Ks(H,ge){if(1&H&&(e.j41(0,"div",19),e.nrm(1,"span",18),e.nI1(2,"sanitizeHtml"),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.Y8G("innerHtml",e.bMT(2,1,u.licenseDisclaimer),e.npT)}}function Ws(H,ge){if(1&H&&(e.j41(0,"div",7)(1,"div",8),e.DNE(2,xs,3,2,"div",9)(3,Vs,4,3,"div",10)(4,Ks,3,3,"div",11),e.k0s()()),2&H){const u=e.XpG(2);e.Y8G("ngStyle",e.l_i(4,Us,u.footerData&&u.footerData.backgroundcolor,u.footerData&&u.footerData.fontcolor)),e.R7$(2),e.Y8G("ngIf",!u.footerData.hide_partner_logo),e.R7$(),e.Y8G("ngIf",!u.footerData.hide_partner_links),e.R7$(),e.Y8G("ngIf",!u.footerData.hide_partner_disclaimer)}}function Gs(H,ge){if(1&H&&(e.j41(0,"div")(1,"a",26),e.nrm(2,"img",27),e.k0s()()),2&H){const u=e.XpG(5);e.R7$(),e.FS9("href",u.footerData.sec_icon1_linkUrl,e.B4B),e.R7$(),e.FS9("src",u.footerData.sec_icon1,e.B4B),e.FS9("alt",u.footerData.sec_icon1_altText)}}function Ys(H,ge){if(1&H&&(e.j41(0,"div")(1,"a",26),e.nrm(2,"img",27),e.k0s()()),2&H){const u=e.XpG(5);e.R7$(),e.FS9("href",u.footerData.sec_icon2_linkUrl,e.B4B),e.R7$(),e.FS9("src",u.footerData.sec_icon2,e.B4B),e.FS9("alt",u.footerData.sec_icon2_altText)}}function Hs(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",28)(2,"div",29),e.EFF(3),e.k0s(),e.j41(4,"ul",30),e.nrm(5,"span",31),e.k0s()()()),2&H){const u=e.XpG(5);e.R7$(3),e.JRh(u.footerData.quick_links_title1),e.R7$(2),e.Y8G("innerHTML",u.footerData.quick_links_col1_menu,e.npT)}}function $s(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",32)(2,"div",29),e.EFF(3),e.k0s(),e.j41(4,"ul",30),e.nrm(5,"span",31),e.k0s()()()),2&H){const u=e.XpG(6);e.R7$(3),e.JRh(u.footerData.quick_links_title3),e.R7$(2),e.Y8G("innerHTML",u.footerData.quick_links_col3_menu,e.npT)}}function zs(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",28)(2,"div",29),e.EFF(3),e.k0s(),e.j41(4,"ul",30),e.nrm(5,"span",31),e.k0s(),e.DNE(6,$s,6,2,"div",23),e.k0s()()),2&H){const u=e.XpG(5);e.R7$(3),e.JRh(u.footerData.quick_links_title2),e.R7$(2),e.Y8G("innerHTML",u.footerData.quick_links_col2_menu,e.npT),e.R7$(),e.Y8G("ngIf",u.footerData.quick_links_title3)}}function js(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",28)(2,"div",29),e.EFF(3),e.k0s(),e.j41(4,"ul",30),e.nrm(5,"span",31),e.k0s()()()),2&H){const u=e.XpG(5);e.R7$(3),e.JRh(u.footerData.quick_links_title4),e.R7$(2),e.Y8G("innerHTML",u.footerData.quick_links_col4_menu,e.npT)}}function Js(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",28)(2,"div",29),e.EFF(3),e.k0s(),e.j41(4,"ul",30),e.nrm(5,"span",31),e.j41(6,"li")(7,"a",26),e.nrm(8,"img",33),e.k0s()()()()()),2&H){const u=e.XpG(5);e.R7$(3),e.JRh(u.footerData.quick_links_title5),e.R7$(2),e.Y8G("innerHTML",u.footerData.quick_links_col5_menu,e.npT),e.R7$(2),e.FS9("href",u.footerData.blue_campaign_icon_linkUrl,e.B4B),e.R7$(),e.FS9("src",u.footerData.blue_campaign_icon,e.B4B)}}function Zs(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",24)(2,"div",25),e.DNE(3,Gs,3,3,"div",23)(4,Ys,3,3,"div",23),e.k0s()(),e.DNE(5,Hs,6,2,"div",23)(6,zs,7,3,"div",23)(7,js,6,2,"div",23)(8,Js,9,4,"div",23),e.k0s()),2&H){const u=e.XpG(4);e.R7$(3),e.Y8G("ngIf",u.footerData.sec_icon1),e.R7$(),e.Y8G("ngIf",u.footerData.sec_icon2),e.R7$(),e.Y8G("ngIf",u.footerData.quick_links_title1),e.R7$(),e.Y8G("ngIf",u.footerData.quick_links_title2),e.R7$(),e.Y8G("ngIf",u.footerData.quick_links_title4),e.R7$(),e.Y8G("ngIf",u.footerData.quick_links_title5)}}function Xs(H,ge){if(1&H&&(e.j41(0,"div",22),e.DNE(1,Zs,9,6,"div",23),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.Y8G("ngIf",u.footerData.country_label)}}function Qs(H,ge){if(1&H&&(e.j41(0,"div",20),e.DNE(1,Xs,2,1,"div",21),e.k0s()),2&H){const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",u.footerData&&!u.licenseDisclaimer)}}function qs(H,ge){if(1&H&&(e.j41(0,"div")(1,"div",38)(2,"a",39),e.nI1(3,"translate"),e.nrm(4,"div"),e.j41(5,"span",40),e.EFF(6),e.k0s()(),e.j41(7,"a",39),e.nI1(8,"translate"),e.nrm(9,"div"),e.j41(10,"span",40),e.EFF(11),e.k0s()(),e.j41(12,"a",39),e.nI1(13,"translate"),e.nrm(14,"div"),e.j41(15,"span",40),e.EFF(16),e.k0s()(),e.j41(17,"a",39),e.nI1(18,"translate"),e.nrm(19,"div"),e.j41(20,"span",40),e.EFF(21),e.k0s()()()()),2&H){const u=e.XpG(4);e.R7$(2),e.qtP("aria-label","",u.footerData.country1_linkurl," (",e.bMT(3,32,"sendmoneyoption.opens_in_new_tab_label"),")"),e.FS9("href",u.footerData.country1_linkurl,e.B4B),e.R7$(2),e.ZvI("flag ",u.footerData.country_flag1,""),e.R7$(2),e.SpI(" ",u.footerData.country1_link," "),e.R7$(),e.qtP("aria-label","",u.footerData.country2_linkurl," (",e.bMT(8,34,"sendmoneyoption.opens_in_new_tab_label"),")"),e.FS9("href",u.footerData.country2_linkurl,e.B4B),e.R7$(2),e.ZvI("flag ",u.footerData.country_flag2,""),e.R7$(2),e.SpI(" ",u.footerData.country2_link," "),e.R7$(),e.qtP("aria-label","",u.footerData.country3_linkurl," (",e.bMT(13,36,"sendmoneyoption.opens_in_new_tab_label"),")"),e.FS9("href",u.footerData.country3_linkurl,e.B4B),e.R7$(2),e.ZvI("flag ",u.footerData.country_flag3,""),e.R7$(2),e.SpI(" ",u.footerData.country3_link," "),e.R7$(),e.qtP("aria-label","",u.footerData.country4_linkurl," (",e.bMT(18,38,"sendmoneyoption.opens_in_new_tab_label"),")"),e.FS9("href",u.footerData.country4_linkurl,e.B4B),e.R7$(2),e.ZvI("flag ",u.footerData.country_flag4,""),e.R7$(2),e.SpI("",u.footerData.country4_link," ")}}function er(H,ge){if(1&H&&(e.j41(0,"div",36)(1,"div",37),e.nrm(2,"span",31),e.k0s(),e.DNE(3,qs,22,40,"div",23),e.k0s()),2&H){const u=e.XpG(3);e.R7$(2),e.Y8G("innerHTML",u.footerData.country_links_title_text,e.npT),e.R7$(),e.Y8G("ngIf",u.footerData.country_flag1||u.footerData.country_flag2||u.footerData.country_flag3||u.footerData.country_flag4)}}function tr(H,ge){if(1&H&&(e.j41(0,"div",34),e.DNE(1,er,4,2,"div",35),e.k0s()),2&H){const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",u.footerData&&!u.licenseDisclaimer)}}function ir(H,ge){if(1&H&&(e.j41(0,"div",49),e.nrm(1,"span",31),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.Y8G("innerHTML",u.footerData.license_disclaimer||"",e.npT)}}function sr(H,ge){if(1&H&&(e.j41(0,"div",50),e.nrm(1,"span",31),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.Y8G("innerHTML",u.footerData.social_media_text,e.npT)}}function rr(H,ge){if(1&H&&(e.j41(0,"div",51)(1,"a",26),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nrm(4,"img",52),e.nI1(5,"translate"),e.k0s(),e.j41(6,"a",26),e.nI1(7,"translate"),e.nI1(8,"translate"),e.nrm(9,"img",53),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",26),e.nI1(12,"translate"),e.nI1(13,"translate"),e.nrm(14,"img",54),e.nI1(15,"translate"),e.k0s(),e.j41(16,"a",26),e.nI1(17,"translate"),e.nI1(18,"translate"),e.nrm(19,"img",55),e.nI1(20,"translate"),e.k0s()()),2&H){const u=e.XpG(3);e.R7$(),e.qtP("aria-label","",e.bMT(2,24,"sendmoneyoption.follow_us_on_label")," facebook (",e.bMT(3,26,"sendmoneyoption.opens_in_new_tab_label"),")"),e.FS9("href",u.footerData.social1_linkUrl,e.B4B),e.R7$(3),e.FS9("src",u.footerData.social_media_icon1,e.B4B),e.FS9("alt",e.bMT(5,28,"facebook")),e.R7$(2),e.qtP("aria-label","",e.bMT(7,30,"sendmoneyoption.follow_us_on_label")," youtube (",e.bMT(8,32,"sendmoneyoption.opens_in_new_tab_label"),")"),e.FS9("href",u.footerData.social2_linkUrl,e.B4B),e.R7$(3),e.FS9("src",u.footerData.social_media_icon2,e.B4B),e.FS9("alt",e.bMT(10,34,"youtube")),e.R7$(2),e.qtP("aria-label","",e.bMT(12,36,"sendmoneyoption.follow_us_on_label")," Instagram (",e.bMT(13,38,"sendmoneyoption.opens_in_new_tab_label"),")"),e.FS9("href",u.footerData.social3_linkUrl,e.B4B),e.R7$(3),e.FS9("src",u.footerData.social_media_icon3,e.B4B),e.FS9("alt",e.bMT(15,40,"instagram")),e.R7$(2),e.qtP("aria-label","",e.bMT(17,42,"sendmoneyoption.follow_us_on_label")," twitter (",e.bMT(18,44,"sendmoneyoption.opens_in_new_tab_label"),")"),e.FS9("href",u.footerData.social4_linkUrl,e.B4B),e.R7$(3),e.FS9("src",u.footerData.social_media_icon4,e.B4B),e.FS9("alt",e.bMT(20,46,"twitter"))}}function ar(H,ge){if(1&H&&(e.j41(0,"div"),e.nrm(1,"img",56),e.k0s()),2&H){const u=e.XpG(4);e.R7$(),e.FS9("src",u.footerData.fraudAwarenessImage,e.B4B)}}function nr(H,ge){if(1&H&&(e.j41(0,"div"),e.nrm(1,"a",26),e.DNE(2,ar,2,1,"div",23),e.k0s()),2&H){const u=e.XpG(3);e.R7$(),e.FS9("href",u.footerData.fraudAwarenessUrl,e.B4B),e.R7$(),e.Y8G("ngIf",u.footerData.fraudAwarenessImage)}}function or(H,ge){if(1&H&&(e.j41(0,"div",41)(1,"div",42),e.nrm(2,"span",31),e.nI1(3,"sanitizeHtml"),e.k0s(),e.DNE(4,ir,2,1,"div",43),e.j41(5,"div",44),e.nrm(6,"span",31),e.k0s(),e.j41(7,"div",45),e.DNE(8,sr,2,1,"div",46)(9,rr,21,48,"div",47),e.j41(10,"div",48),e.DNE(11,nr,3,2,"div",23),e.k0s()()()),2&H){const u=e.XpG(2);e.R7$(2),e.Y8G("innerHTML",e.bMT(3,8,u.footerData.copyrights_links_menu),e.npT),e.R7$(2),e.Y8G("ngIf",u.showLicenceDisclaimer),e.R7$(),e.Y8G("ngClass",e.eq3(10,Bs,u.isDss2ApplicationLoaded)),e.R7$(),e.Y8G("innerHTML",u.copyRightTitle,e.npT),e.R7$(),e.Y8G("ngClass",e.eq3(12,ws,u.isSMORevampFiFoSectionEnabled&&u.isMobileViewOnly)),e.R7$(),e.Y8G("ngIf",u.showSocialLinks),e.R7$(),e.Y8G("ngIf",u.showSocialLinks),e.R7$(2),e.Y8G("ngIf",u.footerData.fraudAwarenessUrl)}}function cr(H,ge){if(1&H&&(e.j41(0,"footer",1),e.DNE(1,Ws,5,7,"div",2)(2,Qs,2,1,"div",3)(3,tr,2,1,"div",4),e.j41(4,"div",5),e.DNE(5,or,12,14,"div",6),e.k0s()()),2&H){const u=e.XpG();e.R7$(),e.Y8G("ngIf",u.footerData&&u.licenseDisclaimer),e.R7$(),e.Y8G("ngIf",u.footerData&&null===u.footerData.hide_quicklinks),e.R7$(),e.Y8G("ngIf",u.footerData&&null===u.footerData.hide_countrylinks),e.R7$(2),e.Y8G("ngIf",u.footerData&&!u.licenseDisclaimer)}}function ur(H,ge){if(1&H&&(e.j41(0,"footer",1)(1,"div",57)(2,"div",41)(3,"div",58)(4,"p"),e.nrm(5,"span",31),e.k0s()()()()()),2&H){const u=e.XpG();e.R7$(5),e.Y8G("innerHTML",u.dutFooter,e.npT)}}class ni{constructor(ge,u){this.code=ge,this.name=u}}let dr=(()=>{class H{onResize(){this.isMobileViewOnly=this.utilService.checkScreenSize()}constructor(u,j,q,ue,ye,be,Te,$e){this.gblComponentsProvider=u,this._store=j,this.elRef=q,this.utilService=ue,this.wuDataAccess=ye,this.gblComponentProvider=be,this.readURLService=Te,this.translationService=$e,this.languages=Array(),this.showLicenceDisclaimer=!1,this.showFooter=!0,this.destroyed$=new O.B7,this.showSocialLinks=!0,this.isDss2ApplicationLoaded=!1,this.isDutPageFooter=!1,this.isMobileViewOnly=!1,this.footerData=u.getFooterComponents(),this._store.pipe((0,x.Lt)(te.w8),(0,G.Q)(this.destroyed$)).subscribe(Ke=>{this.sender=Ke,this.isDss2ApplicationLoaded=!!this.gblComponentProvider.isDSS2ApplicationLoaded(this.readURLService.getCurrentUrl())})}ngOnInit(){this.languages=Array(),this.languages.push(new ni("en","English")),this.languages.push(new ni("es","Spanish")),this.languages.push(new ni("fr","French")),this.countryConfig=this.gblComponentsProvider.getCountryConfig(),this.handleLicenceDisclaimer(),this.updateCopyRightTitle(),this.updatePartnerLincenseDisclaimer(),this.utilService.inFrame()&&!this.utilService.isHostedPartner()&&(this.showFooter=!1),this.footerData&&this.footerData.hasOwnProperty("show_social_links")&&(this.showSocialLinks="true"===this.footerData.show_social_links);const u=window.location.pathname.split("/");this.pageName=u?.length>0?u.pop():"","kycsuccess"==this.pageName&&this.utilService.isNGMigrationEnabled(this.pageName)&&this.getDutFooter(),this.isSMORevampFiFoSectionEnabled=this.utilService.isSMORevampV2SectionEnabled("fundsInFundsOutSection"),this.isMobileViewOnly=this.utilService.checkScreenSize()}ngAfterViewInit(){const u=this.elRef.nativeElement.querySelector(".cookie-setting");u&&u.addEventListener("click",this.openCookiePopupModal.bind(this))}getDutFooter(){this.isDutPageFooter=!0,this.footerData=!1,this.setDutFooter()}setDutFooter(){this.translationService.getRcxRAFTranslations("footer").pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.translation=u}),this.dutFooter=this.translation?.text?this.translation?.text.replace(/{year}/g,(new Date).getFullYear()):""}openCookiePopupModal(){const u=document&&document.getElementById("cookie-popup-modal")?document.getElementById("cookie-popup-modal"):null;u&&u.style&&(u.style.display="block",this.wuDataAccess.manageCookiePopupEvent())}handleLicenceDisclaimer(){(this.countryConfig&&this.countryConfig.ConfigTemplate&&"US"===this.countryConfig.ConfigTemplate.country||!this.sender)&&(this.showLicenceDisclaimer=!0)}updateCopyRightTitle(){this.copyRightTitle=(this.footerData&&this.footerData.copyrights_title?this.footerData.copyrights_title:"").replace(/{year}/gi,(new Date).getFullYear())}updatePartnerLincenseDisclaimer(){this.licenseDisclaimer=(this.footerData&&this.footerData.partner_license_disclaimer?this.footerData.partner_license_disclaimer:"").replace(/{year}/gi,(new Date).getFullYear())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(re.b),e.rXU(x.il),e.rXU(e.aKT),e.rXU(w.a),e.rXU(R.a),e.rXU(re.b),e.rXU(fe.Fq),e.rXU(s.C))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-footer"]],hostBindings:function(j,q){1&j&&e.bIt("resize",function(){return q.onResize()},!1,e.tSv)},features:[e.Jv_([])],decls:2,vars:2,consts:[["role","contentinfo",4,"ngIf"],["role","contentinfo"],["class","wu-partner",3,"ngStyle",4,"ngIf"],["class","quicklinks-menu-container",4,"ngIf"],["class","countrylinks-menu-container hidden-xs",4,"ngIf"],[1,"copyrightlinks-menu-container"],["class","container copyrightlinks-container",4,"ngIf"],[1,"wu-partner",3,"ngStyle"],[1,"container","partner-container"],["class","partner-title-logo",4,"ngIf"],["class","partner-quicklinks",4,"ngIf"],["class","partner-copyright-text",4,"ngIf"],[1,"partner-title-logo"],[1,"partner-text",3,"innerHtml"],["class","partner-logo",4,"ngIf"],[1,"partner-logo"],["alt","partner-logo",3,"src"],[1,"partner-quicklinks"],[3,"innerHtml"],[1,"partner-copyright-text"],[1,"quicklinks-menu-container"],["class","container quicklinks-container","id","wuRpfooterContainer",4,"ngIf"],["id","wuRpfooterContainer",1,"container","quicklinks-container"],[4,"ngIf"],[1,"country-language","wu-fl-left","col-sm-4"],[1,"wu-rpfooter-secure-images","hidden-xs"],["target","_blank",3,"href"],[3,"src","alt"],[1,"col-sm-2","footer-panel"],["wu-footermenu-toggle","",1,"menu-title","footer-menu-h2"],[1,"list-unstyled","footer-menu"],[3,"innerHTML"],[1,"footer-panel"],["alt","blue-campaign-icon",3,"src"],[1,"countrylinks-menu-container","hidden-xs"],["class","container countrylinks-container",4,"ngIf"],[1,"container","countrylinks-container"],[1,"col-sm-4"],[1,"countrylinks","footer-country-flag"],["target","_blank",1,"col-sm-2",3,"href"],[1,"country_text"],[1,"container","copyrightlinks-container"],[1,"col-sm-12","col-xs-12","quicklinks"],["id","ga_dis","class","col-sm-8 col-md-9 col-xs-12 wu-copyright-text",4,"ngIf"],[1,"col-sm-8","col-md-9","col-xs-12","wu-copyright-text",3,"ngClass"],[1,"col-sm-4","col-md-3","col-xs-12","social-icons-container",3,"ngClass"],["class","social-media-text",4,"ngIf"],["class","social-icons",4,"ngIf"],[1,"col-sm-4","col-md-3","col-xs-12","fraud-awareness"],["id","ga_dis",1,"col-sm-8","col-md-9","col-xs-12","wu-copyright-text"],[1,"social-media-text"],[1,"social-icons"],["width","11px","height","20px",3,"src","alt"],["width","26px","height","18px",3,"src","alt"],["width","22px","height","22px",3,"src","alt"],["width","24px","height","20px",3,"src","alt"],["alt","\xa0",3,"src"],[1,"row","kyc-footer","copyrightlinks-menu-container"],[1,"col-md-offset-2","col-md-5","col-sm-offset-2","col-sm-8","col-lg-offset-2","offset-lg-4","wu-copyright-text"]],template:function(j,q){1&j&&e.DNE(0,cr,6,4,"footer",0)(1,ur,6,1,"footer",0),2&j&&(e.Y8G("ngIf",q.showFooter&&!q.isDutPageFooter),e.R7$(),e.Y8G("ngIf",q.showFooter&&q.isDutPageFooter))},dependencies:[c.YU,c.bT,c.B3,se.D9,Ms.b],styles:["#kampyleStyle[_ngcontent-%COMP%]   .noOutline[_ngcontent-%COMP%]{outline:none!important}.wcagOutline[_ngcontent-%COMP%]:focus{outline:1px dashed #595959!important;outline-offset:2px!important;transition:none!important}button#nebula_div_btn[_ngcontent-%COMP%]{height:auto!important}.kampyle_feedback-button[_ngcontent-%COMP%]{background-color:transparent!important;font-family:Open Sans,sans-serif;cursor:pointer;position:fixed;z-index:99999990}.kampyle_feedback-button[_ngcontent-%COMP%]   .kampyle_triangle[_ngcontent-%COMP%]{position:absolute;width:0;height:0;z-index:-1}.kampyle_feedback-button[_ngcontent-%COMP%]   .kampyle_button-text[_ngcontent-%COMP%]{height:81px;width:81px;text-align:center;z-index:1000;color:#000;font-size:14px;font-weight:400!important}.kampyle_feedback-button[_ngcontent-%COMP%]   .kampyle_bottom[_ngcontent-%COMP%]{line-height:108px!important}.kampyle_feedback-button[_ngcontent-%COMP%]   .kampyle_top[_ngcontent-%COMP%]{line-height:53px!important}.kampyle_feedback-button.kampyle_top-right[_ngcontent-%COMP%]{top:0;right:0}.kampyle_feedback-button.kampyle_top-right[_ngcontent-%COMP%]   .kampyle_triangle[_ngcontent-%COMP%]{top:0;right:0;border-top:81px solid #ffd100;border-left:81px solid transparent}.kampyle_feedback-button.kampyle_top-right[_ngcontent-%COMP%]   .kampyle_button-text[_ngcontent-%COMP%]{transform:rotate(45deg)}.kampyle_feedback-button.kampyle_top-left[_ngcontent-%COMP%]{top:0;left:0}.kampyle_feedback-button.kampyle_top-left[_ngcontent-%COMP%]   .kampyle_triangle[_ngcontent-%COMP%]{top:0;left:0;border-top:81px solid #ffd100;border-right:81px solid transparent}.kampyle_feedback-button.kampyle_top-left[_ngcontent-%COMP%]   .kampyle_button-text[_ngcontent-%COMP%]{transform:rotate(-45deg)}.kampyle_feedback-button.kampyle_bottom-right[_ngcontent-%COMP%]{bottom:0;right:0}.kampyle_feedback-button.kampyle_bottom-right[_ngcontent-%COMP%]   .kampyle_triangle[_ngcontent-%COMP%]{bottom:0;right:0;border-bottom:81px solid #ffd100;border-left:81px solid transparent}.kampyle_feedback-button.kampyle_bottom-right[_ngcontent-%COMP%]   .kampyle_button-text[_ngcontent-%COMP%]{transform:rotate(-45deg)}.kampyle_feedback-button.kampyle_bottom-left[_ngcontent-%COMP%]{bottom:0;left:0}.kampyle_feedback-button.kampyle_bottom-left[_ngcontent-%COMP%]   .kampyle_triangle[_ngcontent-%COMP%]{bottom:0;left:0;border-bottom:81px solid #ffd100;border-right:81px solid transparent}.kampyle_feedback-button.kampyle_bottom-left[_ngcontent-%COMP%]   .kampyle_button-text[_ngcontent-%COMP%]{transform:rotate(45deg)}.kampyle_feedback-button.kampyle_bottom-left[_ngcontent-%COMP%], .kampyle_feedback-button.kampyle_bottom-right[_ngcontent-%COMP%], .kampyle_feedback-button.kampyle_top-left[_ngcontent-%COMP%], .kampyle_feedback-button.kampyle_top-right[_ngcontent-%COMP%]{padding:0!important}.noOutline[_ngcontent-%COMP%]{outline:none}footer[_ngcontent-%COMP%]   .wu-partner[_ngcontent-%COMP%]   .partner-quicklinks[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .wu-partner[_ngcontent-%COMP%]   .partner-quicklinks[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#000!important}footer[_ngcontent-%COMP%]   .wu-partner[_ngcontent-%COMP%]   .partner-quicklinks[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{border-right:1px solid #000!important}#nebula_div_btn[_ngcontent-%COMP%]:focus{outline:auto!important}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px!important}.dss2Footer[_ngcontent-%COMP%]{width:100%}.kyc-footer[_ngcontent-%COMP%]{padding:20px}.mobileFooterSummaryWidget[_ngcontent-%COMP%]{margin-bottom:75px!important}"]})}return H})();var oi=t(76651),lr=t(82380);let _r=(()=>{class H{constructor(u,j,q,ue,ye,be,Te,$e,Ke){this.router=u,this._store=j,this.sessionService=q,this.routingService=ue,this.utilService=ye,this.renderer=be,this.updateStoreUsingActionService=Te,this.socialAuthHandling=$e,this.socialAuthWrapperService=Ke,this.timerState=0,this.resetTimer=function(){this.timerState=0,this.isSessionExpiryPopupEnabled()&&(this.mouseOverHandler(),this.mouseOverHandler=this.renderer.listen(document,"mouseover",this.resetTimer.bind(this)),this.interval&&this.interval.unsubscribe(),this.utilService.getLoggedInStatus()&&this.runTimer(),this.tabTitleInterval&&this.tabTitleInterval.unsubscribe(),this.documentTitle&&(document.title=this.documentTitle))},this.runTimer=function(){this.interval=(0,oi.O)(0,6e4).subscribe(this.runTimerCallback.bind(this))},this.router.events.subscribe(this.routerEventsCallback.bind(this)),this._store.pipe((0,x.Lt)(te.w8)).subscribe(tt=>{this.senderStore=tt}),this._store.pipe((0,x.Lt)(te.dj)).subscribe(tt=>{this.timeToExpire=tt?54e4:84e4,this.isPps=!!tt}),this._store.pipe((0,x.Lt)(te.KZ)).subscribe(tt=>{this.hostedPartner=tt}),sessionStorage.setItem("sessionExpirePopupConfig",JSON.stringify({remainingTimeInMilliseconds:18e4})),this.sessionService.cancelSessionExpiryTimerPopupSubject.subscribe(this.cancelSessionExpiryTimerPopupSubjectCallback.bind(this)),this.sessionService.extendSessionSubject.subscribe(this.extendSessionSubjectCallback.bind(this)),this.sessionService.expireSessionSubject.subscribe(this.expireSessionSubjectCallback.bind(this)),this.clickHandler=this.renderer.listen(document,"click",this.resetTimer.bind(this)),this.mouseOverHandler=this.renderer.listen(document,"mouseover",this.resetTimer.bind(this));const Ze=JSON.parse(sessionStorage.getItem("WUSharedData"));this.utilService.checkIfUserIsFromMyWuSite()&&this.utilService.isLoyaltyProgramEnabled()&&Ze?.accessToken&&Ze?.refreshToken&&this.callSessionKeepAliveIfUserFromMyWu()}callSessionKeepAliveIfUserFromMyWu(){this.sessionService.sessionKeepAlive().subscribe(u=>{Ee.has(u,"error")||this.setAccessNRefreshToken(u)},u=>console.error(u))}isSessionExpiryPopupEnabled(){return!this.utilService.getCookieItem("partnerName")}routerEventsCallback(u){u instanceof V.wF&&(this.timerState=0,this.interval&&this.interval.unsubscribe(),this.utilService.getLoggedInStatus()&&this.runTimer())}cancelSessionExpiryTimerPopupSubjectCallback(u){this.isSessionExpiryPopupEnabled()&&(this.sessionTimeoutOffset=this.sessionTimeoutOffset-6e4,u&&u.tabTitleInterval&&(this.tabTitleInterval=u.tabTitleInterval),u&&u.documentTitle&&(this.documentTitle=u.documentTitle),setTimeout(()=>{this.clickHandler=this.renderer.listen(document,"click",this.resetTimer.bind(this))},1e3))}extendSessionSubjectCallback(){this.isSessionExpiryPopupEnabled()&&(this.sessionTimeoutOffset=this.sessionTimeoutOffset-6e4,this.clickHandler=this.renderer.listen(document,"click",this.resetTimer.bind(this)),this.mouseOverHandler=this.renderer.listen(document,"mouseover",this.resetTimer.bind(this)),this.timerState=0)}expireSessionSubjectCallback(){this.terminateSession()}runTimerCallback(){if(this.utilService.getCookieItem("SessionId")){if(this.isSessionExpiryPopupEnabled()){const u=sessionStorage.getItem("sessionExpirePopupConfig");u&&(this.sessionExpirePopupConfig=JSON.parse(u)),this.sessionExpirePopupConfig&&this.sessionExpirePopupConfig.remainingTimeInMilliseconds&&(this.sessionTimeoutOffset=this.sessionExpirePopupConfig.remainingTimeInMilliseconds,this.sessionTimeoutOffset=this.sessionTimeoutOffset-6e4),this.timerState===Number(this.timeToExpire)-this.sessionTimeoutOffset&&(this.clickHandler(),this.mouseOverHandler(),this.sessionTimeoutOffset=this.sessionTimeoutOffset+6e4,this.sessionService.showSesssionExpiryTimerPopup({timeToExpire:this.timeToExpire,sessionTimeoutOffset:this.sessionTimeoutOffset}))}if(this.timerState>this.timeToExpire)this.terminateSession();else{const u=(new Date).getTime(),j=this.utilService.getCookieItem("SessionInfo");if(this.senderStore&&this.senderStore.isLoggedIn&&u-Number(j)>=48e4){if(this.isSessionExpiryPopupEnabled()){const ue=(new Date).valueOf().toString();this.utilService.setCookieItem("SessionInfo",ue,10,"/"),this.updateStoreUsingActionService.updateSessionInfo(ue);const ye=sessionStorage.getItem("cookiestore");if(ye){const be=JSON.parse(ye);be.SessionInfo=ue,sessionStorage.setItem("cookiestore",JSON.stringify(be))}}this.utilService.isSocialLoginOptionEnabled()&&this.socialAuthWrapperService.getRefreshToken(),this.sessionService.sessionKeepAlive().subscribe(ue=>{Ee.has(ue,"error")?this.terminateSession():this.utilService.isLoyaltyProgramEnabled()&&this.setAccessNRefreshToken(ue)},ue=>console.error(ue))}}this.timerState=Number(this.timerState)+6e4}else this.timerState=0}setAccessNRefreshToken(u){const j=JSON.parse(sessionStorage.getItem("cookiestore")||"{}"),q=this.getfilteredToken("accessToken",u?.security?.requestHeader),ue=this.getfilteredToken("refreshToken",u?.security?.requestHeader);q&&ue&&sessionStorage.setItem("WUSharedData",JSON.stringify({security:{sessionId:j?.SessionId,accessToken:q,refreshToken:ue}}))}getfilteredToken(u,j){return j.filter(ue=>ue.key===u)[0]?.value}terminateSession(){this.sessionService.terminateSession().subscribe(u=>{if(u&&!u.error&&(this.utilService.isSocialLoginOptionEnabled()&&this.socialAuthHandling.onRevokeAccessCall(),this.utilService.deleteCookieItem("SessionId"),this.utilService.deleteCookieItem("SessionInfo"),this.timerState=0,this.isPps||this.senderStore&&this.senderStore.firstName)){if(this.hostedPartner)return this.utilService.clearAllStorage(),void this.routingService.navigateToErrorPage(408);if(this.isPps){const q=this.utilService.getCookieItem("providerSiteUrl");if(q)return this.utilService.deleteCookieItem("providerSiteUrl"),this.utilService.deleteCookieItem("PhoneNumber"),this.utilService.clearAllStorage(),void(window.location.href=q)}if(this.utilService.clearAllStorage(),this.utilService.getCookieItem("user_session_token"))return;this.routingService.navigateToSessionExpire()}},u=>console.error(u))}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(V.Ix),e.rXU(x.il),e.rXU(Ce.Q),e.rXU(X.O),e.rXU(w.a),e.rXU(e.sFG),e.rXU(de.k),e.rXU(ee.$),e.rXU(lr.I))};static#t=this.\u0275dir=e.FsC({type:H,selectors:[["","appSessionTimer",""]]})}return H})(),mr=(()=>{class H extends ae.u{constructor(u,j,q){super(u),this.el=u,this.utilService=j,this._store=q,this.destroyed$=new O.B7,this._store.pipe((0,x.Lt)(te.rb),(0,G.Q)(this.destroyed$)).subscribe(ue=>{this.selectedProduct=ue}),this._store.pipe((0,x.Lt)(te.mz),(0,G.Q)(this.destroyed$)).subscribe(ue=>{this.senderAmount=ue}),this._store.pipe((0,x.Lt)(te.rV),(0,G.Q)(this.destroyed$)).subscribe(ue=>{this.senderCurrency=ue}),this._store.pipe((0,x.Lt)(te.VI),(0,G.Q)(this.destroyed$)).subscribe(ue=>{this.receiverCurrency=ue})}ngOnInit(){this.utilService._delightConfettiValuesObsev.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{u&&this.setAnimationTimeForFeeAndAmount()})}setAnimationTimeForFeeAndAmount(){try{this.getImagePath();let u=0,j=0;this.getCounter(".num-fee",u),this.getCounter(".num-receiver-gets",j),u=Math.abs(this.senderAmount&&(this.selectedProduct?.strikeThrough?.strike_gross_fee/100-this.selectedProduct?.fees/100).toFixed(2)),j=Math.abs(this.senderAmount&&((this.selectedProduct?.strikeThrough?.fx_rate-this.selectedProduct?.strikeThrough?.strike_fx_rate)*this.senderAmount).toFixed(2)),setTimeout(()=>this.getCounter(".num-fee",u),4300),setTimeout(()=>this.getCounter(".num-receiver-gets",j),5800)}catch{console.error("---setAnimationTimeForFeeAndAmount")}}getCounter(u,j){const q=j.toString(),ue=this.el.nativeElement.querySelector(u),ye=parseFloat(q.replace(/,/g,"")),be=this.countDecimals(ye);this.iterateValue(ue,ye,be)}getImagePath(){const u=(new Date).getTime();this.confettiGifPath=`/content/dam/web-assets/delight-confetti/confetti.gif?${u}`}iterateValue(u,j,q){let be=null;const Te=$e=>{be||(be=$e);const Ze=Math.min(this.easeOutQuint(($e-be)/2500),1),nt=Math.abs(Ze*(j-0)+0);u.innerHTML=this.formatNumber(nt,q),Ze<1&&window.requestAnimationFrame(Te)};window.requestAnimationFrame(Te)}easeOutQuint(u){return 1-Math.pow(1-u,5)}countDecimals(u){return Math.floor(u)===u?0:u.toString().split(".")[1].length||0}formatNumber(u,j){return u.toLocaleString("en-US",{minimumFractionDigits:j,maximumFractionDigits:j})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(e.aKT),e.rXU(w.a),e.rXU(x.il))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-confetti-popup"]],features:[e.Vt3],decls:30,vars:15,consts:[[1,"popup-container"],[1,"popup-body"],[1,"confetti-img",3,"src"],["translate","sendmoneyoption.confettiGoodNewsText",1,"confetti-popup-greeting-text"],[1,"confetti-popup-amount-wraper"],[1,"confetti-popup-amount-fee"],[1,"popup-amount-text"],[1,"icon-0037_send-money"],[1,"text-right"],[1,"num-fee"],[1,"currency"],[1,"confetti-popup-amount-receiver-gets"],[1,"num-receiver-gets"]],template:function(j,q){1&j&&(e.j41(0,"app-modal-generic")(1,"div",0)(2,"div",1),e.nrm(3,"img",2)(4,"div",3),e.j41(5,"div",4)(6,"div",5)(7,"span",6),e.nrm(8,"i",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"span",8)(12,"span",9),e.EFF(13,"0.00"),e.k0s(),e.j41(14,"span",10),e.EFF(15),e.k0s(),e.EFF(16),e.nI1(17,"translate"),e.k0s()(),e.j41(18,"div",11)(19,"span",6),e.nrm(20,"i",7),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"span",8)(24,"span",12),e.EFF(25,"0.00"),e.k0s(),e.j41(26,"span",10),e.EFF(27),e.k0s(),e.EFF(28),e.nI1(29,"translate"),e.k0s()()()()()()),2&j&&(e.R7$(3),e.Y8G("src",q.confettiGifPath,e.B4B),e.R7$(6),e.SpI(" ",e.bMT(10,7,"sendmoneyoption.confettiYouWillSaveText")," "),e.R7$(6),e.SpI(" ",q.senderCurrency,""),e.R7$(),e.SpI(" ",e.bMT(17,9,"sendmoneyoption.confettiOnFeeText")," "),e.R7$(5),e.SpI(" ",e.bMT(22,11,"sendmoneyoption.confettiReceiverGetsText")," "),e.R7$(6),e.SpI(" ",q.receiverCurrency,""),e.R7$(),e.SpI(" ",e.bMT(29,13,"sendmoneyoption.confettiMoreText")," "))},dependencies:[ae.u,se.Mm,se.D9],styles:['.popup-container[_ngcontent-%COMP%]{position:fixed;z-index:10000;opacity:1;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);margin:0 auto;max-width:501px;border-radius:8px}.popup-body[_ngcontent-%COMP%]{width:351px;height:262px;background:#fff0;border-radius:8px;text-align:center;animation:_ngcontent-%COMP%_bg-change-white;animation-duration:1s;animation-delay:3s;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_bg-change-white{to{background:#fff}}.confetti-img[_ngcontent-%COMP%]{margin-top:90px;width:160px;animation:_ngcontent-%COMP%_image-animate;animation-duration:.8s;animation-timing-function:cubic-bezier(.6,-.28,.74,.05);animation-direction:normal;animation-delay:1.5s;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_image-animate{to{margin-top:28px;width:80px;height:59px}}.confetti-popup-greeting-text[_ngcontent-%COMP%]{color:#000;font-size:20px;font-family:OpenSans-Semibold;font-weight:600;letter-spacing:0px;line-height:26px;padding:19px 15px;opacity:0;margin-top:-120px;animation:_ngcontent-%COMP%_heading-text;animation-duration:.8s;animation-timing-function:cubic-bezier(.6,-.28,.74,.05);animation-direction:normal;animation-delay:2.8s;animation-fill-mode:forwards;visibility:visible}@keyframes _ngcontent-%COMP%_heading-text{to{opacity:1;margin-top:0}}.confetti-popup-amount-fee[_ngcontent-%COMP%]{font-family:Open Sans;display:flex;padding:6px 16px;justify-content:space-between;font-size:16px;opacity:0;margin-top:180px;animation:_ngcontent-%COMP%_amount-text;animation-duration:.5s;animation-timing-function:cubic-bezier(.01,.86,.74,1.06);animation-direction:normal;animation-delay:3.8s;animation-fill-mode:forwards}.confetti-popup-amount-receiver-gets[_ngcontent-%COMP%]{font-family:Open Sans;display:flex;padding:10px 16px 6px;justify-content:space-between;font-size:16px;opacity:0;margin-top:120px;animation:_ngcontent-%COMP%_amount-text;animation-duration:.5s;animation-timing-function:cubic-bezier(.01,.86,.74,1.06);animation-direction:normal;animation-delay:5s;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_amount-text{to{opacity:1;margin-top:0}}.confetti-popup-amount-wraper[_ngcontent-%COMP%]{background:#f2f9f100;padding-top:15px;height:111px;animation:_ngcontent-%COMP%_bg-change-gry;animation-duration:.8s;animation-delay:3.8s;animation-fill-mode:forwards;visibility:visible;border-radius:0 0 8px 8px}@keyframes _ngcontent-%COMP%_bg-change-gry{to{background:#f2f9f1}}.confetti-popup-amount-fee[_ngcontent-%COMP%]   .popup-amount-text[_ngcontent-%COMP%]{text-align:left;max-width:45%;white-space:nowrap;overflow:hidden;display:inline-block;text-overflow:ellipsis;padding-left:30px}.confetti-popup-amount-receiver-gets[_ngcontent-%COMP%]   .popup-amount-text[_ngcontent-%COMP%]{text-align:left;max-width:45%;-webkit-line-clamp:2;-webkit-box-orient:vertical;padding-left:30px;overflow:hidden;display:-webkit-box}.popup-amount-text[_ngcontent-%COMP%]   .icon-0037_send-money[_ngcontent-%COMP%]{position:absolute;left:16px;margin-top:5px}span.num-fee[_ngcontent-%COMP%], span.num-receiver-gets[_ngcontent-%COMP%], .currency[_ngcontent-%COMP%]{font-size:18px;font-family:OpenSans-Semibold}.icon-0037_send-money[_ngcontent-%COMP%]:before{font-size:23px;margin-right:4px;content:"\\e925";vertical-align:text-top}[_nghost-%COMP%]     .modal-parent, [_nghost-%COMP%]     .modal-backdrop{z-index:9999999!important}']})}return H})();const gr=H=>({over50:H}),pr=(H,ge,u)=>({transform:H,"-webkit-transform":ge,"-ms-transform":u});function hr(H,ge){if(1&H){const u=e.RV6();e.j41(0,"div",5)(1,"a",6),e.bIt("click",function(){e.eBV(u);const q=e.XpG();return e.Njj(q.closeSessionPopup())}),e.nrm(2,"i",7),e.k0s(),e.j41(3,"div",8),e.nrm(4,"span",9),e.k0s(),e.j41(5,"div",10),e.nrm(6,"span",11),e.k0s(),e.j41(7,"div",12)(8,"div",13)(9,"span",14),e.EFF(10),e.k0s(),e.j41(11,"span",15),e.nrm(12,"span",16),e.k0s(),e.j41(13,"div",17),e.nrm(14,"div",18)(15,"div",19),e.k0s()()(),e.j41(16,"button",20),e.bIt("click",function(){e.eBV(u);const q=e.XpG();return e.Njj(q.extendSession())}),e.nrm(17,"span",21),e.k0s()()}if(2&H){const u=e.XpG();e.R7$(8),e.Y8G("ngClass",e.eq3(3,gr,u.remainingTimeCounter>=u.remainingTime/2)),e.R7$(2),e.JRh(u.remainingTimeToDisplay),e.R7$(5),e.Y8G("ngStyle",e.sMw(5,pr,u.counterStyle,u.counterStyle,u.counterStyle))}}function Cr(H,ge){if(1&H){const u=e.RV6();e.j41(0,"div",22)(1,"div",23)(2,"p",24),e.nrm(3,"i",25),e.k0s(),e.j41(4,"div",26),e.nrm(5,"span",27),e.nI1(6,"translate"),e.k0s(),e.nrm(7,"span",27),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",28)(10,"button",29),e.bIt("click",function(){e.eBV(u);const q=e.XpG();return e.Njj(q.customerSignOn())}),e.nrm(11,"span",27),e.nI1(12,"translate"),e.k0s()()()}2&H&&(e.R7$(5),e.Y8G("innerHTML",e.bMT(6,3,"receiverinfo.session_expired"),e.npT),e.R7$(2),e.Y8G("innerHTML",e.bMT(8,5,"receiverinfo.session_expired_msg"),e.npT),e.R7$(4),e.Y8G("innerHTML",e.bMT(12,7,"receiverinfo.continue_btn_text"),e.npT))}let fr=(()=>{class H extends ae.u{constructor(u,j,q,ue,ye,be,Te,$e,Ke){super(u),this.utilService=j,this.sessionService=q,this.translate=ue,this.wuDataAccessService=ye,this.userService=be,this.routingService=Te,this.userSandBox=$e,this.featureFlagService=Ke,this.numberPercentageSubject=new O.B7,this.destroyed$=new O.B7,this.isAutoLoginEnabled=!1,this.showResumeTransferContent=!1,this.sessionService.showSesssionExpiryTimerPopupSubject.pipe((0,G.Q)(this.destroyed$)).subscribe(this.showSesssionExpiryTimerPopupSubjectCallback.bind(this)),this.minutesText=E.Y.sessionExpiryModalMinutesText,this.translate.get("session_expire_popup.popup_heading").pipe((0,G.Q)(this.destroyed$)).subscribe(Ze=>{this.popupheading=Ze+"..."}),this.isAutoLoginEnabled=!(!this.utilService.getCookieItem("user_session_token")||"true"!==sessionStorage.getItem("loginExt"))}ngOnInit(){}showSesssionExpiryTimerPopupSubjectCallback(u){this.isSessionExpiryPopupEnabled()&&(this.cancelInterval(this.sessionInterval),this.cancelInterval(this.tabTitleInterval),this.timeToExpire=u.timeToExpire,this.sessionTimeoutOffset=u.sessionTimeoutOffset,this.showSessionExpiryModal())}isSessionExpiryPopupEnabled(){return!this.utilService.getCookieItem("partnerName")}getRemainingTimeToDisplay(u){let j;const ue=u/1e3%60;return j=""+ue,ue<10&&(j="0"+ue),Math.floor(u/1e3/60)+":"+j}showSessionExpiryModal(){const u=sessionStorage.getItem("sessionExpirePopupConfig");u&&(this.sessionExpirePopupConfig=JSON.parse(u)),this.documentTitle=document.title,this.tabTitleInterval=(0,oi.O)(0,1e3).pipe((0,G.Q)(this.destroyed$)).subscribe(()=>{document.title!==this.popupheading?document.title=this.popupheading:document.title=this.documentTitle}),this.remainingTimeCounter=this.remainingTime=this.sessionTimeoutOffset,this.remainingTimeToDisplay=this.getRemainingTimeToDisplay(this.remainingTimeCounter),sessionStorage.setItem("popUpOpened","true"),sessionStorage.setItem("popUpName","session-expiry"),this.open("session-expiry-modal-id"),this.counterStyle="rotate(360deg)",this.sessionInterval=(0,oi.O)(0,1e3).pipe((0,G.Q)(this.destroyed$)).subscribe(()=>{this.checkCount()})}checkCount(){this.isSessionExpiryPopupEnabled()&&(this.remainingTimeCounter>=1e3?(this.remainingTimeCounter=this.remainingTimeCounter-1e3,this.numberPercentage=this.remainingTimeCounter/this.sessionTimeoutOffset*100,this.numberPercentageSubject.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{const j=Number(u)/100*360;this.counterStyle="rotate("+j+"deg)"}),this.numberPercentageSubject.next(this.numberPercentage),this.remainingTimeToDisplay=this.getRemainingTimeToDisplay(this.remainingTimeCounter)):(this.cancelInterval(this.sessionInterval),this.cancelInterval(this.tabTitleInterval),document.title=this.documentTitle,this.isAutoLoginEnabled?(this.showResumeTransferContent=!0,this.wuDataAccessService.logPopupEvent("session_expired")):(this.close("session-expiry-modal-id"),this.removeSessionItem("popUpOpened"),this.removeSessionItem("popUpName"),this.sessionService.expireSession({}))))}extendSession(){this.isSessionExpiryPopupEnabled()&&(this.cancelInterval(this.sessionInterval),this.cancelInterval(this.tabTitleInterval),document.title=this.documentTitle,this.close("session-expiry-modal-id"),this.sessionService.extendSession({}))}closeSessionPopup(){this.isSessionExpiryPopupEnabled()&&(this.cancelInterval(this.sessionInterval),this.sessionService.cancelSessionTimerPopup({documentTitle:this.documentTitle,tabTitleInterval:this.tabTitleInterval}),this.close("session-expiry-modal-id"),this.removeSessionItem("popUpOpened"),this.removeSessionItem("popUpName"))}cancelInterval(u){u&&u.unsubscribe()}removeSessionItem(u){sessionStorage.getItem(u)&&sessionStorage.removeItem(u)}customerSignOn(){try{this.close("session-expiry-modal-id"),this.removeSessionItem("popUpOpened"),this.removeSessionItem("popUpName"),this.showResumeTransferContent=!1,this.userService.getCustomerSignon("","").pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{if(this.featureFlagService.isFeatureEnabled("CJ_EVENT_TAGGING")){const j=u?.gateway_customer?.preferred_customer?.account_nbr||u?.gatewayCustomer?.preferredCustomer?.accountNbr;j&&this.userService.getCJEvent(j).pipe((0,G.Q)(this.destroyed$)).subscribe(q=>{console.log(`CJ Event received ${JSON.stringify(q)}`),q&&q.referralCode&&(localStorage.setItem("cjevent",q.referralCode),sessionStorage.setItem("cjevent",q.referralCode))},q=>console.error(q))}u&&u.error?(this.utilService.deleteCookieItem("user_session_token"),this.routingService.navigateToSessionExpire()):(sessionStorage.setItem("sc_login_success","true"),sessionStorage.setItem("dtm_login_success","true"),this.userSandBox.customerSignOnSuccess())})}catch{this.routingService.navigateToSessionExpire()}}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(e.aKT),e.rXU(w.a),e.rXU(Ce.Q),e.rXU(se.c$),e.rXU(R.a),e.rXU(oe.D),e.rXU(X.O),e.rXU(De.K),e.rXU(B.y))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-session-expiry-modal"]],features:[e.Vt3],decls:6,vars:2,consts:[["id","sessionexpirymodal","role","dialog",1,"modal","fade","in","popup-modal","session-expire-popup"],[1,"popup-overlay-vertical-center"],[1,"modal-dialog","popup-overlay-body-switch-payout"],["class","modal-content",4,"ngIf"],["class","modal-content","style","background-color: white;",4,"ngIf"],[1,"modal-content"],["data-dismiss","modal","amplitude-id","button-session-expiry-pop-up-close",3,"click"],["aria-hidden","true",1,"icon-0022_close"],[1,"msg-header"],["translate","session_expire_popup.popup_heading"],[1,"msg-text"],["translate","session_expire_popup.popup_message"],[1,"timer-wrapper"],[1,"progress-circle",3,"ngClass"],[1,"time"],[1,"time-text"],["translate","session_expire_popup.inminutes_text"],[1,"left-half-clipper"],[1,"first50-bar"],[1,"value-bar",3,"ngStyle"],["automation-id","addReceiverCTA","type","button","id","button-session-expiry-pop-up-continue-extend","data-dismiss","modal","data-linkname","button-receiver-continue","amplitude-id","button-session-expiry-pop-up-continue-extend",1,"btn","btn-primary","btn-block","ng-binding","continue",3,"click"],["translate","session_expire_popup.popup_button_text"],[1,"modal-content",2,"background-color","white"],[1,"txt-center"],[1,"margin-bottom-10"],[1,"wu-icon","wu-error","wt-receipt-font-size-38","chq-error-style"],[1,"wt-receipt-font-size-20","margin-bottom-15"],[3,"innerHTML"],[1,"tadbtn"],["amplitude-id","button-continue-sesion-expired-pop-up","data-dismiss","modal",1,"btn","btn-primary","btn-lg","btn-ta-popup","no-margin",3,"click"]],template:function(j,q){1&j&&(e.j41(0,"app-modal-generic")(1,"div",0)(2,"div",1)(3,"div",2),e.DNE(4,hr,18,9,"div",3)(5,Cr,13,9,"div",4),e.k0s()()()()),2&j&&(e.R7$(4),e.Y8G("ngIf",!q.showResumeTransferContent),e.R7$(),e.Y8G("ngIf",q.showResumeTransferContent))},dependencies:[c.YU,c.bT,c.B3,ae.u,se.Mm,se.D9],styles:['.progress-circle[_ngcontent-%COMP%]{font-size:20px;position:relative;padding:0;width:114px;height:114px;background-color:#7a7f84;border-radius:50%;line-height:114px}.progress-circle[_ngcontent-%COMP%]:after{border:none;position:absolute;top:4px;left:4px;text-align:center;display:block;border-radius:50%;width:106px;height:106px;background-color:#212a33;content:" "}.progress-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;line-height:95px;width:114px;text-align:center;display:block;color:#f5a623;z-index:2;font-size:14px}.left-half-clipper[_ngcontent-%COMP%]{border-radius:50%;width:114px;height:114px;position:absolute;clip:rect(0,114px,114px,57px)}.progress-circle.over50[_ngcontent-%COMP%]   .left-half-clipper[_ngcontent-%COMP%]{clip:rect(auto,auto,auto,auto)}.value-bar[_ngcontent-%COMP%]{position:absolute;clip:rect(0,57px,114px,0);width:114px;height:113.8px;border-radius:50%;border:4px solid #F5A623;box-sizing:border-box}.progress-circle.over50[_ngcontent-%COMP%]   .first50-bar[_ngcontent-%COMP%]{position:absolute;clip:rect(0,114px,114px,56px);background-color:#f5a623;border-radius:50%;width:114px;height:114px}.progress-circle[_ngcontent-%COMP%]:not(.over50)   .first50-bar[_ngcontent-%COMP%]{display:none}.session-expire-popup[_ngcontent-%COMP%]   .icon-0022_close[_ngcontent-%COMP%]{font-size:18px;position:relative;float:right;top:-20px;left:20px}.session-expire-popup[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:28px;background-color:#212a33}.session-expire-popup[_ngcontent-%COMP%]   .msg-text[_ngcontent-%COMP%]{margin-top:14px;text-align:center;font-size:16px;color:#fff}.session-expire-popup[_ngcontent-%COMP%]   .msg-header[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#fff}.session-expire-popup[_ngcontent-%COMP%]   .continue[_ngcontent-%COMP%]{text-align:center;margin-top:23px!important;margin-bottom:0!important;border-radius:3px!important;font-size:16px!important}.session-expire-popup[_ngcontent-%COMP%]   .timer-wrapper[_ngcontent-%COMP%]{text-align:-webkit-center;margin-top:24px}.session-expire-popup[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:407px;margin:auto}.session-expire-popup[_ngcontent-%COMP%]   .time-text[_ngcontent-%COMP%]{padding-top:20px;color:#fff;font-size:14px;margin-top:9px}.session-expire-popup[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:26px}.modal-backdrop.in.modalOpacity[_ngcontent-%COMP%]{opacity:.6!important}.session-expire-popup[_ngcontent-%COMP%]{padding-right:0;align-items:center;display:inherit}.session-expire-popup[_ngcontent-%COMP%]   .popup-overlay-body-switch-payout[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.session-expire-popup[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:0}.session-expire-popup[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#368abb;border:none;margin:20px 0;width:100%;height:50px;color:#fff;opacity:1;border-radius:0}.session-expire-popup[_ngcontent-%COMP%]   .popup-overlay-vertical-center[_ngcontent-%COMP%]{display:table;height:100%;width:100%;background-color:#0006!important}@media (max-width: 425px){.session-expire-popup[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:301px;margin:auto;padding:28px 13px 13px}.session-expire-popup[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{width:274px}.session-expire-popup[_ngcontent-%COMP%]   .icon-0022_close[_ngcontent-%COMP%]{left:6px}}']})}return H})();var Sr=t(49027),yr=t(8117),Er=t(32497);function Ar(H,ge){1&H&&(e.j41(0,"p",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&H&&(e.R7$(),e.JRh(e.bMT(2,1,"sendmoneyoption.loading_in_progress")))}function vr(H,ge){1&H&&(e.j41(0,"p",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&H&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"sendmoneyoption.loading_in_prog_trustlyiach"),""))}function Pr(H,ge){1&H&&(e.j41(0,"p",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&H&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"proof-of-address.retrieving_payment_details"),""))}function Dr(H,ge){if(1&H&&(e.j41(0,"p",14),e.EFF(1),e.k0s()),2&H){const u=e.XpG(2);e.R7$(),e.JRh(u.currentText)}}function Ir(H,ge){if(1&H&&(e.j41(0,"div",1),e.nI1(1,"translate"),e.j41(2,"div",2),e.nrm(3,"div",3)(4,"div",4),e.j41(5,"div",5),e.qSk(),e.j41(6,"svg",6)(7,"style",7),e.EFF(8," .st0{display:none;} .st1{fill:#FFDD00;} "),e.k0s(),e.nrm(9,"rect",8),e.j41(10,"g")(11,"g"),e.nrm(12,"path",9)(13,"path",10),e.k0s()()()(),e.DNE(14,Ar,3,3,"p",11)(15,vr,3,3,"p",12)(16,Pr,3,3,"p",12)(17,Dr,2,1,"p",12),e.k0s()()),2&H){const u=e.XpG();e.BMQ("aria-label",e.bMT(1,5,"sendmoneyoption.spinner_aria_label")),e.R7$(14),e.Y8G("ngIf",u.isSocialLoadingInProgress),e.R7$(),e.Y8G("ngIf",u.isRedirectionToSMOTrustlyIACH),e.R7$(),e.Y8G("ngIf",u._spinnerService.isPOAFlowEnabled),e.R7$(),e.Y8G("ngIf",u.smvDelayLoaderTxt)}}let Or=(()=>{class H{constructor(u,j,q,ue,ye){this._spinnerService=u,this.socialAuthHandling=j,this.instantTransferService=q,this.sendMoneyService=ue,this.translationService=ye,this.goldSilverMarketCountry={},this.displaySpinner=!1,this.showInlineSpinner=!1,this.isNoCache=!1,this.isCache=!1,this.smvDelayLoaderTxt=!1,this.currentText="",this.duration=7e3,this.interval=1800,this.destroyed$=new O.B7,this.isRedirectionToSMOTrustlyIACH=!1,this.loaderTxt=[]}ngOnInit(){this.socialAuthHandling.isLoadingInProgress.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.isSocialLoadingInProgress=u}),this.instantTransferService.isRedirectToSMOFromSMFlow.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.isRedirectionToSMOTrustlyIACH=u}),this.instantTransferService.isDelaySMVAfterPreAuth.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.smvDelayLoaderTxt=u,u&&(this.translationService.getPaymentPageTranslations("paymentinfo-bank").pipe((0,G.Q)(this.destroyed$)).subscribe(j=>{const q=j;E.Y.preauthDelaySpinnerTxt.forEach(ue=>{this.loaderTxt.push(q[ue])})}),this.startTextChange())}),this._spinnerService.spinnerState.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>this.displaySpinner=u.show),this._spinnerService.inlineSpinnerState.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>this.showInlineSpinner=u.show),this.sendMoneyService.progressiveSmoExperience.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.isNoCache=u}),this.sendMoneyService.smoInlineSpinnerExperience.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.showInlineSpinner=u}),this.sendMoneyService.nonProgressiveSmoExperience.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{this.isCache=u})}startTextChange(){let u=0;this.currentText=this.loaderTxt[0],this.intervalId=setInterval(()=>{u+=1,this.currentText=`${this.loaderTxt[u]}`},this.interval),setTimeout(()=>{clearInterval(this.intervalId)},this.duration)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(Er.D),e.rXU(ee.$),e.rXU(yr.E),e.rXU(Sr._),e.rXU(s.C))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-spinner-container"]],decls:1,vars:1,consts:[["class","spinner-container","role","alert","data-spinner","",4,"ngIf"],["role","alert","data-spinner","",1,"spinner-container"],[1,"main-loading-spinner","spinner-block"],[1,"main-circle"],[1,"main-circle-two"],[1,"main-spinner"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 70 70","width","70px","height","70px",0,"xml","space","preserve",2,"enable-background","new 0 0 70 70"],["type","text/css"],["x","-8","y","11","width","86","height","48",1,"st0"],["d","M20.214,50.148c3.634,6.279,9.58,6.279,13.214,0l2.033-3.512L17.268,15.131H0L20.214,50.148z",1,"st1"],["d","M58.526,36.69c-1.328,2.289-4.454,2.287-5.778-0.004L40.286,15.131H23.022l20.234,35.03\n              c3.634,6.279,9.567,6.279,13.201,0L70,26.7l-6.664-11.569H46.081L58.526,36.69z",1,"st1"],["class","content",4,"ngIf"],["class","trustlyiACH-custom-content",4,"ngIf"],[1,"content"],[1,"trustlyiACH-custom-content"]],template:function(j,q){1&j&&e.DNE(0,Ir,18,7,"div",0),2&j&&e.Y8G("ngIf",q.displaySpinner&&!q.showInlineSpinner&&!q.isNoCache&&!q.isCache||q.isSocialLoadingInProgress)},dependencies:[c.bT,se.D9],styles:[".trustlyiACH-custom-content[_ngcontent-%COMP%]{transform:translate(-50%,100%);top:0;bottom:0;position:absolute;text-align:center;width:300px;margin-top:10px;color:#fd0;font-size:14px;left:50%}"]})}return H})();const Tr=(H,ge)=>({"absolute-center":H,"absolute-center-login":ge}),Rr=H=>({"container padding-left-0 padding-right-0":H});function br(H,ge){1&H&&e.nrm(0,"app-header")}function Nr(H,ge){1&H&&e.nrm(0,"app-confetti-popup",7)}function Fr(H,ge){1&H&&e.nrm(0,"app-footer")}let Lr=(()=>{class H{constructor(u,j,q,ue,ye,be,Te,$e,Ke,Ze,nt,tt,ht,li,_i,mi,gi,pi){this.wuDataAccess=u,this.mparticleOrigin=j,this.router=q,this.shakeHandsService=ue,this.threeDSService=ye,this.siteBehaviourService=be,this.riskifiedService=Te,this.cookieService=$e,this.updateStore=Ke,this.modalGeneric=Ze,this.wuDataAccessService=nt,this.utilService=tt,this.platformId=li,this.userService=_i,this.routingService=mi,this.featureFlagService=gi,this.adsUtilService=pi,this.showHeaderFooter=!0,this.showFooter=!0,this.isNoNAccountRoute=!0,this.isLoginRoute=!1,this.isRegisterRoute=!1,this.isNoNDSS2Route=!1,this.pageLoad=!1,this.loginStatus=!1,this.isAvailableKYCOutSideHours=!1,this.isVideoKYCEnabledCountry=!1,this.destroyed$=new O.B7,this.pageurl=window.location.href,this.isConfettiEnabled=!1,ht.pipe((0,x.Lt)(te.w8),(0,G.Q)(this.destroyed$)).subscribe(ke=>{this.sender=ke}),ht.pipe((0,x.Lt)(te.i),(0,G.Q)(this.destroyed$)).subscribe(ke=>{this.isAvailableKYCOutSideHours=ke}),ht.pipe((0,x.Lt)(te.rb),(0,G.Q)(this.destroyed$)).subscribe(ke=>{this.selectedProduct=ke}),this.loginStatus=this.utilService.getLoggedInStatus(),this.isVideoKYCEnabledCountry=this.utilService.isVideoKYCEnabledForCountry();const Ct=window.location.search||window.location.hash;if(!this.loginStatus&&Ct.indexOf("offlineKyc")>-1)return sessionStorage.setItem("offlineKyc","true"),void this.router.navigateByUrl("/user/login");"true"===sessionStorage.getItem("offlineKyc")&&this.utilService.isMobileDevice()&&(this.isAvailableKYCOutSideHours=!1),this.loginStatus&&("true"===sessionStorage.getItem("offlineKyc")||Ct.indexOf("offlineKyc")>-1)&&this.isVideoKYCEnabledCountry&&!this.isAvailableKYCOutSideHours&&(sessionStorage.setItem("offlineKyc","true"),this.utilService.handlingVideoOfflineKycFlow(this.loginStatus,this.isVideoKYCEnabledCountry,this.isAvailableKYCOutSideHours)),this.loginStatus&&("true"===sessionStorage.getItem("offlineKyc")||Ct.indexOf("offlineKyc")>-1)&&!this.isVideoKYCEnabledCountry&&!this.isAvailableKYCOutSideHours&&(sessionStorage.setItem("offlineKyc","true"),this.utilService.handlingEIDOfflineKycFlow(this.loginStatus,this.isVideoKYCEnabledCountry,this.isAvailableKYCOutSideHours)),this.router.events.pipe((0,Y.p)(ke=>ke instanceof V.wF)).subscribe(ke=>{if(ke.url){setTimeout(()=>{this.wuDataAccess.logPageEvent(ke.url),this.pageLoad&&typeof DTM_Trigger<"u"?DTM_Trigger(this.getPageName(ke.url)):this.pageLoad=!0},1),this.isNoNAccountRoute=!(ke.url?.includes("/account/")||ke.url?.includes("/verification-instructions")||ke.url?.includes("/onboarding")||ke.url?.includes("/review")),this.isNoNDSS2Route=!1,ke.url?.includes("/dss2/")||(this.isNoNDSS2Route=!0),(ke.url?.includes("/login")||ke.url?.includes("/sm-login"))&&this.utilService.isRevampLoginPanelEnabled()&&(this.isLoginRoute=!0,this.isNoNDSS2Route=!1),ke.url?.includes("/register")&&this.utilService.isRegisterV2Enabled()&&(this.isRegisterRoute=!0,this.isNoNDSS2Route=!1);const St=this.updateStore.getState();if(St&&St?.flowType===Z.do.DSS2&&(this.isNoNDSS2Route=!1),this.routingService.setPreviousValue(this.previousUrl),this.mparticleOrigin.savePageNames(this.previousUrl,ke.url),this.mparticleOrigin.logmParticlePageEvent(ke.url),this.siteBehaviourService.setPageLevelValues(this.previousUrl,ke.url),this.previousUrl=ke.url,this.siteBehaviourService.setAbandonTransactionTokenVal(),("/user/sm-login"===this.previousUrl||"/receiver"===this.previousUrl)&&this.utilService.isAIRMessagingBannerEnabled()&&(sessionStorage.removeItem("bannerData"),sessionStorage.removeItem("bannerType")),ke.url?.includes("/gbg")||"/init"===ke.url||"/dashboard"===ke.url||ke.url.includes("user/cruise")?(this.showHeaderFooter=!1,this.showFooter=!1):(this.showHeaderFooter=!0,this.showFooter=!0),"/enable-service"===ke.url&&(this.showFooter=!1),(0,c.Vy)(this.platformId))return;if(window.Cardinal||this.threeDSService.insertSongbirdScript(),window.RISKX&&window.RISKX.go?window.RISKX.go(ke.url):this.riskifiedService.insertRiskifiedScript(),void 0!==window.seoJSON){const He=window.seoJSON.filter(function(hi){const yt=ke.url.split("/");return"start"===yt[yt.length-1]?"sendmoneyoption"===hi.statename||"start"===hi.statename:hi.statename===yt[yt.length-1]}),Pi=He&&He.length>0?He[0].title:"";Pi&&(document.title=Pi)}this.utilService.hidePagelLevelErrors(),this.utilService.setFingerPrintIDIfNotAvailableInSession(),window.scrollTo(0,0),this.featureFlagService.isFeatureEnabled("ADS_ENABLED")&&this.adsUtilService.triggerAnchorAd();try{this.isConfettiEnabled=this.isConfettiPageEnabled()&&this.isPageIncludedConfetti(ke.url)}catch(He){this.isConfettiEnabled=!1,console.error(He)}}}),q.events.pipe((0,Y.p)(ke=>ke instanceof V.Z)).subscribe(()=>{this.shakeHandsService.startNavigation()})}ngOnInit(){this.partnerClearStorage(),this.shakeHandsService.updateStoreFromSession(),this.setFtcFlag(),sessionStorage.setItem("wuAmplitude_userPath","ng6"),this.utilService._confettiDisplayObs$.pipe((0,G.Q)(this.destroyed$)).subscribe(u=>{u&&this.isDelightConfettiShowAndHide()}),this.otUpdateUserPreference()}setFtcFlag(){this.featureFlagService.isFeatureEnabled("FTC_FLAG_MOBILE")&&this.utilService.isMobileDeviceOnly()&&sessionStorage.setItem("FTCFlag","false")}isDelightConfettiShowAndHide(){try{this.modalGeneric.open("confetti-popup-id"),this.utilService.confettiValueSubject(!0),this.wuDataAccessService.logPopupEvent("confetti-triggered"),sessionStorage.setItem("isConfettiPopupTriggered","true"),setTimeout(()=>{this.modalGeneric.close("confetti-popup-id")},1e4)}catch(u){this.modalGeneric.close("confetti-popup-id"),sessionStorage.removeItem("isConfettiPopupTriggered"),console.error(`--isDelightConfettiApplicable ${u}`)}}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}onClick(u){this.wuDataAccess.logClickEvent(u),this.mparticleOrigin.logmParticleClickEvent(u)}onKeyUp(u){this.wuDataAccess.logTabEvent(u),this.mparticleOrigin.logmParticleTabEvent(u)}OneTrustGroupsUpdateUserPreference(){sessionStorage.setItem("cookiesUpdated","true"),"US"===this.cookieService.get("WUCountryCookie_")&&this.otUpdateUserPreference()}otUpdateUserPreference(){const u=JSON.parse(sessionStorage.getItem("savedUserOTConsentStore"))||{};"true"===sessionStorage.getItem("cookiesUpdated")&&this.utilService.isOTWudnaFeatureEnabled()&&Object.keys(u).length>0&&this.utilService.getLoggedInStatus()&&(this.utilService.compareOtPreferences(u)||this.userService.updateCustomerProfile({},"WUDNA").pipe((0,G.Q)(this.destroyed$)).subscribe(),sessionStorage.removeItem("cookiesUpdated"))}getPageName(u){const q=u.split("?")[0].split("/");return q.length<3?q[1]:q[2]}isPageIncludedConfetti(u){const q=u.split("/")?.[u.split("/").length-1]?.toLowerCase();return["start","register","sm-login","receiver","login","register-verify-email","mfa-otp","primary-account-update"].includes(q)}isConfettiPageEnabled(){return!(!this.utilService.getLoggedInStatus()||!this.utilService.isDelightConfettiEnabled(this.selectedProduct?.destination?.countryIsoCode))}partnerClearStorage(){const u=sessionStorage.getItem("partnerName"),ue=JSON.parse(sessionStorage.getItem("cookiestore")||"{}").SessionId,ye=sessionStorage.getItem("sessionId");!sessionStorage.getItem("isPartnerReloaded")&&u&&["linxo","googlespot"].includes(u)&&(this.utilService.clearAllSessionStorageItems(),this.utilService.isCookieDeleteFixEnabled()&&(this.utilService.deleteCookieItem("SessionId"),this.utilService.deleteCookieItem("SessionInfo"),this.utilService.deleteCookieItem("user_session_token")),this.cookieService.delete("SessionId"),this.cookieService.delete("SessionInfo"),this.cookieService.delete("user_session_token"),sessionStorage.setItem("isPartnerReloaded","true")),u&&u.toLowerCase()===E.Y.POSTEITALIANE_PARTNER&&this.sender&&this.sender.isLoggedIn&&ue&&ye&&ue!==ye&&(this.sender.isLoggedIn=!1,sessionStorage.removeItem("GatewayCustomer"),this.utilService.isCookieDeleteFixEnabled()&&(this.utilService.deleteCookieItem("SessionId"),this.utilService.deleteCookieItem("SessionInfo"),this.utilService.deleteCookieItem("user_session_token")),this.cookieService.delete("SessionId"),this.cookieService.delete("SessionInfo"),this.cookieService.delete("user_session_token"))}static#e=this.\u0275fac=function(j){return new(j||H)(e.rXU(R.a),e.rXU(k.p),e.rXU(V.Ix),e.rXU(L.i),e.rXU(I.r),e.rXU(y.A),e.rXU(T.i),e.rXU(W.O),e.rXU(de.k),e.rXU(ae.u),e.rXU(R.a),e.rXU(w.a),e.rXU(x.il),e.rXU(e.Agw),e.rXU(oe.D),e.rXU(he.O),e.rXU(B.y),e.rXU(z.U))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-root"]],hostBindings:function(j,q){1&j&&e.bIt("click",function(ye){return q.onClick(ye)},!1,e.EBC)("keyup",function(ye){return q.onKeyUp(ye)},!1,e.tSv)("OneTrustGroupsUpdateUserPreference",function(ye){return q.OneTrustGroupsUpdateUserPreference(ye)},!1,e.EBC)},features:[e.Jv_([ae.u])],decls:10,vars:10,consts:[[1,"responsive_scss"],[4,"ngIf"],["role","main","id","optimus-body-section","appSessionTimer",""],["id","smonewuser",3,"ngClass"],[3,"ngClass"],["id","session-expiry-modal-id",2,"display","none"],["style","display: none","id","confetti-popup-id",4,"ngIf"],["id","confetti-popup-id",2,"display","none"]],template:function(j,q){1&j&&(e.j41(0,"div",0),e.DNE(1,br,1,0,"app-header",1),e.j41(2,"section",2)(3,"div",3)(4,"div",4),e.nrm(5,"router-outlet"),e.k0s()(),e.nrm(6,"app-session-expiry-modal",5),e.DNE(7,Nr,1,0,"app-confetti-popup",6),e.k0s(),e.DNE(8,Fr,1,0,"app-footer",1),e.nrm(9,"app-spinner-container"),e.k0s()),2&j&&(e.R7$(),e.Y8G("ngIf",q.showHeaderFooter),e.R7$(2),e.Y8G("ngClass",e.l_i(5,Tr,q.isNoNDSS2Route,q.isLoginRoute||q.isRegisterRoute)),e.R7$(),e.Y8G("ngClass",e.eq3(8,Rr,q.isNoNAccountRoute)),e.R7$(3),e.Y8G("ngIf",q.isConfettiEnabled),e.R7$(),e.Y8G("ngIf",q.showHeaderFooter&&q.showFooter))},dependencies:[c.YU,c.bT,Ls,dr,_r,V.n3,mr,fr,Or],encapsulation:2})}return H})();var Mr=t(10467),Ur=t(52625),Br=t(90720),wr=t(41514),kr=t(41654),xr=t(51347),Vr=t(28557),Kr=t(67219),ct=t(21626);let Wr=(()=>{class H extends e.zcH{constructor(u,j,q,ue,ye){super(),this.httpClient=u,this.httpService=j,this.readURL=q,this.wuDataAccessService=ue,this.platformId=ye}handleError(u){console.error("global error file",u),u&&null!=u&&"string"!=typeof u&&(super.handleError(u),this.splungLog(u),this.airbrakes(u))}splungLog(u){try{const j="/SplunkLog";let q="";const ue={error:this.getCookie("SessionId")?"RunTime:"+this.getCookie("SessionId"):"",message:u.message?u.message:u,stackError:u.stack?u.stack:"",location:(0,c.Vy)(this.platformId)?"SSR:"+this.readURL.getCurrentUrl():this.readURL.getCurrentUrl()};return q=this.httpService.getBaseUrl()+"/wuconnect/rest/api/v1.0",q=q+j+"?timestamp="+(new Date).getTime(),new Promise((be,Te)=>{this.httpClient.post(q,ue).subscribe($e=>{be($e)},$e=>{console.error($e),Te("rejected")})}).catch(function(be){console.log("[SplunkLog] Error on logging: "+be)})}catch(j){console.log("[SplunkLog] Error on logging: "+j)}}airbrakes(u){const j={error:this.getCookie("SessionId")?"RunTime:"+this.getCookie("SessionId"):"",message:u.message?u.message:u,location:(0,c.Vy)(this.platformId)?"SSR:"+this.readURL.getCurrentUrl():this.readURL.getCurrentUrl()};try{if(window&&window.location&&window.location.origin&&-1===window.location.origin.indexOf("localhost")){const q=new Kr.ze({projectId:174756,projectKey:"78e49fc46bac56f02930bfec10957810"});q.addFilter(ue=>(ue.context.environment=window.location.origin.indexOf("qa")>-1?"QA":window.location.origin.indexOf("dev")>-1?"Dev":window.location.origin.indexOf("uat")>-1||window.location.origin.indexOf("localhost")>-1?"UAT":window.location.origin.indexOf("www.westernunion")>-1?"production":"WU_ENV",ue)),q.notify({error:u,params:{angular_cause:j}})}}catch(q){console.log("[Airbrake] Error on logging: "+q)}this.wuDataAccessService.logJSErrors(j)}getCookie(u){let j,q,ue;const ye=document.cookie.split(";");for(j=0;j<ye.length;j++)if(q=ye[j].substr(0,ye[j].indexOf("=")),ue=unescape(ye[j].substr(ye[j].indexOf("=")+1)),q=q.replace(/^\s+|\s+$/g,""),q===u)return decodeURIComponent(ue);return null}static#e=this.\u0275fac=function(j){return new(j||H)(e.KVO(ct.Qq),e.KVO(fe.kl),e.KVO(fe.Fq),e.KVO(R.a),e.KVO(e.Agw))};static#t=this.\u0275prov=e.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();var Gr=t(74526),ci=t(51235),Yr=t(8841),Hr=t(83921),$r=t(77312),zr=t(23154);let jr=(()=>{class H{constructor(u,j,q,ue,ye){this.httpService=u,this.readURL=j,this.httpClient=q,this.platformId=ue,this.httpRequest=ye}intercept(u,j){return(0,c.Vy)(this.platformId)&&this.httpRequest?.headers?.cookie&&(u=(u=u.clone({setHeaders:{Cookie:this.httpRequest?.headers?.cookie}})).clone({withCredentials:!0})),j.handle(u).pipe((0,Yr.M)(q=>{q instanceof ct.cS&&(0,c.Vy)(this.platformId)&&console.log(`[WSSR HTTP AUDIT LOG]=> [REQUEST]=> Url: ${JSON.stringify(u?.url)}, Method: ${JSON.stringify(u?.method)}, Body: ${JSON.stringify(u?.body)}, [RESPONSE]=> Status: ${JSON.stringify(q?.status)}, Body: ${JSON.stringify(q?.body)}, [ENV="${process.env.SERVICENAME}"]`)}),(0,Hr.W)(q=>(console.error("Error from http error interceptor",JSON.stringify(q)),q&&q.url&&-1===q.url.indexOf("/SplunkLog")&&this.splungLog(q),(0,Gr.$)(q))),(0,$r.j)(()=>ci.w))}splungLog(u){try{const j="/SplunkLog";let q="";const ue={error:this.getCookie("SessionId")?"RunTime:"+this.getCookie("SessionId"):"",message:u.message?u.message:u,stackError:u.stack?u.stack:"",location:(0,c.Vy)(this.platformId)?"SSR:"+this.readURL.getCurrentUrl():this.readURL.getCurrentUrl()};return q=this.httpService.getBaseUrl()+"/wuconnect/rest/api/v1.0",q=q+j+"?timestamp="+(new Date).getTime(),new Promise(be=>{this.httpClient.post(q,ue).subscribe(Te=>{be(Te)},Te=>{console.error("[SplunkLog] Error on logging: "+Te),be(!0)})}).catch(function(be){return console.log("[SplunkLog] Error on logging: "+be),ci.w})}catch(j){return console.log("[SplunkLog] Error on logging: "+j),ci.w}}getCookie(u){let j,q,ue;const ye=document.cookie.split(";");for(j=0;j<ye.length;j++)if(q=ye[j].substr(0,ye[j].indexOf("=")),ue=unescape(ye[j].substr(ye[j].indexOf("=")+1)),q=q.replace(/^\s+|\s+$/g,""),q===u)return decodeURIComponent(ue);return null}static#e=this.\u0275fac=function(j){return new(j||H)(e.KVO(fe.kl),e.KVO(fe.Fq),e.KVO(ct.Qq),e.KVO(e.Agw),e.KVO(zr.S,8))};static#t=this.\u0275prov=e.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),Jr=(()=>{class H{static#e=this.\u0275fac=function(j){return new(j||H)};static#t=this.\u0275mod=e.$C({type:H});static#i=this.\u0275inj=e.G2t({providers:[{provide:e.zcH,useClass:Wr},{provide:ct.a7,useClass:jr,multi:!0}],imports:[c.MD]})}return H})();var vi=t(33247),Zr=t(56383),Xr=t(57078),Qr=t(50583),qr=t(37522),ea=t(52724),ta=t(19795),ia=t(70575),sa=t(4154),ra=t(46027),aa=t(71200),na=t(8222),oa=t(60465),ca=t(29512),ua=t(42993),da=t(31255),la=t(98138),_a=t(99762),ma=t(75779),ga=t(42536),pa=t(55242),ha=t(99933),Ca=t(98660),fa=t(20214),Sa=t(43649),ya=t(49329),Ea=t(83649),Aa=t(84683),va=t(85740),Pa=t(86157),Da=t(14477),Ia=t(32763),Oa=t(86559),Ta=t(36704);const ui={en:Zr.A,fr:Xr.A,de:Qr.A,es:qr.A,sk:ea.A,sl:ta.A,hi:ia.A,th:sa.A,ta:ra.A,my:aa.A,bn:na.A,id:oa.A,zh:ca.A,sv:ua.A,ro:da.A,pt:la.A,pl:_a.A,no:ma.A,nl:ga.A,lv:Ca.A,lt:fa.A,ja:Sa.A,ne:ya.A,it:Ea.A,hu:Aa.A,hr:va.A,fi:Pa.A,et:Da.A,da:Ia.A,bg:Oa.A,tr:Ta.A,ms:pa.A,vi:ha.A};class Ra{constructor(ge){this.translateProvider=ge}getTranslation(ge){return this.translateProvider.getPageLevelTranslations(ge)}}function ba(H,ge){const u=ge.getCountryFromURL(),j=ge.getLanguageFromURL();return"no"===u&&"no"===j?(0,c.EO)(ui.en,"no-no",wr.A):(0,c.EO)(ui[j]||ui.en),(0,Mr.A)(function*(){return yield H.loadAll()})}function Na(H){return new Ra(H)}function Fa(H){const ge=H.getCountryLanguage();return ge.language+"-"+ge.country}function La(H){let ge="";return ge=H.getCurrentUrl()?.includes("global-service")?`/${H.getAnchorFromURL()}/`:"/"+H.getCountryFromURL()+"/"+H.getLanguageFromURL()+"/"+H.getAnchorFromURL()+"/",window.BASE_HREF=ge,ge}let Ma=(()=>{class H{static#e=this.\u0275fac=function(j){return new(j||H)};static#t=this.\u0275mod=e.$C({type:H});static#i=this.\u0275inj=e.G2t({providers:[re.b,{provide:e.hnV,useFactory:ba,deps:[re.b,fe.Fq],multi:!0},{provide:e.xe9,useFactory:Fa,deps:[fe.Fq],useValue:"en"},{provide:c.kB,useFactory:La,deps:[fe.Fq]},fe.kl,R.a,k.p,xr.D,fe.$0,Ur.W,Vr.B],imports:[c.MD,se.h.forRoot({loader:{provide:se.Wr,useFactory:Na,deps:[Br.b]}}),kr.Y,V.iI,Jr,vi.G,se.h]})}return H})();var Ua=t(75773),xe=t(91425),Ge=t(70297),Je=t(14421),We=t(49090),Ba=t(39574),wa=t(37940),ka=t(56294),xa=t(10960);let Va=(()=>{class H{constructor(u,j,q,ue,ye,be){this.actions$=u,this.paymentCardService=j,this.paymentBanksService=q,this.optimusService=ue,this.smvService=ye,this.pwmbService=be,this.loadCreditCards$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.LoadCards),(0,We.n)(()=>this.paymentCardService.getCreditCards()),(0,We.n)(Te=>(0,Je.of)(Te.error?new Ge.rg(Te.error):new Ge.J1(Te))))),this.addNewCards$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.AddNewCard),(0,We.n)(Te=>this.paymentCardService.addNewCard(Te.payload)),(0,We.n)(Te=>(0,Je.of)(Te.error?new Ge.rg(Te.error):new Ge.DE(Te))))),this.deleteCards$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.DeleteCard),(0,We.n)(Te=>this.paymentCardService.deleteCard(Te.payload)),(0,We.n)(Te=>(0,Je.of)(Te.error?new Ge.rg(Te.error):new Ge.VN({}))))),this.updateCard$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.UpdateCard),(0,We.n)(Te=>this.paymentCardService.updateCard(Te.payload)),(0,We.n)(Te=>(0,Je.of)(Te.error?new Ge.rg(Te.error):new Ge.ox({}))))),this.loadBanks$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.LoadBanks),(0,We.n)(()=>this.paymentBanksService.getSavedBank()),(0,We.n)(Te=>(0,Je.of)(Te.error?new Ge.rg(Te.error):new Ge.X8(Te))))),this.addNewBank$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.AddNewBank),(0,We.n)(Te=>this.paymentBanksService.addNewBank(Te.payload)),(0,We.n)(Te=>(0,Je.of)(Te.error?new Ge.rg(Te.error):new Ge.Hk(Te))))),this.getParamountBankList$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.GetParamountBankList),(0,We.n)(Te=>this.optimusService.invokeGenericFactory(_.MG.CA_PARAMOUNT_BANKS_LIST,Te.payload)),(0,We.n)(Te=>(0,Je.of)(new Ge.rq(Te))))),this.sendMoneyValidation$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.SendMoneyValidation),(0,We.n)(Te=>this.smvService.sendMoneyValidation(Te.payload)),(0,We.n)(Te=>(0,Je.of)(Te.error?new Ge.rg(Te.error):new Ge.hy(Te))))),this.pwmbSignatiure$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Ge.wZ.PwmbSignature),(0,We.n)(()=>this.pwmbService.generatePwmbSignature()),(0,We.n)(Te=>(0,Je.of)(Te.error?new Ge.rg(Te.error):new Ge.UU(Te)))))}static#e=this.\u0275fac=function(j){return new(j||H)(e.KVO(xe.En),e.KVO(Ba.PO),e.KVO(wa.n),e.KVO(U.B),e.KVO(ka.T),e.KVO(xa.m))};static#t=this.\u0275prov=e.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();var ft=t(35900),di=t(64215),Ka=t(20146);let Wa=(()=>{class H{constructor(u,j){this.actions$=u,this.gctTemplateService=j,this.loadGlobalCollectIdTemplate$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(di.jo.LoadGCITemplate),(0,We.n)(()=>this.gctTemplateService.getGlobalCollectIdTemplate()),(0,We.n)(q=>(0,Je.of)(void 0===q?new di.wI(q):new di.Sb(q)))))}static#e=this.\u0275fac=function(j){return new(j||H)(e.KVO(xe.En),e.KVO(Ka.J))};static#t=this.\u0275prov=e.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();var Ga=t(48442),Qe=t(28269),Ya=t(72478);let Ha=(()=>{class H{constructor(u,j){this.actions$=u,this.kycApiService=j,this.docUploadDMS$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Qe.rP.DocUploadDMS),(0,We.n)(q=>this.kycApiService.uploadDMSDocs(q.upload)),(0,We.n)(q=>(0,Je.of)(q.error?new Qe.mw(q.error):new Qe.Bd(q))))),this.verifyCustomerData$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Qe.rP.VerifyCustomerData),(0,We.n)(q=>this.kycApiService.verifyCustomers(q.upload)),(0,We.n)(q=>(0,Je.of)(q.error?new Qe.Wy(q.error):new Qe.H2(q))))),this.customerVerificationStatusData$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Qe.rP.CustomerVerificationStatusData),(0,We.n)(()=>this.kycApiService.getCustomerVerificationStatus()),(0,We.n)(q=>(0,Je.of)(q.error?new Qe.GK(q.error):new Qe.TW(q))))),this.kycConfigData$=(0,xe.EH)(()=>this.actions$.pipe((0,xe.gp)(Qe.rP.GetKycConfigData),(0,We.n)(()=>this.kycApiService.getCountryWiseKycConfig()),(0,We.n)(q=>(0,Je.of)(new Qe.Rk(q)))))}static#e=this.\u0275fac=function(j){return new(j||H)(e.KVO(xe.En),e.KVO(Ya.v))};static#t=this.\u0275prov=e.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();var $a=t(85468),za=t(728);const Ja=[function ja(H){return(0,$.CP)({keys:["app"],rehydrate:!0,storage:sessionStorage})(H)}];let Za=(()=>{class H{constructor(){}static#e=this.\u0275fac=function(j){return new(j||H)};static#t=this.\u0275mod=e.$C({type:H,bootstrap:[Lr]});static#i=this.\u0275inj=e.G2t({providers:[P.n,P.Kk,P.jz,$a.t,x.il,W.O,ft.so,a.G,{provide:e.sZ2,useValue:"serverApp"},(0,ct.$R)((0,ct.Sx)())],imports:[o.Bb,Ma,b,za.wb,x.md.forRoot({app:K.cX},{metaReducers:Ja,runtimeChecks:{strictActionWithinNgZone:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictStateSerializability:!1,strictActionSerializability:!1}}),vi.G.forRoot(),Ua.O.forRoot(),xe.Vm.forRoot([Va,Ha,Wa]),ft.LZ.forRoot({level:ft.OS.DEBUG,serverLogLevel:ft.OS.ERROR}),Ga.ZB.forRoot({duration:1200})]})}return H})();document.addEventListener("DOMContentLoaded",()=>{o.sG().bootstrapModule(Za).catch(H=>console.error(H))})},41908:(n,d,t)=>{"use strict";t.d(d,{h:()=>D});var o=t(60177),e=t(89417),x=t(49579),$=t(82481),W=t(99830),K=t(69966),V=t(41780),P=t(54438);let D=(()=>{class f{static#e=this.\u0275fac=function(E){return new(E||f)};static#t=this.\u0275mod=P.$C({type:f});static#i=this.\u0275inj=P.G2t({providers:[(0,W.Dw)()],imports:[o.MD,$.I,x.D,e.YN,e.X1,V.h,K.k0.forRoot(),o.MD,$.I,e.YN,e.X1,x.D]})}return f})()},82481:(n,d,t)=>{"use strict";t.d(d,{I:()=>K});var o=t(60177),e=t(89417),x=t(41654),$=t(534),W=t(54438);let K=(()=>{class V{static#e=this.\u0275fac=function(f){return new(f||V)};static#t=this.\u0275mod=W.$C({type:V});static#i=this.\u0275inj=W.G2t({imports:[o.MD,e.X1,x.Y,$.Ss.forRoot(),o.MD,x.Y]})}return V})()},63548:(n,d,t)=>{"use strict";t.d(d,{u:()=>W});var o=t(54438),e=t(60177);const x=["*"],$=K=>({"modal-parent--hide-spinner":K});let W=(()=>{class K{constructor(P){this.modals=[],this.element=P.nativeElement}ngOnInit(){const P=this;if(this.id){const D=document&&document.getElementById(this.id)?document.getElementById(this.id):null;D&&D.style&&(D.style.display="none")}this.id&&(document?.body?.children?.length>1&&document.body.appendChild(this.element),this.element.addEventListener("click",function(D){"modal-parent"===D.target.className&&("smo-my-wu"===sessionStorage.getItem("amplitude_pageName_MYWU")&&sessionStorage.removeItem("amplitude_pageName_MYWU"),P.close(this.id))}),this.modals.push(this))}ngOnDestroy(){this.modals=this.modals.filter(P=>P.id!==this.id),this.element.remove()}open(P){const D=document&&document.getElementById(P)?document.getElementById(P):null;D&&D.style&&(D.style.display="flex")}close(P){const D=document&&document.getElementById(P)?document.getElementById(P):null;D&&D.style&&(D.style.display="none")}static#e=this.\u0275fac=function(D){return new(D||K)(o.rXU(o.aKT))};static#t=this.\u0275cmp=o.VBU({type:K,selectors:[["app-modal-generic"]],inputs:{id:"id",hideSpinner:"hideSpinner"},ngContentSelectors:x,decls:4,vars:3,consts:[[1,"modal-backdrop"],[1,"modal-parent",3,"ngClass"],[1,"modal-parent"]],template:function(D,f){1&D&&(o.NAR(),o.nrm(0,"div",0),o.j41(1,"div",1)(2,"div",2),o.SdG(3),o.k0s()()),2&D&&(o.R7$(),o.Y8G("ngClass",o.eq3(1,$,f.hideSpinner)))},dependencies:[e.YU],styles:[".modal-header[_ngcontent-%COMP%]{height:10%;background:#000;opacity:.8}.modal-body[_ngcontent-%COMP%]{height:80%;opacity:.8}.modal-footer[_ngcontent-%COMP%]{height:10%;background:#000;opacity:.8}.modal-parent[_ngcontent-%COMP%]{display:flex;position:fixed;z-index:99998;left:0;top:0;width:100%;height:100%;overflow:auto}.modal-parent--hide-spinner[_ngcontent-%COMP%]{z-index:1111111}.modal-backdrop[_ngcontent-%COMP%]{display:flex;position:fixed;z-index:99998;left:0;top:0;width:100%;height:100%;overflow:auto;opacity:.8;background:#333}.modal-hide[_ngcontent-%COMP%]{display:none}"]})}return K})()},49579:(n,d,t)=>{"use strict";t.d(d,{D:()=>x});var o=t(60177),e=t(54438);let x=(()=>{class ${static#e=this.\u0275fac=function(V){return new(V||$)};static#t=this.\u0275mod=e.$C({type:$});static#i=this.\u0275inj=e.G2t({imports:[o.MD,o.MD]})}return $})()},98735:(n,d,t)=>{"use strict";t.d(d,{k:()=>o});const o={UPDATE_CORRIDOR:"UPDATE_CORRIDOR",UPDATE_SENDER_COUNTRY:"UPDATE_SENDER_COUNTRY",UPDATE_RECEIVER_COUNTRY:"UPDATE_RECEIVER_COUNTRY",UPDATE_RECEIVER_AMOUNT:"UPDATE_RECEIVER_AMOUNT",UPDATE_RECEIVER_CURRENCY:"UPDATE_RECEIVER_CURRENCY",UPDATE_RECEIVER_WALLET:"UPDATE_RECEIVER_WALLET",UPDATE_RECEIVER_BANK:"UPDATE_RECEIVER_BANK",UPDATE_RECEIVER_CITY_POPOVER:"UPDATE_RECEIVER_CITY_POPOVER",UPDATE_RECEIVER_WALLET_LIST:"UPDATE_RECEIVER_WALLET_LIST",UPDATE_RECEIVER_BANK_LIST:"UPDATE_RECEIVER_BANK_LIST",UPDATE_RECEIVER_CURRENCY_ARRAY:"UPDATE_RECEIVER_CURRENCY_ARRAY",UPDATE_SENDER_AMOUNT:"UPDATE_SENDER_AMOUNT",UPDATE_SENDER_AMOUNT_LIMIT:"UPDATE_SENDER_AMOUNT_LIMIT",PROMO_CODE:"PROMO_CODE",PRODUCTS:"PRODUCTS",SELECTED_PRODUCT:"SELECTED_PRODUCT",SELECTED_PRODUCT_LOCATION:"SELECTED_PRODUCT_LOCATION",SELECTED_BEST_OPTION:"SELECTED_BEST_OPTION",UPDATE_TDSJWT:"UPDATE_TDSJWT",UPDATE_GET_LIMITS:"UPDATE_GET_LIMITS",UPDATE_ISSWB:"UPDATE_ISSWB",UPDATE_DTM_LOGIN_SUCCESS:"UPDATE_DTM_LOGIN_SUCCESS",UPDATE_TRANSACTION_DETAIL:"UPDATE_TRANSACTION_DETAIL",UPDATE_RECEIVER_LIST:"UPDATE_RECEIVER_LIST",UPDATE_RECEIVER_CITY:"UPDATE_RECEIVER_CITY",UPDATE_SELECTED_RECEIVER:"UPDATE_SELECTED_RECEIVER",UPDATE_SELECTED_RECEIVER_UID:"UPDATE_SELECTED_RECEIVER_UID",UPDATE_TOKEN_EXPIRIED:"UPDATE_TOKEN_EXPIRIED",UPDATE_DTM_TOKEN_EXPIRED_FLOW:"UPDATE_DTM_TOKEN_EXPIRED_FLOW",UPDATE_NAME_CHANGE:"UPDATE_NAME_CHANGE",UPDATE_SESSION_ID:"UPDATE_SESSION_ID",UPDATE_ENCRYPTED_SESSION_ID:"UPDATE_ENCRYPTED_SESSION_ID",UPDATE_IS_FOR_COUNTRY:"UPDATE_IS_FOR_COUNTRY",UPDATE_ATO_LOGIN_ERROR_RESPONSE:"UPDATE_ATO_LOGIN_ERROR_RESPONSE",UPDATE_DTM_LOGIN_SUCCESS_EVENT:"UPDATE_DTM-LOGIN_SUCCESS_EVENT",UPDATE_AGENT_LOCATION:"UPDATE_AGENT_LOCATION",UPDATE_PAGE_LEVEL_NOTIFICATION:"UPDATE_PAGE_LEVEL_NOTIFICATION",UPDATE_NOTIFICATIONS:"UPDATE_NOTIFICATIONS",UPDATE_SENDER:"UPDATE_SENDER",SET_REG_MESSAGE_FLAG:"SET_REG_MESSAGE_FLAG",SET_DTM_LOGIN_SUCCESS_EVENT:"SET_DTM_LOGIN_SUCCESS_EVENT",UPDATE_USER_JOURNEY:"UPDATE_USER_JOURNEY",SET_SWB_ERRORS:"SET_SWB_ERRORS",SET_IS_UN_VERIFIED_FPX_USER:"SET_IS_UN_VERIFIED_FPX_USER",UPDATE_PRICEQUOTE_SERVICESMETA:"UPDATE_PRICEQUOTE_SERVICESMETA",UPDATE_IS_PPS_PROFILE:"UPDATE_IS_PPS_PROFILE",CLEAN_STORE:"CLEAN_STORE",UPDATE_EFL:"UPDATE_EFL",CLEAN_PRODUCTS:"CLEAN_PRODUCTS",CLEAN_SELECTED_PRODUCT:"CLEAN_SELECTED_PRODUCT",UPDATE_SESSION_INFO:"UPDATE_SESSION_INFO",UPDATE_SMV_RESPONSE:"UPDATE_SMV_RESPONSE",UPDATE_SMV_BODY:"UPDATE_SMV_BODY",UPDATE_IS_DIRECTED_COUNTRY:"UPDATE_IS_DIRECTED_COUNTRY",UPDATE_CLIENT_IP:"UPDATE_CLIENT_IP",UPDATE_IDEAL_BANKNAME:"UPDATE_IDEAL_BANKNAME",UPDATE_PPS_PROFILE_STATUS:"UPDATE_PPS_PROFILE_STATUS",UPDATE_PPS_PROFILE_DATA:"UPDATE_PPS_PROFILE_DATA",UPDATE_FPXBank_Info:"UPDATE_FPXBank_Info",UPDATE_WalletBank_Info:"UPDATE_WalletBank_Info",UPDATE_TRANSACTION_HISTORY:"UPDATE_TRANSACTION_HISTORY",CLEAN_TRANSACTION_HISTORY:"CLEAN_TRANSACTION_HISTORY",UPDATE_NONDIGITALTRANSACTION_HISTORY:"UPDATE_NONDIGITALTRANSACTION_HISTORY",UPDATE_PARTNER_PAYLOAD:"UPDATE_PARTNER_PAYLOAD",UPDATE_ACCOUNT_NUMBER:"UPDATE_ACCOUNT_NUMBER",UPDATE_CONTENT_SOURCE:"UPDATE_CONTENT_SOURCE",CLEAN_PAGE_LEVEL_NOTIFICATION:"CLEAN_PAGE_LEVEL_NOTIFICATION",UPDATE_CASH_OPTION_ENABLED:"UPDATE_CASH_OPTION_ENABLED",UPDATE_EVERGAGE_EXPERIENCES:"UPDATE_EVERGAGE_EXPERIENCES",UPDATE_SEND_AGAIN_TRANSACTION_DATA:"UPDATE_SEND_AGAIN_TRANSACTION_DATA",UPDATE_COUNTRY_CURRENCIES:"UPDATE_COUNTRY_CURRENCIES",UPDATE_SITE_BEHAVIOUR:"UPDATE_SITE_BEHAVIOUR",UPDATE_CUSTOMER_VERIFICATION_STATUS:"UPDATE_CUSTOMER_VERIFICATION_STATUS",UPDATE_VERIFY_CUSTOMER_STATUS:"UPDATE_VERIFY_CUSTOMER_STATUS",UPDATE_UPLOAD_DMS_DOC_STATUS:"UPDATE_UPLOAD_DMS_DOC_STATUS",UPDATE_SWB_ERRORS:"UPDATE_SWB_ERRORS",UPDATE_SESSION_FLAGS:"UPDATE_SESSION_FLAGS",GET_VENDOR_DATA_RESPONSE:"GET_VENDOR_DATA_RESPONSE",SET_THREATMATRIX_PAYLOAD:"SET_THREATMATRIX_PAYLOAD",UPDATE_AWS_COUNTRY_CONFIG:"UPDATE_AWS_COUNTRY_CONFIG",UPDATE_HOSTED_PARTNER_STATUS:"UPDATE_HOSTED_PARTNER_STATUS",UPDATE_FULFILMENT_DETAILS:"UPDATE_FULFILMENT_DETAILS",UPDATE_REQUEST_MONEY_TOKEN:"UPDATE_REQUEST_MONEY_TOKEN",UPDATE_SIGNICAT_INITIATED:"UPDATE_SIGNICAT_INITIATED",ABANDONED_TOKEN:"ABANDONED_TOKEN",UPDATE_SENDER_CARD:"UPDATE_SENDER_CARD",UPDATE_SD_MTCN:"UPDATE_SD_MTCN",UPDATE_FEATURE_FLAGS:"UPDATE_FEATURE_FLAGS",UPDATE_CARDS_DATA:"UPDATE_CARDS_DATA",UPDATE_USER_FLOW:"UPDATE_USER_FLOW",UPDATE_GUEST_INFO_SENDER:"UPDATE_GUEST_INFO_SENDER",UPDATE_GUEST_INFO_RECEIVER:"UPDATE_GUEST_INFO_RECEIVER",UPDATE_DSS_CUSTOMER:"UPDATE_DSS_CUSTOMER",UPDATE_DIALING_PREFIX_LIST:"UPDATE_DIALING_PREFIX_LIST",UPDATE_RESET_PWD_INFO:"UPDATE_RESET_PWD_INFO",UPDATE_SELECTED_CARD:"UPDATE_SELECTED_CARD",CLEAR_ABANDONED_TOKEN:"CLEAR_ABANDONED_TOKEN",UPDATE_RECEIVER_ERROR:"UPDATE_RECEIVER_ERROR",UPDATE_PEPDETAILS:"UPDATE_PEPDETAILS",UPDATE_COMPLIANCE_WEB:"UPDATE_COMPLIANCE_WEB",UPDATE_PENDING_DSS_DOCS:"UPDATE_PENDING_DSS_DOCS",UPDATE_SELECTED_BANK:"UPDATE_SELECTED_BANK",UPDATE_BANKS_DATA:"UPDATE_BANKS_DATA",UPDATE_PROACTIVE_COMPLIANCE:"UPDATE_PROACTIVE_COMPLIANCE",UPDATE_PROACTIVE_COMPLIANCE_FLAG:"UPDATE_PROACTIVE_COMPLIANCE_FLAG",UPDATE_CUSTOMER_PROFILE_DATA:"UPDATE_CUSTOMER_PROFILE_DATA",UPDATE_CASH_PICKUP_RECEIVER:"UPDATE_CASH_PICKUP_RECEIVER",UPDATE_COMPLIANCE_CONFIG_RULES:"UPDATE_COMPLIANCE_CONFIG_RULES",UPDATE_PRODUCTS_AFTER_GETLIMITS:"UPDATE_PRODUCTS_AFTER_GETLIMITS",UPDATE_REMINDER_ID:"UPDATE_REMINDER_ID",CLEAN_REMINDER_ID:"CLEAN_REMINDER_ID",UPDATE_FROM_RESUME_TRANSFER:"UPDATE_FROM_RESUME_TRANSFER",UPDATE_TO_PAY_IN_CHANGE:"UPDATE_TO_PAY_IN_CHANGE",UPDATE_COUNTRY_CONFIG:"UPDATE_COUNTRY_CONFIG",UPDATE_SMO_CONFIG:"UPDATE_SMO_CONFIG",CLEAN_RECEIVER_LIST:"CLEAN_RECEIVER_LIST",UPDATE_SELECTED_BILLER:"UPDATE_SELECTED_BILLER",UPDATE_THIRDPARTY_POPUP_FLAG:"UPDATE_THIRDPARTY_POPUP_FLAG",UPDATE_WUPAY_SELECTED_RECEIVER:"UPDATE_WUPAY_SELECTED_RECEIVER",UPDATE_TRACK_TRANSFER_TRANSACTION:"UPDATE_TAT_TXN",UPDATE_FX_ALERTS:"UPDATE_FX_ALERTS",GMO_MAINTENANCE_LIST:"GMO_MAINTENANCE_LIST",UPDATE_FX_SUBSCRIPTION:"UPDATE_FX_SUBSCRIPTION",UPDATE_FROM_LOGIN_OTP:"UPDATE_FROM_LOGIN_OTP",UPDATE_FROM_CLICK_RESEND_ISFAV:"UPDATE_FROM_CLICK_RESEND_ISFAV",UPDATE_FROM_ISFAV_FILTER_SELECTED:"UPDATE_FROM_ISFAV_FILTER_SELECTED",UPDATE_FOR_VIEW_ALL:"UPDATE_FOR_VIEW_ALL",UPDATE_SSC_CONTENT:"UPDATE_SSC_CONTENT",PAY_IN_CHANGE_PAYMENT:"PAY_IN_CHANGE_PAYMENT",UPDATE_SSC_ABTESTS:"UPDATE_SSC_ABTESTS",UPDATE_KYC_VERIFICATION_MODEL:"UPDATE_KYC_VERIFICATION_MODEL",UPDATE_OCR_FLOW_ENABLE:"UPDATE_OCE_FLOW_ENABLE",UPDATE_GLOBAL_COUNTRY_LANG_LIST:"UPDATE_GLOBAL_COUNTRY_LANG_LIST",UPDATE_LAST_SELECTED_PRODUCT:"UPDATE_LAST_SELECTED_PRODUCT",UPDATE_KYC_VENDOR_CONFIG:"UPDATE_KYC_VENDOR_CONFIG",UPDATE_VERIFICATION_OPTIONS_LIST:"UPDATE_VERIFICATION_OPTIONS_LIST",UPDATE_COLLECTID_CTR_DATA:"UPDATE_COLLECTID_CTR_DATA",UPDATE_VALIDATION_ERROR:"UPDATE_VALIDATION_ERROR",UPDATE_IACH_RECEIVER_CONFIG:"UPDATE_IACH_RECEIVER_CONFIG",UPDATE_COUNTRY_DYNAMIC_PARAMS:"UPDATE_COUNTRY_DYNAMIC_PARAMS",UPDATE_SECURITY_QUESTION_MY_FORIGN_WORKER:"UPDATE_SECURITY_QUESTION_MY_FORIGN_WORKER",UPDATE_HISTORY_RES_FOR_LAST_YEAR:"UPDATE_HISTORY_RES_FOR_LAST_YEAR",UPDATE_LAZY_LOADER_SPINER_FLAG:"UPDATE_LAZY_LOADER_SPINER_FLAG",UPDATE_AMP_QUICK_RESND_FLAG:"UPDATE_AMP_QUICK_RESND_FLAG",UPDATE_OCR_METHOD_SELECTED:"UPDATE_OCR_METHOD_SELECTED",UPDATE_OCR_ID_SDK:"UPDATE_OCR_ID_SDK",UPDATE_OCR_CARD_SDK:"UPDATE_OCR_CARD_SDK",UPDATE_ID_OCR_SDK_LOAD_STATUS:"UPDATE_ID_OCR_SDK_LOAD_STATUS",UPDATE_CARD_OCR_SDK_LOAD_STATUS:"UPDATE_CARD_OCR_SDK_LOAD_STATUS",UPDATE_CITY_LIST:"UPDATE_CITY_LIST",UPDATE_TO_RESEND_FLOW:"UPDATE_TO_RESEND_FLOW",UPDATE_TO_WUPAY_RESEND_FLOW:"UPDATE_TO_WUPAY_RESEND_FLOW",UPDATE_TO_RESEND_FLOW_HISTORY:"UPDATE_TO_RESEND_FLOW_HISTORY",UPDATE_TO_PAYNOW_RESEND_FLOW:"UPDATE_TO_PAYNOW_RESEND_FLOW",UPDATE_TO_MOBILE_WALLET_RESEND_FLOW:"UPDATE_TO_MOBILE_WALLET_RESEND_FLOW",UPDATE_TO_IPAY88_RESEND_FLOW:"UPDATE_TO_IPAY88_RESEND_FLOW",UPDATE_TO_FPX_RESEND_FLOW:"UPDATE_TO_FPX_RESEND_FLOW",UPDATE_TO_C3_RESEND_FLOW:"UPDATE_TO_C3_RESEND_FLOW",UPDATE_TO_GOOGLEPAY_RESEND_FLOW:"UPDATE_TO_GOOGLEPAY_RESEND_FLOW",UPDATE_TO_Plaid_RESEND_FLOW:"UPDATE_TO_Plaid_RESEND_FLOW",UPDATE_SELECTED_TRANSACTION:"UPDATE_SELECTED_TRANSACTION",UPDATE_ENCRYPT_OCR_PUBLICKEY:"UPDATE_ENCRYPT_OCR_PUBLICKEY",UPDATE_WUPAY_QRCODE:"UPDATE_WUPAY_QRCODE",UPDATE_TO_SORORT_RESEND_FLOW:"UPDATE_TO_SORORT_RESEND_FLOW",UPDATE_ISMOBILEWALLET_ENABLED:"UPDATE_ISMOBILEWALLET_ENABLED",UPDATE_LOGIN_THROUGH_KNOW_YOUR_LIMIT:"UPDATE_LOGIN_THROUGH_KNOW_YOUR_LIMIT",UPDATE_AVAILABLE_VIDEO_KYC_OUTSIDE_HOURS:"UPDATE_AVAILABLE_VIDEO_KYC_OUTSIDE_HOURS",UPDATE_PROFILE_DISPLAY_FLAG:"UPDATE_PROFILE_DISPLAY_FLAG",UPDATE_PARAMS_FROM_REGISTER:"UPDATE_PARAMS_FROM_REGISTER",UPDATE_LIFE_TIME_SAVINGS:"UPDATE_LIFE_TIME_SAVINGS",UPDATE_SELECTED_PS_PRODUCT:"UPDATE_SELECTED_PS_PRODUCT",UPDATE_FLOW_TYPE:"UPDATE_FLOW_TYPE",UPDATE_DSS2_DIAL_PREFIX:"UPDATE_DSS2_DIAL_PREFIX",UPDATE_DSS2_LOOKUP_CRITERIA:"UPDATE_DSS2_LOOKUP_CRITERIA",UPDATE_DSS2_LOOKUP_RESPONSE:"UPDATE_DSS2_LOOKUP_RESPONSE",UPDATE_DSS2_PROFILE_TEMPLATE:"UPDATE_DSS2_PROFILE_TEMPLATE",UPDATE_DSS2_ID_LIST:"UPDATE_DSS2_ID_LIST",UPDATE_DSS2_AUTHENTICATION_STATUS:"UPDATE_DSS2_AUTHENTICATION_STATUS",UPDATE_PROFILE_VERIFICATION_STATUS:"UPDATE_PROFILE_VERIFICATION_STATUS",UPDATE_DSS2_HAS_COMPLETE_PROFILE_PAGE:"UPDATE_DSS2_HAS_COMPLETE_PROFILE_PAGE",UPDATE_PROMO_LIST:"UPDATE_PROMO_LIST",UPDATE_TO_BANCONTACT_RESEND_FLOW:"UPDATE_TO_BANCONTACT_RESEND_FLOW",GET_ONBOARDING_CTR_FLOW:"GET_ONBOARDING_CTR_FLOW",UPDATE_TO_R_TO_B_RECEIVERDETAILS:"UPDATE_TO_R_TO_B_RECEIVERDETAILS",UPDATE_SOURCE_TYPE:"UPDATE_SOURCE_TYPE",UPDATE_PROMO_DETAILS:"UPDATE_PROMO_DETAILS",UPDATE_DSS2_NON_ID_LIST:"UPDATE_DSS2_NON_ID_LIST",UPDATE_AD_LOAD_EVENT:"UPDATE_AD_LOAD_EVENT",UPDATE_CUSTOMER_TXN_DETAILS:"UPDATE_CUSTOMER_TXN_DETAILS",APN_ALLOW_INSTANCE:"APN_ALLOW_INSTANCE",UPDATE_PRICE_CATALOG_DETAILS:"UPDATE_PRICE_CATALOG_DETAILS",UPDATE_TO_KLARNA_RESEND_FLOW:"UPDATE_TO_KLARNA_RESEND_FLOW",UPDATE_LAST_SELECTED_PRODUCT_FIFO_SLIDER:"UPDATE_LAST_SELECTED_PRODUCT_FIFO_SLIDER",UPDATE_GAM_QUERY_PARAM:"UPDATE_GAM_QUERY_PARAM",SET_SIDE_PANAL_ADD_RECEIVER_DATA:"SET_SIDE_PANEL_ADD_RECEIVER_DATA",UPDATE_TOUR_CURRENT_SECTION:"UPDATE_TOUR_CURRENT_SECTION",UPDATE_TO_TINK_RESEND_FLOW:"UPDATE_TO_TINK_RESEND_FLOW"}},41129:(n,d,t)=>{"use strict";t.d(d,{H:()=>o,R:()=>e});class o{}class e{}},45168:(n,d,t)=>{"use strict";t.d(d,{y:()=>o});let o=(()=>{class x{static#e=this.receiverTemplateUrl={url:"/templates/receiver.optimus.json",dcaas:"receiverconfig?contentVersion=dcaasVersionVal&configVersion=configVersionVal"};static#t=this.globalcollectidTemplateUrl={megatronUrl:"/globalcollectidtemplates/globalcollectid.optimus.json",dcaasUrl:"/wuconnect/dcaas/csv-config/globalcollectid?contentVersion=dcaasVersionVal&configVersion=configVersionVal"};static#i=this.dutConfigTemplateUrl={megatronUrl:"/dutconfigtemplates/dutconfig.optimus.json",dcaasUrl:"caas-config/dutsenderconfig?dcaasversion=dcaasVersionVal"}}return x})()},25277:(n,d,t)=>{"use strict";t.d(d,{HF:()=>x,NL:()=>$,e7:()=>W,pV:()=>o});class o{}class x{}class ${}class W{}},37486:(n,d,t)=>{"use strict";t.d(d,{Ak:()=>he,DX:()=>ae,FL:()=>p,FM:()=>P,HK:()=>s,Oi:()=>C,PJ:()=>V,PU:()=>r,Rd:()=>R,TM:()=>_,TP:()=>N,Zr:()=>e,aU:()=>g,bw:()=>x,cC:()=>U,eQ:()=>oe,et:()=>S,i8:()=>ie,iV:()=>l,ld:()=>$,mE:()=>de,mt:()=>o,pV:()=>w,rD:()=>re,re:()=>Ce,s7:()=>W,uW:()=>k,wN:()=>h,xE:()=>v,xv:()=>M});var o=function(X){return X.CreditCard="CreditCard",X.DebitCard="DebitCard",X.ACH="ACH",X.Cash="AG",X.WUPay="WUPay",X.POLI="POLI",X.Sofort="Sofort",X.Trustly="Trustly",X.IDEAL="IDEAL",X.PayrollCard="Payroll card",X.FPX="FPX",X.IPAY88="IPAY88",X.BA="Bank Transfer",X.FP="Faster Payments",X.PartnerFunds="PartnerFunds",X.TapNGo="TapNGo",X.Paramount="Paramount",X.iACH="iACH",X.BankAccount="BankAccount",X.GooglePay="GooglePay",X.MW="MW",X.IBP="IBP",X.IPAY88W="IPAY88W",X.Plaid="Plaid",X.PayNow="PayNow",X.BanContact="BanContact",X.C3="C3",X.TK="TK",X}(o||{}),e=function(X){return X.BA="BA",X.AG="AG",X.UN="UN",X.MT="MT",X.WA="WA",X.D2C="D2C",X.WU="WU",X.HD="HD",X.D2C_PS="D2C_PS",X}(e||{}),x=function(X){return X.CC="CreditCard",X.DC="DebitCard",X.AC="ACH",X.EB="WUPay",X.IA="iACH",X.CA="AG",X.SF="Sofort",X.AP="AP",X.TR="Trustly",X.SD="IDEAL",X.PL="POLI",X.PC="Paramount",X.TG="TapNGo",X.FP="FPX",X.PF="PartnerFunds",X.BA="BankAccount",X.GP="GooglePay",X.DI="DebitCardInterChange",X.MW="MW",X.PA="Plaid",X.PN="PayNow",X.BN="BanContact",X.C3="C3",X.TK="TK",X}(x||{}),$=function(X){return X.CreditCard="CC",X.DebitCard="DC",X.ACH="AC",X.WUPay="EB",X.iACH="IA",X.AG="CA",X.Sofort="SF",X.AP="AP",X.Trustly="TR",X.IDEAL="SD",X.POLI="PL",X.Paramount="PC",X.TapNGo="TG",X.FPX="FP",X.PartnerFunds="PF",X.BankAccount="BA",X.GooglePay="GP",X.DebitCardInterChange="DI",X.MW="MW",X.Plaid="PA",X.PayNow="PN",X.BanContact="BN",X.C3="C3",X}($||{}),W=function(X){return X.MM="AG",X.DB="BA",X.ND="ND",X.MB="MT",X.DC="WA",X.D2="D2C",X.WU="WU",X.HD="HD",X}(W||{}),V=function(X){return X.online="online",X.instore="instore",X}(V||{}),P=function(X){return X.BA="Bank account",X.AG="Cash at WU location",X.MT="Mobile wallet",X.WA="Mobile wallet",X.D2C="Debit card",X.HD="Home Delivery",X.D2C_PS="Debit card",X}(P||{}),C=function(X){return X.BA="500",X.AG="000",X.MT="600",X.WA="800",X.D2C="200",X.HD="700",X}(C||{});class N{}var _=function(X){return X[X.en=0]="en",X[X.es=1]="es",X}(_||{});class M{constructor(){this.codeName={"000":"AG",600:"MT",500:"BA",D01:"BA",D00:"BA",800:"WA",200:"D2C","041":"AG",400:"AG",M10:"AG",M11:"AG",M12:"AG",M13:"AG",M14:"AG",M15:"AG",M16:"AG",M17:"AG",M18:"AG",700:"HD",201:"D2C_PS",202:"D2C_PS"}}}class U{constructor(){this.codeName={"Cash at agent location":"AG","Mobile wallet":"MT","Bank account":"BA",Wallet:"WA",D2C:"D2C","Home Delivery":"HD",D2C_PS:"D2C_PS"}}}class w{}class s{}var r=function(X){return X.MANDATORY="M",X.OPTIONAL="O",X.NA="NA",X}(r||{}),g=function(X){return X.MM="IN MINUTES",X.DB="DIRECT TO BANK",X.ND="NEXT DAY",X.MB="Mobile money transfer",X.DC="WALLET",X.D2="D2C",X.HD="Home Delivery",X}(g||{}),p=function(X){return X.P="PROHIBITED",X.N="OPTIONAL",X.Y="REQUIRED",X}(p||{}),h=function(X){return X.APPLY="Apply",X.APPLYFROMPROMOLIST="ApplyFromPromoList",X.SAVEFORLATER="SaveForLater",X}(h||{}),l=function(X){return X.SENDMONEYONLINE="SendMoneyOnline",X.EDITANDRESEND="EditAndResend",X}(l||{});class v{}class S{}class R{}class k{}var de=function(X){return X.country="country",X}(de||{}),oe=function(X){return X.ROKT="Rokt",X.BANNER="Banner",X.ANCHOR="anchor",X}(oe||{}),ae=function(X){return X.registeredCustomer="registeredCustomer",X}(ae||{}),he=function(X){return X[X.CreditCard=1]="CreditCard",X[X.DebitCard=2]="DebitCard",X[X.ACH=3]="ACH",X[X.GooglePay=4]="GooglePay",X[X.AG=5]="AG",X[X.WUPay=6]="WUPay",X[X.Plaid=7]="Plaid",X}(he||{}),B=function(X){return X[X.CreditCard=1]="CreditCard",X[X.WUPay=2]="WUPay",X[X.GooglePay=3]="GooglePay",X[X.Plaid=4]="Plaid",X[X.AG=5]="AG",X}(B||{}),z=function(X){return X[X.CreditCard=1]="CreditCard",X[X.Sofort=2]="Sofort",X[X.AG=3]="AG",X}(z||{});const ie={CH:z,FR:B};var re=function(X){return X[X.AG=1]="AG",X[X.BA=2]="BA",X[X.WA=3]="WA",X[X.MT=4]="MT",X[X.D2C=5]="D2C",X[X.D2C_PS=6]="D2C_PS",X[X.HD=7]="HD",X}(re||{}),Ce=function(X){return X.MM="IN MINUTES",X.DB="DIRECT TO BANK",X.ND="NEXT DAY",X.MB="Mobile money transfer",X.DC="WALLET",X.D2="D2C",X.BA="Bank account",X.AG="Cash at WU location",X.MT="Mobile wallet",X.WA="Mobile wallet",X.D2C="Debit card",X.HD="Home Delivery",X.D2C_PS="Debit card",X}(Ce||{})},68135:(n,d,t)=>{"use strict";t.d(d,{F:()=>o});class o{}},98556:(n,d,t)=>{"use strict";t.d(d,{Kw:()=>$,PT:()=>x,Zl:()=>o,k:()=>e});class o{}class e{}class x{}class ${constructor(V,P){this.type=V,this.message=P}}},2788:(n,d,t)=>{"use strict";t.d(d,{J:()=>o});const o={VERIFIED:["Y"],NOT_VERIFIED:["N","E"],VER_INPROGRESS:["R","I","P","M"],UNDER_INVESTIGATION:["U"],VER_CHECK_TC:["R","I","Y","N"],REQUESTED:["R","I"],REVERIFICATION:["X","B"]}},59073:(n,d,t)=>{"use strict";t.d(d,{LC:()=>o,Ps:()=>$,Ze:()=>e,wp:()=>x});let o=(()=>{class W{static#e=this.docTypeID="ID";static#t=this.idTypeListInitial="ID_TYPE_";static#i=this.supportingDocTypeListName="DIGITAL_DUC_SUBTYPE_LIST";static#s=this.docSidesNode="DOCSIDES";static#r=this.docSubTypePassport="PASSPORT";static#a=this.docSubTypeMilitaryId="MILITARY_ID";static#n=this.docSubTypePoliceId="POLICE_ID";static#o=this.docSubTypeTravelDocument="TRAVEL_DOCUMENT";static#c=this.docSubTypeEmergencyTravelDocument="EMERGENCY_TRAVEL_DOCUMENT";static#u=this.docSubTypeTempTravelPassport="TEMP_TRAVEL_PASSPORT";static#d=this.docSubTypeDiplomaticPassport="DIPLOMATIC_PASSPORT";static#l=this.docSideFront="FRONT";static#_=this.docSideBack="BACK";static#m=this.allowedFileSize=10;static#g=this.ducLandingPageRoute="/kyc/kycoption-duc";static#p=this.ducSingleUploadPageRoute="/kyc/single-upload";static#h=this.regexSupportedFileFormatForUpload=/^([^!.]+)(.jpg|.jpeg|.gif|.png|.bmp|.pdf|.tiff)$/i;static#C=this.kycConfigurationUrl="https://{0}/wuconnect/awsconfig/api/v1/kyc-config/web/wucom/{1}";static#f=this.privacyProcessCommitment="privacy_process_commitment_";static#S=this.docDiscription="doc_discription_";static#y=this.docTitle="doc_title_";static#E=this.docSubTitle="doc_sub_title_";static#A=this.endingIn="ending_in";static#v=this.fileFormatError="file_format_error";static#P=this.fileSizeError="file_size_error";static#D=this.regionEmea="emea";static#I=this.applicationPdf="application/pdf";static#O=this.lang="lang";static#T=this.frontSideLable="duc_doc_front_side_label";static#R=this.backSideLable="dut_doc_back_side_label";static#b=this.proofOfAddress="proof_of_address";static#N=this.sourceOfFund="source_of_fund";static#F=this.idmVendor="idmission";static#L=this.imagePaths=["/content/dam/web-assets/UploadIcon.png","/content/dam/web-assets/retake_icon.png","/content/dam/web-assets/PDF_file_icon_32x32.png","/content/dam/web-assets/duc_tick_icon.png"];static#M=this.ALL_COUNTRIES="ALL_COUNTRIES";static#U=this.EU_COUNTRIES="EU_COUNTRIES";static#B=this.idFront="FRONT";static#w=this.idConfigForOCRApi=[{id_type:"DRIVER_LICENSE",doc_type:"driver_license",operation:"ID_EXTRACTION"},{id_type:"PASSPORT",doc_type:"passport",operation:"ID_EXTRACTION"},{id_type:"NATIONAL_ID",doc_type:"national_id",operation:"ID_EXTRACTION"},{id_type:"DNI_CARD",doc_type:"DNI_CARD",operation:"ID_EXTRACTION"},{id_type:"PV",doc_type:"card",operation:"CARD_EXTRACTION"},{id_type:"RESIDENCY_TITLE",doc_type:"residency_title",operation:"ID_EXTRACTION"},{id_type:"RES_PERMIT",doc_type:"res_permit",operation:"ID_EXTRACTION"},{id_type:"MILITARY_ID",doc_type:"military_id",operation:"ID_EXTRACTION"},{id_type:"WORK_PERMIT",doc_type:"work_permit",operation:"ID_EXTRACTION"},{id_type:"DIPLOMATIC_PASSPORT",doc_type:"diplomatic_passport",operation:"ID_EXTRACTION"},{id_type:"TRAVEL_DOCUMENT",doc_type:"travel_document",operation:"ID_EXTRACTION"},{id_type:"EMERGENCY_TRAVEL_DOCUMENT",doc_type:"emergency_travel_document",operation:"ID_EXTRACTION"}];static#k=this.JPEG_FORMAT=["jpg","jpeg","JPG","JPEG"];static#x=this.docTypePaymentVerification="PAYMENT_VERIFICATION";static#V=this.verifyKYCDataExtractionMethod="VERIFY_KYC";static#K=this.docTypeCard="PV";static#W=this.ocrExtractionError="ocr_extraction_error_";static#G=this.OCR_EXTRACT_ERROR_CODE=[{errorCode:"OCR_2000",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2001",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2002",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2003",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2004",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2005",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2006",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2007",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2008",redirectTo:"kyc/verification/select-doc",sendIdType:!0},{errorCode:"OCR_2009",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2010",redirectTo:"kyc/verification/select-doc",sendIdType:!0},{errorCode:"OCR_2011",redirectTo:""},{errorCode:"OCR_2012",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2013",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2014",redirectTo:""},{errorCode:"OCR_400",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_500",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_503",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_223",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_224",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_5028",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_5000",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2015",redirectTo:"kyc/verification/select-doc",sendIdType:!0},{errorCode:"OCR_2016",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2017",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2018",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2019",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_2020",redirectTo:"kyc/verification/select-doc"},{errorCode:"OCR_10109",redirectTo:"kyc/verification/select-doc"}];static#Y=this.OCR_AGE_LESS_THAN_18_ERROR=["OCR_2011","OCR_2014"];static#H=this.OCR_EXTRACT_ERROR_CODE_WRONG_DOC={errorCode:"OCR_2001",redirectTo:"kyc/verification/select-doc"};static#$=this.OCR_PV_EXTRACTION_ERROR="OCR_0";static#z=this.OCR_PV_ID_EXTRACTION_ERROR=["OCR_2000","OCR_2001","OCR_2002","OCR_2006","OCR_2007","OCR_2008","OCR_400","OCR_500","OCR_503","OCR_223","OCR_224","OCR_5028","OCR_5000","OCR_2015"];static#j=this.VENDOR_DATA_API="/GwpGetVendorInfo";static#J=this.SELFIE_VENDOR="IDMISSION";static#Z=this.DOC_MAPPING={PSOF:"SF",ID:"ID",PA:"PA"};static#X=this.reUpload="reupload";static#Q=this.upload="upload";static#q=this.GBG_VENDOR="GBG";static#ee=this.lastNamesNLMap={EV:"e/v",PV:"p/v",WV:"w/v"}}return W})();var e=function(W){return W.illustrations="illustrations",W.sampleimages="sampleimages",W}(e||{}),x=function(W){return W.ID="ID",W.CARD="CARD",W}(x||{}),$=function(W){return W[W.Started=0]="Started",W[W.Inprogress=1]="Inprogress",W[W.Success=2]="Success",W[W.Error=3]="Error",W}($||{})},93885:(n,d,t)=>{"use strict";t.d(d,{Y:()=>o});class o{static#e=this.DDMMYYYY="DD/MM/YYYY";static#t=this.unverifiedDisableFundsInOptions={SG:["Trustly"],ES:[]};static#i=this.customWalletConfig={RECV_CARD_IMAGE:["CN"],RECV_NAME_CARD_IMAGE:["VN"],RECV_NAME_VERIFICATION:["CN"],RECV_MIM_SUPPORT_COUNTRY:["IN","PH"],RECV_MIM_SUPPORT_PAYIN:["CreditCard","SOFORT","Trustly","Ideal","iACH"]};static#s=this.txnStates=["/receiver","/payment","/send-money/pay-in-change"];static#r=this.RECEIVER_OPTIMUS_CARD_MAPPING={V:"VISA",M:"MASTER",E:"ELECTRON",A:"AMEX",D:"DISCOVER",C:"CUBACARD"};static#a=this.SERVICE_CODE_CARD_MAPPING={201:"VISA",202:"MASTER"};static#n=this.verifyReceiverCountries=["BR","AR"];static#o=this.verifyReceiverProductCodes=["500"];static#c=this.getCardStatus="/GwpCardStatus";static#u=this.PRRampupCountries=["US","GB","BR","AU","NL","NZ","BE","CH","DE","IT","US-googlespot","SE","ES","AT","JP","SG","MY","AR","CA","FR","HK","NO","IE","DK","FI","PL","PT"];static#d=this.latinCountries=["BO","BR","CL","CO","CR","DO","EC","SV","GT","GY","HN","MX","NI","PA","PY","PE","ES","SR","UY","VE","CU"];static#l=this.dobAgeInvalid="ageInvalid";static#_=this.C2B_ENABLED_COUNTRIES=["IN"];static#m=this.MYSELF="MySelf";static#g=this.BR_POT=["370040000290","320160000090"];static#p=this.SendToMyselfWithoutEvergage=["BR","MY"];static#h=this.dobValidity="validity";static#C=this.dobFormatUS="MM/DD/YYYY";static#f=this.dobFormatR2B="DD/MM/YYYY";static#S=this.C_Errors=["C1116"];static#y=this.idvvSCVError=["X"];static#E=this.SofortKlarnaDisabledCountries=["GB"];static#A=this.KLARNA_ENABLED_COUNTRY=["AT","CH","DE","BE"];static#v=this.verificationData={verified:["Y"],notVerified:["N","E"],verificationInProgress:["R","I","P","M"],underInvestigation:["U"],verificationCheckTc:["R","I","Y","N"],reverification:["X","B"]};static#P=this.customerProfileStatus={LEGACY:"L",PRIMARY:"P",SECONDARY:"S",profile_exist:"C3045"};static#D=this.BRAZIL_POT_FILTERS={RECV_BANK_BANK_NAME_MATCH:["675000000090","P001","P002","P003","P004","P005","P006","P007","P008","P009","P010","P011","P012","P101","P102"],RECV_CASH_CASH:["370040000290","370110000290"],RECV_BANK_CASH_NAME_MATCH:["320160000090","675000000090"],RECV_BANK_CASH_NAME_NOT_MATCH:["120360000290","370040000290","370110000290","320160000090","P001","P002","P003","P004","P005","P006","P007","P008","P009","P010","P011","P012","P101","P102"]};static#I=this.CONST_INDIA_POT={OVERSEAS_EDUCATION:"Overseas Education",C2C:"C2C",C2B:"C2B",AG:"AG",IN:"IN"};static#O=this.CONST_INDIA_POT_NEW_TCS=[{NAME:"Overseas Education",TAX_EXEMPTION:7e5,TAX_PERCENTAGE:5},{NAME:"Private Visits",TAX_EXEMPTION:7e5,TAX_PERCENTAGE:20},{NAME:"Business Travel",TAX_EXEMPTION:7e5,TAX_PERCENTAGE:20},{NAME:"P004",TAX_EXEMPTION:7e5,TAX_PERCENTAGE:5}];static#T=this.apiVersions={"/ValidateWYHFactors":"2","/EmailValidation":"3","/CustomerSignOn":"2","/ValidateWYKFactors":"2","/GetLimits":"2","/GwpVendorConsumer":"1","/GwpCardStatus":"2"};static#R=this.webUnavailablePayIn=["ApplePay"];static#b=this.enableMfa=sessionStorage.getItem("enableMFA")||"{}";static#N=this.mfaConstant={timerSeconds:JSON.parse(o.enableMfa)?.timerSeconds||30,resendOtpLimit:JSON.parse(o.enableMfa)?.loginRegisterResendOtpCount||2,verifyOtpLimit:JSON.parse(o.enableMfa)?.loginRegisterVerifyOtpCount||3,otpDigits:6,send:"/GwpMfaFactorSend",verify:"/GwpMfaFactorVerify",customerIDAuthentication:"/GwpCustomerIDAuthentication",retail_to_register:"retail_to_register",register:"register",login:"login",myWu:"myWu"};static#F=this.otpVerifyCounter=3;static#L=this.metaConfig=["MY","GB","RU","IN","SG","JP","AT","DK","SK","FI","CY","IE","NO","BG","CZ","HR","HU","IS","RO","AR"];static#M=this.mimSupportPayIn=["CreditCard","SOFORT","Trustly","Ideal","iACH"];static#U=this.airTileOverridenCountries=["JP"];static#B=this.sendCountryNameInRequest=["US"];static#w=this.ifscListAll="all";static#k=this.delimiterPosition=4;static#x=this.delimiterSpace=" ";static#V=this.ifscListState="STATE";static#K=this.ifscListCity="CITY";static#W=this.ifscListBranch="BRANCH";static#G=this.payInTypeAll="ALL";static#Y=this.flowMyReceivers="myreceivers";static#H=this.USVECurrency="VES";static#$=this.flowReceivers="receivers";static#z=this.flowVerifyReceiver="VerifyReceiver";static#j=this.USVECurrencyName="BOLIVAR";static#J=this.DigitalHost="wudispatcher-uatrs2.westernunion.com";static#Z=this.RetailHost="wudispatcher-uatrs2.westernunion.com";static#X=this.AwsDevHost="partners-dev.westernunion.com";static#Q=this.AwsQaHost="partners-qa.westernunion.com";static#q=this.optimusServiceHost="wudispatcher-uatrs2.westernunion.com";static#ee=this.Earlysendmoneyvalidation=["GooglePay"];static#te=this.earlysendmoneyValiCountryCode=["NO"];static#ie=this.API_ENDPOINT={dCaasGlobalComponents:{METHOD:"GET",URL:"/wuconnect/dcaas/caas-config/global-components?channel={{region}}&origination={{country}}&language={{language}}&file=global-components&dcaasversion={{dcaasversion}}"},globalComponents:{METHOD:"GET",URL:"/wuconnect/content/api/v1/component/{{region}}/{{country}}/{{language}}/global-components"},globalComponentsV2:{METHOD:"GET",URL:"/wuconnect/content/api/v2/component/{{channel}}/{{region}}/{{country}}/{{language}}/global-components"},countryConfig:{METHOD:"GET",URL:"/megatron/config.optimus.json"},countryConfigV2:{METHOD:"GET",URL:"/wuconnect/dcaas/caas-config/countryconfig"},translations_withKey:{METHOD:"GET",URL:"/wuconnect/content/api/v1/site/{{channel}}/{{partner}}/{{countryCode}}/{{languageCode}}"},pageTranslations:{METHOD:"GET",URL:"/wuconnect/content/api/v1/site/{{channel}}/{{partner}}/{{countryCode}}/{{languageCode}}/{{translationKey}}"},pageTranslationsV4:{METHOD:"GET",URL:"/wuconnect/content/api/v4/site/{{channel}}/{{partner}}/{{countryCode}}/{{languageCode}}/{{translationKey}}",DCAASURL:"/wuconnect/dcaas/caas-content/{{channel}}/wucom?origination={{countryCode}}&language={{languageCode}}&name={{translationKey}}&dcaasversion={{dcaasversion}}",ESURL:"/content/v2/content/{{channel}}/wucom?origination={{countryCode}}&language={{languageCode}}&pages={{translationKey}}&version={{contentV2Version}}"},translations:{METHOD:"GET",URL:"/wuconnect/content/api/v1/site/{{channel}}/{{partner}}/{{countryCode}}/{{languageCode}}",DCAASURL:"/wuconnect/dcaas/caas-content/{{channel}}/{{partner}}?origination={{countryCode}}&language={{languageCode}}&dcaasversion={{dcaasversion}}"},translationsV4:{METHOD:"GET",URL:"/wuconnect/content/api/v4/site/{{channel}}/{{partner}}/{{countryCode}}/{{languageCode}}",DCAASURL:"/wuconnect/dcaas/caas-content/{{channel}}/wucom?origination={{countryCode}}&language={{languageCode}}&dcaasversion={{dcaasversion}}",ESURL:"/content/v2/content/{{channel}}/wucom?origination={{countryCode}}&language={{languageCode}}&version={{contentV2Version}}"},baseConfig:{METHOD:"GET",URL:"/assets/base-config.json"},activeVersion:{METHOD:"GET",URL:"/content/wucom/base/global/config/activeVersion.json"},dcaasVersion:{METHOD:"GET",URL:"/kiosk-cloud/assets/dcaasVersion.json"},utmSourcesList:{METHOD:"GET",URL:"/content/wucom/dist/{{assetVersion}}/configs/master_lists.json"},smoConfig:{METHOD:"GET",URL:"/content/wucom/dist/{{assetVersion}}/js/smo-configs-json/smo-config.{{country}}.json"},responsiveMinCss:{METHOD:"GET",URL:"/content/wucom/dist/{{assetVersion}}/css/responsive_css.min.css"},awsConfig:{METHOD:"GET",URL:"/wuconnect/awsconfig/api/v1/countryconfig/{{channel}}/{{partner}}/{{countryCode}}"},responsiveNTMinCss:{METHOD:"GET",URL:"/content/wucom/dist/{{assetVersion}}/css/responsive_nt_css.css"},accountNTMinCss:{METHOD:"GET",URL:"/content/wucom/dist/{{assetVersion}}/css/main.min.css"},globalCountryComplainceData:{METHOD:"GET",URL:"/content/wucom/dist/{{assetVersion}}/configs/global/countryComplianceRules.json"},eventPush:{METHOD:"POST",URL:"/event/push"},featureFlag:{METHOD:"GET",URL:"/wuconnect/content/api/v1/digitalflag/web"},featureFlagCS:{METHOD:"POST",URL:"/wudgtsrvs/mobiliser/rest/channel/FeatureFlag/GetStatus"},errorTranslations:{METHOD:"GET",URL:"/wuconnect/content/api/v1/{{channelPath}}/{{countryCode}}/{{languageCode}}/{{errorCode}}"},kycVendorConfig:{METHOD:"GET",URL:"/content/wucom/dist/{{assetVersion}}/configs/kyc-vendor-config.json"},listOptimus:{METHOD:"GET",URL:"/wuconnect/dcaas/list.optimus.json"},dss2Config:{METHOD:"GET",URL:"/wuconnect/dcaas/caas-config/dss2config?origination=us_en&language=en"},postCJEventReferral:{METHOD:"POST",URL:"/loyalty/v2/referral"}};static#se=this.maxAmountForTestQuestion=299;static#re=this.bankInfoIbanAccountNumber="iban_account_number";static#ae=this.bankInfoBank="BANK";static#ne=this.bankInfoIban="IBAN";static#oe=this.bankInfoValidationTypeIFSC="ifsc";static#ce=this.bankInfoIfscCode="IFSC Code";static#ue=this.bankInfoBankCode="bank_code";static#de=this.bankInfoBankName="bank_name";static#le=this.bankInfoBankBranchCode="branch_code";static#_e=this.bankInfoBranchNameLabel="Branch Name";static#me=this.bankInfoRoutingNumber="routing_number";static#ge=this.bankInfoSwiftCode="swift_code";static#pe=this.bankInfoAccountNumber="account_number";static#he=this.bankInfoConfirmAccountNumber="confirm_account_number";static#Ce=this.bankInfoInputField="inputField";static#fe=this.bankInfoRadio="radio";static#Se=this.bankInfoSelectListInput="selectListInput";static#ye=this.bankInfoTableInputField="tableInputField";static#Ee=this.bankInfoTypeInput="typeInput";static#Ae=this.bankInfoTextField="textField";static#ve=this.bankInfoBankNameId="wu-d2b-input-name-Bank";static#Pe=this.bankInfoAccountSelectedType="account_selected_type";static#De=this.bankInfoIfscModalId="ifsc-code-modal";static#Ie=this.ifscModalBankName="bankName";static#Oe=this.ifscModalStateName="bankState";static#Te=this.ifscModalCityName="bankCity";static#Re=this.ifscModalBranchName="branchName";static#be=this.bankInfoDefaultDisplayFormat="4 4 4 4 4 4 4 4";static#Ne=this.typeAhead="isTypeAhead";static#Fe=this.smoPageName="sendmoneyoption";static#Le=this.userJourneySmo="sending_money";static#Me=this.userJourneyBillPay="bill-pay";static#Ue=this.userJourneyInmatePay="inmate-pay";static#Be=this.userJourneyMobileReload="reload-options";static#we=this.commonMyWuAndMarketingCountries=["CA","RU","AR"];static#ke=this.PAGES_NAME=["eid-verification-options","select-doc","choose-id-method","upload-doc"];static#xe=this.skipRNCevent=["login","register","mfa-verification","profile"];static#Ve=this.swbStates={CA:"93524",AZ:"85007",TX:"73344",NM:"87901",OK:"73008"};static#Ke=this.forCorridorsUS={countryCode:["AW","BR","CN","ET","LS","LY","NA","SZ","ZA","VE","LR"]};static#We=this.forCorridorsINTL={countryCode:["AR","AW","BR","CN","ET","HN","LS","LY","NA","SZ","ZA","VE","LR"]};static#Ge=this.forCorridorsBR={countryCode:["AW","CN","ET","HN","LS","NA","ZA","VE","BR"]};static#Ye=this.retailKioskChannelType="RETAIL_KIOSK";static#He=this.retailKioskChannelType_FSS="FSS";static#$e=this.retailKioskSMSChannelType="H2H";static#ze=this.estimatedInquiryAccuracy="ESTIMATED";static#je=this.exactInquiryAccuracy="EXACT";static#Je=this.feeInquiryType="MONEY_TRANSFER_FEE";static#Ze=this.feeInquiryBillPayType="BILL_PAYMENT_FEE";static#Xe=this.ibanLabel="IBAN";static#Qe=this.alphanumeric="alphanumeric";static#qe=this.registerCountryCodeConfig=["IN"];static#et=this.alphabet="alphabet";static#tt=this.equal="equal";static#it=this.directedConfig=["MX","PK","GH"];static#st=this.countryStateDropdownConfig=["MX","CA","US"];static#rt=this.regexSupportedFileFormatForUpload=/^([a-zA-Z0-9\s_\\.\-:])+(.jpg|.jpeg|.gif|.png|.bmp|.pdf|.tiff)$/;static#at=this.sessionCookiesKeySet=["PSEndpoint","SessionId","sessionCountry","ClientIp","SessionInfo","SessionDomain","DataCenter","AccountNumber","Email","FirstName","LastName","DestinationCountryList","currentCountry","token","SQPErrorResponse","DBSecurityQuestions","RPSecurityQuestions","GatewayCustomer","NewResetPasswordStatus","SummaryObjects","CustomerProfile","ReceiverInformation","IsSWB","ValidationResponse","ValidationRequest","ComplianceData","ErrorResponse","SenderOccupation","GetLoyaltyCardsResponse","IdentityData","IdentityError","LastPage","CountryOfBirth","ThresholdAction","Bank_Name","AlternatePaymentTypes","switches","errcode","CollectIdResponse","SmvCalling","MtcObject","CollectIdErrorRespCode","StoreResponse","TransactionInquiryResponse","Password","InterstitialLoginResponse","userJourney","Limits","UmnNumber","CustomerVerificationStatus","Currencies","Nationality","LinkVerificationFromProfile","AvailableFundsOutOptions","PriceQuoteservicesMeta","DestinationPriceQuote","CountryOfBirthCode","NationalityCode","PlaceOfBirthCode","CountryOfBirthCode","NationalityCode","PlaceOfBirthCode","PriceBandResponse","EVURL","trsferCnl","PhoneNumber","MigratedFlow","providerId","src","RegistrationToken","FromEmailPin","phvinterstitial","token","type","requestMoneyRes","RecentlyVerified","userEmailError","IncorrectPassportError","SelectedVerificationOption","eidBlock","SignatureResponse","KycPwmb","KycDur","Kyc3ds","KycChq","KycDuc","KycDpl","SAMLResponse","CollectFormData","ppsCountryChanged","VerifyCustomerResp","WUApp","RMSummaryObjects","idRU","BillpayFullWidthEnabled","HideSpinner","SessionIdRetail","SessionInfoRetail","SessionDomainRetail","CountryCodeList","Efl","RetailLimit","CountryCodeList","SelectedPayInOption","AbandonTransactionDetailsData","IsGlobalCollectReload","SPGetProfileResponse","CollectIDTemplateDataByCountry","ProactiveCompliance","ComplianceConfigRules","SMVDocUploadResponse","CustomerLookupData","docIdentifier","SMVDocUploadInvalidErr","ProactiveComplianceTemplate","SenderReceiverRelationship","isOSv2","sendMoneyResponse","maxLimitKey","DutRetryCounter","IDTypeList","IsChangeIdFlow","IDTypeListEN","GCIFormSubmitComplianceData","AvailableMonths","GuestInfo","SelectedIdType","transactionHistoryResp","initiateCustomerVerificationResp","isPayInStoreTabEnabled","showSummaryWidgetTextMsg","CashPickupAirObject","CurrentMTCN","IsAcceptDocsModalViewed","popUpName","ducTokenExpiration","GlobalCollectIdExpiryIssueDateRules"];static#nt=this.receiverEditModeCorridor=["IN","PK","EG"];static#ot=this.inputValidityType={number:"number",alphanumeric:"alphanumeric",regex:"regex"};static#ct=this.countryCodeSelectField="countryCode";static#ut=this.phoneNumberInputField="phoneNumber";static#dt=this.inputValidityRegexPattern={number:"[^0-9]*",alphanumeric:"[^a-zA-Z0-9]*$"};static#lt=this.chinaCountryCodeWithDialNumber="86-CN";static#_t=this.regexGlobal="g";static#mt=this.phoneNumberRegxErrorKey="isPhoneNumberRegxTested";static#gt=this.bankTemplateFieldAccoutType="account_type";static#pt=this.bankTemplateFieldBankLocation="bank_location";static#ht=this.bankTemplateFieldselectListInput="selectListInput";static#Ct=this.bankTemplateMexicoAccountType="selectAccountTypeList";static#ft=this.removeSecurityQuestionsGlobalSwitch={AU:!0,IE:!0,GB:!0,FR:!0,DE:!0,BE:!0,LU:!0,CH:!0,AT:!0,IT:!0,PL:!1,EE:!0,DK:!0,NL:!0,CA:!0,NZ:!0,NO:!0,PT:!0,ES:!1,SE:!1,FI:!0,BR:!0,MP:!0};static#St=this.sdqPurposeField="Purpose";static#yt=this.sdqRelationshipField="Relationship";static#Et=this.sdqSourceOfFundsField="SourceOfFunds";static#At=this.removeSecurityQuestionsSwitch="enable";static#vt=this.switchFundsOutOptionsForReceiverText="enabled";static#Pt=this.switchFundsOutOptionsForReceiverSessionKey="isCashOptionEnabled";static#Dt=this.sessionExpiryModalMinutesText="minutes";static#It=this.usToMxRxCityListMandateKey={name:"cityStateListSelectionMandatory",value:"enabled"};static#Ot=this.airStageQRCode=["HK"];static#Tt=this.anyAgentCode="000";static#Rt=this.ruIntra="?disableAnalytics=true";static#bt=this.loginRedirectApi="enabled";static#Nt=this.invalidD2BCuontries=["BH","BD","BG","EG","GR","ID","IT","MA","NG","PK","RO","SG","LK","TH","VN"];static#Ft=this.autoLogin=!0;static#Lt=this.ONLY_S_AND_P_COUTRIES=["BR"];static#Mt=this.singaporeCountryCode="SG";static#Ut=this.transactionInquiryType={moneyTransfer:"MONEY_TRANSFER",trackingType:{sender:"Sender",receiver:"Receiver",MTCN:"MTCN"}};static#Bt=this.noDecimalCurrencies=["JPY"];static#wt=this.digitallyVerifiedCountries=["gb"];static#kt=this.FTCCountryList=["nz","dk","in","pl","ch","fi","pt","my","hk","si","lu","lv","mt","lt","ee","cy","sk","us","gb","ca","au","de","fr","ru","es","be","se","it","at","no","nl","jp","ie","sg","ar","br","ro","cz","bg","is","hu","hr"];static#xt=this.NTMYWUSITES=["PK","SA","EG","SN","NG","CI","JM"];static#Vt=this.isGooglePhoneValidatorEnabled=!0;static#Kt=this.fireLandState="TIERRA DEL FUEGO";static#Wt=this.sepaCountryList=["AT","BE","CY","DE","EE","GR","ES","FR","FI","IE","IT","PT","LV","LT","LU","MT","NL","SK","SI"];static#Gt=this.realtime=["IN","PH","PK","CN","ID","MX","KE","UA","EC","LK","RW","CZ","VN","BR"];static#Yt=this.buisnessDay=["GE","CR","NG"];static#Ht=this.rangeBuisnessDay=["US","MA","TH"];static#$t=this.inMinutesText=["CO"];static#zt=this.enableDisclaimerForSilverCountry=["IN","PH","PK","NG","CN","ID","MX","MA","US","KE","UA","EC","CO","LK","TH","RW","CZ","GE","CR"];static#jt=this.D2CReceiverCountry=["TH"];static#Jt=this.sendCountry=["HU","IS"];static#Zt=this.CONST_PROGRESSIVE_REGISTRATION_CONTRIES={COUNTRIES:[""]};static#Xt=this.hadoopAnalyticsApiEvents={api_RegisterCustomer:"Signup completed",api_CustomerSignOn:"Login completed",api_SendMoneyValidation:"Send money validation"};static#Qt=this.hadoopAnalyticsClickEvents={"clicked_[send-money-option]_[button-smo-continue]":"Send money estimate completed","clicked_[login]_[button-login]":"Login attempted","clicked_[register]_[button-continue]":"Signup attempted","clicked_[sm-login]_[button-login]":"Login attempted"};static#qt=this.hadoopAnalyticsPageLoadEvents={page_register:"Signup started",page_login:"Login started",page_sendmoneyoption:"Send money started"};static#ei=this.hadoopAnalyticsEvents={...o.hadoopAnalyticsApiEvents,...o.hadoopAnalyticsClickEvents,...o.hadoopAnalyticsPageLoadEvents};static#ti=this.cloudPricingAPI="cloud-pricing/pricing/priceCatalog";static#ii=this.cloudPromoPricingAPI="cloud-promo/PromoAPI/get_promo_discount";static#si=this.lookupAPI="/v2/lookup";static#ri=this.CONST_TRANSACTION_STATUS={IN_PROGRESS:["111","1001","1003","1004"],AVAILABLE:["2000","1007","1021"]};static#ai=this.SHOW_PAYMENT_INSTRUCTIONS=["SG","PT","ES","FI"];static#ni=this.RELAX_REGEX_RECEIVER_COUNTRY=["MX"];static#oi=this.WEB_PARTNER="R3WEB9Z00";static#ci=this.LBP_PARTNER="lbp";static#ui=this.PPS_PARTNER="pps";static#di=this.AUSPOST_PARTNER="auspost";static#li=this.POSTOFFICE_PARTNER="postoffice";static#_i=this.LBP_PARTNER_NON_CLICKABLE_HEADER_LOGO="javascript:void(0);";static#mi=this.POSTEITALIANE_PARTNER="posteitaliane";static#gi=this.POSTBANK_PARTNER="POSTBANK";static#pi=this.ALIPAY_PARTNER="alipay";static#hi=this.LINXO_SANDBOX_RETURNURL="linxo-sandbox://";static#Ci=this.HOSTED_PARTNERS=[o.LBP_PARTNER,o.POSTEITALIANE_PARTNER];static#fi=this.AFFILIATE_PARTNERS=["moneymart","linxo","kroger","viber","tui","ryman","postoffice","vigo","googlespot","auspost","advanceamerica","walmart","deutschebank","fdummyhosted","idummyhosted"];static#Si=this.HOSTED_PARTNERS_REGISTER_DISABLE_FIELDS={[o.LBP_PARTNER]:["firstNameField","lastNameField","dateOfBirthField"],[o.POSTEITALIANE_PARTNER]:["firstNameField","lastNameField","dateOfBirthField","address","genderField","countryOfBirthField"]};static#yi=this.POSTE_ERROR_MAPPING_HANDLING={C2202_R7005:{code:"C2202",subcode:"R7005",redirection:"/doc-upload/app/lookup"},C2202_R1417:{code:"C2202",subcode:"R1417",redirection:!1}};static#Ei=this.DISABLE_FOOTER_NOTES_PARTNERS={[o.AUSPOST_PARTNER]:["receiver","payment"]};static#Ai=this.PERFORMANCEHORIZON_CHANNEL="Partnerize";static#vi=this.PERFORMANCEHORIZON_DOMAIN="prf.hn";static#Pi=this.STAGEANDPAY_CASHTOBANKTRANSACTION_PARTNERLIST=["advanceamerica","walmart","deutschebank","fdummyhosted","idummyhosted"];static#Di=this.PSCSAPIMappping={"/SessionKeepAlive":"/GwpSessionKeepAlive","/CreateSession":"/GwpCreateSession","/EmailValidation":"/GwpValidateEmail","/RegisterCustomer":"/GwpRegisterCustomer","/ValidateToken":"/GwpValidateToken","/ValidateWYHFactors":"/GwpValidateWYHFactors","/GetVerifyWYHFactors":"/GwpGetVerifyWYHFactors","/GetSupportedWYKFactors":"/GwpGetSupportedWYKFactors","/SavePassword":"/GwpSavePassword","/TerminateSession":"/GwpTerminateSession","/GetLoyaltyCards":"/GwpGetLoyaltycards","/ValidateWYKFactors":"/GwpValidateWYKFactors","/RedeliverToken":"/GwpRedeliverToken","/GetLimits":"/GwpGetLimits","/GetTransactionDetails":"/GwpGetTransactionDetails","/CustomerSignOn":"/GwpCustomerSignon","/GetCustomerVerificationStatus":"/GwpGetCustomerVerificationStatus","/GetReceivers":"/GwpGetReceivers","/GetBanks":"/GwpGetBanks","/CreateFXAlerts":"/GwpCreateFXAlerts","/GetFXAlerts":"/GwpGetFXAlerts","/UpdateFXAlerts":"/GwpUpdateFXAlerts","/GetCreditCards":"/GwpGetCreditcards","/AddReceivers":"/GwpAddReceivers","/AddCreditCards":"/GwpAddCreditcards","/DeleteCreditCards":"/GwpDeleteCreditcards","/UpdateCreditCards":"/GwpUpdateCreditcards","/AddBanks":"/GwpAddBanks","/GetCustomerProfile":"/GwpGetCustomerProfile","/UpdateCustomerProfile":"/GwpUpdateCustomerProfile","/TransactionInquiry":"/GwpTransactionInquiry","/GetCustomerStatus":"/GwpGetCustomerStatus","/UpdateReceivers":"/GwpUpdateReceivers","/SendMoneyValidation":"/GwpSendMoneyValidation","/ExtractOCR":"/GwpExtractOCR","/SignUpAsLead":"/GwpSignUpAsLead","/VerifyKYCData":"/GwpVerifyKYCData","/GetNonDigitalTxns":"/GwpGetNonDigitalTxnHistory","/AuthenticateCustomer":"/AuthenticateCustomer","/GetQuestionnaireAndPendingDocs":"/GetQuestionnaireAndPendingDocs","/GetIdVerificationStatus":"/GwpGetIdVerificationStatus","/SubmitQuestionnaire":"/SubmitQuestionnaire","/MobileReload":"/GwpMobileReload","/UploadDMSDoc":"/GwpUploadDMSDoc","/GetIFSC":"/GwpGetIFSCCode","/SaveOCRData":"/GwpSaveOCRData","/VendorInfo":"/GwpGetVendorInfo","/GetQRCode":"/GwpGetQRCode","/GetTokenStatus":"/GwpGetTokenStatus","/GetVendorVerificationResult":"/GwpGetVendorVerificationResult","/GetSelfieInitiated":"/GwpGetSelfieInitiated","/GetRAFProfile":"/GwpGetRAFProfile","/ValidateTransactionInfo":"/GwpValidateTransactionInfo","/ValidateSelfServTransaction":"/GwpValidateSelfServTransaction","/GetCaptcha":"/GwpGetCaptcha","/DeleteBanks":"/GwpDeleteBanks","/GetPPSCustomer":"/GwpGetPPSCustomer","/GetCustomerInfo":"/GwpGetCustomerInfo","/GetRewards":"/GwpGetRewardsList","/data/GetTokenData":"/GwpJsonData","/IDCompliance/GetCompliance":"/GwpGetComplianceData","/CreateJWT":"/GwpCreateJWT","/GetScheduleReminders":"/GwpGetScheduleReminders","/GetCustomerDetailsById":"/GwpGetCustomerDetailsById","/data/DeleteTokenData":"/GwpDeleteToken","/GetDatabase":"/GwpGetDatabase","/AvailableKYCOptions":"/GwpAvailableKYCOptions","/CancelTransaction":"/GwpCancelTransaction","/CreateScheduleReminders":"/GwpCreateScheduleReminders","/pwmb/signature":"/GwpPwmbTransactionSignature","/GetVOUCHRToken":"/GwpGetVOUCHRToken","/GetRAFToken":"/GwpGetRAFToken"};static#Ii=this.R3R4APIMapping={"/PartnerToken":"/mbreload/v1/generate/partnerToken"};static#Oi=this.R4_OperationNameMapping={"/PartnerToken":"mobileReloadCustomerToken"};static#Ti=this.CJEventMapping={"/CJEventReferral":"/loyalty/v2/referral"};static#Ri=this.TRANSACTION_HISTORY_XLSX="Transaction_History.xlsx";static#bi=this.usStates={AA:"Aa-US Military",AE:"Ae-US Military",AK:"Alaska",AL:"Alabama",AP:"Ap-US Military",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"Dist Of Col",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MP:"Northern Mariana Islands",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"};static#Ni=this.canadaStates={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"};static#Fi=this.monthsKeys=["Jan_01","Feb_02","Mar_03","Apr_04","May_05","Jun_06","Jul_07","Aug_08","Sep_09","Oct_10","Nov_11","Dec_12"];static#Li=this.dssDisabledProviderList=["MARITIME"];static#Mi=this.changeCountryCurrency={BA:[{BAM:"BAD"}],RU:[{RUB:"RUR"}],UY:[{UYU:"UYP"}],VE:[{VEF:"VIB"}],ST:[{STD:"STN"}]};static#Ui=this.receiverCorridors=["IN","PH","US","PK","TR","TH"];static#Bi=this.redirectableStatusCodes=["2000","1007","1021","111","1001","1003","1004"];static#wi=this.redirectablePayoutCodes=["000","M11","M12","M13","M14","M15","M16","M17","M18","301","302","304","308","316","332","400"];static#ki=this.excludeCorridorBankCity=["AU-AU","AU-BD"];static#xi=this.showWireTransferModalCountries=["HK","AR","BR","FR","ES","PT","SE","NO","CH","FI"];static#Vi=this.showDigitalHomeDeliveryRecvCountries=["DO"];static#Ki=this.showAdditionalWuPayAddressCountry=["ES","PT","FI"];static#Wi=this.trustlyExpressCountries=["NO","SE","FI","DK"];static#Gi=this.partner_kroger="kroger";static#Yi=this.partner_advanceamerica="advanceamerica";static#Hi=this.US_AFFILIATE_PARTNERS=[o.ALIPAY_PARTNER,o.partner_advanceamerica];static#$i=this.cloudPricingAPIForPartners={VIGO:{client:"VIGOAPP",channel:"WCON"},MONEYMART:{client:"MONEYMART",channel:"WCON"},LINXO:{client:"LINXO",channel:"WCON"},KROGER:{client:"KROGER",channel:"WCON",cloudPricingAPIenbaleForRetail:!0},POSTOFFICE:{client:"POSTOFFICE",channel:"WCON"},RYMAN:{client:"RYMAN",channel:"WCON"},TUI:{client:"TUI",channel:"WCON"},POSTEITALIANE:{client:"POSTEITALIANE",channel:"WCON"},LBP:{client:"LBP",channel:"WCON"},GOOGLESPOT:{client:"GOOGLESPOT",channel:"WCON"},ADVANCEAMERICA:{client:"ADVANCEAMERICA",channel:"WCON",cloudPricingAPIenbaleForRetail:!0},WALMART:{client:"WALMART",channel:"WCON",cloudPricingAPIenbaleForRetail:!0},DEUTSCHEBANK:{client:"DEUTSCHEBANK",channel:"WCON",cloudPricingAPIenbaleForRetail:!0},IDUMMYHOSTED:{client:"IDUMMYHOSTED",channel:"WCON",cloudPricingAPIenbaleForRetail:!0},FDUMMYHOSTED:{client:"FDUMMYHOSTED",channel:"WCON",cloudPricingAPIenbaleForRetail:!0},AUSPOST:{client:"AUSPOST",channel:"WCON",cloudPricingAPIenbaleForRetail:!0,AUSPOST_RETURNTOPARTNERWITHLOGOUT:"RETURNTOPARTNERWITHLOGOUT"},POSTBANK:{client:"POSTBANK",channel:"WCON"}};static#zi=this.cloudPricingAPIForPPS={GB:{BRIGHTWELL:{USD:{Default:{channel:"WCON",client:"BRIGHTWELLUK"}},EUR:{Default:{channel:"WCON",client:"BRIGHTWELLUK"}}},MARITIME:{USD:{Default:{channel:"WCON",client:"MARITIMEUK"}},EUR:{Default:{channel:"WCON",client:"MARITIMEUK"}}}},US:{MARITIME:{USD:{Default:{channel:"WCON",client:"MTIMEWGMCL"}}},CITI:{USD:{Default:{channel:"WCON",client:"WIRECARDACC"}}},WIRECARD:{USD:{Default:{channel:"WCON",client:"WIRECARDACC"}}},BRIGHTWELL:{USD:{265:{channel:"WCON",client:"BWELLACC"},290:{channel:"WCON",client:"BWELLACCL"},Default:{channel:"WCON",client:"BWELLACB"}}}}};static#ji=this.smoPageRibbonOnPayinMethod={IT:{PayIn:"CreditCard"}};static#Ji=this.smoPageNewLabelOnPayinMethod={GB:{PayIn:"Plaid"},FR:{PayIn:"Plaid"},IT:{PayIn:"Plaid"},DE:{PayIn:"Plaid"},ES:{PayIn:"Plaid"},BR:{PayIn:["CreditCard","DebitCard"]}};static#Zi=this.cookieNotAllowedPartners=["GOOGLESPOT"];static#Xi=this.DOWNLOAD_DISABLED_COUNTRIES=["US-googlespot"];static#Qi=this.COUNTRY_LIST="COUNTRY_LIST";static#qi=this.TOP_COUNTRIES="TOP_COUNTRIES";static#es=this.SENDER_COUNTRIES="sender_country_list";static#ts=this.COUNTRY_LIST_POSTEITALIANE=o.COUNTRY_LIST+"_"+o.POSTEITALIANE_PARTNER.toUpperCase();static#is=this.TOP_COUNTRIES_POSTEITALIANE=o.TOP_COUNTRIES+"_"+o.POSTEITALIANE_PARTNER.toUpperCase();static#ss=this.COUNTRY_LIST_LBP=o.COUNTRY_LIST+"_"+o.LBP_PARTNER.toUpperCase();static#rs=this.TOP_COUNTRIES_LBP=o.TOP_COUNTRIES+"_"+o.LBP_PARTNER.toUpperCase();static#as=this.COUNTRY_LIST_PPS=o.COUNTRY_LIST+"_"+o.PPS_PARTNER.toUpperCase();static#ns=this.TOP_COUNTRIES_PPS=o.TOP_COUNTRIES+"_"+o.PPS_PARTNER.toUpperCase();static#os=this.partnerName="partnerName";static#cs=this.wuProductCodes=["000","041","400","M10","M11","M12","M13","M14","M15","M16","M17","M18"];static#us=this.wuPayoutCodeMapping={"000":"AG",600:"MT",500:"BA",800:"WA",200:"D2C","041":"AG",400:"AG",M10:"AG",M11:"AG",M12:"AG",M13:"AG",M14:"AG",M15:"AG",M16:"AG",M17:"AG",M18:"AG"};static#ds=this.wuWalletPdfDownload=["JM"];static#ls=this.resumeTransferMappingRoutes={receiver:"receiver","Send Money | Receiver":"receiver","Send Money | Receiver Add Or Edit":"receiver","Send Money | Payment add":"payment","Send Money | Payment edit":"payment","Send Money | Bank":"payment","Send Money | Bank edit":"payment","Send Money | Add Bank List":"payment","SMAddBank.PWMB":"payment","SMAddBank.Manual":"payment","SMAddBank-PWMBCompletion":"payment","Send Money | Payment":"payment","Send Money | PWMB Bank add establish failed":"payment","Send Money | Bank add Paramount":"payment","Profile Update | Progressive":"completeyourprofile",completeyourprofile:"completeyourprofile",SMAddBank:"payment","Electronic Verification":"idverification","DS-ID-Verification":"idverification",idverification:"idverification","Send Money | Bank add":"payment",payment:"payment","Compliance.Lower HPMT Txn Amount":"globalcollectid","Compliance.Digital_Compliance":"globalcollectid","Digital KYC Additional Info":"globalcollectid",globalcollectid:"globalcollectid","ModelBSenderCompliance.IdentityInfo":"globalcollectid","ModelBSenderCompliance.SecondaryIdentityInfo":"globalcollectid","ModelBSenderCompliance.SelfDeclaredQuesInfo":"globalcollectid","id-details":"id-details","Send Money | Review":"review",review:"review",PEP_Questions:"pep",pep:"pep",payInChange:"payInChange",SoftDecline:"SoftDecline",collectidconfirm:"collectidconfirm",collectidcollect:"collectidcollect",collectidpep:"collectidpep",collectidsdq:"collectidsdq",collectiderror:"collectiderror","eid.choose":"eid.choose","collectid.choose":"collectid.choose","EID List":"eid.choose","select-doc":"select-doc","Preview Profile | Progressive":"completeyourprofile","kyc-skc":"kyc-skc"};static#_s=this.SCHEDULE_REMINDER_FEATURE_FLAG="CREATE_SCHEDULED_TRANSFER";static#ms=this.SCHEDULE_REMINDER_SESSION_VARIABLE="Scheduled_Transfer_Enabled";static#gs=this.REMINDER_FREQUENCY={DAILY:"DAILY",WEEKLY:"WEEKLY",BIWEEKLY:"BIWEEKLY",MONTHLY:"MONTHLY",ONETIME:"ONETIME"};static#ps=this.SCHEDULE_FREQUENCY={DAILY:"DAILY",WEEKLY:"WEEKLY",BIWEEKLY:"BIWEEKLY",MONTHLY:"MONTHLY",ONETIME:"ONETIME"};static#hs=this.ADD_REM_DATEPICKER_VAL={default:"DEFAULT",postSelection:"POST_SELECTION"};static#Cs=this.PROGRESSIVE_REGISTER_FIELDS={JP:{fNameMaxLength:26}};static#fs=this.uploadlaterlbp={upload:"later"};static#Ss=this.requestdeclinelbp={request:"decline"};static#ys=this.postalcodelbp="75008";static#Es=this.nonEligibleResendPayouts=["MT"];static#As=this.requestBodyEmail="EMAIL";static#vs=this.requestBodySms="SMS";static#Ps=this.requestBodySCV="WU_DIGITAL_SCV";static#Ds=this.nonEligibleRecvCountriesForResendMTPayout=["KE"];static#Is=this.ediValidationErrorsProgReg={C6359:"firstName",C6360:"middleName",C1888:"lastName"};static#Os=this.ediValidationErrorsReg={C6359:"firstNameField",C6360:"middleNameField",C1888:"lastNameField",C1898:"dateOfBirthField",C1883:"address",C9301:"address",C2021:"address",C1884:"address",C1903:"address",C9221:"phoneNumberField"};static#Ts=this.ediValidationErrorsFormGroups={C1883:"addressLine1",C9301:"addressLine2",C2021:"addressState",C1884:"addressCity",C1903:"addressZipcode",C9221:"mobileNumber"};static#Rs=this.ediError="C1139";static#bs=this.EDI_VALIDATION_NAME_ERRORS_FOR_RECEIVER_AU={C5544:"middleName",C1866:"firstName",C1869:"lastName"};static#Ns=this.EDI_VALIDATION_ADDRESS_ERRORS_FOR_RECEIVER_AU={C1864:"city",C1875:"zipCode",C1862:"addressLine1",C1878:"state",C0902:"addressLine2"};static#Fs=this.EDI_VALIDATION_PHONE_ERRORS_FOR_RECEIVER_AU={C7055:"phoneNumber"};static#Ls=this.AIR_ONLY_COUNTRIES=["BR"];static#Ms=this.DATE_FORMAT_DSS={gb:o.DDMMYYYY,default:o.DDMMYYYY};static#Us=this.MASKED_DATE_FORMAT_DSS={gb:"00/00/0000",default:"00/00/0000"};static#Bs=this.DATE_FORMAT={US:"MM/DD/YYYY",FR:o.DDMMYYYY,DEFAULT:o.DDMMYYYY};static#ws=this.bankPlaceholderCountriesBankDropDown=["MA","MX","IN","NG","RU"];static#ks=this.rasdSenderEnabled={FR:["US","FR","IT","DE","GB"]};static#xs=this.evergagePlaceholderConfig={evergage_AccBasedPlaceholder:["MX","MA","NG","RU"],IBAN_Placeholder_Evergage:["TR","ES","PL"],IBAN_Evergage:["FR","PK","EG"],IFSC_Placeholder_Evergage:["IN"]};static#Vs=this.bankPlaceholderCountriesWithoutEvergage=["CO","IN","LK","ID"];static#Ks=this.taxAppliedCountries=["IN"];static#Ws=this.availableProgressBarSteps=["receiver","payment","review","receipt"];static#Gs=this.disableProgressBarPartners=["posteitaliane","moneymart","kroger","ryman","tui","postoffice","lbp","auspost","linxo","advanceamerica","walmart","deutschebank","idummyhosted","postbank"];static#Ys=this.holdPreviousState=["completeyourprofile","globalcollectid","confirmidentity-3","confirmidentity-2","confirmidentity-1"];static#Hs=this.payInMethodsWithOutPaymentPage=["AG","FPX","POLI","SOFORT","WUPAY","TAPNGO","TRUSTLY","IDEAL","PARTNERFUNDS","GOOGLEPAY","MW","IBP","PAYNOW"];static#$s=this.availableProgressBarStepsWotPayment=["receiver","review","receipt"];static#zs=this.hideProgressBarReceiverOption=["bill-pay","inmate-pay","my-receivers"];static#js=this.NAMETYPENOTREQUIRED=["BR"];static#Js=this.CountriesWithRetailCustomerProfileCallDisabled=["US","US-KROGER","US-ADVANCEAMERICA"];static#Zs=this.CardType={VISA:["JM","BY","BA","KZ","IL","GR","CO","PE","SG","PH","MY","AZ","HN","KG","HT","MK","AL","SV"],MASTER:["RU","RO","K1","HR","HU","YU","SK","TR"],PRIVAT:["UA"]};static#Xs=this.CONST_CARD_TYPE_D2C={PRIVAT:["UA","IN","GB","BE","DE","GT","LU","IT","BO","NG","LK","VN","AD","AT","CY","EE","FI","FR","IS","LV","LT","DO","CN"],VISA:["JM","BY","BA","KZ","IL","GR","CO","PE","SG","PH","MY","AZ","HN","KG","HT","MK","AL","SV","PK","ID","MA"],MASTER:["RU","RO","K1","HR","HU","YU","SK","TR","ES"]};static#Qs=this.AXA_ENABLED_COUNTRIES=["fr"];static#qs=this.CountryAccountType={MX:{account_number:"CLABE",acc_number:"Account Number",debit_card_number:"Debit Card"},CU:{acc_number:"Account Number",debit_card_number:"Debit Card"}};static#er=this.bankInfoAccNumber="acc_number";static#tr=this.bankInfoConfirmAccNumber="confirm_acc_number";static#ir=this.DEBIT_CARD_ACCOUNT_TYPE="debit_card_number";static#sr=this.accountTypeMexico=["MX","CU"];static#rr=this.clabeInfoNumber="account_number";static#ar=this.mexicoAccountType={CLABE:"CLABE",BANK:"BANK",CARD:"DEBIT"};static#nr=this.AccountTypeDropdownText="Account type";static#or=this.localCurrencyD2bSenderCountry=["DE","AT","CH","EE","PL"];static#cr=this.localCurrencyD2bReceiveCountry=["TR-TRY"];static#ur=this.BANK_SUPPORT_CARD_TYPE={PRIVAT:["MX"]};static#dr=this.USCUD2BEnableFlag="US_CU_D2B_FLAG";static#lr=this.MILITARY_BASE_COUNTRY_CODES=["US","QM","QO","QP","QQ","QR","QS","QT","QU","QV","QW","QX","QY","QZ","XF","XN","XP","XT","XY"];static#_r=this.IBAN_FIELD_REF="iban_account_number";static#mr=this.UPILIMIT=2e5;static#gr=this.RTRA_IACH_LIMIT=1e4;static#pr=this.iACHDelUsuallyRealTime="usuallyDeliverRealTime";static#hr=this.iACHDelRealTime="realTime";static#Cr=this.FUNDSOUT_UPI="upi";static#fr=this.FUNDSOUT_PIX="pix";static#Sr=this.FUNDSOUT_C2B="c2b";static#yr=this.BANK_ACCOUNT="bank_account";static#Er=this.BA="ba";static#Ar=this.ONE_EID_REDIRECTION=["franceconnect","nemid"];static#vr=this.excludeCorridorsForIndiaC2C=["TH","EG"];static#Pr=this.ABANDONED_CART="abandonedCart";static#Dr=this.thirdPartyConsentDefaultOptedUSStates=["CA","ND","VT"];static#Ir=this.thirdPartyConsentDefaultOptedCountry=["AR","HK","JP","MY","IN"];static#Or=this.PPSLanguageSelectorConfig={countries:["US"],pages:["login","register","register-cruise-init"]};static#Tr=this.PPSCOUNTRY=["GB-PPS"];static#Rr=this.NONSWBDALWARESTATE="DE";static#br=this.BANKPAYOUTCODE="BA";static#Nr=this.USSENDERCOUNTRY="US";static#Fr=this.loginOtpOption="loginOtpOption";static#Lr=this.MXACCOUNTTYPEAMPLITUDETYPE={bank:"account_number",debit:"debitcard",clabe:"clabe"};static#Mr=this.GETRETAILCUSTOMERPROFILE={Enable_Partners:["AUSPOST","WALMART","DEUTSCHEBANK","FDUMMYHOSTED","IDUMMYHOSTED"],Enable_Countries:["JP"]};static#Ur=this.MANUAL_LOGIN_DC_VAL={1:{eligible:1,attempt:"NA",success:"NA"},0:{eligible:0,attempt:"NA",success:"NA"}};static#Br=this.FORM_FIELDS_MAPPING_AMPLITUDE={firstName:"textbox-fname",middleName:"textbox-mname",lastName:"textbox-lname",email:"textbox-email",password:"textbox-password",emailAddress:"textbox-emailaddress",marketingOptions:"checkbox-offers-news",thirdPartyConsent:"checkbox-3rd-party-data-sharing",legalTermsAndConditions:"checkbox-terms-and-conditions",purposeOfTransaction:"dropdown-purpose-of-transaction",sourceOfFunds:"dropdown-source-of-funds",countryCode:"dropdown-country-code",service_provider_code:"dropdown-service-provider-code",service_provider_name:"dropdown-service-provider-name",wallet_account_number:"textbox-wallet-account-number",bank_code:"dropdown-bank-code",bank_name:"dropdown-bank-name",account_number:"textbox-account-number",confirm_account_number:"textbox-confirm-account-number",phoneNumber:"textbox-phone-number",relationshipToReceiver:"dropdown-relationship-to-receiver",swift_code:"dropdown-swift-code",branch_code:"dropdown-branch-code",branch_code_filter_key:"dropdown-branch-code-filter-key",debit_card_number:"textbox-debit-card-number",addressLine1:"textbox-address-line1",addressLine2:"textbox-address-line2",city:"textbox-city",state:"dropdown-state",zipCode:"textbox-zip-code",bank_name_filter_key:"dropdown-bank-name-filter-key",upi_id:"textbox-upi-id",account_selected_type:"textbox-account-selected-type",account_type_filter_key:"dropdown-account-type-filter-key",account_type:"dropdown-account-type",routing_number:"textbox-routing-number",sort_code:"textbox-sort-code"};static#wr=this.FORM_FIELD_STATUS={VALID:"VALID",INVALID:"INVALID"};static#kr=this.FORM_FIELDS_NAMES=["firstName","middleName","lastName","email","marketingOptions","legalTermsAndConditions","thirdPartyConsent"];static#xr=this.FORM_FIELD_NAME_PASSWORD="password";static#Vr=this.AUTO_LOGIN_DC_VAL={1:{eligible:1,attempt:1,success:1},0:{eligible:"NA",attempt:1,success:0}};static#Kr=this.fxAlertStatusCodes={DEFAULT:"DEFAULT",SUCCESS:"SUCCESS",UPDATE:"UPDATE",UPDATE_SUCCESS:"UPDATE_SUCCESS",ERROR:"ERROR"};static#Wr=this.EID_RELATED_UX_CHANGES=["FI","BE"];static#Gr=this.UPI_FEATURE="UPI_FEATURE";static#Yr=this.DISABLE_QUICK_RESEND=!1;static#Hr=this.PPS_US_COUNTRY_LANGUAGE_LIST={EN:{en:"English",es:"Spanish"},ES:{en:"Ingl\xe9s",es:"Espa\xf1ol"}};static#$r=this.GCVSTATUS={KYCSTATUS:"INITIATED",IDVV_STATUS:"I"};static#zr=this.socialProofingEnabledCorridors={US:["US","MX","IN","PH","JM","CO","DO"],FR:["US","MX","IN","PH","JM","CO","DO"],GB:["US","MX","IN","PH","JM","CO","DO"],DE:["US","MX","IN","PH","JM","CO","DO"],IT:["US","MX","IN","PH","JM","CO","DO"],PT:["US","MX","IN","PH","JM","CO","DO","BR","CV","MZ","GW","AR","SN","VE"],SG:["US","MX","IN","PH","JM","CO","DO","BR","CV","MZ","GW","AR","SN","VE","ID","MY","VN","CN","LK","BD","TH","MM","KH","NP"],MY:["US","MX","IN","PH","JM","CO","DO","BR","CV","MZ","GW","AR","SN","VE","ID","MY","VN","CN","LK","BD","TH","MM","KH","NP"],HK:["US","MX","IN","PH","JM","CO","DO","BR","CV","MZ","GW","AR","SN","VE","ID","MY","VN","CN","LK","BD","TH","MM","KH","NP"],JP:["US","MX","IN","PH","JM","CO","DO","BR","CV","MZ","GW","AR","SN","VE","ID","MY","VN","CN","LK","BD","TH","MM","KH","NP"],IN:["US","MX","IN","PH","JM","CO","DO","BR","CV","MZ","GW","AR","SN","VE","ID","MY","VN","CN","LK","BD","TH","MM","KH","NP"]};static#jr=this.AIR_MESSAGING_BANNER_PLACEMENT={TOP:"top",BOTTOM:"bottom"};static#Jr=this.AIR_MESSAGING_BANNER_TYPE={PROMO:"Promo"};static#Zr=this.UNFAVORITE_OVERLAY_TIMEOUT=5e3;static#Xr=this.LEAD_ACCOUNT_RESPONSE={NEW:"NEW",DUPLICATE:"DUPLICATE",DIGITALCUSTOMER:"DIGITALCUSTOMER"};static#Qr=this.CARDTYPE={DEBIT:"DEBIT",CREDIT:"CREDIT"};static#qr=this.VISIT_EVENT_PROPS=["ab_test","ab_test_variant","current_url","wu_device_id","device_id","logged_in","page_name","partner_name","prz_clickref_id","sender_country","session_id","src_parameter","utm_campaign","utm_medium","utm_content","utm_source","utm_term","wu_platform"];static#ea=this.RECEIVER_COUNT_REACHED_ERRORS=["C2204","C2205"];static#ta=this.SEND_TO_HOME_COUNTRY_ERRORS=["C2206"];static#ia=this.SEND_LIMIT_ERRORS=["C2203"];static#sa=this.MAP_SEND_AGAIN_BANK_DATA_PROPERTY_TO_RECEIVER_MODEL_BANK_DATA={accountNumber:"account_number",accountSelectedType:"account_selected_type",accountType:"account_type",account_prefix:"account_prefix",bankName:"bank_name",bank_code:"bank_code",branch_code:"branch_code",currency:"currency",financial_id:"financial_id",id:"id",reason:"reason",routingNumber:"routing_number",swift_number:"swift_number",upi_id:"upi_id",customerName:"customer_name"};static#ra=this.QUICK_RESEND_SMO_AMP_PARAMETER={receiverUpdate:"receiver-update",paymentType:"payment-update",countryrestriction:"country-restriction",resendSuccessful:"true",resendUnseccussful:"false"};static#aa=this.FULLY_RAMPEDUP_FEATURE_FLAGS={LOGIN_WITH_PHONE_NUMBER:{countries:"HK,SG,MY"},PWDRESET_WITH_PHONE_NUMBER:{countries:"HK,SG,MY"}};static#na=this.RESUME_STATES_POST_PAYMENT=["completeyourprofile","globalcollectid","id-details","review","collectidconfirm","collectidcollect","collectidpep"];static#oa=this.USER_PAGE_NAME=["receiver","payment"];static#ca=this.featureEnabledForReceiver={RECEIVER_PAYOUT_D2C:"UA",RECEIVER_PAYOUT_BANNER:"RU,LR,HT,CN,LB,VE",DISPLAY_STATE_NAME_FROM_DROPDOWN:"MX",GETWALLETFLAG:"SN,GH,CD,NG,CM,KE,BD,UG,CI,FJ,MW, MZ,ET,ZM,BI,KH,CN,VN,ID,GN,BW,WS,SV,TZ,ZW,ML,TO,GA,LR,GW,SL,MN,PH,PK,MX",GETD2CRECVRFLAG:"TH,JM,RU,RO,YU,HU,K1,HR,SK,BY,BA,KZ,IL,GR,CO,UA,PE,SG,PH,TR,MY,AZ,HN,HT,KG,MK,AL",GETBANKFLAG:"",US_CU_D2B_FLAG:"",RECEIVER_OPTIMUMS_VERSION_V3:"MX",MERGE_BANK_IN_INFO_POPUP:"ALL",RECV_PAGE_OPT_IN:"IN",RECV_PAGE_OPT:"IN",RECEIVER_COUNTRY_WITH_ACCOUNT_NUMBER_SUFFIX_FIELD:"HK",OPTIONAL_LABEL_CHANGE:"ALL"};static#ua=this.HIDE_PAGE_LEVEL_ERRORS=["C1131"];static#da=this.receiver_National_IdFieldCorridor=["CO"];static#la=this.display_wallet_logo={BD:"bKashImage",IN:"paytmImage",MX:"mercadoPagoImage",AR:"pagoFacilImage"};static#_a=this.receiver_country_with_zipValidation=["IN","GT","PE"];static#ma=this.R3_COUNTRIES_LISTS=["AR","AT","BE","BG","BR","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","HK","HR","HU","IE","IN","IS","IT","JP","LI","LT","LU","LV","MT","MY","NL","NO","NZ","PL","PT","RO","SE","SG","SI","SK","US"];static#ga=this.sortBranchList=["JM"];static#pa=this.mailingAddrAmountLimit=3e3;static#ha=this.RELAX_REGEX_SENDER_RECEIVER_LIST={US:"MX",GB:"IN PK PH",FR:"MA FR SN",NZ:"FJ PH",DE:"TR YU",CH:"KI YU",BE:"MA CD",DK:"PH AR"};static#Ca=this.C2201_r_errorcode_messages=["R8824"];static#fa=this.subErrorcode_messages={C2201:["R8824","R1232","R9312"],C2212:["R4025"],C2213:["R8024"],C2214:["R1097"],C7777:["R1537"],C4138:["R4138"]};static#Sa=this.DCAAS_TRANSLATE={us:!0,fr:!0};static#ya=this.WUCONNECT_DCAAS="/wuconnect/dcaas/";static#Ea=this.KIOSK_DCAAS_METHOD={"list.optimus":!0,kioskoptimusjson:"caas-config/kioskpartnerconfig?config={{config}}&&dcaasversion={{dcaasversion}}","lookup.optimus":"caas-config/lookupconfig?config={{config}}&language={{language}}&dcaasversion={{dcaasversion}}","registration.optimus":"caas-config/senderconfig","receiver.optimus":"csv-config/receiverconfig","collectid.optimus":"csv-config/collectid"};static#Aa=this.PARTNER_KEY_VALUE={WAG:"Walgreens",LBP:"LBP",DLGN:"DollarGeneral",DUAN:"duan",PTC:"PTC"};static#va=this.plaidPayInSupportedCountries=["GB","FR","IT","DE"];static#Pa=this.pennyDropSubscriptionId="3d98bae5f697065882b9";static#Da=this.HTTP_FAILURE_MSG="Http failure response. Please wait in sometime.";static#Ia=this.KIOSK_OPTIMUS_TEMPLATES=["receiver.optimus","registration.optimus","lookup.optimus"];static#Oa=this.PHONE_NO_LOOKUP_ENABLED_PARTNERS=["LBP"];static#Ta=this.PHONE_NO_LOOKUP_FR_TERRITORIES=["FR","RE","YT","GF","MQ","MF","BL","GP"];static#Ra=this.differentDOBFormatCountires=["BG","HR"];static#ba=this.OVERRIDE_CURRENCY_CONFIG=[{sender:"US",receiver:"HR",oldCurrency:"HRK",newCurrency:"EUR"},{sender:"US",receiver:"ST",oldCurrency:"STD",newCurrency:"STN"},{sender:"FR",receiver:"ST",oldCurrency:"STD",newCurrency:"STN"}];static#Na=this.FeatureFlag_Stage="kiosk_featureflag_stage";static#Fa=this.FeatureFlag_PROD="kiosk_featureflag_prod";static#La=this.QR_VERIFICATION_UAT="kiosk-cloud/assets/assets/images/uat-wu-verification-QR.png";static#Ma=this.QR_VERIFICATION_PROD="kiosk-cloud/assets/assets/images/WU-verification-QR.svg";static#Ua=this.arCurrency="ARS";static#Ba=this.KIOSK_RECEIVER_CONFIG_VERSION_V3_COUNTRIES=["MX","CU"];static#wa=this.BANK_ERRORS=["C9999","C5292","C2281","C1662","C5003","C2912","C7124","C9162","C1322","C1796","C1321","C1336","C7119","C1300","C1305","C1798","C7121","C7118"];static#ka=this.MFA_ERRORS=["C5073","C1789","C9999","C5074","C5075","C5064"];static#xa=this.MAX_MFASENT=["C5074"];static#Va=this.GIFT_PROMO_IDENTIFIER="GIFT";static#Ka=this.ADS_AMPLITUDE_EVENTS={AdBlockerEvent:"ad_blocker_opted-in",AdOTEvent:"ot_opted-out",AdIntilizedEvent:"ad_initialized",AdLoadedEvent:"ad_loaded",AdClickedEvent:"ad_clicked",AdExitEvent:"page_exit-before-ad-load",PubmaticRequest:"pubmatic_request",PubmaticResponse:"pubmatic_response",AdType:"ad_type",AdLoadTime:"ad_load_time",AdAchorLoaded:"ad_anchor_loaded",AdAnchorClicked:"ad_clicked"};static#Wa=this.AD_AMPLITUDE_EVENT_NAME="ad_load_performance";static#Ga=this.PEP_CATEGORY_LIST_UNI01_IT_1_3_CCD="PEP_CATEGORY_LIST_UNI01";static#Ya=this.WU_PLATFORM="r3_responsive_web";static#Ha=this.DSR_ENABLED_RECEIVER_COUNTRIES={countryCode:"BD",currencyCode:"BDT"};static#$a=this.LATIN_COUNTRY_LIST=["BO","BR","CL","CO","CR","DO","EC","SV","GT","GY","HN","MX","NI","PA","PY","PE","ES","UY","VE","CU"];static#za=this.COLLECT_ID_REDIRECT_C_ERRORS=["C9785","C9779"];static#ja=this.COLLECT_ID_REDIRECT_R_ERRORS=["R1994","R1951"];static#Ja=this.WU_PREPAID_LOWER_ENVIRONMENT_URL=" https://wu-tst4.outsystemsenterprise.com/Prepaid/";static#Za=this.HIDE_ERROR_CODE=["C1282","C6357","C2012","C2016","C2013","C2010","C2014","C1997","C2011","C2228","C1974","C2002","C7772","C7773","C7774","C2065","C2066","C2067","C2068","C2069","C8618","C2201","C7788","C2720","C7127","C9293","C9294"];static#Xa=this.OPT_DECLINE_PAGE_ENABLED=["C7788","C2013"];static#Qa=this.INFO_TOOLTIP_ENABLED_CORRIDORS=["TR"];static#qa=this.HIDE_HEADER_MENU=["menu-profile","menu-history","menu-myreceivers","menu-mywu","menu-manage-reminder"];static#en=this.KEY_GAM="GAM";static#tn=this.CUSTOM_HEADERS={WuServicename:{"wu-servicename":"proxy"}};static#in=this.TERRITORIES={US_TERRITORY_LIST:["GU","MP","PR","VI","AS"],US_MILITARYBASE_LIST:["XP","QQ","QS","QV","QO","QZ","XY","QR","QX","QP","QM","QN","XF","QU","QT","XT","QY","AB","XN","QW"],CONFIG:{MP:{enabled:!0,retail_only:!0,limit:{max:5e3,min:1}}}};static#sn=this.CONST_MFA={MFA_RESEND_COUNT_DOWN_TIMER:30,OTP_ATTEMPTS:3,VERIFY_OTP_ATTEMPTS:3,MFA_SEND_OTP_METHOD:"MfaOtpSend",MFA_OTP_VERIFY_METHOD:"MfaVerifyOTP",MFA_VERIFY_OTP_API_RESOURCE:"/wudgtsrvs/mobiliser/rest/channel/GwpMfaFactorVerify",MFA_SEND_OTP_API_RESOURCE:"/wudgtsrvs/mobiliser/rest/channel/GwpMfaFactorSend",MFA_REQUEST_HEADER_KEY_NAME:"A4kgk7nd_afm",MFA_REQUEST_HEADER_KEY_VALUE:"R240350",REQUEST_CODE_CTA:"request_code_cta",MFA_VERIFY_OTP_CTA:"mfa_verify_otp_cta",MOBILE_INPUT_INFOR_POPUP:"mobilenumber-info-popup",MOBILE_NUMBER_OTP_POPUP:"mobilenumber-otp-popup",MFA_RESPONSE_SUCCESS_STATUS:"SUCCESS",MFA_STATE_TOKEN_ERROR_CODES:["C5008"],MFA_INVALID_EXPIRED_ERROR_CODES:["C5073","C5064"],MFA_VERIFY_API_ERROR_CODES:["C5073","C5064","C5075","C1789"],MFA_SEND_API_ERROR_CODES:["C5073","C5064","C5074","C1789"],MFA_DEFAULT_OTP_EXPIRE_MSG:"Invalid or expired state token",MFA_DEFAULT_OTP_CODE:"C5073",MFA_GENERIC_ERROR_CODE:"C9999",MFA_GENERIC_ERROR_MSG:"We're sorry, there's been a technical problem. Please try again.",MFA_CS_UPDATE_CUSTOMER_API_RESOURCE:"UpdateCustomerProfileMFA",MFA_DEVICE_AUTH_TYPE:"SMS",MFA_UPDATE_PURPOSE:"phoneMFA",MFA_UPDATE_PROFILE_METHOD:"UpdateCustomerProfileMFA",MFA_INVALID_PHONE_NUMBER_CODE:"C7029",MFA_UNIQUE_MOBILE_CHECK_CODE:"C6353",MFA_DEFAULT_CONTACT_PHONE_COUNTRY_PREFIX:"44"};static#rn=this.FOR_CORRIDORS_RECEIVERREDIRECT={FR:["US","FR","IT","DE","GB"]};static#an=this.FOR_CORRIDORS_BR={COUNTRY_CODES:["AW","CN","ET","HN","LS","NA","ZA","VE","BR","HT"]};static#nn=this.FOR_CORRIDORS={COUNTRY_CODES:["AW","BR","CN","ET","LS","LY","NA","SZ","ZA","VE","LR","HT"]};static#on=this.FOR_CORRIDORS_INTL={COUNTRY_CODES:["AR","AW","BR","CN","ET","HN","LS","LY","NA","SZ","ZA","VE","HT"]};static#cn=this.WUPAY_INSTARUCTIONS_DAYS={HK:3};static#un=this.MTCN_DIGIT=10;static#dn=this.smoMaxAmountForHK=7500;static#ln=this.CONST_ANALYTICS_OBJECT={TXN_ORIGIN_FLOW:"txnOriginFlow",EXISTING_USER_FLAG:"existingUserFlag",EXISTING_RECEIVER_FLAG:"existingReceiverFlag",EXISTING_PAYMENT_FLAG:"existingPaymentFlag",SAVE_RECEIVER_FLAG:"saveReceiverFlag",SAVE_PAYMENT_FLAG:"savePaymentFlag",CREDIT_CARD_ERROR_COUNT:"creditCardErrorCount",PROMOTION_CODE_FLAG:"promotionCodeFlag",SELECT_SERVICE_TIME:"selectServiceTime",SENDMONEY_RECEIVER_TOTAL_TIME:"SendmoneyReceiverTotalTime",RECEIVER_PAYMENT_TIME:"receiverPaymentTime",REVIEW_SUBMIT_TIME:"reviewSubmitTime",TXN_ATTEMPT:"txnAttempt",TOOL_PAGE_HITS:"toolPageHits",TXN_PAGE_HITES:"txnPageHits",TOOL_PAGE_TIME:"toolPageTime",TXN_PAGE_TIME:"txnPageTime",TXN_COUNT:"txnCount",FULL_REQUEST_URL:"fullRequestURL",REFERRER_DOMAIN:"referrerDomain",CMS_PAGE_HITS:"cmsPageHits",CMS_PAGE_TIME:"cmsPageTime",TXN_ERROR_LIST:"txnErrorList",REGISTRATION_PERSONAL_TIME:"registrationPersonalTime",REGISTRATION_SECURITY_TIME:"registrationSecurityTime",REGISTRATION_TIME:"registrationTime",INVALID_EMAIL_COUNT:"invalidEmailCount",REGISTRATION_ERROR_LIST:"registrationErrorList",INFO_REG_USER_NAME:"infoRegUserName",INFO_SEC_Q1:"infoSecQ1",INFO_SEC_ANSWER_1:"infoSecAnswer1",FORGOT_PASSWORD_FLAG:"forgotPasswordFlag",LOGIN_ERROR_COUNT:"loginErrorCount",SITE_INFO_LOGIN_USER:"siteInfoLoginUser",QUERY_STRING:"queryString",WU_REVISION:"wuRevision",CODE_BASE:"codebase",LIGHT_BOX_FLAG:"lightboxFlag",SITE_CATALYST_VERSION:"siteCatalystVersion",FORGOT_USER_NAME_FLAG:"forgotUsernameFlag"};static#_n=this.CALCULATE_AGE_RANGE=["18-24","25-34","35-44","45-54","55-64","65+"];static#mn=this.CALCULATE_YEAR_RANGE=["1901-1924","1925-1945","1946-1964","1965-1979","1980-1994","1995-2012","2013-2025","2025"];static#gn=this.YEAR_RANGE_VALUE={"1901-1924":"1","1925-1945":"2","1946-1964":"3","1965-1979":"4","1980-1994":"5","1995-2012":"6","2013-2025":"7",2025:"8"};static#pn=this.ALL_REGION={NA:"US,MX,HT,DO,JM,CA,CU,CR,TT,AS,PR,BS,BB,GD,LC",LACA:"CO,EC,PE,HN,SV,VE,NI,AR,GT,BR,CL,PA,PY,GY,BO,BZ,UY,SR",EU:"ES,UA,GE,GB,FR,IT,RO,DE,PT,PL,AL,MD,BA,GR",EMEA:"PH,IN,PK,NG,EG,TR,VN,CN,GH,AF,TH,ZM,YE,KE,CD,AE,LB,NP,JO,SL,UG,RW,ID,MA,FJ,BD,KH,CM,BI,ZW,ZA,SA,UZ,PS,TJ,MM,TG,WS,TN,CV,LK,MY,KZ,BJ,AZ,TZ,GM,SN,GN,KR,CI,FM,IQ,LA,LR,HK,TO,ML,MW,BW,ET",APAC:"AU,KG,JP,NZ,IL"};static#hn=this.USER_JOURNEY={sending_money:"MT","bill-pay":"BP","inmate-pay":"IP","ding-popup":"MO"};static#Cn=this.CONST_COUNTRIES_SETTINGS={ENABLED_COUNTRIES:["us","au","no","de","gb","ch","se","es","si","sk","ru","pt","pl","nl","mt","lu","lt","lv","it","ie","fr","fi","ee","dk","cy","be","at"]};static#fn=this.showCheckboxPluginOnPage={receipt:!0,review:!1,settings:!1};static#Sn=this.WUDEBUG_PS_ENDPOINTS={dev11:"wudispatcher-dev11.wucloud.net",dev41:"wudispatcher-dev41.wucloud.net",dev51:"wudispatcher-dev51.wucloud.net",dev91:"wudispatcher-dev91.wucloud.net",dev101:"wudispatcher-dev101.wucloud.net",qa11:"wudispatcher-qa11.wucloud.net",qa51:"wudispatcher-qa51.wucloud.net",qa101:"wudispatcher-qa101.wucloud.net",qa501:"wudispatcher-qa501.wucloud.net",dev31:"wudispatcher-dev31.wucloud.net",uatci4:"wudispatcher-uatci4.westernunion.com",uatrs4:"wudispatcher-uatrs4.westernunion.com",uatci2:"wudispatcher-uatci2.westernunion.com"};static#yn=this.REVIEW_CONST={ZERO_RANGE:"0-0",ZERO:"0"};static#En=this.BLOCK_RESUME_TRANSFER_DATA_API_CALL={COUNTRY_LIST:["NL"],STATE_LIST:["collectidconfirm","collectidcollect"]};static#An=this.SPLIT_TOKEN_EXP="EXPIRED";static#vn=this.VALID_CTR_CONFIG_FIELD=["M","O"];static#Pn=this.preauthDelaySpinnerTxt=["loader_request_processing","loader_few_more_seconds","loader_please_wait","loader_almost_done"];static#Dn=this.PLAID_COUNTRIES=["GB"];static#In=this.retailpayInCard=["DEBIT","CREDIT"];static#On=this.DUT_MOBILE_CONFIG={DIGITAL:{SUCCESS:{DEV:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=success",QA:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=success",UAT:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=success",PROD:"http://go.wu.com/D8zA/HFx1ptO9KE?src=docupload&response=success"},FAIL:{DEV:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=failure",QA:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=failure",UAT:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=failure",PROD:"http://go.wu.com/D8zA/HFx1ptO9KE?src=docupload&response=failure"},CANCEL:{DEV:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=cancel",QA:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=cancel",UAT:"http://go.wu.com/e9zA/Ae6TM3eckz?src=docupload&response=cancel",PROD:"http://go.wu.com/D8zA/HFx1ptO9KE?src=docupload&response=cancel"}},RETAIL:{}};static#Tn=this.tatAppDownloadBannerPages=["track-transfer-success","track-transfer"];static#Rn=this.ppsProviders={BWELL:"BRIGHTWELL"};static#bn=this.walletLogoAndBetterTextRecvCountry="MX"}},49381:(n,d,t)=>{"use strict";t.d(d,{X:()=>e,o:()=>o});class o{}class e{}},26858:(n,d,t)=>{"use strict";t.d(d,{Z0:()=>o,gB:()=>x,jy:()=>e,ty:()=>W});class o{}class e{}class x{constructor(){this.frontImageRequired=!0}}var W=function(K){return K[K.FILESIZE=0]="FILESIZE",K[K.FILETYPE=1]="FILETYPE",K}(W||{})},26834:(n,d,t)=>{"use strict";t.d(d,{a:()=>o});let o=(()=>{class e{static#e=this.DOC_UPLOAD_CONFIG={gb:{A0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},B0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataEuResidenceIdIssuer"},C0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataGovIdIssuer"},D0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataGovIdIssuer"},F0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},G0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},H0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},Q0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:["GB"]}},de:{A0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},B0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataEuResidenceIdIssuer"},D0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["DE"]},G0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["DE"]},I0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["DE"]},T0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},U0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},F0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["DE"]},Q0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["DE"]}},es:{A0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataGovIdIssuer"},B0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataEuResidenceIdIssuer"},D0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataGovIdIssuer"},E0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataGovIdIssuer"},F0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataGovIdIssuer"},G0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},H0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},Q0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["ES"]},E4:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataGovIdIssuer"}},fr:{A0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},B0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataEuResidenceIdIssuer"},D0:{max_limit:3,min_limit:2,expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},E0:{max_limit:3,min_limit:2,expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},F0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},G0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["FR"]},J0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},Q0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:["FR"]}},ca:{A0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataIdIssuerPassport"},B0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},C0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},D0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},G0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},H0:{max_limit:2,min_limit:1,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},K0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["CA"]}},au:{A0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataIdIssuerPassport"},B0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"",issue_expiry_date:!0,issuer_country_list:["AU"]},C0:{max_limit:2,min_limit:2,issue_date:"",expiry_date:"M",issue_expiry_date:!0,issuer_country_list:["AU"]}},it:{A0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataIdIssuerPassport"},B0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},C0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},D0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},F0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:["US","JP"]},G0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},H0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},Q0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},R0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:["IT"]},T0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataIdIssuerPassport"},U0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:"dataGovIdIssuer"},V0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"M",issue_expiry_date:!1,issuer_country_list:["IT"]}},at:{A0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},B0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},C0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},D0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},G0:{max_limit:2,min_limit:1,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"},P0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:["AT"]},Q0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:["AT"]},R0:{max_limit:2,min_limit:2,issue_date:"M",expiry_date:"",issue_expiry_date:!0,issuer_country_list:"dataIdIssuerPassport"}}};static#t=this.SRC_TRANSACTIONAL_CASE_DSS=["IW","NE","DSS"];static#i=this.SRC_DUT_DSS=["DD"];static#s=this.SRC_DSS=["DSS"];static#r=this.DSS_DOC_UPLOAD="/dss/challenge-success";static#a=this.TRACK_YOUR_TRANSFER="/web/global-service/track-transfer"}return e})()},28626:(n,d,t)=>{"use strict";t.d(d,{u:()=>o});let o=(()=>{class e{static#e=this.LOOKUP_API_NAME="/GwpCustomerLookup";static#t=this.OTP_API="/GwpVerifyPhone";static#i=this.ADD_CUSTOMER_API="/GwpAddCustomer";static#s=this.VENDOR_DATA_API="/GwpGetVendorInfo";static#r=this.SIGN_ON_API="/CustomerSignOn";static#a=this.UPDATE_CUSTOMER_PROFILE="/UpdateCustomerProfile";static#n=this.DSS_SOURCE="DSS";static#o=this.DSS2="dss2";static#c=this.SINGLE_FIND_ERROR="C6609";static#u=this.MULTI_FIND_ERROR="C6353";static#d=this.NO_FIND_ERROR="C6352";static#l=this.LOOKUP_FAIL_ERROR="C6366";static#_=this.CHALLENGE_QUE_ERROR="C6378";static#m=this.SINGLE_FIND_ALL_FACTOR="C6100";static#g=this.SINGLE_FIND_NO_FACTOR="C6101";static#p=this.OTP_TYPE="VERIFY_PHONE_OTP";static#h=this.DIAL_PREFIX_LIST="DSS2_DIALING_PREFIX";static#C=this.ID_TYPE_DSS="ID_TYPE_DSS";static#f=this.ID_SUB_TYPE_DSS="ID_SUB_TYPE_DSS";static#S=this.OTP_SENT_SUCCESS="OTP_SENT";static#y=this.OTP_SENT_FAILED="OTP_NOT_SENT";static#E=this.OTP_VALIDATE_SUCCESS="OTP_VERIFIED";static#A=this.OTP_VALIDATE_FAILED="OTP_NOT_VERIFIED";static#v=this.SELFIE_VENDOR="IDMISSION";static#P=this.NONVERIFIED="NONVERIFIED";static#D=this.VERIFIED="VERIFIED";static#I=this.VERIFICATION_INPROGRESS="VERIFICATION INPROGRESS";static#O=this.OTP_TRIGGER_ERRORS=["C6609"];static#T=this.DATE_FORMAT_PATTERN="YYYY-MM-DD";static#R=this.PROFILE_TEMPLATE="/wuconnect/dcaas/caas-config/dss2config";static#b=this.LOOKUP_PAGE="/dss2/lookup";static#N=this.COMPLETE_PROFILE_PAGE="/dss2/complete-profile";static#F=this.SELECT_DOC_PAGE="/dss2/select-document";static#L=this.KYC_DUC_PAGE="/kyc/kycoption-duc";static#M=this.PROFILE_STATUS_PAGE="/dss2/profile-status";static#U=this.DSS2_COOKIE="dss2Flow";static#B=this.DSS_DOC_TYPE="DSS_DOC_TYPE";static#w=this.OTP_TYPE_MAIL="VERIFY_EMAIL_OTP";static#k=this.VALIDATION_RULES={firstName:{pattern:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,minLength:2,maxLength:25},middleName:{pattern:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,40}$/i,minLength:2,maxLength:40},lastName:{pattern:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,minLength:2,maxLength:25},addressLine1:{pattern:/(?!(.)\1+$)(?!.*([a-z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*[a-z\xc0-\xff]{1})(?=(.*[a-z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-z\xc0-\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/i,minLength:3,maxLength:40},city:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-z\xc0-\xff]){2}.*$)^[a-z\xc0-\xff \.'-]{2,24}$/i},state:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-z\xc0-\xff]){1}.*$)^[a-z\xc0-\xff \.'-]{2,24}$/i},zipCode:{pattern:/^(\d)(?!\1{4})\d{4}$/}};static#x=this.ediValidationErrorsReg={C1886:"firstName",C1888:"lastName",C1044:"mobileNumber",C1051:"mobileNumber",C1841:"dateOfBirth",C1011:"emailVal",C8030:"placeOfBirth",C9135:"selectedNationality",C1889:"selectedOccupation",C1015:"mobileNumber",C9728:"dateOfBirth"};static#V=this.INVALID_MOBILE_NUMBER="C1015";static#K=this.DSS_DOC="id_status";static#W=this.DSS_SF="sf";static#G=this.DSS_ALLDOC="allDoc";static#Y=this.DSS_ID="id";static#H=this.DSS_ALLVERIFIED="allVerified";static#$=this.DSS2_CHALLENGE="/dss2/challenge";static#z=this.DSS_CHALLENGE="/dss/challenge";static#j=this.DSS_REVAMP_SUPPORTED_DOCS=["ID","SF"];static#J=this.INCORRECT_DOB="C9728";static#Z=this.IS_SINGLE_NON_ID="single_non_id";static#X=this.COLLECT_MISSING_DELTA_PROFILE="C1139";static#Q=this.TAMR_INVALID_MOBILE_NUMBER="C7029";static#q=this.TAMR_OTP="C5064";static#ee=this.collectMissingProfileError={C5109:"nationality",C1031:"occupation",CC1031:"occupation",C5134:"countryOfBirth",C1032:"dateOfBirth",C5108:"gender",C1013:"addressLine1",C1017:"zipCode",C5146:"city",C1015:"mobileNumber",C8030:"placeOfBirth"};static#te=this.MOBILENUMBER="mobileNumber";static#ie=this.DATEOFBIRTH="dateOfBirth";static#se=this.OCR_ERROR_WRONG_DOC="OCR_2006";static#re=this.UPLOAD_DMS_ERROR="C6368"}return e})()},11205:(n,d,t)=>{"use strict";t.d(d,{Lw:()=>G,Ub:()=>s,WA:()=>c,WO:()=>E,Zn:()=>N,kq:()=>r,q6:()=>A});var A=function(p){return p[p.OTP_SENT_SUCCESS=0]="OTP_SENT_SUCCESS",p[p.OTP_SENT_FAILED=1]="OTP_SENT_FAILED",p[p.OTP_VALIDATE_SUCCESS=2]="OTP_VALIDATE_SUCCESS",p[p.OTP_VALIDATE_FAILED=3]="OTP_VALIDATE_FAILED",p[p.UNEXPECTED_ERROR=4]="UNEXPECTED_ERROR",p}(A||{}),E=function(p){return p[p.SingleFind=0]="SingleFind",p[p.MultiFind=1]="MultiFind",p[p.NoFind=2]="NoFind",p[p.Error=3]="Error",p}(E||{}),N=function(p){return p.Blocked="Blocked",p.VerificationInprogress="VerificationInprogress",p.AlreadyVerified="AlreadyVerified",p.Unverified="Unverified",p.VerificationSuccess="VerificationSuccess",p.VerificationRejected="VerificationRejected",p}(N||{}),G=function(p){return p.MANDATORY="M",p.OPTIONAL="O",p.NA="NA",p}(G||{});class s{}class c{}var r=function(p){return p.OTP="otp",p.ChallengeQue="chQue",p.SoftDecline="decline",p.MAIL="email",p}(r||{})},76009:(n,d,t)=>{"use strict";t.d(d,{Rm:()=>$,Wp:()=>K,_N:()=>x,_x:()=>V,bj:()=>W,uC:()=>e});const e={COUNTRY_CODES:["AW","BR","CN","ET","LS","LY","NA","SZ","ZA","VE","LR","HT"]},x={COUNTRY_CODES:["AR","AW","BR","CN","ET","HN","LS","LY","NA","SZ","ZA","VE","LR","HT"]},$={COUNTRY_CODES:["AW","CN","ET","HN","LS","NA","ZA","VE","BR","HT"]},W=["ARS","AWG","BRL","CNY","ETB","HNL","NAD","LSL","ZAR","VEF","HTG"],K={COUNTRY_CODES:["LR"]},V={COUNTRY_CODES:["CO","DO","HT","HN","CL","PE","SV","BR","NI","EC","ES","GT","CR","MX","PT"]}},28675:(n,d,t)=>{"use strict";t.d(d,{P:()=>o,g:()=>e});class o{}const e={success:{bannerType:"success",imgSrc:"../../../../../../etc/designs/westernunion/optimus/icons/icon-checkmark-green.svg",bannerTitle:"successBannerHeader",bannerDesc:"successBannerDesc"},notification:{bannerType:"notification",imgSrc:"../../../../../../etc/designs/westernunion/responsive_css/images/Alert-icon.svg",bannerTitle:"notificationBannerHeader",bannerDesc:"notificationBannerDesc"},error:{bannerType:"error",imgSrc:"/etc/designs/westernunion/responsive_css/images/icon-failure-red-48.svg",bannerTitle:"errorBannerHeader",bannerDesc:"errorBannerDesc"},info:{bannerType:"info",imgSrc:"../../../../../../etc/designs/westernunion/optimus/icons/icon-info-blue.svg",bannerTitle:"infoBannerHeader",bannerDesc:"infoBannerDesc"},select:{bannerType:"select",imgSrc:"../../../../../../etc/designs/westernunion/optimus/icons/icon-info-blue.svg",bannerTitle:"infoBannerHeader",bannerDesc:"infoBannerDesc"}}},45485:(n,d,t)=>{"use strict";t.d(d,{d:()=>o});const o={DEFAULT_DISCLOSURE:"0",LEGAL_NOTICE_GENERAL:"1",LEGAL_NOTICE_EXCHANGE_RATE:"2",LEGAL_NOTICE_CREDIT_CARD:"3",LEGAL_NOTICE_BANK_ACCOUNT:"4",LEGAL_NOTICE_CASH_FEE:"5",LEGAL_NOTICE_CASH:"6",LEGAL_NOTICE_CASH_RECEIVER:"7",LEGAL_NOTICE_D2B:"8",LEGAL_NOTICE_D2C:"36",LEGAL_NOTICE_IACH_US_REALTIME:"37",LEGAL_NOTICE_MOBILE_WALLET:"9",LEGAL_NOTICE_D2B_NON_CN:"10",LEGAL_NOTICE_D2B_CN:"11",LEGAL_NOTICE_D2B_WUPAY:"12",LEGAL_NOTICE_CASH_WUPAY:"13",LEGAL_NOTICE_FIXED_ON_RECEIVE:"14",LEGAL_NOTICE_IN:"15",LEGAL_NOTICE_BR:"16",LEGAL_NOTICE_NG:"17",LEGAL_NOTICE_BILL_PAY:"19",LEGAL_NOTICE_DEST_CN:"20",LEGAL_NOTICE_DEST_PH:"21",LEGAL_NOTICE_DEST_IN:"22",LEGAL_NOTICE_US_CREDIT_CARD:"24",LEGAL_NOTICE_BANK_FP:"28",LEGAL_NOTICE_PAYIN_OPTIONS:"31",LEGAL_NOTICE_POLI_AU:"32",LEGAL_NOTICE_B2B_DELIVERY_TIME:"33",LEGAL_NOTICE_B2C_DELIVERY_TIME:"34",LEGAL_NOTICE_TAX_ON_RECEIVE:"48",LEGAL_NOTICE_TOBACCO:"101",LEGAL_NOTICE_MYWU_AND_AIR:"102",LEGAL_NOTICE_CALIFORNIA_TXN:"103",LEGAL_NOTICE_CALIFORNIA_TXN2:"104",LEGAL_NOTICE_TEXAS_TXN:"105",CONTACTUS_INTL:"106",LEGAL_NOTICE_RECEIPT_DISCLOSURES:"107",LEGAL_NOTICE_Georgia_NewYork:"109",LEGEL_NOTICE_POLI_HBAND:"32",LEGAL_NOTICE_DEST_TH:"36"}},86808:(n,d,t)=>{"use strict";t.d(d,{Kn:()=>x,YX:()=>e,ot:()=>$});class e{}class x{}class ${}},58380:(n,d,t)=>{"use strict";t.d(d,{fo:()=>o});class o{}},26314:(n,d,t)=>{"use strict";t.d(d,{IC:()=>V,IX:()=>K,RQ:()=>o,RT:()=>e,Rm:()=>W,d6:()=>P,hN:()=>D,qG:()=>x,uM:()=>$});class o{}class e{constructor(){this.displayDetailSection=!1}}class x{}class ${constructor(){this.displayDetailSection=!1,this.deliveryMethodCount=0}}class W{constructor(){this.displayDetailSection=!1}}class K{constructor(){this.displayDetailSection=!1}}var V=function(f){return f[f.pbv=0]="pbv",f[f.dur=1]="dur",f[f.chq=2]="chq",f[f.txm=3]="txm",f[f.vwa=4]="vwa",f[f.pwm=5]="pwm",f[f.threeds=6]="threeds",f[f.email=7]="email",f[f.sms=8]="sms",f[f.voice=9]="voice",f}(V||{});class P{constructor(){this.description1=[],this.description2=[]}}var D=function(f){return f[f.email=0]="email",f[f.sms=1]="sms",f[f.voice=2]="voice",f}(D||{})},14465:(n,d,t)=>{"use strict";t.d(d,{kq:()=>e});var e=function(D){return D.ID="ID",D.CARD="CARD",D}(e||{})},4858:(n,d,t)=>{"use strict";t.d(d,{a:()=>o});const o={RECEIVE_COUNTRY:"ReceiveCountry",SEND_AMOUNT:"SendAmount",RECEIVE_CURRENCY:"ISOCurrency",FUNDS_OUT:"FundsOut",FUNDS_IN:"FundsIn",CAMPAIGN_ID:"CampaignId",SRC_CODE:"SrcCode",COUPON:"Coupon",RECEIVE_AMOUNT:"ReceiveAmount",PROMO_CAMPAIGN:"promocampaign",USER_TYPE:"user",SRC:"Src"}},8502:(n,d,t)=>{"use strict";t.d(d,{gV:()=>e,hT:()=>$,iL:()=>o});class o{}class e{}class ${}},33216:(n,d,t)=>{"use strict";t.d(d,{K:()=>o});class o{}},43930:(n,d,t)=>{"use strict";t.d(d,{i:()=>o});class o{}},58652:(n,d,t)=>{"use strict";t.d(d,{J:()=>e});class o{constructor($){this.lists=[{name:"",type:""}],this.origination=$.origination,this.language=$.language,this.path=$.path,this.lists=$.lists}verifyJSONPayload(){if(this.origination&&this.language&&this.path&&this.lists)return this;throw new Error("List Optimus is missing required parameters.")}}class e{constructor(){this.lists=[{name:"",type:""}]}setOrigination($){return this.origination=$,this}setLanguage($){return this.language=$,this}setLists($,W,K){return this.lists[0].name=$,this.lists[0].type=W,K&&(this.lists[0].lookupKey=K),this}setBashpath($){return this.path=$,this}build(){return new o(this)}setMultiList($){return this.lists=$,this}}},3418:(n,d,t)=>{"use strict";t.d(d,{E:()=>e,G:()=>o});class o{}class e{constructor($=!1,W=!1,K=!1){this.userInfo=!1,this.address=!1,this.bankInfo=!1,this.userInfo=$,this.address=W,this.bankInfo=K}}},90979:(n,d,t)=>{"use strict";t.d(d,{Q:()=>e,Y:()=>o});class o{}class e{}},57324:(n,d,t)=>{"use strict";t.d(d,{Q8:()=>o,QO:()=>W,RM:()=>K,dm:()=>V,xr:()=>$});class o{}class ${}class W{constructor(){this.isReceieverNameValid=!0,this.isReceieverAddressValid=!0,this.isReceieverContactValid=!0,this.isSelfdeclaredQuestionsValid=!0,this.isSecretQueAnsValid=!0,this.isDateOfBirthValid=!0}}class K{}var V=function(C){return C.DYNAMIC_MODAL="DYNAMIC",C.STATIC_MODAL="STATIC",C}(V||{})},42959:(n,d,t)=>{"use strict";t.d(d,{i:()=>o});class o{set maternalName(x){this.middleName=x}get maternalName(){return this.middleName}set paternalName(x){this.lastName=x}get paternalName(){return this.lastName}}},69067:(n,d,t)=>{"use strict";t.d(d,{TT:()=>o,bd:()=>x,tO:()=>$});class o{}class x{}class ${}},11535:(n,d,t)=>{"use strict";t.d(d,{bW:()=>o});class o{}},54831:(n,d,t)=>{"use strict";t.d(d,{CH:()=>w,OZ:()=>s,On:()=>e,Sz:()=>o,U1:()=>C,XT:()=>$,_7:()=>a,b_:()=>r,hd:()=>A,iF:()=>N,pn:()=>U,rO:()=>x,si:()=>E});class o{}class e{}class x{}class ${}class C{}class A{}class E{}var N=function(h){return h.PHONE="PHONE",h.EMAIL="EMAIL",h}(N||{});class U{}class w{}class s{}class a{}class r{}},64932:(n,d,t)=>{"use strict";t.d(d,{Sk:()=>x,do:()=>V});class x{}var V=function(D){return D.DSS2="DSS2",D.SendMoney="SendMoney",D.DSS="DSS",D.DigitalLookup="WURetailOnBoardToDigital",D}(V||{})},15070:(n,d,t)=>{"use strict";t.d(d,{d:()=>o});const o={TERRITORY_COUNTRY:"territoryCountry",TERRITORY_SWITCH:"territorySwitch"}},48070:(n,d,t)=>{"use strict";t.d(d,{gW:()=>$,pV:()=>x,zS:()=>e});class e{}class x{}class ${}},76764:(n,d,t)=>{"use strict";t.d(d,{ZX:()=>e});class e{}},61288:(n,d,t)=>{"use strict";t.d(d,{v:()=>o});const o={TERRITORY_COUNTRY:"territoryCountry",EMAIL_VERIFICATION_TOKEN:"token",EMAIL_ID:"email",FLOW:"flow",SRC:"src",SRC_CODE:"SrcCode",MTCN:"MTCN",ROUTETYPE:"RouteType",ROUTE:"Route",MANAGE_TYPE:"type",MANAGE_TOKEN:"token",BILLPAY:"bill-pay",INMATEPAY:"inmate-pay",MANAGEREMINDERS:"manage-reminders",MYRECEIVERS:"my-receivers",NEWUSER:"new_user",PRICEESTIMATOR:"price-estimator",PROFILE:"profile",RECEIVEMONEY:"receive-money",RECEIVERREDIRECT:"receiver-redirect",REFERFRIEND:"refer-friend",RELOADOPTIONS:"reload-options",REQUESTMONEY:"request_money",RASD:"RASD",SENDINGMONEY:"sending_money",SETTINGS:"settings",SD:"SD",MYWUSITE:"mywusite",WUSHOP:"wushop",MYWUSITELOGIN:"mywusitelogin",MYWUSITEREGISTER:"mywusiteregister"}},60105:(n,d,t)=>{"use strict";t.d(d,{$P:()=>e,JS:()=>o});class o{}class e{}},41654:(n,d,t)=>{"use strict";t.d(d,{Y:()=>x});var o=t(60177),e=t(54438);let x=(()=>{class ${static#e=this.\u0275fac=function(V){return new(V||$)};static#t=this.\u0275mod=e.$C({type:$});static#i=this.\u0275inj=e.G2t({imports:[o.MD]})}return $})()},28116:(n,d,t)=>{"use strict";t.d(d,{b:()=>x});var o=t(54438),e=t(345);let x=(()=>{class ${constructor(K){this.sanitizer=K}transform(K){return this.sanitizer.bypassSecurityTrustHtml(K)}static#e=this.\u0275fac=function(V){return new(V||$)(o.rXU(e.up,16))};static#t=this.\u0275pipe=o.EJ8({name:"sanitizeHtml",type:$,pure:!0})}return $})()},92079:(n,d,t)=>{"use strict";t.d(d,{w:()=>e});var o=t(37486);class e{constructor(){}getFormattedList($){const W=[];if($){delete $.listPath;for(const K of Object.keys($).sort())W.push({key:K,value:$[K]})}return W}getFormattedListNested($){const W=[];if($){delete $.listPath;for(const K of Object.keys($)){const V=$[K];for(const P of Object.keys(V))W.push({key:P,value:V[P]})}return W}}getFieldType($){return"M"===$?o.PU.MANDATORY:"O"===$?o.PU.OPTIONAL:o.PU.NA}getValidationRules($,W,K){const V=new K;return Object.keys($).forEach(P=>{V[P]=W[P]}),V}convertListToKeyValue($){const W=[];return $&&$.forEach(K=>{W.push({key:K.value,value:K.name})}),W}convertListToDataBanks($){const W=[];return $&&$.forEach(K=>{W.push({value:K.value,name:K.name,ifsc_code:K.ifsc_code,MIM_Enabled:K.MIM_Enabled,message:K.message,validation:K.validation,validation_enabled:K.validation_enabled,labelsOverride:K.labels_override,labels:K.labels,branchCodeList:K.branch_code_list,swiftCodeList:K.swift_code_list,supportedValues:K.supportedValues,acc_number:K.acc_number,uxPlaceholder:K.uxPlaceholder})}),W}convertListToRadioOptions($){const W=[];return $&&$.forEach(K=>{W.push({name:K.name,value:K.value,refFields:K.ref_fields})}),W}}},31457:(n,d,t)=>{"use strict";t.d(d,{p:()=>C});var o=t(95006),e=t(83921),x=t(77312),$=t(54438),W=t(21626),K=t(45286),V=t(74526),P=t(60177),D=t(23154),f=t(35900);let C=(()=>{class A{constructor(N,_,M,U){this.http=N,this.logger=_,this.injector=M,this.platformId=U,this.subject=new K.B7,this.events=this.subject.asObservable(),this.GET=O=>this.http.get(this.API_HOST_ORIGIN+"/"+this.API_PATH+"/"+O).pipe((0,o.T)(s=>s),(0,e.W)(s=>(0,V.$)(s.message||s)),(0,x.j)(()=>this.logger.log("...cloud api get done..."))),this.POST=(O,G,s)=>{const a=this.API_HOST_ORIGIN+"/"+this.API_PATH+"/"+O,c=new Date;return this.http.post(a,G,this.setupHttpPostOptions(G,s)).pipe((0,o.T)(r=>{try{this.dispatchApiEvents({method:O,body:G,response:r,channel:"digital",requestTime:c,responseTime:new Date})}catch(g){this.logger.log("logAPIEvent() did not run through because ",g)}return this.SplunkLogger(O,G,r).subscribe(()=>{}),r}),(0,e.W)(r=>{const g=r.message||r;return this.dispatchApiEvents({method:O,body:G,response:{error:{code:r&&r.status?r.status:"unknown",message:r.message?r.message:r}},channel:"digital",requestTime:c,responseTime:new Date}),(0,V.$)(g)}),(0,x.j)(()=>this.logger.log("...pricing api post done...")))},this.SplunkLogger=(O,G,s)=>{const a=this.API_HOST_ORIGIN+"/wuconnect/rest/api/v1.0/SplunkLog";G=JSON.parse(JSON.stringify(G)),this.maskAccountNumber(G);const c={error:O,message:JSON.stringify(G),stackError:JSON.stringify(s),location:window.location.href};return this.http.post(a,c).pipe((0,o.T)(r=>r),(0,e.W)(r=>(0,V.$)(r.message||r)))};const w=window.location.hostname;this.setupEnvironments(w)}setupEnvironments(N){if(N.includes("localhost"))this.API_HOST_ORIGIN="https://wudispatcher-uatrs2.westernunion.com";else if((0,P.Vy)(this.platformId)){const _=this.injector.get(D.S);this.API_HOST_ORIGIN=decodeURIComponent(encodeURIComponent(`${_.protocol}://${window.HOST_URL}`))}else this.API_HOST_ORIGIN=window.location.origin;this.API_PATH="wuconnect"}setupHttpPostOptions(N,_){let M={},U={"Content-Type":"application/json",Accept:"application/json"};return _=_||{},U={...U,..._},Object.keys(U).length>0&&U.constructor===Object&&(M={headers:new W.Lr(U)}),M}dispatchApiEvents(N){this.subject.next(N)}isKIOSKApp(){return window.location.pathname.indexOf("/kiosk/app")>-1}maskAccountNumber(N){N&&N.receiver&&N.receiver.account_no&&(N.receiver.account_no="XXXX")}static#e=this.\u0275fac=function(_){return new(_||A)($.KVO(W.Qq),$.KVO(f.so),$.KVO($.zZn),$.KVO($.Agw))};static#t=this.\u0275prov=$.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},36734:(n,d,t)=>{"use strict";t.d(d,{m:()=>A});var o=t(95006),e=t(83921),x=t(90696),$=t(14421),W=t(37486),K=t(93885),V=t(31457),P=t(3902),D=t(34781),f=t(54438),C=t(2490);let A=(()=>{class E{constructor(_,M,U,w){this.cloudRestService=_,this.featureFlagService=M,this.updateStoreUsingActionService=U,this.cookieService=w,this.API_METHOD="cloud-pricing/pricing/priceCatalog",this.SPEED_INDICATOR_API_METHOD="awsconfig/api/v1/deliveryspeed"}getPriceCatalog(_,M){M&&M.isPromoPricingEnabled&&(this.API_METHOD="prices/catalog");const U=this.getPriceCatalogBodyRequest(_,M),w=this.getCloudHeaders(U,M),O=this.cloudRestService.POST(this.API_METHOD,U,w);return(0,x.p)([O]).pipe((0,o.T)(G=>{if(G&&G[0]&&sessionStorage.setItem("PriceCatalogRes",JSON.stringify(G[0])),_&&sessionStorage.setItem("PriceCatalogReq",JSON.stringify(_)),this.updatePromoCampaign(G[0]),this.updateSscContentMessage(G[0]),G[0]&&G[0].services_groups&&G[0].services_groups.length>0&&G[0].response_status&&(G[0].response_status.status||0===G[0].response_status.status)&&"-1"!==G[0].response_status.status.toString()){const s=G[0].available_funds_in.split(",");return s.includes("DI")&&s.includes("CA")&&"WRET"===G[0].sender.channel&&"MX"===G[0].receiver.cty_iso2_ext&&G[0].services_groups.length>1&&G[0].services_groups.splice(0,1),this.updateProductsDetails(G[0],G[1],_)}return this.updateErrorResponse(G[0])}),(0,e.W)(G=>this.updateErrorResponse(G)))}getPriceCatalogBodyRequest(_,M){const U={header_request:{version:_.header_request&&_.header_request.version?_.header_request.version:"0.5",request_type:_.header_request&&_.header_request.request_type?_.header_request.request_type:"PRICECATALOG",correlation_id:_.header_request.correlation_id,transaction_id:_.header_request.transaction_id},sender:{client:_.sender.client?_.sender.client:"WUCOM",channel:_.sender.channel?_.sender.channel:"WWEB",direct_flag:_.sender.direct_flag?_.sender.direct_flag:void 0,cty_iso2_ext:_.sender.cty_iso2_ext,curr_iso3:this.setCountryCurrencyChange(_.sender.cty_iso2_ext,_.sender.curr_iso3),province_state:_.sender.province_state?_.sender.province_state:void 0,segment:_.sender.segment?_.sender.segment:void 0,funds_in:_.sender.funds_in,send_amount:_.sender.send_amount?_.sender.send_amount:void 0,word_count:_.sender.word_count?_.sender.word_count:void 0,air_requested:_.sender.air_requested?_.sender.air_requested:void 0,efl_type:_.sender.efl_type?_.sender.efl_type:void 0,efl_value:_.sender.efl_value?_.sender.efl_value:void 0,postal_code:_.sender.postal_code?_.sender.postal_code:void 0},receiver:{curr_iso3:this.setCountryCurrencyChange(_.receiver.cty_iso2_ext,_.receiver.curr_iso3),city:_.receiver.city,cty_iso2_ext:_.receiver.cty_iso2_ext,province_state:_.receiver.province_state,cty_iso2:_.receiver.cty_iso2,direct_flag:_.receiver.direct_flag?_.receiver.direct_flag:void 0,receive_amount:_.receiver.receive_amount?_.receiver.receive_amount:void 0}};return _.visit&&_.visit.local_datetime&&_.visit.local_datetime.timestamp_ms&&_.visit.local_datetime.timezone&&(U.visit={local_datetime:this.getLocalDateTime(_)}),_.visitor&&(_.visitor.customer_id||_.visitor.fingerprint_id)&&(U.visitor={customer_id:_.visitor.customer_id,fingerprint_id:_.visitor.fingerprint_id}),_.sender.aggregate_amount&&(U.sender.aggregate_amount=_.sender.aggregate_amount),M&&(M.promoPricingCampaign||M.subscriptionId)&&M.isPromoPricingEnabled&&(U.campaign={campaign_name:M.promoPricingCampaign?M.promoPricingCampaign:void 0,subscription_id:M.subscriptionId?M.subscriptionId:void 0}),"true"===sessionStorage.getItem("isPennyDropAutoSelectDone")&&"true"===sessionStorage.getItem("pennyDropTransaction")&&(U.campaign={subscription_id:K.Y.pennyDropSubscriptionId}),U}updatePromoCampaign(_){_&&_.campaign&&_.campaign.campaign_name&&_.campaign.experience&&"Control"!==_.campaign.experience?sessionStorage.setItem("serverSidePromoCampaignName",_.campaign.campaign_name):sessionStorage.getItem("serverSidePromoCampaignName")&&sessionStorage.removeItem("serverSidePromoCampaignName")}getCloudHeaders(_,M){const U={};return M&&M.enableCorrelationTransactionIdHeaders&&(U["X-WU-Correlation-ID"]=_.header_request.correlation_id,U["X-WU-Transaction-ID"]=_.header_request.transaction_id),U}updateSscContentMessage(_){_&&_.campaign&&_.campaign.campaign_name&&_.campaign.message&&_.campaign.experience&&"Control"!==_.campaign.experience?sessionStorage.setItem("sscContent",_.campaign.message):sessionStorage.getItem("sscContent")&&sessionStorage.removeItem("sscContent")}updateProductsDetails(_,M,U){const w=[],O=[];let G=!1,s=!1;"WWEB"===U.sender.channel&&K.Y.AIR_ONLY_COUNTRIES.indexOf(U.sender.cty_iso2_ext)>-1&&"MX"===U.receiver.cty_iso2_ext?G=_.services_groups.some(a=>"000"===a.service&&a.pay_groups.some(c=>"CA"===c.fund_in)):_.services_groups.length>0&&("WWEB"===U.sender.channel||"WRET"===U.sender.channel)&&"MX"===U.receiver.cty_iso2_ext&&(s=_.services_groups.some(a=>"000"===a.service&&a.pay_groups.some(c=>"CA"!==c.fund_in)));for(let a=0;a<_.services_groups.length;a++){const c=_.services_groups[a];c.pay_groups&&Array.isArray(c.pay_groups)&&c.pay_groups.forEach(r=>{const g=this.mappingFunc(c,r,_.sender,_.receiver,M);"WWEB"===U.sender.channel&&(g.payOut===W.s7.ND||("046"===g.code||"000"===g.code)&&"CU"===U.receiver.cty_iso2_ext||("M00"===g.code||"M01"===g.code)&&"IN"===U.receiver.cty_iso2_ext)||"WRET"===U.sender.channel&&"000"===g.code&&"MX"===U.receiver.cty_iso2_ext&&"US"===U.sender.cty_iso2_ext||"WRET"===U.sender.channel&&"MX"===U.receiver.cty_iso2_ext&&(s||G)&&"400"===g.code||"WWEB"===U.sender.channel&&"MX"===U.receiver.cty_iso2_ext&&(s||G)&&"400"===g.code||"WCON"===U.sender.channel&&"CU"===U.receiver.cty_iso2_ext&&("046"===g.code||"000"===g.code)||("WWEB"===U.sender.channel&&"500"===g.code&&this.isDSREnabledForBank(U,_)||"WCON"===U.sender.channel&&"500"===g.code&&this.featureFlagService.isFeatureEnabledForReceiver("DIRECTED_SOURCE_RATE_ENABLED_RECV_CTRY_PARTNER",U?.receiver?.cty_iso2_ext)&&this.isDSREnabledForBank(U,_)?this.featureFlagService.isFeatureEnabled("PK_DSR_DUPLICATE_TRANSACTION")&&O.push(g):w.push(g))})}return sessionStorage.setItem("DSRBAProducts",JSON.stringify(O)),w}isDSREnabledForBank(_,M){const w=(this.cookieService.get(K.Y.partnerName)?this.cookieService.get(K.Y.partnerName):sessionStorage.getItem(K.Y.partnerName))?"DSR_ENABLED_PARTNER_COUNTRY":"DSR_ENABLED_COUNTRY",O=JSON.parse(this.updateStoreUsingActionService.getState().countryDynamicParams[w]||null),G=JSON.parse(sessionStorage.getItem("isPakistanPRIEnabled")||null);let s=O||G;O&&O[_.receiver.cty_iso2_ext]&&(s=O),G&&G[_.receiver.cty_iso2_ext]&&(s=G);const a=!!s&&M?.services_groups.some(c=>c?.service===s[_.receiver.cty_iso2_ext]);return this.featureFlagService.isFeatureEnabledForReceiver("DIRECTED_SOURCE_RATE_ENABLED_CTRY",_?.receiver?.cty_iso2_ext)&&a}mappingFunc(_,M,U,w,O){let G;this.convertPayInAmountsToLegacyResponse(M,U,w);const s={code:"",name:"",payIn:null,payOut:null,deliverySpeed:null,minAmount:0,maxAmount:0,fees:0,destinationFees:0,exchangeRate:0,speedIndicator:"",location:""},a=W.bw[M.fund_in];if("DC"!==_.fund_out_mnem&&"MB"!==_.fund_out_mnem||"800"!==_.fund_out?"200"===_.fund_out?(G="201"===_.service||"202"===_.service?(new W.xv).codeName[_.service]:(new W.xv).codeName[_.fund_out],s.name=W.aU.D2):(G=W.s7[_.fund_out_mnem],s.name=W.aU[_.fund_out_mnem]):(G=(new W.xv).codeName[_.fund_out],s.name=W.aU.DC),s.fundsOut=_.fund_out,_.institution_list&&_.institution_list.length&&(s.institutionList=_.institution_list),s.code=_.service,s.payIn=a,s.payOut=G,s.deliverySpeed=_.fund_out_mnem,s.minAmount=M.min_amount,s.maxReceiveAmount=_.max_payout,s.maxAmount=M.max_amount,s.exchangeRate=M.fx_rate,s.pricingContext=M.pricing_context,s.fees=M.gross_fee,s.speedIndicator=M.speed_indicator?M.speed_indicator:this.getSpeedIndicatorValue(O,_,a),s.origination={principalAmount:M.send_amount,grossAmount:M.gross_amount,currencyIsoCode:"RU"!==U.cty_iso2_ext?this.getCountryCurrencyChange(U.cty_iso2_ext,U.curr_iso3):U.curr_iso3,countryIsoCode:U.cty_iso2_ext},s.destination={expectedPayoutAmount:M.receive_amount,currencyIsoCode:this.getCountryCurrencyChange(w.cty_iso2_ext,w.curr_iso3),countryIsoCode:w.cty_iso2_ext},M.liberia_payouts){const c=[];Object.keys(M.liberia_payouts).forEach(r=>{c.push({expectedPayoutAmount:M.liberia_payouts[r].dest_amount,currencyIsoCode:M.liberia_payouts[r].iso3_cur,exchangeRate:M.liberia_payouts[r].net_fx,countryIsoCode:M.liberia_payouts[r].iso2_cty})}),s.destination.splitPayOut=c}if("D"===_.dir_flag){const c=this.getMappedDirectedServiceLocation(w.cty_iso2_ext,_.service,s.name);s.isDirected="Y",s.location=_.location_id?_.location_id:c.location_id,s.name=_.service_name?_.service_name:c.service_name,s.expectedPayoutLocation={stateCode:w.province_state?w.province_state.toUpperCase():void 0,stateName:w.province_state?w.province_state.toUpperCase():void 0,city:w.city?w.city.toUpperCase():void 0}}return s.questionIndicator=W.FL[_.test_question],M.tax_amount&&(s.taxes={taxAmount:M.tax_amount,taxableAmount:U.taxable_amount?U.taxable_amount:void 0}),s.strikeThrough={strike_gross_fee:M.strike_gross_fee,strike_fx_rate:M.strike_fx_rate,fee_percentage:M.fee_percentage,fx_rate_percentage:M.fx_rate_percentage,gross_fee:M.gross_fee,fx_rate:M.fx_rate,receive_amount:M.receive_amount,base_fee:M.base_fee},s}convertPayInAmountsToLegacyResponse(_,M,U){_.send_amount=M.send_amount?(100*Number(M.send_amount)).toFixed():(100*Number(_.send_amount)).toFixed(),_.receive_amount=U.receive_amount?(100*Number(U.receive_amount)).toFixed():(100*Number(_.receive_amount)).toFixed(),_.fx_rate=1===Number(_.fx_rate)?"1.0000":_.fx_rate.toString(),_.gross_amount=(100*(Number(_.send_amount)/100+Number(_.gross_fee))).toFixed(),_.tax_amount&&(_.gross_amount=(Number(_.gross_amount)+100*Number(_.tax_amount)).toFixed()),_.liberia_payouts&&Object.keys(_.liberia_payouts).forEach(w=>{_.liberia_payouts[w].dest_amount=(100*Number(_.liberia_payouts[w].dest_amount)).toFixed(),_.liberia_payouts[w].net_fx=1===Number(_.liberia_payouts[w].net_fx)?"1.0000":_.liberia_payouts[w].net_fx.toString()})}updateErrorResponse(_){let M;if(_&&_.response_status)M={error:{code:"",message:""}},M.error.code=_.response_status.code,M.error.message=_.response_status.message,typeof DTM_Trigger<"u"&&DTM_Trigger("DTM-ERROR-DIRECT-CALL",M.error.code);else if(_&&_.indexOf("Http failure")>-1)return M={error:{code:"0",message:_}},typeof DTM_Trigger<"u"&&DTM_Trigger("DTM-ERROR-DIRECT-CALL",M.error.code),(0,$.of)(M);return M}getSpeedIndicatorValue(_,M,U){const w=U===W.bw.CA?"Cash":U,O=_&&_.speedIndicator&&_.speedIndicator[M.service]&&typeof _.speedIndicator[M.service][w]<"u"?_.speedIndicator[M.service][w]:M.speed_days;return 0===O?"0":O.toString()}getMappedDirectedServiceLocation(_,M,U){let w;const O={MX:[{code:"M10",location_id:"ELEKTRA ",service_name:"ELEKTRA IN MINUTES"},{code:"M11",location_id:"BANORTE ",service_name:"BANORTE IN MINUTES"},{code:"M12",location_id:"CASA LEY ",service_name:"CASA LEY IN MINUTES"},{code:"M13",location_id:"FARMACIAS GUADALA ",service_name:"FARMACIAS GUADALA IN MINUTES"},{code:"M14",location_id:"FAMSA ",service_name:"FAMSA IN MINUTES"},{code:"M15",location_id:"BANCOPPEL ",service_name:"BANCOPPEL IN MINUTES"},{code:"M16",location_id:"WALMART ",service_name:"WALMART IN MINUTES"},{code:"M17",location_id:"OXXO ",service_name:"OXXO IN MINUTES"},{code:"M18",location_id:"SORIANA ",service_name:"SORIANA IN MINUTES"},{code:"301",location_id:"WALMART ",service_name:"WALMART IN MINUTES"},{code:"302",location_id:"CASA LEY ",service_name:"CASA LEY IN MINUTES"},{code:"304",location_id:"BANORTE ",service_name:"BANORTE IN MINUTES"},{code:"308",location_id:"FARMACIAS GUADALA ",service_name:"FARMACIAS GUADALA IN MINUTES"},{code:"316",location_id:"FAMSA ",service_name:"FAMSA IN MINUTES"},{code:"332",location_id:"BANCOPPEL ",service_name:"BANCOPPEL IN MINUTES"}],PK:[{code:"M00",location_id:"JS BANK",service_name:"JS BANK IN MINUTES"},{code:"M01",location_id:"ASKARI BANK",service_name:"ASKARI BANK IN MINUTES"},{code:"M02",location_id:"FAYSAL BANK",service_name:"FAYSAL BANK IN MINUTES"},{code:"M03",location_id:"MEEZAN BANK",service_name:"MEEZAN BANK IN MINUTES"},{code:"M04",location_id:"PAKISTAN CURRENCY",service_name:"PAKISTAN CURRENCY IN MINUTES"},{code:"M05",location_id:"RAVI EXCHANGE",service_name:"RAVI EXCHANGE IN MINUTES"},{code:"M06",location_id:"LINK INTL EXCHANGE",service_name:"LINK INTL EXCHANGE IN MINUTES"},{code:"M07",location_id:"SADIQ EXCHANGE CO",service_name:"SADIQ EXCHANGE CO IN MINUTES"},{code:"M08",location_id:"THE BANK OF PUNJAB",service_name:"THE BANK OF PUNJAB IN MINUTES"},{code:"M09",location_id:"DUBAI ISLAMIC BANK",service_name:"DUBAI ISLAMIC BANK IN MINUTES"},{code:"M10",location_id:"HH EXCHANGE CO",service_name:"HH EXCHANGE CO IN MINUTES"},{code:"M11",location_id:"DOLLAR EAST",service_name:"DOLLAR EAST IN MINUTES"},{code:"M12",location_id:"AA EXCHANGE",service_name:"AA EXCHANGE IN MINUTES"},{code:"M13",location_id:"MCB BANK",service_name:"MCB BANK IN MINUTES"}],GH:[{code:"M00",location_id:"GCB BANK",service_name:"GCB BANK IN MINUTES"},{code:"M01",location_id:"PRUDENTIAL BANK",service_name:"PRUDENTIAL BANK IN MINUTES"},{code:"M02",location_id:"UNIBANK",service_name:"UNIBANK IN MINUTES"},{code:"M03",location_id:"FIDELITY BANK",service_name:"FIDELITY BANK IN MINUTES"},{code:"M04",location_id:"GUARANTY TRUST BANK",service_name:"GUARANTY TRUST BANK IN MINUTES"},{code:"M05",location_id:"UMB BANK",service_name:"UMB BANK IN MINUTES"},{code:"M06",location_id:"GN BANK",service_name:"GN BANK IN MINUTES"},{code:"M07",location_id:"ARB APEX BANK",service_name:"ARB APEX BANK IN MINUTES"},{code:"M11",location_id:"STANBIC BANK GHANA",service_name:"STANBIC BANK GHANA IN MINUTES"}]};return O[_]&&Object.keys(O[_]).forEach(G=>{O[_][G].code===M&&(w=O[_][G])}),w||(w={code:M,location_id:M+" "+U,service_name:U}),w}getLocalDateTime(_){let M={};return _.visit&&_.visit.local_datetime&&(M={timestamp_ms:_.visit.local_datetime.timestamp_ms?_.visit.local_datetime.timestamp_ms:void 0,timezone:_.visit.local_datetime.timezone?_.visit.local_datetime.timezone:void 0}),M}setCountryCurrencyChange(_,M){let U;const w=K.Y.changeCountryCurrency&&K.Y.changeCountryCurrency[_]?K.Y.changeCountryCurrency[_]:void 0;if(w&&w.length>0)for(const O of w)Object.keys(O).forEach(function(G){G===M&&(U=O[G])});return U||M}getCountryCurrencyChange(_,M){let U;const w=K.Y.changeCountryCurrency&&K.Y.changeCountryCurrency[_]?K.Y.changeCountryCurrency[_]:void 0;if(w&&w.length>0&&!this.isKioskApp())for(const O of w)Object.keys(O).forEach(function(G){O[G]===M&&(U=G)});return U||M}isKioskApp(){return window.location.pathname.indexOf("/kiosk/app")>-1}static#e=this.\u0275fac=function(M){return new(M||E)(f.KVO(V.p),f.KVO(P.y),f.KVO(D.k),f.KVO(C.O))};static#t=this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},85292:()=>{String.prototype.toTitleCase=function(){return this?this.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()}):this}},74814:(n,d,t)=>{"use strict";t.d(d,{H:()=>x});var o=t(37486),e=t(54438);let x=(()=>{class ${constructor(){this._countryNameWithIsoCode=new o.Rd}getURLParam(K,V){let P,D;V&&-1!==V.indexOf("?")?(P=V.split("?")[1],P&&(P="?"+P)):P=location.search||location.hash;const f=new RegExp("[?|&]"+K+"=([^&;]+?)(&|#|;|$)").exec(P)||[,""];return D="encryptedString"===K?decodeURIComponent(f[1]):decodeURIComponent(f[1].replace(/\+/g,"%20"))||null,null!=D&&(D=D.trim()),D}dtmGetCookie(K){let V,P,D;const f=document.cookie.split(";");for(V=0;V<f.length;V++)if(P=f[V].substr(0,f[V].indexOf("=")),D=f[V].substr(f[V].indexOf("=")+1),P=P.replace(/^\s+|\s+$/g,""),P===K&&""!==D)return decodeURIComponent(D)}getCountryFromURL(){const V=window.location.href.split("/");let P;return P=V&&-1!==V.indexOf("content")?V[6]:V[3],P&&-1!==P.indexOf("_")&&(P=P.split("_")[1]),(!P||P&&P.length>2)&&(P="",P||(P=this.getURLParam("WUCountry")),P||(P=this.dtmGetCookie("WUCountryCookie_")),P||(P=this.dtmGetCookie("AKCountry")),P||(P="us")),P?P.toUpperCase():null}getLanguageFromURL(){const V=window.location.href.split("/");let P;return P=V&&-1!==V.indexOf("content")?V[7]:V[4],P&&-1!==P.indexOf("_")&&(P=P.split("_")[1]),(!P||P&&P.length>2)&&(P="",P||(P=this.getURLParam("WULanguage")),P||(P=this.dtmGetCookie("WULanguageCookie_")),P||(P="en")),P?P.toLowerCase():null}get countryNameWithIsoCode(){return this._countryNameWithIsoCode}set countryNameWithIsoCodebar(K){this._countryNameWithIsoCode=K}isMobileDevice(){let K=!1;return navigator&&navigator.userAgent&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(K=!0),K}static#e=this.\u0275fac=function(V){return new(V||$)};static#t=this.\u0275prov=e.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},64850:(n,d,t)=>{"use strict";t.d(d,{B:()=>e});var o=t(54438);let e=(()=>{class x{constructor(){this.latinUppercase="A-Z",this.latinLowercase="a-z",this.latin1SupplementLetters="\xc0-\xd6\xd8-\xf6\xf8-\xff",this.latinExtendedAEuropeanLatin="\u0100-\u0148\u014a-\u017f",this.latinExtendedBCroatian="\u01c4-\u01cc",this.latinExtendedBSlovenianCroatian="\u0200-\u0217",this.latinExtendedBRomenian="\u0218-\u021b",this.latinExtendedBFinishRomaniScots="\u021e\u021e",this.REGEX_CUSTOM_COUNTRY_MAPPING={FR:"FR_LBP"},this.acceptedLatinLetters=this.latinUppercase+this.latinLowercase+this.latin1SupplementLetters+this.latinExtendedAEuropeanLatin+this.latinExtendedBCroatian+this.latinExtendedBSlovenianCroatian+this.latinExtendedBRomenian+this.latinExtendedBFinishRomaniScots,this.loadValidationRules()}getValidationRulesForCountry(W){return{...this.validationRules.global,...this.validationRules[W]}}getValidationRulesForKioskCountry(W,K){return{...this.validationRules.global,...K?this.validationRules[this.REGEX_CUSTOM_COUNTRY_MAPPING[W]]:this.validationRules[W]}}loadValidationRules(){this.validationRules={US:{lastName:{pattern:/^(?! )(?!(.)\1+$)(?!.*([^Ii])\2{2})(?!.*(III|iii)(?=\D))(?!.*( |'|-|\.)\4{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{1,40}\S$/,minLength:2,maxLength:40},addressLine1:{pattern:/^(?! )(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z]{1})(?=(.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b][O|o|0][X|x].*)^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,100}\S$/,minLength:2,maxLength:40},addressLine2:{pattern:/^(?! )(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z]{1})(?=(.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b][O|o|0][X|x].*)^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,100}\S$/,minLength:2,maxLength:40},mobile:{pattern:/^(?:[2-9][0-8][0-9])(?!(\d)\1+$)([2-9])(?!11)([0-9]{6})$/,minLength:3,maxLength:15},zip:{pattern:/^(\d)(?!\1{4})\d{4}$/},mtcn:{pattern:/^[0-9]{0,10}$/},txnAmount:{pattern:/^([0-9]{0,7}(\.\d{0,2})?)?$/},cityText:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-z\xc0-\xff]){2}.*$)^[a-z\xc0-\xff \.'-]{2,24}$/i},postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,dlRegex:{AL:/(^[0-9]{7}$)|(^[a-zA-Z]{1}[0-9]{6}$)/,AK:/^[0-9]{7}$/,AZ:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[a-zA-Z]{2}[0-9]{2,5}$)|(^[0-9]{9}$)/,AR:/^[0-9]{4,9}$/,CA:/^[a-zA-Z]{1}[0-9]{7}$/,CO:/(^[0-9]{9}$)|(^[a-zA-Z]{1}[0-9]{3,6}$)|(^[a-zA-Z]{2}[0-9]{2,5}$)/,CT:/^[0-9]{9}$/,DE:/^[0-9]{1,7}$/,DC:/(^[0-9]{7}$)|(^[0-9]{9}$)/,FL:/^[a-zA-Z]{1}[0-9]{12}$/,GA:/^[0-9]{7,9}$/,HI:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,ID:/(^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$)|(^[0-9]{9}$)/,IL:/^[a-zA-Z]{1}[0-9]{11,12}$/,IN:/(^[a-zA-Z]{1}[0-9]{9}$)|(^[0-9]{9,10}$)/,IA:/^[0-9]{9}$|([0-9]{3}[a-zA-Z]{2}[0-9]{4}$)/,KS:/(^([a-zA-Z]{1}[0-9]{1}){2}[a-zA-Z]{1}$)|(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,KY:/(^[a-zA-Z]{1}[0-9]{8,9}$)|(^[0-9]{9}$)/,LA:/^[0-9]{1,9}$/,ME:/(^[0-9]{7,8}$)|(^[0-9]{7}[a-zA-Z]{1}$)/,MD:/^[a-zA-Z]{1}[0-9]{12}$/,MA:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{9}$)/,MI:/(^[a-zA-Z]{1}[0-9]{10}$)|(^[a-zA-Z]{1}[0-9]{12}$)/,MN:/^[a-zA-Z]{1}[0-9]{12}$/,MS:/^[0-9]{9}$/,MO:/(^[a-zA-Z]{1}[0-9]{5,9}$)|(^[a-zA-Z]{1}[0-9]{6}[R]{1}$)|(^[0-9]{8}[a-zA-Z]{2}$)|(^[0-9]{9}[a-zA-Z]{1}$)|(^[0-9]{9}$)/,MT:/(^[a-zA-Z]{1}[0-9]{8}$)|(^[0-9]{13}$)|(^[0-9]{9}$)|(^[0-9]{14}$)/,NE:/(^[0-9]{1,7}$)|(^[a-zA-Z]{1}[0-9]{3,8}$)/,NV:/(^[0-9]{9,10}$)|(^[0-9]{12}$)|(^[X]{1}[0-9]{8}$)/,NH:/^[0-9]{2}[a-zA-Z]{3}[0-9]{5}$/,NJ:/^[a-zA-Z]{1}[0-9]{14}$/,NM:/^[0-9]{8,9}$/,NY:/(^[a-zA-Z]{1}[0-9]{7}$)|(^[a-zA-Z]{1}[0-9]{18}$)|(^[0-9]{8}$)|(^[0-9]{9}$)|(^[0-9]{16}$)|(^[a-zA-Z]{8}$)/,NC:/^[0-9]{1,12}$/,ND:/(^[a-zA-Z]{3}[0-9]{6}$)|(^[0-9]{9}$)/,OH:/(^[a-zA-Z]{1}[0-9]{4,8}$)|(^[a-zA-Z]{2}[0-9]{3,7}$)|(^[0-9]{8}$)/,OK:/(^[a-zA-Z]{1}[0-9]{9}$)|(^[0-9]{9}$)/,OR:/(^[0-9]{1,9}$)|(^[a-zA-Z]{1}[0-9]{6}$)|(^[a-zA-Z]{2}[0-9]{5}$)/,PA:/^[0-9]{8}$/,RI:/^([0-9]{7}$)|(^[a-zA-Z]{1}[0-9]{6}$)/,SC:/^[0-9]{5,11}$/,SD:/(^[0-9]{6,10}$)|(^[0-9]{12}$)/,TN:/^[0-9]{7,9}$/,TX:/^[0-9]{7,8}$/,UT:/^[0-9]{4,10}$/,VT:/(^[0-9]{8}$)|(^[0-9]{7}[A]$)/,VA:/(^[a-zA-Z]{1}[0-9]{8,11}$)|(^[0-9]{9}$)|(^[0-9]{12}$)/,WA:/^(?=.{12}$)[a-zA-Z\*]{7}[0-9]{3}[a-zA-Z0-9]{2}$/,WV:/(^[0-9]{7}$)|(^[a-zA-Z]{1,2}[0-9]{5,6}$)/,WI:/^[a-zA-Z]{1}[0-9]{13}$/,WY:/^[0-9]{9,10}$/},zipCodeFieldFormat:"N",visaNumber:{pattern:/(^[A-Za-z]{3}[0-9]{10}$)/},licenseNumber:{pattern:/^[a-zA-Z0-9]+$/}},FR:{addressLine1:{pattern:/(?!(.)\1+$)(?!.*([a-z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*[a-z\xc0-\xff]{1})(?=(.*[a-z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-z\xc0-\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/i,minLength:3,maxLength:40},stateText:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-z\xc0-\xff]){1}.*$)^[a-z\xc0-\xff \.'-]{2,24}$/i},cityText:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-z\xc0-\xff]){2}.*$)^[a-z\xc0-\xff \.'-]{2,24}$/i},zip:{pattern:/^(\d)(?!\1{4})\d{4}$/}},FR_LBP:{firstName:{pattern:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,minLength:2,maxLength:25},middleName:{pattern:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,40}$/i,minLength:2,maxLength:40},lastName:{pattern:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-|')\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff .]*(['-][a-zA-Z\xc0-\xff .]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff.]){2}.*$)^[a-zA-Z\xc0-\xff '-.]{2,25}$/i,minLength:2,maxLength:25},addressLine1:{pattern:/(?!(.)\1+$)(?!.*([a-z\xc0-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*[a-z\xc0-\xff]{1})(?=(.*[a-z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-z\xc0-\xff0-9 \*\\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/i,minLength:3,maxLength:40},stateText:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-z\xc0-\xff]){1}.*$)^[a-z\xc0-\xff \.'-]{2,24}$/i},cityText:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-z\xc0-\xff]){2}.*$)^[a-z\xc0-\xff \.'-]{2,24}$/i},zip:{},mobile:{maxLength:10,minLength:9,pattern:"^(?!.*(d)\x01{6}\b)^[0-9]{0,15}$"},mobileNumber:{pattern:/^(?!.*(\d)\x01{6}\b)^[0-9]{9}$/i}},CU:{addressLine1:{pattern:/^(?! )(?!(.)\1+$)(?!.*([a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff])\2{2})(?!.*( |'|-|")\3{1})(?=.*\d{1})(?=.*[a-zA-Z]{1})(?=(.*[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b][O|o|0][X|x].*)^[a-zA-Z\xc0-\xd6\xd8-\xdf\u0178\xe0-\xe7?-??-???\xe8-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,100}\S$/,minLength:2,maxLength:40},cityText:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=(.*[a-z\xc0-\xff]){2}.*$)^[a-z\xc0-\xff \.'-]{2,24}$/i}},global:{firstName:{pattern:/(?!(.)\1+$)(?!(.)\2{2})(?=.{1,25}$)^[a-z\xc0-\xff]+(?:[ '\-.]?[a-z\xc0-\xff])?(?:\ ?[-.]\ ?[a-z\xc0-\xff]+)?[a-z\xc0-\xff]*$/i,minLength:1,maxLength:25},middleName:{pattern:/(?!(.)\1+$)(?!(.)\2{2})(?=.{1,40}$)^[a-z\xc0-\xff]+(?:[ '\-.]?[a-z\xc0-\xff])?(?:\ ?[-.]\ ?[a-z\xc0-\xff]+)?[a-z\xc0-\xff]*$/i,minLength:1,maxLength:40},lastName:{pattern:/(?!(.)\1+$)(?!(.)\2{2})(?=.{1,25}$)^[a-z\xc0-\xff]+(?:[ '\-.]?[a-z\xc0-\xff])?(?:\ ?[-.]\ ?[a-z\xc0-\xff]+)?[a-z\xc0-\xff]*$/i,minLength:1,maxLength:25},paternal:{pattern:/(?!(.)\1+$)(?!(.)\2{2})(?=.{1,25}$)^[a-z\xc0-\xff]+(?:[ '\-.]?[a-z\xc0-\xff])?(?:\ ?[-.]\ ?[a-z\xc0-\xff]+)?[a-z\xc0-\xff]*$/i,minLength:1,maxLength:25},matternal:{pattern:/(?!(.)\1+$)(?!(.)\2{2})(?=.{1,40}$)^[a-z\xc0-\xff]+(?:[ '\-.]?[a-z\xc0-\xff])?(?:\ ?[-.]\ ?[a-z\xc0-\xff]+)?[a-z\xc0-\xff]*$/i,minLength:1,maxLength:40},addressLine1:{pattern:/(?!(.)\1+$)(?!.*([a-z\xc0-\xff])\2{2})(?!.*( |'|-|"|\.|\_|\*|\&|\(|\))\3{1})(?=.*\d{1})(?=.*[a-z\xc0-\xff]{1})(?=(.*[a-z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/i,minLength:3,maxLength:40},addressLine2:{pattern:/(?!(.)\1+$)(?!.*([a-z\xc0-\xff])\2{2})(?!.*( |'|-|"|\.|\_|\*|\&|\(|\))\3{1})(?=.*\d{1})(?=.*[a-z\xc0-\xff]{1})(?=(.*[a-z\xc0-\xff\d]){3}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-z\xc0-\xff0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/i,minLength:3,maxLength:40},mobile:{pattern:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,minLength:3,maxLength:15},city:{pattern:new RegExp("^(?=^.{2,58}$)(?:["+this.acceptedLatinLetters+"]+(?:(?:. )|-| |'))*["+this.acceptedLatinLetters+"]*$"),minLength:2,maxLength:25},zip:{pattern:/^(?!0{1,5})\d{5}$/},state:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,33}$/i,minLength:2,maxLength:33},stateText:{pattern:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff]){1}.*$)^[a-zA-Z\xc0-\xff \.'-]{2,33}$/i,minLength:2,maxLength:33},emailId:{pattern:/^(\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/},testQuestion:{pattern:/[a-z0-9\s]/gi,minLength:5,maxLength:25},testAnswer:{pattern:/[a-z0-9\s]/gi,minLength:5,maxLength:25},idNumber:{pattern:/(?!.*( )\1{1})^[0-9a-zA-Z ]+$/,minLength:1,maxLength:20},myWuNo:{pattern:/^[0-9]{9}$/},fullName:{pattern:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-.)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-z0-9A-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*(['-][0-9a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff]){1}.*$)^[0-9a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff][0-9a-zA-Z\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\u0178\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff ']{1,24}$/},phoneOrEmail:{pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})|^(?!(.)\1+$)^(|[0-9]{7,15})+$/},receiverNationalId:{pattern:/^(?=.*\d)[a-z\d]*$/i,minLength:11,maxLength:11},password:/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789@!&$%#^*]).{8,20}$)/,currentPassword:/((?=.*[a-z])(?=.*[A-Z])(?=.*[0123456789@!&$%]).{7,20}$)/,californiaZipCode:/^([9][0-6])\d{3}$/,contactPhone:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,answerTest:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |'|-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*(['-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff '-]{3,40}$/,relationshipText:/(?!(.)\1+$)(?!.*(.)\2{2})(?!.*( |-)\3{1})(?=\S*(\s\S*){0,4}$)(?=[a-zA-Z\xc0-\xff ]*([-][a-zA-Z\xc0-\xff ]*){0,2}$)(?=(.*[a-zA-Z\xc0-\xff]){2}.*$)^[a-zA-Z\xc0-\xff '-]{3,50}$/,mobileNumber:/^(?!(.)\1+$)^(|[0-9]{7,15})$/,routing_number:/^\d{9}$/,account_number:/^\d{1,25}$$/,confirm_account_number:/^\d{1,25}$$/,addBillerAccountNumber:/^[A-Za-z0-9]{1,20}$/,phoneNumberTrackTransfer:/^[0-9]{10}$/,addContactInfoIbanBic:/[^\w\s]/,addChar:/^[a-zA-Z0-9\b \#\(\{\}\&\)\[\]\_\+\:\;\'\,\/.\-\"\*\\]+$/,customCharAddress:/^[a-zA-Z0-9\b \#\(\{\}\&\)\[\]\_\+\:\;\'\,\/.\-\"\*\\]+$/,county:void 0,idnumber:/^(?!(.)\1+$)(?!.*(.)\2{5})(?!.*( |'|-)\3{1})[a-zA-Z0-9#\*\-\"\(:,\/\.\\;&\)\[\]_\+#'\s]{4,20}$/,contactPhoneReceiver:/^[0-9]{7,15}$/,contactPhoneReceiverChina:/^1[0-9]\d{9}$/,alphabet:/[a-zA-Z\-]/,postalRegex:/\b[P]+(OST)*\.*\s*[O|0]*(FFICE)*\.*\s*[B][O|0][X]\b/i,postalCode:/^\d{5}$/,negatedAlphabetWithSpace:/[^a-zA-Z \s]/gi,email:/^(\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/,lastSevenDigitContactPhone:/^(?!.*(\d)\1{6}\b)^[0-9]{0,15}$/,number:/^[0-9]+$/,matchSpace:/\s \.+/g,alphaNumeric:/(?!.*( )\1{1})^[0-9a-zA-Z ]+$/,alphaNumericWthDot:/(?!.*( )\1{1})^[0-9a-zA-Z. ]+$/,alphaNumericRut:/^[0-9]{2}.?[0-9]{3}.?[0-9]{3}-?[0-9k]$/,notAlphaNumeric:/[^0-9a-zA-Z]/gi,alphaNumericWithSpace:/(?!.*( )\1{1})^(?![0-9]*$)[a-zA-Z0-9 ]+$/,notAlphaNumericWithSpace:/[^0-9a-zA-Z ]/gi,negatedNumber:/[^0-9]/g,nationalId:/[^0-9.k\-]/g,eidNationalNumber:/^[\d]{12}$/,amount:/^([0-9]{0,7}(\.\d{0,2})?)?$/,sendMoneyAmount:/^(?=.)([1-9][0-9]{0,2}(,[0-9]{0,3})|[0-9]{0,14})?(\.[0-9]{0,2})?$/,zeroAmount:/^[0]+\.?[0]?[0]?$/,usPromoCode:/^[A-Za-z0-9\-]{0,20}$/,trackingNumber:/^[0-9]{0,10}$/,validatePromocode:/[^A-Za-z0-9\-]{0,20}$/,promoCode:/^[A-Za-z0-9\-]{0,20}(\s[A-Za-z0-9\-]{1,20})*?$/,negatedAmountNumber:/[^0-9.,]/g,cnMobileNumber:/^(?:1[1-9][0-8][0-9])(?!(\d)\1+$)([0-9])(?!11)([0-9]{6})$/,mobileNumberAnyDigit:/^[\d+$]{10,10}/,charRestricted:/^[^\"$%&()*+;@*_~>?<[\]^`{|}.!#]+$/g,masterCard:/^5[1-5]\d{14}$|^2(?:2(?:2[1-9]|[3-9]\d)|[3-6]\d\d|7(?:[01]\d|20))\d{12}$/,visaCard:/^4(\d{12}|\d{15})$/,electronCard:/^(4026|4405|4508|4844|4913|4917)\d{12}$|^417500\d{10}$/,visaCard1:/^4\d{15}/,visaCard2:/^4\d{12}/,maestroCard:/(^(?:5[0678]\d\d|6304|6390|67\d\d|0604)\d{8,15}$)|(^(4903|4905|4911|4936|6333|6759)(\d{12}|\d{14}|\d{15})$|^(564182|633110)(\d{10}|\d{12}|\d{13})$)/,discoverCard:/^6011\d{12}$|^64[4-9]\d{13}$|^65\d{14}$|^(622(1(2[6-9]|[3-9][0-9])|[2-8][0-9]{2}|9([01][0-9]|2[0-5])))\d{10}$/,amexCard:/^3[47]\d{13}$/,mirCard:/^220[0-4]\d{12}$/,eloCard:/^(504175|506699|506700|506704|506714|506716|506718|506721|506722|506724|506725|506726|506727|506728|506729|506730|506731|506732|506733|506735|506741|506742|506744|506748|506753|506754|506755|506758|506760|506761|506762|506764|506766|506767|506770| 506771|506774|506775|506776|506778|509000|509002|509003|509008|509014|509015|509017|509018|509032|509034|509041|509042|509045|509048| 509051|509055|509059|509061|509063|509065|509067|509068|509069|509073|509091|509093|509291|509728|509882|636297|636368)\d{10}$/,masterCardPrefix:/^5[1-5]|^2(?:2(?:2[1-9]|[3-9]\d)|[3-6]\d\d|7(?:[01]\d|20))/,visaCardPrefix:/^4/,electronCardPrefix:/^(4026|4405|4508|4844|4913|4917|417500)/,maestroCardPrefix:/(^(?:5[0678]|6304|6390|67|0604|4903|4905|4911|4936|6333|6759|564182|633110))/,discoverCardPrefix:/^(6011|64[4-9]|65|(622(1(2[6-9]|[3-9][0-9])|[2-8][0-9]{2}|9([01][0-9]|2[0-5]))))/,mirCardPrefix:/^220[0-4]/,amexCardPrefix:/^3[47]/,cubaCardPrefix:/^92[2|3][5|6][0-9]{12}/,cubaCardPrefixNew:/^92[2|3|4][0|5|6|8][0-9]{12}/,eloCardPrefix:/^(504175|506699|506700|506704|506714|506716|506718|506721|506722|506724|506725|506726|506727|506728|506729|506730|506731|506732|506733|506735|506741|506742|506744|506748|506753|506754|506755|506758|506760|506761|506762|506764|506766|506767|506770| 506771|506774|506775|506776|506778|509000|509002|509003|509008|509014|509015|509017|509018|509032|509034|509041|509042|509045|509048| 509051|509055|509059|509061|509063|509065|509067|509068|509069|509073|509091|509093|509291|509728|509882|636297|636368)/,BillerAccountNumber:/^[A-Za-z0-9]{0,20}$/,notRepeatedText:/\b(\w)\1+\b/,senderPhoneNumber:/^[0-9]{0,15}$/,reward:/^\d{9}$/,sort_code:/^\d+$/,cityInputKeyup:/[^a-zA-Z \.'-]/g,zipCodeKeyup:/^[0-9]+$/,zipCodeReplace:/[^0-9]/g,accountNumericRegex:/(?=([X]{2,})|(\d{1,}))(?![X]{2,}\d{1,}[X]{1,})(?!\d{1,}[X]{1,}\d{1,})^[0-9X]+$/g,bank_name:/[a-zA-Z\xc0-\xff0-9 ]+[\.]{0,1}$/,captcha:/^[0-9a-zA-Z ]{6}$/,alphaCodeKeyup:/[^a-zA-Z0-9_ #&()+*",';:.\\\/\-\[\]]+$/,NAPPhoneNum:/^\(?([2-9][0-9]{2})\)?[-. ]?([2-9](?!11)[0-9]{2})[-. ]?([0-9]{4})$/,NACountryCode:/US|CA|BM|AI|AG|BS|BB|VG|KY|DM|DO|GD|JM|MS|S1|KN|LC|VC|TT|TC/,SSNRequiredIssuer:/US|AS|GU|MP|PR|UM|VI/,disclaimerINTL7:/CN|ZA|BR|ET|TW|AR/,receiverAddress:/^(?=.*?[a-zA-Z0-9])(?=[\w #&()_+\[\]:;',\/.\\\-"*]{3,}$)((.)\2?(?!\2{3,}))+$/,pobox:/\bP(ost box|ostal)?([ \.]*(O|0)(ffice)?)?([ \.]*Box)?\b/i,securitySendAmount:/^[0-9.,]+$/,MIMBanksCode:/UTIB|BARB|MAHB|BARC|CSBK|CBIN|CIUB|BKDN|FDRL|HDFC|ICIC|IDIB|INDB|KVBL|KKBK|PUNB|SYNB|UCBA|UBIN|YESB/,PHMIMBanksCode:/ALL|ASB|AUB|BDO|BMB|BOC|BPI|CRD|CBC|CBS|CCB|CSB|DPB|EWB|EBI|EQB|GBC|HSB|HBP|IBI|KEB|LBP|MSB|MPI|10269996|PBC|PBB|PNB|PPB|PSB|PVB|PTC|PBK|PRB|QRB|RCB|RSB|RBI|RBN|SEC|SCB|SBA|TYB|USB|WDB|WPB/,zipCodeFieldFormat:"N",addressTwo:/(?!(.)\+$)(?!.*([a-zA-Z])\2{2})(?!.*( |'|-|")\3{1})(?=(.*[a-zA-Z\d]){1}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9 \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{1,40}$/,DLNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,DLVersionNumber:/^\d{3}$/,DLCardNumber:/^[0-9]{1,}$/,passportNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,mcCardNumber:/^[a-zA-Z0-9]{4,}$/,mcCardRefNumber:/^[\d]{1}$/,nonUSAddress:/(?!(.)\*$)(?!.*([a-zA-Z])\2{2})(?!.*( |'|-|")\3{1})((?=.*\d{1})|(?=.*[a-zA-Z]{1}))(?=(.*[a-zA-Z\d]){1}.*$)(?!.*[P|p]+(OST|ost)*\.*\s*[O|o|0]*(FFICE|ffice)*\.*\s*[B|b]*\.*\s*[O|o|0]*\.*\s*[X|x].*)^[a-zA-Z0-9\xc3\u20ac\xc3\x81\xc3\u201a\xc3\u0192\xc3\u201e\xc3\u2026\xc3\u2020\xc3\u2021\xc3\u02c6\xc3\u2030\xc3\u0160\xc3\u2039\xc3\u0152\xc3\x8d\xc3\u017d\xc3\x8f\xc3\x90\xc3\u2018\xc3\u2019\xc3\u201c\xc3\u201d\xc3\u2022\xc3\u2013\xc3\u02dc\xc3\u2122\xc3\u0161\xc3\u203a\xc3\u0153\xc3\x9d\xc3\u017e\xc3\u0178\xc3\xa0\xc3\xa1\xc3\xa2\xc3\xa3\xc3\xa4\xc3\xa5\xc3\xa6\xc3\xa7\xc3\xa8\xc3\xa9\xc3\xaa\xc3\xab\xc3\xac\xc3\xad\xc3\xae\xc3\xaf\xc3\xb0\xc3\xb1\xc3\xb2\xc3\xb3\xc3\xb4\xc3\xb5\xc3\xb6\xc3\xb8\xc3\xb9\xc3\xba\xc3\xbb\xc3\xbc\xc3\xbd\xc3\xbe\xc3\xbf \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,40}$/,nonUSCity:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff \*\"\(:,\/\.\\;&\)\[\]_\+#'-]){1}.*$)^[a-zA-Z \xc0-\xff \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,20}$/,nonUSState:/(?!(.)\1+$)(?!.*( |'|-)\2{1})(?=([^ ].*[a-zA-Z\xc0-\xff \*\"\(:,\/\.\\;&\)\[\]_\+#'-]){1}.*$)^[a-zA-Z \xc0-\xff \*\"\(:,\/\.\\;&\)\[\]_\+#'-]{3,20}$/,firearmsLicenseNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,itIdentityCardNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,euIdentityCardNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,shipPassportNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,identificationsCardsIssuedByStateAdministrativeOfficesNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,residencePermitNumber:/^[a-zA-Z0-9]{4,}$/,residencePermitForEuLongTermResidenceNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,travelDocumentForForeignersIssuedByPoliceNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,travelDocumentForStatelessPersonsNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,travelDocumentForRefugeesNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,navigationBookNumber:/^[a-zA-Z0-9\*\-\/\:\.\<]{4,}$/,panCardNumber:/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/,kycDMSDocSupportedFormats:/^(.+)(.jpg|.jpeg|.gif|.png|.bmp|.pdf|.tiff)$/i}}}static#e=this.\u0275fac=function(K){return new(K||x)};static#t=this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},50310:()=>{}},n=>{n.O(0,["vendor"],()=>n(n.s=76976)),n.O()}]);